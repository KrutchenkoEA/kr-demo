import{a as vw,b as Xr,c as _w,d as Cc,g as xw}from"./chunk-NABGJQOI.js";import{a as Bc}from"./chunk-VWN522S4.js";import{c as bc,d as wc,f as so,g as lo,h as yc}from"./chunk-ZSSD5RUB.js";import{f as Qw,h as Fw}from"./chunk-OBG5UKQF.js";import{e as Uw,w as Tw,x as Ew}from"./chunk-47JRDGKM.js";import{d as Bw,j as gc,n as Cw,o as bw,p as ww,q as yw}from"./chunk-TYLZM6EP.js";import{Ab as Kt,B as iw,C as nw,Cb as cw,D as fc,Da as pc,Eb as Sr,Ec as Wn,Fc as mw,Gc as Ms,H as aw,Ia as Zi,Lb as fi,Mb as CA,Mc as gw,Nb as ao,Qb as fr,Sb as hi,Tb as pi,Ub as Jt,Vb as qt,Wb as Ls,Xb as dc,Yb as mc,Z as Ji,_b as Vn,a as Zb,ac as fw,b as qb,d as tw,dc as hr,e as Dk,ea as ji,ec as gt,f as ew,fa as ow,fc as hw,g as rw,gb as lw,gc as pw,h as Aw,ha as Le,hc as di,ib as jt,ic as oo,ja as no,jb as at,jc as kr,kc as Lr,n as Nn,o as ks,oc as Qe,pc as Hs,qc as rA,rc as dw,sa as Je,ta as ar,ua as or,vc as Ot,wa as sw,ya as hc,yb as qi,zb as uw}from"./chunk-BNTXLAQM.js";var gE=tw((rC,AC)=>{"use strict";(function(e,t){typeof define=="function"&&define.amd?define([],t):typeof rC<"u"?t():(t(),e.FileSaver={})})(rC,function(){"use strict";function e(o,s){return typeof s>"u"?s={autoBom:!1}:typeof s!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o}function t(o,s,l){var c=new XMLHttpRequest;c.open("GET",o),c.responseType="blob",c.onload=function(){a(c.response,s,l)},c.onerror=function(){console.error("could not download file")},c.send()}function r(o){var s=new XMLHttpRequest;s.open("HEAD",o,!1);try{s.send()}catch{}return 200<=s.status&&299>=s.status}function A(o){try{o.dispatchEvent(new MouseEvent("click"))}catch{var s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),o.dispatchEvent(s)}}var i=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,n=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=i.saveAs||(typeof window!="object"||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!n?function(o,s,l){var c=i.URL||i.webkitURL,m=document.createElement("a");s=s||o.name||"download",m.download=s,m.rel="noopener",typeof o=="string"?(m.href=o,m.origin===location.origin?A(m):r(m.href)?t(o,s,l):A(m,m.target="_blank")):(m.href=c.createObjectURL(o),setTimeout(function(){c.revokeObjectURL(m.href)},4e4),setTimeout(function(){A(m)},0))}:"msSaveOrOpenBlob"in navigator?function(o,s,l){if(s=s||o.name||"download",typeof o!="string")navigator.msSaveOrOpenBlob(e(o,l),s);else if(r(o))t(o,s,l);else{var c=document.createElement("a");c.href=o,c.target="_blank",setTimeout(function(){A(c)})}}:function(o,s,l,c){if(c=c||open("","_blank"),c&&(c.document.title=c.document.body.innerText="downloading..."),typeof o=="string")return t(o,s,l);var m=o.type==="application/octet-stream",h=/constructor/i.test(i.HTMLElement)||i.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||m&&h||n)&&typeof FileReader<"u"){var C=new FileReader;C.onloadend=function(){var v=C.result;v=g?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),c?c.location.href=v:location=v,c=null},C.readAsDataURL(o)}else{var b=i.URL||i.webkitURL,w=b.createObjectURL(o);c?c.location=w:location.href=w,c=null,setTimeout(function(){b.revokeObjectURL(w)},4e4)}});i.saveAs=a.saveAs=a,typeof AC<"u"&&(AC.exports=a)})});var BE=tw((iC,nC)=>{"use strict";(function(e,t){typeof iC=="object"&&typeof nC<"u"?nC.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self,e.html2canvas=t())})(iC,function(){"use strict";var e=function(f,u){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var B in p)Object.prototype.hasOwnProperty.call(p,B)&&(d[B]=p[B])},e(f,u)};function t(f,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");e(f,u);function d(){this.constructor=f}f.prototype=u===null?Object.create(u):(d.prototype=u.prototype,new d)}var r=function(){return r=Object.assign||function(u){for(var d,p=1,B=arguments.length;p<B;p++){d=arguments[p];for(var y in d)Object.prototype.hasOwnProperty.call(d,y)&&(u[y]=d[y])}return u},r.apply(this,arguments)};function A(f,u,d,p){function B(y){return y instanceof d?y:new d(function(F){F(y)})}return new(d||(d=Promise))(function(y,F){function T(H){try{S(p.next(H))}catch(N){F(N)}}function U(H){try{S(p.throw(H))}catch(N){F(N)}}function S(H){H.done?y(H.value):B(H.value).then(T,U)}S((p=p.apply(f,u||[])).next())})}function i(f,u){var d={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},p,B,y,F;return F={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(F[Symbol.iterator]=function(){return this}),F;function T(S){return function(H){return U([S,H])}}function U(S){if(p)throw new TypeError("Generator is already executing.");for(;d;)try{if(p=1,B&&(y=S[0]&2?B.return:S[0]?B.throw||((y=B.return)&&y.call(B),0):B.next)&&!(y=y.call(B,S[1])).done)return y;switch(B=0,y&&(S=[S[0]&2,y.value]),S[0]){case 0:case 1:y=S;break;case 4:return d.label++,{value:S[1],done:!1};case 5:d.label++,B=S[1],S=[0];continue;case 7:S=d.ops.pop(),d.trys.pop();continue;default:if(y=d.trys,!(y=y.length>0&&y[y.length-1])&&(S[0]===6||S[0]===2)){d=0;continue}if(S[0]===3&&(!y||S[1]>y[0]&&S[1]<y[3])){d.label=S[1];break}if(S[0]===6&&d.label<y[1]){d.label=y[1],y=S;break}if(y&&d.label<y[2]){d.label=y[2],d.ops.push(S);break}y[2]&&d.ops.pop(),d.trys.pop();continue}S=u.call(f,d)}catch(H){S=[6,H],B=0}finally{p=y=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}}function n(f,u,d){if(d||arguments.length===2)for(var p=0,B=u.length,y;p<B;p++)(y||!(p in u))&&(y||(y=Array.prototype.slice.call(u,0,p)),y[p]=u[p]);return f.concat(y||u)}for(var a=function(){function f(u,d,p,B){this.left=u,this.top=d,this.width=p,this.height=B}return f.prototype.add=function(u,d,p,B){return new f(this.left+u,this.top+d,this.width+p,this.height+B)},f.fromClientRect=function(u,d){return new f(d.left+u.windowBounds.left,d.top+u.windowBounds.top,d.width,d.height)},f.fromDOMRectList=function(u,d){var p=Array.from(d).find(function(B){return B.width!==0});return p?new f(p.left+u.windowBounds.left,p.top+u.windowBounds.top,p.width,p.height):f.EMPTY},f.EMPTY=new f(0,0,0,0),f}(),o=function(f,u){return a.fromClientRect(f,u.getBoundingClientRect())},s=function(f){var u=f.body,d=f.documentElement;if(!u||!d)throw new Error("Unable to get document size");var p=Math.max(Math.max(u.scrollWidth,d.scrollWidth),Math.max(u.offsetWidth,d.offsetWidth),Math.max(u.clientWidth,d.clientWidth)),B=Math.max(Math.max(u.scrollHeight,d.scrollHeight),Math.max(u.offsetHeight,d.offsetHeight),Math.max(u.clientHeight,d.clientHeight));return new a(0,0,p,B)},l=function(f){for(var u=[],d=0,p=f.length;d<p;){var B=f.charCodeAt(d++);if(B>=55296&&B<=56319&&d<p){var y=f.charCodeAt(d++);(y&64512)===56320?u.push(((B&1023)<<10)+(y&1023)+65536):(u.push(B),d--)}else u.push(B)}return u},c=function(){for(var f=[],u=0;u<arguments.length;u++)f[u]=arguments[u];if(String.fromCodePoint)return String.fromCodePoint.apply(String,f);var d=f.length;if(!d)return"";for(var p=[],B=-1,y="";++B<d;){var F=f[B];F<=65535?p.push(F):(F-=65536,p.push((F>>10)+55296,F%1024+56320)),(B+1===d||p.length>16384)&&(y+=String.fromCharCode.apply(String,p),p.length=0)}return y},m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=typeof Uint8Array>"u"?[]:new Uint8Array(256),g=0;g<m.length;g++)h[m.charCodeAt(g)]=g;for(var C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=typeof Uint8Array>"u"?[]:new Uint8Array(256),w=0;w<C.length;w++)b[C.charCodeAt(w)]=w;for(var v=function(f){var u=f.length*.75,d=f.length,p,B=0,y,F,T,U;f[f.length-1]==="="&&(u--,f[f.length-2]==="="&&u--);var S=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(u):new Array(u),H=Array.isArray(S)?S:new Uint8Array(S);for(p=0;p<d;p+=4)y=b[f.charCodeAt(p)],F=b[f.charCodeAt(p+1)],T=b[f.charCodeAt(p+2)],U=b[f.charCodeAt(p+3)],H[B++]=y<<2|F>>4,H[B++]=(F&15)<<4|T>>2,H[B++]=(T&3)<<6|U&63;return S},Q=function(f){for(var u=f.length,d=[],p=0;p<u;p+=2)d.push(f[p+1]<<8|f[p]);return d},x=function(f){for(var u=f.length,d=[],p=0;p<u;p+=4)d.push(f[p+3]<<24|f[p+2]<<16|f[p+1]<<8|f[p]);return d},_=5,E=11,K=2,P=E-_,R=65536>>_,O=1<<_,M=O-1,I=1024>>_,X=R+I,V=X,D=32,L=V+D,k=65536>>E,W=1<<P,J=W-1,Y=function(f,u,d){return f.slice?f.slice(u,d):new Uint16Array(Array.prototype.slice.call(f,u,d))},At=function(f,u,d){return f.slice?f.slice(u,d):new Uint32Array(Array.prototype.slice.call(f,u,d))},ft=function(f,u){var d=v(f),p=Array.isArray(d)?x(d):new Uint32Array(d),B=Array.isArray(d)?Q(d):new Uint16Array(d),y=24,F=Y(B,y/2,p[4]/2),T=p[5]===2?Y(B,(y+p[4])/2):At(p,Math.ceil((y+p[4])/4));return new mt(p[0],p[1],p[2],p[3],F,T)},mt=function(){function f(u,d,p,B,y,F){this.initialValue=u,this.errorValue=d,this.highStart=p,this.highValueIndex=B,this.index=y,this.data=F}return f.prototype.get=function(u){var d;if(u>=0){if(u<55296||u>56319&&u<=65535)return d=this.index[u>>_],d=(d<<K)+(u&M),this.data[d];if(u<=65535)return d=this.index[R+(u-55296>>_)],d=(d<<K)+(u&M),this.data[d];if(u<this.highStart)return d=L-k+(u>>E),d=this.index[d],d+=u>>_&J,d=this.index[d],d=(d<<K)+(u&M),this.data[d];if(u<=1114111)return this.data[this.highValueIndex]}return this.errorValue},f}(),Wt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Lt=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ft=0;Ft<Wt.length;Ft++)Lt[Wt.charCodeAt(Ft)]=Ft;var xe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Ht=50,ve=1,it=2,yt=3,Ut=4,j=5,fe=7,zt=8,Ye=9,ge=10,Ct=11,he=12,ai=13,kA=14,ds=15,vd=16,_u=17,ms=18,KE=19,sC=20,_d=21,gs=22,xd=23,Xa=24,Gr=25,Bs=26,Cs=27,Ya=28,DE=29,Sn=30,IE=31,xu=32,Qu=33,Qd=34,Fd=35,Ud=36,bs=37,Td=38,Fu=39,Uu=40,Ed=41,lC=42,SE=43,kE=[9001,65288],uC="!",It="\xD7",Tu="\xF7",Kd=ft(xe),oi=[Sn,Ud],Dd=[ve,it,yt,j],cC=[ge,zt],fC=[Cs,Bs],LE=Dd.concat(cC),hC=[Td,Fu,Uu,Qd,Fd],HE=[ds,ai],ME=function(f,u){u===void 0&&(u="strict");var d=[],p=[],B=[];return f.forEach(function(y,F){var T=Kd.get(y);if(T>Ht?(B.push(!0),T-=Ht):B.push(!1),["normal","auto","loose"].indexOf(u)!==-1&&[8208,8211,12316,12448].indexOf(y)!==-1)return p.push(F),d.push(vd);if(T===Ut||T===Ct){if(F===0)return p.push(F),d.push(Sn);var U=d[F-1];return LE.indexOf(U)===-1?(p.push(p[F-1]),d.push(U)):(p.push(F),d.push(Sn))}if(p.push(F),T===IE)return d.push(u==="strict"?_d:bs);if(T===lC||T===DE)return d.push(Sn);if(T===SE)return y>=131072&&y<=196605||y>=196608&&y<=262141?d.push(bs):d.push(Sn);d.push(T)}),[p,d,B]},Id=function(f,u,d,p){var B=p[d];if(Array.isArray(f)?f.indexOf(B)!==-1:f===B)for(var y=d;y<=p.length;){y++;var F=p[y];if(F===u)return!0;if(F!==ge)break}if(B===ge)for(var y=d;y>0;){y--;var T=p[y];if(Array.isArray(f)?f.indexOf(T)!==-1:f===T)for(var U=d;U<=p.length;){U++;var F=p[U];if(F===u)return!0;if(F!==ge)break}if(T!==ge)break}return!1},pC=function(f,u){for(var d=f;d>=0;){var p=u[d];if(p===ge)d--;else return p}return 0},PE=function(f,u,d,p,B){if(d[p]===0)return It;var y=p-1;if(Array.isArray(B)&&B[y]===!0)return It;var F=y-1,T=y+1,U=u[y],S=F>=0?u[F]:0,H=u[T];if(U===it&&H===yt)return It;if(Dd.indexOf(U)!==-1)return uC;if(Dd.indexOf(H)!==-1||cC.indexOf(H)!==-1)return It;if(pC(y,u)===zt)return Tu;if(Kd.get(f[y])===Ct||(U===xu||U===Qu)&&Kd.get(f[T])===Ct||U===fe||H===fe||U===Ye||[ge,ai,ds].indexOf(U)===-1&&H===Ye||[_u,ms,KE,Xa,Ya].indexOf(H)!==-1||pC(y,u)===gs||Id(xd,gs,y,u)||Id([_u,ms],_d,y,u)||Id(he,he,y,u))return It;if(U===ge)return Tu;if(U===xd||H===xd)return It;if(H===vd||U===vd)return Tu;if([ai,ds,_d].indexOf(H)!==-1||U===kA||S===Ud&&HE.indexOf(U)!==-1||U===Ya&&H===Ud||H===sC||oi.indexOf(H)!==-1&&U===Gr||oi.indexOf(U)!==-1&&H===Gr||U===Cs&&[bs,xu,Qu].indexOf(H)!==-1||[bs,xu,Qu].indexOf(U)!==-1&&H===Bs||oi.indexOf(U)!==-1&&fC.indexOf(H)!==-1||fC.indexOf(U)!==-1&&oi.indexOf(H)!==-1||[Cs,Bs].indexOf(U)!==-1&&(H===Gr||[gs,ds].indexOf(H)!==-1&&u[T+1]===Gr)||[gs,ds].indexOf(U)!==-1&&H===Gr||U===Gr&&[Gr,Ya,Xa].indexOf(H)!==-1)return It;if([Gr,Ya,Xa,_u,ms].indexOf(H)!==-1)for(var N=y;N>=0;){var G=u[N];if(G===Gr)return It;if([Ya,Xa].indexOf(G)!==-1)N--;else break}if([Cs,Bs].indexOf(H)!==-1)for(var N=[_u,ms].indexOf(U)!==-1?F:y;N>=0;){var G=u[N];if(G===Gr)return It;if([Ya,Xa].indexOf(G)!==-1)N--;else break}if(Td===U&&[Td,Fu,Qd,Fd].indexOf(H)!==-1||[Fu,Qd].indexOf(U)!==-1&&[Fu,Uu].indexOf(H)!==-1||[Uu,Fd].indexOf(U)!==-1&&H===Uu||hC.indexOf(U)!==-1&&[sC,Bs].indexOf(H)!==-1||hC.indexOf(H)!==-1&&U===Cs||oi.indexOf(U)!==-1&&oi.indexOf(H)!==-1||U===Xa&&oi.indexOf(H)!==-1||oi.concat(Gr).indexOf(U)!==-1&&H===gs&&kE.indexOf(f[T])===-1||oi.concat(Gr).indexOf(H)!==-1&&U===ms)return It;if(U===Ed&&H===Ed){for(var ut=d[y],Z=1;ut>0&&(ut--,u[ut]===Ed);)Z++;if(Z%2!==0)return It}return U===xu&&H===Qu?It:Tu},RE=function(f,u){u||(u={lineBreak:"normal",wordBreak:"normal"});var d=ME(f,u.lineBreak),p=d[0],B=d[1],y=d[2];(u.wordBreak==="break-all"||u.wordBreak==="break-word")&&(B=B.map(function(T){return[Gr,Sn,lC].indexOf(T)!==-1?bs:T}));var F=u.wordBreak==="keep-all"?y.map(function(T,U){return T&&f[U]>=19968&&f[U]<=40959}):void 0;return[p,B,F]},OE=function(){function f(u,d,p,B){this.codePoints=u,this.required=d===uC,this.start=p,this.end=B}return f.prototype.slice=function(){return c.apply(void 0,this.codePoints.slice(this.start,this.end))},f}(),NE=function(f,u){var d=l(f),p=RE(d,u),B=p[0],y=p[1],F=p[2],T=d.length,U=0,S=0;return{next:function(){if(S>=T)return{done:!0,value:null};for(var H=It;S<T&&(H=PE(d,y,B,++S,F))===It;);if(H!==It||S===T){var N=new OE(d,H,U,S);return U=S,{value:N,done:!1}}return{done:!0,value:null}}}},VE=1,WE=2,ws=4,dC=8,Eu=10,mC=47,ys=92,GE=9,zE=32,Ku=34,vs=61,XE=35,YE=36,$E=37,Du=39,Iu=40,_s=41,JE=95,Er=45,jE=33,ZE=60,qE=62,tK=64,eK=91,rK=93,AK=61,iK=123,Su=63,nK=125,gC=124,aK=126,oK=128,BC=65533,Sd=42,kn=43,sK=44,lK=58,uK=59,xs=46,cK=0,fK=8,hK=11,pK=14,dK=31,mK=127,LA=-1,CC=48,bC=97,wC=101,gK=102,BK=117,CK=122,yC=65,vC=69,_C=70,bK=85,wK=90,cr=function(f){return f>=CC&&f<=57},yK=function(f){return f>=55296&&f<=57343},$a=function(f){return cr(f)||f>=yC&&f<=_C||f>=bC&&f<=gK},vK=function(f){return f>=bC&&f<=CK},_K=function(f){return f>=yC&&f<=wK},xK=function(f){return vK(f)||_K(f)},QK=function(f){return f>=oK},ku=function(f){return f===Eu||f===GE||f===zE},Lu=function(f){return xK(f)||QK(f)||f===JE},xC=function(f){return Lu(f)||cr(f)||f===Er},FK=function(f){return f>=cK&&f<=fK||f===hK||f>=pK&&f<=dK||f===mK},Ri=function(f,u){return f!==ys?!1:u!==Eu},Hu=function(f,u,d){return f===Er?Lu(u)||Ri(u,d):Lu(f)?!0:!!(f===ys&&Ri(f,u))},kd=function(f,u,d){return f===kn||f===Er?cr(u)?!0:u===xs&&cr(d):cr(f===xs?u:f)},UK=function(f){var u=0,d=1;(f[u]===kn||f[u]===Er)&&(f[u]===Er&&(d=-1),u++);for(var p=[];cr(f[u]);)p.push(f[u++]);var B=p.length?parseInt(c.apply(void 0,p),10):0;f[u]===xs&&u++;for(var y=[];cr(f[u]);)y.push(f[u++]);var F=y.length,T=F?parseInt(c.apply(void 0,y),10):0;(f[u]===vC||f[u]===wC)&&u++;var U=1;(f[u]===kn||f[u]===Er)&&(f[u]===Er&&(U=-1),u++);for(var S=[];cr(f[u]);)S.push(f[u++]);var H=S.length?parseInt(c.apply(void 0,S),10):0;return d*(B+T*Math.pow(10,-F))*Math.pow(10,U*H)},TK={type:2},EK={type:3},KK={type:4},DK={type:13},IK={type:8},SK={type:21},kK={type:9},LK={type:10},HK={type:11},MK={type:12},PK={type:14},Mu={type:23},RK={type:1},OK={type:25},NK={type:24},VK={type:26},WK={type:27},GK={type:28},zK={type:29},XK={type:31},Ld={type:32},QC=function(){function f(){this._value=[]}return f.prototype.write=function(u){this._value=this._value.concat(l(u))},f.prototype.read=function(){for(var u=[],d=this.consumeToken();d!==Ld;)u.push(d),d=this.consumeToken();return u},f.prototype.consumeToken=function(){var u=this.consumeCodePoint();switch(u){case Ku:return this.consumeStringToken(Ku);case XE:var d=this.peekCodePoint(0),p=this.peekCodePoint(1),B=this.peekCodePoint(2);if(xC(d)||Ri(p,B)){var y=Hu(d,p,B)?WE:VE,F=this.consumeName();return{type:5,value:F,flags:y}}break;case YE:if(this.peekCodePoint(0)===vs)return this.consumeCodePoint(),DK;break;case Du:return this.consumeStringToken(Du);case Iu:return TK;case _s:return EK;case Sd:if(this.peekCodePoint(0)===vs)return this.consumeCodePoint(),PK;break;case kn:if(kd(u,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(u),this.consumeNumericToken();break;case sK:return KK;case Er:var T=u,U=this.peekCodePoint(0),S=this.peekCodePoint(1);if(kd(T,U,S))return this.reconsumeCodePoint(u),this.consumeNumericToken();if(Hu(T,U,S))return this.reconsumeCodePoint(u),this.consumeIdentLikeToken();if(U===Er&&S===qE)return this.consumeCodePoint(),this.consumeCodePoint(),NK;break;case xs:if(kd(u,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(u),this.consumeNumericToken();break;case mC:if(this.peekCodePoint(0)===Sd)for(this.consumeCodePoint();;){var H=this.consumeCodePoint();if(H===Sd&&(H=this.consumeCodePoint(),H===mC))return this.consumeToken();if(H===LA)return this.consumeToken()}break;case lK:return VK;case uK:return WK;case ZE:if(this.peekCodePoint(0)===jE&&this.peekCodePoint(1)===Er&&this.peekCodePoint(2)===Er)return this.consumeCodePoint(),this.consumeCodePoint(),OK;break;case tK:var N=this.peekCodePoint(0),G=this.peekCodePoint(1),ut=this.peekCodePoint(2);if(Hu(N,G,ut)){var F=this.consumeName();return{type:7,value:F}}break;case eK:return GK;case ys:if(Ri(u,this.peekCodePoint(0)))return this.reconsumeCodePoint(u),this.consumeIdentLikeToken();break;case rK:return zK;case AK:if(this.peekCodePoint(0)===vs)return this.consumeCodePoint(),IK;break;case iK:return HK;case nK:return MK;case BK:case bK:var Z=this.peekCodePoint(0),nt=this.peekCodePoint(1);return Z===kn&&($a(nt)||nt===Su)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(u),this.consumeIdentLikeToken();case gC:if(this.peekCodePoint(0)===vs)return this.consumeCodePoint(),kK;if(this.peekCodePoint(0)===gC)return this.consumeCodePoint(),SK;break;case aK:if(this.peekCodePoint(0)===vs)return this.consumeCodePoint(),LK;break;case LA:return Ld}return ku(u)?(this.consumeWhiteSpace(),XK):cr(u)?(this.reconsumeCodePoint(u),this.consumeNumericToken()):Lu(u)?(this.reconsumeCodePoint(u),this.consumeIdentLikeToken()):{type:6,value:c(u)}},f.prototype.consumeCodePoint=function(){var u=this._value.shift();return typeof u>"u"?-1:u},f.prototype.reconsumeCodePoint=function(u){this._value.unshift(u)},f.prototype.peekCodePoint=function(u){return u>=this._value.length?-1:this._value[u]},f.prototype.consumeUnicodeRangeToken=function(){for(var u=[],d=this.consumeCodePoint();$a(d)&&u.length<6;)u.push(d),d=this.consumeCodePoint();for(var p=!1;d===Su&&u.length<6;)u.push(d),d=this.consumeCodePoint(),p=!0;if(p){var B=parseInt(c.apply(void 0,u.map(function(U){return U===Su?CC:U})),16),y=parseInt(c.apply(void 0,u.map(function(U){return U===Su?_C:U})),16);return{type:30,start:B,end:y}}var F=parseInt(c.apply(void 0,u),16);if(this.peekCodePoint(0)===Er&&$a(this.peekCodePoint(1))){this.consumeCodePoint(),d=this.consumeCodePoint();for(var T=[];$a(d)&&T.length<6;)T.push(d),d=this.consumeCodePoint();var y=parseInt(c.apply(void 0,T),16);return{type:30,start:F,end:y}}else return{type:30,start:F,end:F}},f.prototype.consumeIdentLikeToken=function(){var u=this.consumeName();return u.toLowerCase()==="url"&&this.peekCodePoint(0)===Iu?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Iu?(this.consumeCodePoint(),{type:19,value:u}):{type:20,value:u}},f.prototype.consumeUrlToken=function(){var u=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===LA)return{type:22,value:""};var d=this.peekCodePoint(0);if(d===Du||d===Ku){var p=this.consumeStringToken(this.consumeCodePoint());return p.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===LA||this.peekCodePoint(0)===_s)?(this.consumeCodePoint(),{type:22,value:p.value}):(this.consumeBadUrlRemnants(),Mu)}for(;;){var B=this.consumeCodePoint();if(B===LA||B===_s)return{type:22,value:c.apply(void 0,u)};if(ku(B))return this.consumeWhiteSpace(),this.peekCodePoint(0)===LA||this.peekCodePoint(0)===_s?(this.consumeCodePoint(),{type:22,value:c.apply(void 0,u)}):(this.consumeBadUrlRemnants(),Mu);if(B===Ku||B===Du||B===Iu||FK(B))return this.consumeBadUrlRemnants(),Mu;if(B===ys)if(Ri(B,this.peekCodePoint(0)))u.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Mu;else u.push(B)}},f.prototype.consumeWhiteSpace=function(){for(;ku(this.peekCodePoint(0));)this.consumeCodePoint()},f.prototype.consumeBadUrlRemnants=function(){for(;;){var u=this.consumeCodePoint();if(u===_s||u===LA)return;Ri(u,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},f.prototype.consumeStringSlice=function(u){for(var d=5e4,p="";u>0;){var B=Math.min(d,u);p+=c.apply(void 0,this._value.splice(0,B)),u-=B}return this._value.shift(),p},f.prototype.consumeStringToken=function(u){var d="",p=0;do{var B=this._value[p];if(B===LA||B===void 0||B===u)return d+=this.consumeStringSlice(p),{type:0,value:d};if(B===Eu)return this._value.splice(0,p),RK;if(B===ys){var y=this._value[p+1];y!==LA&&y!==void 0&&(y===Eu?(d+=this.consumeStringSlice(p),p=-1,this._value.shift()):Ri(B,y)&&(d+=this.consumeStringSlice(p),d+=c(this.consumeEscapedCodePoint()),p=-1))}p++}while(!0)},f.prototype.consumeNumber=function(){var u=[],d=ws,p=this.peekCodePoint(0);for((p===kn||p===Er)&&u.push(this.consumeCodePoint());cr(this.peekCodePoint(0));)u.push(this.consumeCodePoint());p=this.peekCodePoint(0);var B=this.peekCodePoint(1);if(p===xs&&cr(B))for(u.push(this.consumeCodePoint(),this.consumeCodePoint()),d=dC;cr(this.peekCodePoint(0));)u.push(this.consumeCodePoint());p=this.peekCodePoint(0),B=this.peekCodePoint(1);var y=this.peekCodePoint(2);if((p===vC||p===wC)&&((B===kn||B===Er)&&cr(y)||cr(B)))for(u.push(this.consumeCodePoint(),this.consumeCodePoint()),d=dC;cr(this.peekCodePoint(0));)u.push(this.consumeCodePoint());return[UK(u),d]},f.prototype.consumeNumericToken=function(){var u=this.consumeNumber(),d=u[0],p=u[1],B=this.peekCodePoint(0),y=this.peekCodePoint(1),F=this.peekCodePoint(2);if(Hu(B,y,F)){var T=this.consumeName();return{type:15,number:d,flags:p,unit:T}}return B===$E?(this.consumeCodePoint(),{type:16,number:d,flags:p}):{type:17,number:d,flags:p}},f.prototype.consumeEscapedCodePoint=function(){var u=this.consumeCodePoint();if($a(u)){for(var d=c(u);$a(this.peekCodePoint(0))&&d.length<6;)d+=c(this.consumeCodePoint());ku(this.peekCodePoint(0))&&this.consumeCodePoint();var p=parseInt(d,16);return p===0||yK(p)||p>1114111?BC:p}return u===LA?BC:u},f.prototype.consumeName=function(){for(var u="";;){var d=this.consumeCodePoint();if(xC(d))u+=c(d);else if(Ri(d,this.peekCodePoint(0)))u+=c(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(d),u}},f}(),FC=function(){function f(u){this._tokens=u}return f.create=function(u){var d=new QC;return d.write(u),new f(d.read())},f.parseValue=function(u){return f.create(u).parseComponentValue()},f.parseValues=function(u){return f.create(u).parseComponentValues()},f.prototype.parseComponentValue=function(){for(var u=this.consumeToken();u.type===31;)u=this.consumeToken();if(u.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(u);var d=this.consumeComponentValue();do u=this.consumeToken();while(u.type===31);if(u.type===32)return d;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},f.prototype.parseComponentValues=function(){for(var u=[];;){var d=this.consumeComponentValue();if(d.type===32)return u;u.push(d),u.push()}},f.prototype.consumeComponentValue=function(){var u=this.consumeToken();switch(u.type){case 11:case 28:case 2:return this.consumeSimpleBlock(u.type);case 19:return this.consumeFunction(u)}return u},f.prototype.consumeSimpleBlock=function(u){for(var d={type:u,values:[]},p=this.consumeToken();;){if(p.type===32||$K(p,u))return d;this.reconsumeToken(p),d.values.push(this.consumeComponentValue()),p=this.consumeToken()}},f.prototype.consumeFunction=function(u){for(var d={name:u.value,values:[],type:18};;){var p=this.consumeToken();if(p.type===32||p.type===3)return d;this.reconsumeToken(p),d.values.push(this.consumeComponentValue())}},f.prototype.consumeToken=function(){var u=this._tokens.shift();return typeof u>"u"?Ld:u},f.prototype.reconsumeToken=function(u){this._tokens.unshift(u)},f}(),Qs=function(f){return f.type===15},Ja=function(f){return f.type===17},re=function(f){return f.type===20},YK=function(f){return f.type===0},Hd=function(f,u){return re(f)&&f.value===u},UC=function(f){return f.type!==31},ja=function(f){return f.type!==31&&f.type!==4},HA=function(f){var u=[],d=[];return f.forEach(function(p){if(p.type===4){if(d.length===0)throw new Error("Error parsing function args, zero tokens for arg");u.push(d),d=[];return}p.type!==31&&d.push(p)}),d.length&&u.push(d),u},$K=function(f,u){return u===11&&f.type===12||u===28&&f.type===29?!0:u===2&&f.type===3},Oi=function(f){return f.type===17||f.type===15},Se=function(f){return f.type===16||Oi(f)},TC=function(f){return f.length>1?[f[0],f[1]]:[f[0]]},Ar={type:17,number:0,flags:ws},Md={type:16,number:50,flags:ws},Ni={type:16,number:100,flags:ws},Fs=function(f,u,d){var p=f[0],B=f[1];return[ue(p,u),ue(typeof B<"u"?B:p,d)]},ue=function(f,u){if(f.type===16)return f.number/100*u;if(Qs(f))switch(f.unit){case"rem":case"em":return 16*f.number;case"px":default:return f.number}return f.number},EC="deg",KC="grad",DC="rad",IC="turn",Pu={name:"angle",parse:function(f,u){if(u.type===15)switch(u.unit){case EC:return Math.PI*u.number/180;case KC:return Math.PI/200*u.number;case DC:return u.number;case IC:return Math.PI*2*u.number}throw new Error("Unsupported angle type")}},SC=function(f){return f.type===15&&(f.unit===EC||f.unit===KC||f.unit===DC||f.unit===IC)},kC=function(f){var u=f.filter(re).map(function(d){return d.value}).join(" ");switch(u){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ar,Ar];case"to top":case"bottom":return Zr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ar,Ni];case"to right":case"left":return Zr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Ni,Ni];case"to bottom":case"top":return Zr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Ni,Ar];case"to left":case"right":return Zr(270)}return 0},Zr=function(f){return Math.PI*f/180},Vi={name:"color",parse:function(f,u){if(u.type===18){var d=JK[u.name];if(typeof d>"u")throw new Error('Attempting to parse an unsupported color function "'+u.name+'"');return d(f,u.values)}if(u.type===5){if(u.value.length===3){var p=u.value.substring(0,1),B=u.value.substring(1,2),y=u.value.substring(2,3);return Gi(parseInt(p+p,16),parseInt(B+B,16),parseInt(y+y,16),1)}if(u.value.length===4){var p=u.value.substring(0,1),B=u.value.substring(1,2),y=u.value.substring(2,3),F=u.value.substring(3,4);return Gi(parseInt(p+p,16),parseInt(B+B,16),parseInt(y+y,16),parseInt(F+F,16)/255)}if(u.value.length===6){var p=u.value.substring(0,2),B=u.value.substring(2,4),y=u.value.substring(4,6);return Gi(parseInt(p,16),parseInt(B,16),parseInt(y,16),1)}if(u.value.length===8){var p=u.value.substring(0,2),B=u.value.substring(2,4),y=u.value.substring(4,6),F=u.value.substring(6,8);return Gi(parseInt(p,16),parseInt(B,16),parseInt(y,16),parseInt(F,16)/255)}}if(u.type===20){var T=si[u.value.toUpperCase()];if(typeof T<"u")return T}return si.TRANSPARENT}},Wi=function(f){return(255&f)===0},$e=function(f){var u=255&f,d=255&f>>8,p=255&f>>16,B=255&f>>24;return u<255?"rgba("+B+","+p+","+d+","+u/255+")":"rgb("+B+","+p+","+d+")"},Gi=function(f,u,d,p){return(f<<24|u<<16|d<<8|Math.round(p*255)<<0)>>>0},LC=function(f,u){if(f.type===17)return f.number;if(f.type===16){var d=u===3?1:255;return u===3?f.number/100*d:Math.round(f.number/100*d)}return 0},HC=function(f,u){var d=u.filter(ja);if(d.length===3){var p=d.map(LC),B=p[0],y=p[1],F=p[2];return Gi(B,y,F,1)}if(d.length===4){var T=d.map(LC),B=T[0],y=T[1],F=T[2],U=T[3];return Gi(B,y,F,U)}return 0};function Pd(f,u,d){return d<0&&(d+=1),d>=1&&(d-=1),d<1/6?(u-f)*d*6+f:d<1/2?u:d<2/3?(u-f)*6*(2/3-d)+f:f}var MC=function(f,u){var d=u.filter(ja),p=d[0],B=d[1],y=d[2],F=d[3],T=(p.type===17?Zr(p.number):Pu.parse(f,p))/(Math.PI*2),U=Se(B)?B.number/100:0,S=Se(y)?y.number/100:0,H=typeof F<"u"&&Se(F)?ue(F,1):1;if(U===0)return Gi(S*255,S*255,S*255,1);var N=S<=.5?S*(U+1):S+U-S*U,G=S*2-N,ut=Pd(G,N,T+1/3),Z=Pd(G,N,T),nt=Pd(G,N,T-1/3);return Gi(ut*255,Z*255,nt*255,H)},JK={hsl:MC,hsla:MC,rgb:HC,rgba:HC},Us=function(f,u){return Vi.parse(f,FC.create(u).parseComponentValue())},si={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},jK={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(f,u){return u.map(function(d){if(re(d))switch(d.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},ZK={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ru=function(f,u){var d=Vi.parse(f,u[0]),p=u[1];return p&&Se(p)?{color:d,stop:p}:{color:d,stop:null}},PC=function(f,u){var d=f[0],p=f[f.length-1];d.stop===null&&(d.stop=Ar),p.stop===null&&(p.stop=Ni);for(var B=[],y=0,F=0;F<f.length;F++){var T=f[F].stop;if(T!==null){var U=ue(T,u);U>y?B.push(U):B.push(y),y=U}else B.push(null)}for(var S=null,F=0;F<B.length;F++){var H=B[F];if(H===null)S===null&&(S=F);else if(S!==null){for(var N=F-S,G=B[S-1],ut=(H-G)/(N+1),Z=1;Z<=N;Z++)B[S+Z-1]=ut*Z;S=null}}return f.map(function(nt,Qt){var dt=nt.color;return{color:dt,stop:Math.max(Math.min(1,B[Qt]/u),0)}})},qK=function(f,u,d){var p=u/2,B=d/2,y=ue(f[0],u)-p,F=B-ue(f[1],d);return(Math.atan2(F,y)+Math.PI*2)%(Math.PI*2)},tD=function(f,u,d){var p=typeof f=="number"?f:qK(f,u,d),B=Math.abs(u*Math.sin(p))+Math.abs(d*Math.cos(p)),y=u/2,F=d/2,T=B/2,U=Math.sin(p-Math.PI/2)*T,S=Math.cos(p-Math.PI/2)*T;return[B,y-S,y+S,F-U,F+U]},BA=function(f,u){return Math.sqrt(f*f+u*u)},RC=function(f,u,d,p,B){var y=[[0,0],[0,u],[f,0],[f,u]];return y.reduce(function(F,T){var U=T[0],S=T[1],H=BA(d-U,p-S);return(B?H<F.optimumDistance:H>F.optimumDistance)?{optimumCorner:T,optimumDistance:H}:F},{optimumDistance:B?1/0:-1/0,optimumCorner:null}).optimumCorner},eD=function(f,u,d,p,B){var y=0,F=0;switch(f.size){case 0:f.shape===0?y=F=Math.min(Math.abs(u),Math.abs(u-p),Math.abs(d),Math.abs(d-B)):f.shape===1&&(y=Math.min(Math.abs(u),Math.abs(u-p)),F=Math.min(Math.abs(d),Math.abs(d-B)));break;case 2:if(f.shape===0)y=F=Math.min(BA(u,d),BA(u,d-B),BA(u-p,d),BA(u-p,d-B));else if(f.shape===1){var T=Math.min(Math.abs(d),Math.abs(d-B))/Math.min(Math.abs(u),Math.abs(u-p)),U=RC(p,B,u,d,!0),S=U[0],H=U[1];y=BA(S-u,(H-d)/T),F=T*y}break;case 1:f.shape===0?y=F=Math.max(Math.abs(u),Math.abs(u-p),Math.abs(d),Math.abs(d-B)):f.shape===1&&(y=Math.max(Math.abs(u),Math.abs(u-p)),F=Math.max(Math.abs(d),Math.abs(d-B)));break;case 3:if(f.shape===0)y=F=Math.max(BA(u,d),BA(u,d-B),BA(u-p,d),BA(u-p,d-B));else if(f.shape===1){var T=Math.max(Math.abs(d),Math.abs(d-B))/Math.max(Math.abs(u),Math.abs(u-p)),N=RC(p,B,u,d,!1),S=N[0],H=N[1];y=BA(S-u,(H-d)/T),F=T*y}break}return Array.isArray(f.size)&&(y=ue(f.size[0],p),F=f.size.length===2?ue(f.size[1],B):y),[y,F]},rD=function(f,u){var d=Zr(180),p=[];return HA(u).forEach(function(B,y){if(y===0){var F=B[0];if(F.type===20&&F.value==="to"){d=kC(B);return}else if(SC(F)){d=Pu.parse(f,F);return}}var T=Ru(f,B);p.push(T)}),{angle:d,stops:p,type:1}},Ou=function(f,u){var d=Zr(180),p=[];return HA(u).forEach(function(B,y){if(y===0){var F=B[0];if(F.type===20&&["top","left","right","bottom"].indexOf(F.value)!==-1){d=kC(B);return}else if(SC(F)){d=(Pu.parse(f,F)+Zr(270))%Zr(360);return}}var T=Ru(f,B);p.push(T)}),{angle:d,stops:p,type:1}},AD=function(f,u){var d=Zr(180),p=[],B=1,y=0,F=3,T=[];return HA(u).forEach(function(U,S){var H=U[0];if(S===0){if(re(H)&&H.value==="linear"){B=1;return}else if(re(H)&&H.value==="radial"){B=2;return}}if(H.type===18){if(H.name==="from"){var N=Vi.parse(f,H.values[0]);p.push({stop:Ar,color:N})}else if(H.name==="to"){var N=Vi.parse(f,H.values[0]);p.push({stop:Ni,color:N})}else if(H.name==="color-stop"){var G=H.values.filter(ja);if(G.length===2){var N=Vi.parse(f,G[1]),ut=G[0];Ja(ut)&&p.push({stop:{type:16,number:ut.number*100,flags:ut.flags},color:N})}}}}),B===1?{angle:(d+Zr(180))%Zr(360),stops:p,type:B}:{size:F,shape:y,stops:p,position:T,type:B}},OC="closest-side",NC="farthest-side",VC="closest-corner",WC="farthest-corner",GC="circle",zC="ellipse",XC="cover",YC="contain",iD=function(f,u){var d=0,p=3,B=[],y=[];return HA(u).forEach(function(F,T){var U=!0;if(T===0){var S=!1;U=F.reduce(function(N,G){if(S)if(re(G))switch(G.value){case"center":return y.push(Md),N;case"top":case"left":return y.push(Ar),N;case"right":case"bottom":return y.push(Ni),N}else(Se(G)||Oi(G))&&y.push(G);else if(re(G))switch(G.value){case GC:return d=0,!1;case zC:return d=1,!1;case"at":return S=!0,!1;case OC:return p=0,!1;case XC:case NC:return p=1,!1;case YC:case VC:return p=2,!1;case WC:return p=3,!1}else if(Oi(G)||Se(G))return Array.isArray(p)||(p=[]),p.push(G),!1;return N},U)}if(U){var H=Ru(f,F);B.push(H)}}),{size:p,shape:d,stops:B,position:y,type:2}},Nu=function(f,u){var d=0,p=3,B=[],y=[];return HA(u).forEach(function(F,T){var U=!0;if(T===0?U=F.reduce(function(H,N){if(re(N))switch(N.value){case"center":return y.push(Md),!1;case"top":case"left":return y.push(Ar),!1;case"right":case"bottom":return y.push(Ni),!1}else if(Se(N)||Oi(N))return y.push(N),!1;return H},U):T===1&&(U=F.reduce(function(H,N){if(re(N))switch(N.value){case GC:return d=0,!1;case zC:return d=1,!1;case YC:case OC:return p=0,!1;case NC:return p=1,!1;case VC:return p=2,!1;case XC:case WC:return p=3,!1}else if(Oi(N)||Se(N))return Array.isArray(p)||(p=[]),p.push(N),!1;return H},U)),U){var S=Ru(f,F);B.push(S)}}),{size:p,shape:d,stops:B,position:y,type:2}},nD=function(f){return f.type===1},aD=function(f){return f.type===2},Rd={name:"image",parse:function(f,u){if(u.type===22){var d={url:u.value,type:0};return f.cache.addImage(u.value),d}if(u.type===18){var p=$C[u.name];if(typeof p>"u")throw new Error('Attempting to parse an unsupported image function "'+u.name+'"');return p(f,u.values)}throw new Error("Unsupported image type "+u.type)}};function oD(f){return!(f.type===20&&f.value==="none")&&(f.type!==18||!!$C[f.name])}for(var $C={"linear-gradient":rD,"-moz-linear-gradient":Ou,"-ms-linear-gradient":Ou,"-o-linear-gradient":Ou,"-webkit-linear-gradient":Ou,"radial-gradient":iD,"-moz-radial-gradient":Nu,"-ms-radial-gradient":Nu,"-o-radial-gradient":Nu,"-webkit-radial-gradient":Nu,"-webkit-gradient":AD},sD={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(f,u){if(u.length===0)return[];var d=u[0];return d.type===20&&d.value==="none"?[]:u.filter(function(p){return ja(p)&&oD(p)}).map(function(p){return Rd.parse(f,p)})}},lD={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(f,u){return u.map(function(d){if(re(d))switch(d.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},uD={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(f,u){return HA(u).map(function(d){return d.filter(Se)}).map(TC)}},cD={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(f,u){return HA(u).map(function(d){return d.filter(re).map(function(p){return p.value}).join(" ")}).map(fD)}},fD=function(f){switch(f){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Ts=function(f){return f.AUTO="auto",f.CONTAIN="contain",f.COVER="cover",f}(Ts||{}),hD={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(f,u){return HA(u).map(function(d){return d.filter(pD)})}},pD=function(f){return re(f)||Se(f)},Vu=function(f){return{name:"border-"+f+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},dD=Vu("top"),mD=Vu("right"),gD=Vu("bottom"),BD=Vu("left"),Wu=function(f){return{name:"border-radius-"+f,initialValue:"0 0",prefix:!1,type:1,parse:function(u,d){return TC(d.filter(Se))}}},CD=Wu("top-left"),bD=Wu("top-right"),wD=Wu("bottom-right"),yD=Wu("bottom-left"),Gu=function(f){return{name:"border-"+f+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(u,d){switch(d){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},vD=Gu("top"),_D=Gu("right"),xD=Gu("bottom"),QD=Gu("left"),zu=function(f){return{name:"border-"+f+"-width",initialValue:"0",type:0,prefix:!1,parse:function(u,d){return Qs(d)?d.number:0}}},FD=zu("top"),UD=zu("right"),TD=zu("bottom"),ED=zu("left"),KD={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},DD={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(f,u){switch(u){case"rtl":return 1;case"ltr":default:return 0}}},ID={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(f,u){return u.filter(re).reduce(function(d,p){return d|SD(p.value)},0)}},SD=function(f){switch(f){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},kD={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(f,u){switch(u){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},LD={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(f,u){return u.type===20&&u.value==="normal"?0:u.type===17||u.type===15?u.number:0}},Od=function(f){return f.NORMAL="normal",f.STRICT="strict",f}(Od||{}),HD={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(f,u){switch(u){case"strict":return Od.STRICT;case"normal":default:return Od.NORMAL}}},MD={name:"line-height",initialValue:"normal",prefix:!1,type:4},JC=function(f,u){return re(f)&&f.value==="normal"?1.2*u:f.type===17?u*f.number:Se(f)?ue(f,u):u},PD={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(f,u){return u.type===20&&u.value==="none"?null:Rd.parse(f,u)}},RD={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(f,u){switch(u){case"inside":return 0;case"outside":default:return 1}}},Nd={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(f,u){switch(u){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Xu=function(f){return{name:"margin-"+f,initialValue:"0",prefix:!1,type:4}},OD=Xu("top"),ND=Xu("right"),VD=Xu("bottom"),WD=Xu("left"),GD={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(f,u){return u.filter(re).map(function(d){switch(d.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},zD={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(f,u){switch(u){case"break-word":return"break-word";case"normal":default:return"normal"}}},Yu=function(f){return{name:"padding-"+f,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},XD=Yu("top"),YD=Yu("right"),$D=Yu("bottom"),JD=Yu("left"),jD={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(f,u){switch(u){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},ZD={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(f,u){switch(u){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},qD={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(f,u){return u.length===1&&Hd(u[0],"none")?[]:HA(u).map(function(d){for(var p={color:si.TRANSPARENT,offsetX:Ar,offsetY:Ar,blur:Ar},B=0,y=0;y<d.length;y++){var F=d[y];Oi(F)?(B===0?p.offsetX=F:B===1?p.offsetY=F:p.blur=F,B++):p.color=Vi.parse(f,F)}return p})}},tI={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(f,u){switch(u){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},eI={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(f,u){if(u.type===20&&u.value==="none")return null;if(u.type===18){var d=iI[u.name];if(typeof d>"u")throw new Error('Attempting to parse an unsupported transform function "'+u.name+'"');return d(u.values)}return null}},rI=function(f){var u=f.filter(function(d){return d.type===17}).map(function(d){return d.number});return u.length===6?u:null},AI=function(f){var u=f.filter(function(U){return U.type===17}).map(function(U){return U.number}),d=u[0],p=u[1];u[2],u[3];var B=u[4],y=u[5];u[6],u[7],u[8],u[9],u[10],u[11];var F=u[12],T=u[13];return u[14],u[15],u.length===16?[d,p,B,y,F,T]:null},iI={matrix:rI,matrix3d:AI},jC={type:16,number:50,flags:ws},nI=[jC,jC],aI={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(f,u){var d=u.filter(Se);return d.length!==2?nI:[d[0],d[1]]}},oI={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(f,u){switch(u){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},$u=function(f){return f.NORMAL="normal",f.BREAK_ALL="break-all",f.KEEP_ALL="keep-all",f}($u||{}),sI={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(f,u){switch(u){case"break-all":return $u.BREAK_ALL;case"keep-all":return $u.KEEP_ALL;case"normal":default:return $u.NORMAL}}},lI={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(f,u){if(u.type===20)return{auto:!0,order:0};if(Ja(u))return{auto:!1,order:u.number};throw new Error("Invalid z-index number parsed")}},ZC={name:"time",parse:function(f,u){if(u.type===15)switch(u.unit.toLowerCase()){case"s":return 1e3*u.number;case"ms":return u.number}throw new Error("Unsupported time type")}},uI={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(f,u){return Ja(u)?u.number:1}},cI={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},fI={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(f,u){return u.filter(re).map(function(d){switch(d.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(d){return d!==0})}},hI={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(f,u){var d=[],p=[];return u.forEach(function(B){switch(B.type){case 20:case 0:d.push(B.value);break;case 17:d.push(B.number.toString());break;case 4:p.push(d.join(" ")),d.length=0;break}}),d.length&&p.push(d.join(" ")),p.map(function(B){return B.indexOf(" ")===-1?B:"'"+B+"'"})}},pI={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},dI={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(f,u){if(Ja(u))return u.number;if(re(u))switch(u.value){case"bold":return 700;case"normal":default:return 400}return 400}},mI={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(f,u){return u.filter(re).map(function(d){return d.value})}},gI={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(f,u){switch(u){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Ge=function(f,u){return(f&u)!==0},BI={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(f,u){if(u.length===0)return[];var d=u[0];return d.type===20&&d.value==="none"?[]:u}},CI={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(f,u){if(u.length===0)return null;var d=u[0];if(d.type===20&&d.value==="none")return null;for(var p=[],B=u.filter(UC),y=0;y<B.length;y++){var F=B[y],T=B[y+1];if(F.type===20){var U=T&&Ja(T)?T.number:1;p.push({counter:F.value,increment:U})}}return p}},bI={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(f,u){if(u.length===0)return[];for(var d=[],p=u.filter(UC),B=0;B<p.length;B++){var y=p[B],F=p[B+1];if(re(y)&&y.value!=="none"){var T=F&&Ja(F)?F.number:0;d.push({counter:y.value,reset:T})}}return d}},wI={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(f,u){return u.filter(Qs).map(function(d){return ZC.parse(f,d)})}},yI={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(f,u){if(u.length===0)return null;var d=u[0];if(d.type===20&&d.value==="none")return null;var p=[],B=u.filter(YK);if(B.length%2!==0)return null;for(var y=0;y<B.length;y+=2){var F=B[y].value,T=B[y+1].value;p.push({open:F,close:T})}return p}},qC=function(f,u,d){if(!f)return"";var p=f[Math.min(u,f.length-1)];return p?d?p.open:p.close:""},vI={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(f,u){return u.length===1&&Hd(u[0],"none")?[]:HA(u).map(function(d){for(var p={color:255,offsetX:Ar,offsetY:Ar,blur:Ar,spread:Ar,inset:!1},B=0,y=0;y<d.length;y++){var F=d[y];Hd(F,"inset")?p.inset=!0:Oi(F)?(B===0?p.offsetX=F:B===1?p.offsetY=F:B===2?p.blur=F:p.spread=F,B++):p.color=Vi.parse(f,F)}return p})}},_I={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(f,u){var d=[0,1,2],p=[];return u.filter(re).forEach(function(B){switch(B.value){case"stroke":p.push(1);break;case"fill":p.push(0);break;case"markers":p.push(2);break}}),d.forEach(function(B){p.indexOf(B)===-1&&p.push(B)}),p}},xI={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},QI={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(f,u){return Qs(u)?u.number:0}},FI=function(){function f(u,d){var p,B;this.animationDuration=ct(u,wI,d.animationDuration),this.backgroundClip=ct(u,jK,d.backgroundClip),this.backgroundColor=ct(u,ZK,d.backgroundColor),this.backgroundImage=ct(u,sD,d.backgroundImage),this.backgroundOrigin=ct(u,lD,d.backgroundOrigin),this.backgroundPosition=ct(u,uD,d.backgroundPosition),this.backgroundRepeat=ct(u,cD,d.backgroundRepeat),this.backgroundSize=ct(u,hD,d.backgroundSize),this.borderTopColor=ct(u,dD,d.borderTopColor),this.borderRightColor=ct(u,mD,d.borderRightColor),this.borderBottomColor=ct(u,gD,d.borderBottomColor),this.borderLeftColor=ct(u,BD,d.borderLeftColor),this.borderTopLeftRadius=ct(u,CD,d.borderTopLeftRadius),this.borderTopRightRadius=ct(u,bD,d.borderTopRightRadius),this.borderBottomRightRadius=ct(u,wD,d.borderBottomRightRadius),this.borderBottomLeftRadius=ct(u,yD,d.borderBottomLeftRadius),this.borderTopStyle=ct(u,vD,d.borderTopStyle),this.borderRightStyle=ct(u,_D,d.borderRightStyle),this.borderBottomStyle=ct(u,xD,d.borderBottomStyle),this.borderLeftStyle=ct(u,QD,d.borderLeftStyle),this.borderTopWidth=ct(u,FD,d.borderTopWidth),this.borderRightWidth=ct(u,UD,d.borderRightWidth),this.borderBottomWidth=ct(u,TD,d.borderBottomWidth),this.borderLeftWidth=ct(u,ED,d.borderLeftWidth),this.boxShadow=ct(u,vI,d.boxShadow),this.color=ct(u,KD,d.color),this.direction=ct(u,DD,d.direction),this.display=ct(u,ID,d.display),this.float=ct(u,kD,d.cssFloat),this.fontFamily=ct(u,hI,d.fontFamily),this.fontSize=ct(u,pI,d.fontSize),this.fontStyle=ct(u,gI,d.fontStyle),this.fontVariant=ct(u,mI,d.fontVariant),this.fontWeight=ct(u,dI,d.fontWeight),this.letterSpacing=ct(u,LD,d.letterSpacing),this.lineBreak=ct(u,HD,d.lineBreak),this.lineHeight=ct(u,MD,d.lineHeight),this.listStyleImage=ct(u,PD,d.listStyleImage),this.listStylePosition=ct(u,RD,d.listStylePosition),this.listStyleType=ct(u,Nd,d.listStyleType),this.marginTop=ct(u,OD,d.marginTop),this.marginRight=ct(u,ND,d.marginRight),this.marginBottom=ct(u,VD,d.marginBottom),this.marginLeft=ct(u,WD,d.marginLeft),this.opacity=ct(u,uI,d.opacity);var y=ct(u,GD,d.overflow);this.overflowX=y[0],this.overflowY=y[y.length>1?1:0],this.overflowWrap=ct(u,zD,d.overflowWrap),this.paddingTop=ct(u,XD,d.paddingTop),this.paddingRight=ct(u,YD,d.paddingRight),this.paddingBottom=ct(u,$D,d.paddingBottom),this.paddingLeft=ct(u,JD,d.paddingLeft),this.paintOrder=ct(u,_I,d.paintOrder),this.position=ct(u,ZD,d.position),this.textAlign=ct(u,jD,d.textAlign),this.textDecorationColor=ct(u,cI,(p=d.textDecorationColor)!==null&&p!==void 0?p:d.color),this.textDecorationLine=ct(u,fI,(B=d.textDecorationLine)!==null&&B!==void 0?B:d.textDecoration),this.textShadow=ct(u,qD,d.textShadow),this.textTransform=ct(u,tI,d.textTransform),this.transform=ct(u,eI,d.transform),this.transformOrigin=ct(u,aI,d.transformOrigin),this.visibility=ct(u,oI,d.visibility),this.webkitTextStrokeColor=ct(u,xI,d.webkitTextStrokeColor),this.webkitTextStrokeWidth=ct(u,QI,d.webkitTextStrokeWidth),this.wordBreak=ct(u,sI,d.wordBreak),this.zIndex=ct(u,lI,d.zIndex)}return f.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},f.prototype.isTransparent=function(){return Wi(this.backgroundColor)},f.prototype.isTransformed=function(){return this.transform!==null},f.prototype.isPositioned=function(){return this.position!==0},f.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},f.prototype.isFloating=function(){return this.float!==0},f.prototype.isInlineLevel=function(){return Ge(this.display,4)||Ge(this.display,33554432)||Ge(this.display,268435456)||Ge(this.display,536870912)||Ge(this.display,67108864)||Ge(this.display,134217728)},f}(),UI=function(){function f(u,d){this.content=ct(u,BI,d.content),this.quotes=ct(u,yI,d.quotes)}return f}(),tb=function(){function f(u,d){this.counterIncrement=ct(u,CI,d.counterIncrement),this.counterReset=ct(u,bI,d.counterReset)}return f}(),ct=function(f,u,d){var p=new QC,B=d!==null&&typeof d<"u"?d.toString():u.initialValue;p.write(B);var y=new FC(p.read());switch(u.type){case 2:var F=y.parseComponentValue();return u.parse(f,re(F)?F.value:u.initialValue);case 0:return u.parse(f,y.parseComponentValue());case 1:return u.parse(f,y.parseComponentValues());case 4:return y.parseComponentValue();case 3:switch(u.format){case"angle":return Pu.parse(f,y.parseComponentValue());case"color":return Vi.parse(f,y.parseComponentValue());case"image":return Rd.parse(f,y.parseComponentValue());case"length":var T=y.parseComponentValue();return Oi(T)?T:Ar;case"length-percentage":var U=y.parseComponentValue();return Se(U)?U:Ar;case"time":return ZC.parse(f,y.parseComponentValue())}break}},TI="data-html2canvas-debug",EI=function(f){var u=f.getAttribute(TI);switch(u){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Vd=function(f,u){var d=EI(f);return d===1||u===d},MA=function(){function f(u,d){if(this.context=u,this.textNodes=[],this.elements=[],this.flags=0,Vd(d,3))debugger;this.styles=new FI(u,window.getComputedStyle(d,null)),Am(d)&&(this.styles.animationDuration.some(function(p){return p>0})&&(d.style.animationDuration="0s"),this.styles.transform!==null&&(d.style.transform="none")),this.bounds=o(this.context,d),Vd(d,4)&&(this.flags|=16)}return f}(),KI="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",eb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Es=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ju=0;Ju<eb.length;Ju++)Es[eb.charCodeAt(Ju)]=Ju;for(var DI=function(f){var u=f.length*.75,d=f.length,p,B=0,y,F,T,U;f[f.length-1]==="="&&(u--,f[f.length-2]==="="&&u--);var S=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(u):new Array(u),H=Array.isArray(S)?S:new Uint8Array(S);for(p=0;p<d;p+=4)y=Es[f.charCodeAt(p)],F=Es[f.charCodeAt(p+1)],T=Es[f.charCodeAt(p+2)],U=Es[f.charCodeAt(p+3)],H[B++]=y<<2|F>>4,H[B++]=(F&15)<<4|T>>2,H[B++]=(T&3)<<6|U&63;return S},II=function(f){for(var u=f.length,d=[],p=0;p<u;p+=2)d.push(f[p+1]<<8|f[p]);return d},SI=function(f){for(var u=f.length,d=[],p=0;p<u;p+=4)d.push(f[p+3]<<24|f[p+2]<<16|f[p+1]<<8|f[p]);return d},Ln=5,Wd=11,Gd=2,kI=Wd-Ln,rb=65536>>Ln,LI=1<<Ln,zd=LI-1,HI=1024>>Ln,MI=rb+HI,PI=MI,RI=32,OI=PI+RI,NI=65536>>Wd,VI=1<<kI,WI=VI-1,Ab=function(f,u,d){return f.slice?f.slice(u,d):new Uint16Array(Array.prototype.slice.call(f,u,d))},GI=function(f,u,d){return f.slice?f.slice(u,d):new Uint32Array(Array.prototype.slice.call(f,u,d))},zI=function(f,u){var d=DI(f),p=Array.isArray(d)?SI(d):new Uint32Array(d),B=Array.isArray(d)?II(d):new Uint16Array(d),y=24,F=Ab(B,y/2,p[4]/2),T=p[5]===2?Ab(B,(y+p[4])/2):GI(p,Math.ceil((y+p[4])/4));return new XI(p[0],p[1],p[2],p[3],F,T)},XI=function(){function f(u,d,p,B,y,F){this.initialValue=u,this.errorValue=d,this.highStart=p,this.highValueIndex=B,this.index=y,this.data=F}return f.prototype.get=function(u){var d;if(u>=0){if(u<55296||u>56319&&u<=65535)return d=this.index[u>>Ln],d=(d<<Gd)+(u&zd),this.data[d];if(u<=65535)return d=this.index[rb+(u-55296>>Ln)],d=(d<<Gd)+(u&zd),this.data[d];if(u<this.highStart)return d=OI-NI+(u>>Wd),d=this.index[d],d+=u>>Ln&WI,d=this.index[d],d=(d<<Gd)+(u&zd),this.data[d];if(u<=1114111)return this.data[this.highValueIndex]}return this.errorValue},f}(),ib="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",YI=typeof Uint8Array>"u"?[]:new Uint8Array(256),ju=0;ju<ib.length;ju++)YI[ib.charCodeAt(ju)]=ju;var $I=1,Xd=2,Yd=3,nb=4,ab=5,JI=7,ob=8,$d=9,Jd=10,sb=11,lb=12,ub=13,cb=14,jd=15,jI=function(f){for(var u=[],d=0,p=f.length;d<p;){var B=f.charCodeAt(d++);if(B>=55296&&B<=56319&&d<p){var y=f.charCodeAt(d++);(y&64512)===56320?u.push(((B&1023)<<10)+(y&1023)+65536):(u.push(B),d--)}else u.push(B)}return u},ZI=function(){for(var f=[],u=0;u<arguments.length;u++)f[u]=arguments[u];if(String.fromCodePoint)return String.fromCodePoint.apply(String,f);var d=f.length;if(!d)return"";for(var p=[],B=-1,y="";++B<d;){var F=f[B];F<=65535?p.push(F):(F-=65536,p.push((F>>10)+55296,F%1024+56320)),(B+1===d||p.length>16384)&&(y+=String.fromCharCode.apply(String,p),p.length=0)}return y},qI=zI(KI),qr="\xD7",Zd="\xF7",tS=function(f){return qI.get(f)},eS=function(f,u,d){var p=d-2,B=u[p],y=u[d-1],F=u[d];if(y===Xd&&F===Yd)return qr;if(y===Xd||y===Yd||y===nb||F===Xd||F===Yd||F===nb)return Zd;if(y===ob&&[ob,$d,sb,lb].indexOf(F)!==-1||(y===sb||y===$d)&&(F===$d||F===Jd)||(y===lb||y===Jd)&&F===Jd||F===ub||F===ab||F===JI||y===$I)return qr;if(y===ub&&F===cb){for(;B===ab;)B=u[--p];if(B===cb)return qr}if(y===jd&&F===jd){for(var T=0;B===jd;)T++,B=u[--p];if(T%2===0)return qr}return Zd},rS=function(f){var u=jI(f),d=u.length,p=0,B=0,y=u.map(tS);return{next:function(){if(p>=d)return{done:!0,value:null};for(var F=qr;p<d&&(F=eS(u,y,++p))===qr;);if(F!==qr||p===d){var T=ZI.apply(null,u.slice(B,p));return B=p,{value:T,done:!1}}return{done:!0,value:null}}}},AS=function(f){for(var u=rS(f),d=[],p;!(p=u.next()).done;)p.value&&d.push(p.value.slice());return d},iS=function(f){var u=123;if(f.createRange){var d=f.createRange();if(d.getBoundingClientRect){var p=f.createElement("boundtest");p.style.height=u+"px",p.style.display="block",f.body.appendChild(p),d.selectNode(p);var B=d.getBoundingClientRect(),y=Math.round(B.height);if(f.body.removeChild(p),y===u)return!0}}return!1},nS=function(f){var u=f.createElement("boundtest");u.style.width="50px",u.style.display="block",u.style.fontSize="12px",u.style.letterSpacing="0px",u.style.wordSpacing="0px",f.body.appendChild(u);var d=f.createRange();u.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var p=u.firstChild,B=l(p.data).map(function(U){return c(U)}),y=0,F={},T=B.every(function(U,S){d.setStart(p,y),d.setEnd(p,y+U.length);var H=d.getBoundingClientRect();y+=U.length;var N=H.x>F.x||H.y>F.y;return F=H,S===0?!0:N});return f.body.removeChild(u),T},aS=function(){return typeof new Image().crossOrigin<"u"},oS=function(){return typeof new XMLHttpRequest().responseType=="string"},sS=function(f){var u=new Image,d=f.createElement("canvas"),p=d.getContext("2d");if(!p)return!1;u.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{p.drawImage(u,0,0),d.toDataURL()}catch{return!1}return!0},fb=function(f){return f[0]===0&&f[1]===255&&f[2]===0&&f[3]===255},lS=function(f){var u=f.createElement("canvas"),d=100;u.width=d,u.height=d;var p=u.getContext("2d");if(!p)return Promise.reject(!1);p.fillStyle="rgb(0, 255, 0)",p.fillRect(0,0,d,d);var B=new Image,y=u.toDataURL();B.src=y;var F=qd(d,d,0,0,B);return p.fillStyle="red",p.fillRect(0,0,d,d),hb(F).then(function(T){p.drawImage(T,0,0);var U=p.getImageData(0,0,d,d).data;p.fillStyle="red",p.fillRect(0,0,d,d);var S=f.createElement("div");return S.style.backgroundImage="url("+y+")",S.style.height=d+"px",fb(U)?hb(qd(d,d,0,0,S)):Promise.reject(!1)}).then(function(T){return p.drawImage(T,0,0),fb(p.getImageData(0,0,d,d).data)}).catch(function(){return!1})},qd=function(f,u,d,p,B){var y="http://www.w3.org/2000/svg",F=document.createElementNS(y,"svg"),T=document.createElementNS(y,"foreignObject");return F.setAttributeNS(null,"width",f.toString()),F.setAttributeNS(null,"height",u.toString()),T.setAttributeNS(null,"width","100%"),T.setAttributeNS(null,"height","100%"),T.setAttributeNS(null,"x",d.toString()),T.setAttributeNS(null,"y",p.toString()),T.setAttributeNS(null,"externalResourcesRequired","true"),F.appendChild(T),T.appendChild(B),F},hb=function(f){return new Promise(function(u,d){var p=new Image;p.onload=function(){return u(p)},p.onerror=d,p.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(f))})},ir={get SUPPORT_RANGE_BOUNDS(){var f=iS(document);return Object.defineProperty(ir,"SUPPORT_RANGE_BOUNDS",{value:f}),f},get SUPPORT_WORD_BREAKING(){var f=ir.SUPPORT_RANGE_BOUNDS&&nS(document);return Object.defineProperty(ir,"SUPPORT_WORD_BREAKING",{value:f}),f},get SUPPORT_SVG_DRAWING(){var f=sS(document);return Object.defineProperty(ir,"SUPPORT_SVG_DRAWING",{value:f}),f},get SUPPORT_FOREIGNOBJECT_DRAWING(){var f=typeof Array.from=="function"&&typeof window.fetch=="function"?lS(document):Promise.resolve(!1);return Object.defineProperty(ir,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:f}),f},get SUPPORT_CORS_IMAGES(){var f=aS();return Object.defineProperty(ir,"SUPPORT_CORS_IMAGES",{value:f}),f},get SUPPORT_RESPONSE_TYPE(){var f=oS();return Object.defineProperty(ir,"SUPPORT_RESPONSE_TYPE",{value:f}),f},get SUPPORT_CORS_XHR(){var f="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ir,"SUPPORT_CORS_XHR",{value:f}),f},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var f=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(ir,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:f}),f}},Ks=function(){function f(u,d){this.text=u,this.bounds=d}return f}(),uS=function(f,u,d,p){var B=hS(u,d),y=[],F=0;return B.forEach(function(T){if(d.textDecorationLine.length||T.trim().length>0)if(ir.SUPPORT_RANGE_BOUNDS){var U=pb(p,F,T.length).getClientRects();if(U.length>1){var S=tm(T),H=0;S.forEach(function(G){y.push(new Ks(G,a.fromDOMRectList(f,pb(p,H+F,G.length).getClientRects()))),H+=G.length})}else y.push(new Ks(T,a.fromDOMRectList(f,U)))}else{var N=p.splitText(T.length);y.push(new Ks(T,cS(f,p))),p=N}else ir.SUPPORT_RANGE_BOUNDS||(p=p.splitText(T.length));F+=T.length}),y},cS=function(f,u){var d=u.ownerDocument;if(d){var p=d.createElement("html2canvaswrapper");p.appendChild(u.cloneNode(!0));var B=u.parentNode;if(B){B.replaceChild(p,u);var y=o(f,p);return p.firstChild&&B.replaceChild(p.firstChild,p),y}}return a.EMPTY},pb=function(f,u,d){var p=f.ownerDocument;if(!p)throw new Error("Node has no owner document");var B=p.createRange();return B.setStart(f,u),B.setEnd(f,u+d),B},tm=function(f){if(ir.SUPPORT_NATIVE_TEXT_SEGMENTATION){var u=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(u.segment(f)).map(function(d){return d.segment})}return AS(f)},fS=function(f,u){if(ir.SUPPORT_NATIVE_TEXT_SEGMENTATION){var d=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(d.segment(f)).map(function(p){return p.segment})}return dS(f,u)},hS=function(f,u){return u.letterSpacing!==0?tm(f):fS(f,u)},pS=[32,160,4961,65792,65793,4153,4241],dS=function(f,u){for(var d=NE(f,{lineBreak:u.lineBreak,wordBreak:u.overflowWrap==="break-word"?"break-word":u.wordBreak}),p=[],B,y=function(){if(B.value){var F=B.value.slice(),T=l(F),U="";T.forEach(function(S){pS.indexOf(S)===-1?U+=c(S):(U.length&&p.push(U),p.push(c(S)),U="")}),U.length&&p.push(U)}};!(B=d.next()).done;)y();return p},mS=function(){function f(u,d,p){this.text=gS(d.data,p.textTransform),this.textBounds=uS(u,this.text,p,d)}return f}(),gS=function(f,u){switch(u){case 1:return f.toLowerCase();case 3:return f.replace(BS,CS);case 2:return f.toUpperCase();default:return f}},BS=/(^|\s|:|-|\(|\))([a-z])/g,CS=function(f,u,d){return f.length>0?u+d.toUpperCase():f},db=function(f){t(u,f);function u(d,p){var B=f.call(this,d,p)||this;return B.src=p.currentSrc||p.src,B.intrinsicWidth=p.naturalWidth,B.intrinsicHeight=p.naturalHeight,B.context.cache.addImage(B.src),B}return u}(MA),mb=function(f){t(u,f);function u(d,p){var B=f.call(this,d,p)||this;return B.canvas=p,B.intrinsicWidth=p.width,B.intrinsicHeight=p.height,B}return u}(MA),gb=function(f){t(u,f);function u(d,p){var B=f.call(this,d,p)||this,y=new XMLSerializer,F=o(d,p);return p.setAttribute("width",F.width+"px"),p.setAttribute("height",F.height+"px"),B.svg="data:image/svg+xml,"+encodeURIComponent(y.serializeToString(p)),B.intrinsicWidth=p.width.baseVal.value,B.intrinsicHeight=p.height.baseVal.value,B.context.cache.addImage(B.svg),B}return u}(MA),Bb=function(f){t(u,f);function u(d,p){var B=f.call(this,d,p)||this;return B.value=p.value,B}return u}(MA),em=function(f){t(u,f);function u(d,p){var B=f.call(this,d,p)||this;return B.start=p.start,B.reversed=typeof p.reversed=="boolean"&&p.reversed===!0,B}return u}(MA),bS=[{type:15,flags:0,unit:"px",number:3}],wS=[{type:16,flags:0,number:50}],yS=function(f){return f.width>f.height?new a(f.left+(f.width-f.height)/2,f.top,f.height,f.height):f.width<f.height?new a(f.left,f.top+(f.height-f.width)/2,f.width,f.width):f},vS=function(f){var u=f.type===_S?new Array(f.value.length+1).join("\u2022"):f.value;return u.length===0?f.placeholder||"":u},Zu="checkbox",qu="radio",_S="password",Cb=707406591,rm=function(f){t(u,f);function u(d,p){var B=f.call(this,d,p)||this;switch(B.type=p.type.toLowerCase(),B.checked=p.checked,B.value=vS(p),(B.type===Zu||B.type===qu)&&(B.styles.backgroundColor=3739148031,B.styles.borderTopColor=B.styles.borderRightColor=B.styles.borderBottomColor=B.styles.borderLeftColor=2779096575,B.styles.borderTopWidth=B.styles.borderRightWidth=B.styles.borderBottomWidth=B.styles.borderLeftWidth=1,B.styles.borderTopStyle=B.styles.borderRightStyle=B.styles.borderBottomStyle=B.styles.borderLeftStyle=1,B.styles.backgroundClip=[0],B.styles.backgroundOrigin=[0],B.bounds=yS(B.bounds)),B.type){case Zu:B.styles.borderTopRightRadius=B.styles.borderTopLeftRadius=B.styles.borderBottomRightRadius=B.styles.borderBottomLeftRadius=bS;break;case qu:B.styles.borderTopRightRadius=B.styles.borderTopLeftRadius=B.styles.borderBottomRightRadius=B.styles.borderBottomLeftRadius=wS;break}return B}return u}(MA),bb=function(f){t(u,f);function u(d,p){var B=f.call(this,d,p)||this,y=p.options[p.selectedIndex||0];return B.value=y&&y.text||"",B}return u}(MA),wb=function(f){t(u,f);function u(d,p){var B=f.call(this,d,p)||this;return B.value=p.value,B}return u}(MA),yb=function(f){t(u,f);function u(d,p){var B=f.call(this,d,p)||this;B.src=p.src,B.width=parseInt(p.width,10)||0,B.height=parseInt(p.height,10)||0,B.backgroundColor=B.styles.backgroundColor;try{if(p.contentWindow&&p.contentWindow.document&&p.contentWindow.document.documentElement){B.tree=_b(d,p.contentWindow.document.documentElement);var y=p.contentWindow.document.documentElement?Us(d,getComputedStyle(p.contentWindow.document.documentElement).backgroundColor):si.TRANSPARENT,F=p.contentWindow.document.body?Us(d,getComputedStyle(p.contentWindow.document.body).backgroundColor):si.TRANSPARENT;B.backgroundColor=Wi(y)?Wi(F)?B.styles.backgroundColor:F:y}}catch{}return B}return u}(MA),xS=["OL","UL","MENU"],tc=function(f,u,d,p){for(var B=u.firstChild,y=void 0;B;B=y)if(y=B.nextSibling,xb(B)&&B.data.trim().length>0)d.textNodes.push(new mS(f,B,d.styles));else if(Za(B))if(Kb(B)&&B.assignedNodes)B.assignedNodes().forEach(function(T){return tc(f,T,d,p)});else{var F=vb(f,B);F.styles.isVisible()&&(QS(B,F,p)?F.flags|=4:FS(F.styles)&&(F.flags|=2),xS.indexOf(B.tagName)!==-1&&(F.flags|=8),d.elements.push(F),B.slot,B.shadowRoot?tc(f,B.shadowRoot,F,p):!rc(B)&&!Qb(B)&&!Ac(B)&&tc(f,B,F,p))}},vb=function(f,u){return nm(u)?new db(f,u):Fb(u)?new mb(f,u):Qb(u)?new gb(f,u):US(u)?new Bb(f,u):TS(u)?new em(f,u):ES(u)?new rm(f,u):Ac(u)?new bb(f,u):rc(u)?new wb(f,u):Tb(u)?new yb(f,u):new MA(f,u)},_b=function(f,u){var d=vb(f,u);return d.flags|=4,tc(f,u,d,d),d},QS=function(f,u,d){return u.styles.isPositionedWithZIndex()||u.styles.opacity<1||u.styles.isTransformed()||im(f)&&d.styles.isTransparent()},FS=function(f){return f.isPositioned()||f.isFloating()},xb=function(f){return f.nodeType===Node.TEXT_NODE},Za=function(f){return f.nodeType===Node.ELEMENT_NODE},Am=function(f){return Za(f)&&typeof f.style<"u"&&!ec(f)},ec=function(f){return typeof f.className=="object"},US=function(f){return f.tagName==="LI"},TS=function(f){return f.tagName==="OL"},ES=function(f){return f.tagName==="INPUT"},KS=function(f){return f.tagName==="HTML"},Qb=function(f){return f.tagName==="svg"},im=function(f){return f.tagName==="BODY"},Fb=function(f){return f.tagName==="CANVAS"},Ub=function(f){return f.tagName==="VIDEO"},nm=function(f){return f.tagName==="IMG"},Tb=function(f){return f.tagName==="IFRAME"},Eb=function(f){return f.tagName==="STYLE"},DS=function(f){return f.tagName==="SCRIPT"},rc=function(f){return f.tagName==="TEXTAREA"},Ac=function(f){return f.tagName==="SELECT"},Kb=function(f){return f.tagName==="SLOT"},Db=function(f){return f.tagName.indexOf("-")>0},IS=function(){function f(){this.counters={}}return f.prototype.getCounterValue=function(u){var d=this.counters[u];return d&&d.length?d[d.length-1]:1},f.prototype.getCounterValues=function(u){var d=this.counters[u];return d||[]},f.prototype.pop=function(u){var d=this;u.forEach(function(p){return d.counters[p].pop()})},f.prototype.parse=function(u){var d=this,p=u.counterIncrement,B=u.counterReset,y=!0;p!==null&&p.forEach(function(T){var U=d.counters[T.counter];U&&T.increment!==0&&(y=!1,U.length||U.push(1),U[Math.max(0,U.length-1)]+=T.increment)});var F=[];return y&&B.forEach(function(T){var U=d.counters[T.counter];F.push(T.counter),U||(U=d.counters[T.counter]=[]),U.push(T.reset)}),F},f}(),Ib={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Sb={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054F","\u054E","\u054D","\u054C","\u054B","\u054A","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053F","\u053E","\u053D","\u053C","\u053B","\u053A","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},SS={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05D9\u05F3","\u05D8\u05F3","\u05D7\u05F3","\u05D6\u05F3","\u05D5\u05F3","\u05D4\u05F3","\u05D3\u05F3","\u05D2\u05F3","\u05D1\u05F3","\u05D0\u05F3","\u05EA","\u05E9","\u05E8","\u05E7","\u05E6","\u05E4","\u05E2","\u05E1","\u05E0","\u05DE","\u05DC","\u05DB","\u05D9\u05D8","\u05D9\u05D7","\u05D9\u05D6","\u05D8\u05D6","\u05D8\u05D5","\u05D9","\u05D8","\u05D7","\u05D6","\u05D5","\u05D4","\u05D3","\u05D2","\u05D1","\u05D0"]},kS={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10F5","\u10F0","\u10EF","\u10F4","\u10EE","\u10ED","\u10EC","\u10EB","\u10EA","\u10E9","\u10E8","\u10E7","\u10E6","\u10E5","\u10E4","\u10F3","\u10E2","\u10E1","\u10E0","\u10DF","\u10DE","\u10DD","\u10F2","\u10DC","\u10DB","\u10DA","\u10D9","\u10D8","\u10D7","\u10F1","\u10D6","\u10D5","\u10D4","\u10D3","\u10D2","\u10D1","\u10D0"]},qa=function(f,u,d,p,B,y){return f<u||f>d?Is(f,B,y.length>0):p.integers.reduce(function(F,T,U){for(;f>=T;)f-=T,F+=p.values[U];return F},"")+y},kb=function(f,u,d,p){var B="";do d||f--,B=p(f)+B,f/=u;while(f*u>=u);return B},Ke=function(f,u,d,p,B){var y=d-u+1;return(f<0?"-":"")+(kb(Math.abs(f),y,p,function(F){return c(Math.floor(F%y)+u)})+B)},Hn=function(f,u,d){d===void 0&&(d=". ");var p=u.length;return kb(Math.abs(f),p,!1,function(B){return u[Math.floor(B%p)]})+d},to=1,zi=2,Xi=4,Ds=8,li=function(f,u,d,p,B,y){if(f<-9999||f>9999)return Is(f,4,B.length>0);var F=Math.abs(f),T=B;if(F===0)return u[0]+T;for(var U=0;F>0&&U<=4;U++){var S=F%10;S===0&&Ge(y,to)&&T!==""?T=u[S]+T:S>1||S===1&&U===0||S===1&&U===1&&Ge(y,zi)||S===1&&U===1&&Ge(y,Xi)&&f>100||S===1&&U>1&&Ge(y,Ds)?T=u[S]+(U>0?d[U-1]:"")+T:S===1&&U>0&&(T=d[U-1]+T),F=Math.floor(F/10)}return(f<0?p:"")+T},Lb="\u5341\u767E\u5343\u842C",Hb="\u62FE\u4F70\u4EDF\u842C",Mb="\u30DE\u30A4\u30CA\u30B9",am="\uB9C8\uC774\uB108\uC2A4",Is=function(f,u,d){var p=d?". ":"",B=d?"\u3001":"",y=d?", ":"",F=d?" ":"";switch(u){case 0:return"\u2022"+F;case 1:return"\u25E6"+F;case 2:return"\u25FE"+F;case 5:var T=Ke(f,48,57,!0,p);return T.length<4?"0"+T:T;case 4:return Hn(f,"\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",B);case 6:return qa(f,1,3999,Ib,3,p).toLowerCase();case 7:return qa(f,1,3999,Ib,3,p);case 8:return Ke(f,945,969,!1,p);case 9:return Ke(f,97,122,!1,p);case 10:return Ke(f,65,90,!1,p);case 11:return Ke(f,1632,1641,!0,p);case 12:case 49:return qa(f,1,9999,Sb,3,p);case 35:return qa(f,1,9999,Sb,3,p).toLowerCase();case 13:return Ke(f,2534,2543,!0,p);case 14:case 30:return Ke(f,6112,6121,!0,p);case 15:return Hn(f,"\u5B50\u4E11\u5BC5\u536F\u8FB0\u5DF3\u5348\u672A\u7533\u9149\u620C\u4EA5",B);case 16:return Hn(f,"\u7532\u4E59\u4E19\u4E01\u620A\u5DF1\u5E9A\u8F9B\u58EC\u7678",B);case 17:case 48:return li(f,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",Lb,"\u8CA0",B,zi|Xi|Ds);case 47:return li(f,"\u96F6\u58F9\u8CB3\u53C3\u8086\u4F0D\u9678\u67D2\u634C\u7396",Hb,"\u8CA0",B,to|zi|Xi|Ds);case 42:return li(f,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",Lb,"\u8D1F",B,zi|Xi|Ds);case 41:return li(f,"\u96F6\u58F9\u8D30\u53C1\u8086\u4F0D\u9646\u67D2\u634C\u7396",Hb,"\u8D1F",B,to|zi|Xi|Ds);case 26:return li(f,"\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u5341\u767E\u5343\u4E07",Mb,B,0);case 25:return li(f,"\u96F6\u58F1\u5F10\u53C2\u56DB\u4F0D\u516D\u4E03\u516B\u4E5D","\u62FE\u767E\u5343\u4E07",Mb,B,to|zi|Xi);case 31:return li(f,"\uC601\uC77C\uC774\uC0BC\uC0AC\uC624\uC721\uCE60\uD314\uAD6C","\uC2ED\uBC31\uCC9C\uB9CC",am,y,to|zi|Xi);case 33:return li(f,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u5341\u767E\u5343\u842C",am,y,0);case 32:return li(f,"\u96F6\u58F9\u8CB3\u53C3\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u62FE\u767E\u5343",am,y,to|zi|Xi);case 18:return Ke(f,2406,2415,!0,p);case 20:return qa(f,1,19999,kS,3,p);case 21:return Ke(f,2790,2799,!0,p);case 22:return Ke(f,2662,2671,!0,p);case 22:return qa(f,1,10999,SS,3,p);case 23:return Hn(f,"\u3042\u3044\u3046\u3048\u304A\u304B\u304D\u304F\u3051\u3053\u3055\u3057\u3059\u305B\u305D\u305F\u3061\u3064\u3066\u3068\u306A\u306B\u306C\u306D\u306E\u306F\u3072\u3075\u3078\u307B\u307E\u307F\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308A\u308B\u308C\u308D\u308F\u3090\u3091\u3092\u3093");case 24:return Hn(f,"\u3044\u308D\u306F\u306B\u307B\u3078\u3068\u3061\u308A\u306C\u308B\u3092\u308F\u304B\u3088\u305F\u308C\u305D\u3064\u306D\u306A\u3089\u3080\u3046\u3090\u306E\u304A\u304F\u3084\u307E\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304D\u3086\u3081\u307F\u3057\u3091\u3072\u3082\u305B\u3059");case 27:return Ke(f,3302,3311,!0,p);case 28:return Hn(f,"\u30A2\u30A4\u30A6\u30A8\u30AA\u30AB\u30AD\u30AF\u30B1\u30B3\u30B5\u30B7\u30B9\u30BB\u30BD\u30BF\u30C1\u30C4\u30C6\u30C8\u30CA\u30CB\u30CC\u30CD\u30CE\u30CF\u30D2\u30D5\u30D8\u30DB\u30DE\u30DF\u30E0\u30E1\u30E2\u30E4\u30E6\u30E8\u30E9\u30EA\u30EB\u30EC\u30ED\u30EF\u30F0\u30F1\u30F2\u30F3",B);case 29:return Hn(f,"\u30A4\u30ED\u30CF\u30CB\u30DB\u30D8\u30C8\u30C1\u30EA\u30CC\u30EB\u30F2\u30EF\u30AB\u30E8\u30BF\u30EC\u30BD\u30C4\u30CD\u30CA\u30E9\u30E0\u30A6\u30F0\u30CE\u30AA\u30AF\u30E4\u30DE\u30B1\u30D5\u30B3\u30A8\u30C6\u30A2\u30B5\u30AD\u30E6\u30E1\u30DF\u30B7\u30F1\u30D2\u30E2\u30BB\u30B9",B);case 34:return Ke(f,3792,3801,!0,p);case 37:return Ke(f,6160,6169,!0,p);case 38:return Ke(f,4160,4169,!0,p);case 39:return Ke(f,2918,2927,!0,p);case 40:return Ke(f,1776,1785,!0,p);case 43:return Ke(f,3046,3055,!0,p);case 44:return Ke(f,3174,3183,!0,p);case 45:return Ke(f,3664,3673,!0,p);case 46:return Ke(f,3872,3881,!0,p);case 3:default:return Ke(f,48,57,!0,p)}},Pb="data-html2canvas-ignore",Rb=function(){function f(u,d,p){if(this.context=u,this.options=p,this.scrolledElements=[],this.referenceElement=d,this.counters=new IS,this.quoteDepth=0,!d.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(d.ownerDocument.documentElement,!1)}return f.prototype.toIFrame=function(u,d){var p=this,B=LS(u,d);if(!B.contentWindow)return Promise.reject("Unable to find iframe window");var y=u.defaultView.pageXOffset,F=u.defaultView.pageYOffset,T=B.contentWindow,U=T.document,S=PS(B).then(function(){return A(p,void 0,void 0,function(){var H,N;return i(this,function(G){switch(G.label){case 0:return this.scrolledElements.forEach(VS),T&&(T.scrollTo(d.left,d.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(T.scrollY!==d.top||T.scrollX!==d.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(T.scrollX-d.left,T.scrollY-d.top,0,0))),H=this.options.onclone,N=this.clonedReferenceElement,typeof N>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:U.fonts&&U.fonts.ready?[4,U.fonts.ready]:[3,2];case 1:G.sent(),G.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,MS(U)]:[3,4];case 3:G.sent(),G.label=4;case 4:return typeof H=="function"?[2,Promise.resolve().then(function(){return H(U,N)}).then(function(){return B})]:[2,B]}})})});return U.open(),U.write(OS(document.doctype)+"<html></html>"),NS(this.referenceElement.ownerDocument,y,F),U.replaceChild(U.adoptNode(this.documentElement),U.documentElement),U.close(),S},f.prototype.createElementClone=function(u){if(Vd(u,2))debugger;if(Fb(u))return this.createCanvasClone(u);if(Ub(u))return this.createVideoClone(u);if(Eb(u))return this.createStyleClone(u);var d=u.cloneNode(!1);return nm(d)&&(nm(u)&&u.currentSrc&&u.currentSrc!==u.src&&(d.src=u.currentSrc,d.srcset=""),d.loading==="lazy"&&(d.loading="eager")),Db(d)?this.createCustomElementClone(d):d},f.prototype.createCustomElementClone=function(u){var d=document.createElement("html2canvascustomelement");return om(u.style,d),d},f.prototype.createStyleClone=function(u){try{var d=u.sheet;if(d&&d.cssRules){var p=[].slice.call(d.cssRules,0).reduce(function(y,F){return F&&typeof F.cssText=="string"?y+F.cssText:y},""),B=u.cloneNode(!1);return B.textContent=p,B}}catch(y){if(this.context.logger.error("Unable to access cssRules property",y),y.name!=="SecurityError")throw y}return u.cloneNode(!1)},f.prototype.createCanvasClone=function(u){var d;if(this.options.inlineImages&&u.ownerDocument){var p=u.ownerDocument.createElement("img");try{return p.src=u.toDataURL(),p}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",u)}}var B=u.cloneNode(!1);try{B.width=u.width,B.height=u.height;var y=u.getContext("2d"),F=B.getContext("2d");if(F)if(!this.options.allowTaint&&y)F.putImageData(y.getImageData(0,0,u.width,u.height),0,0);else{var T=(d=u.getContext("webgl2"))!==null&&d!==void 0?d:u.getContext("webgl");if(T){var U=T.getContextAttributes();U?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",u)}F.drawImage(u,0,0)}return B}catch{this.context.logger.info("Unable to clone canvas as it is tainted",u)}return B},f.prototype.createVideoClone=function(u){var d=u.ownerDocument.createElement("canvas");d.width=u.offsetWidth,d.height=u.offsetHeight;var p=d.getContext("2d");try{return p&&(p.drawImage(u,0,0,d.width,d.height),this.options.allowTaint||p.getImageData(0,0,d.width,d.height)),d}catch{this.context.logger.info("Unable to clone video as it is tainted",u)}var B=u.ownerDocument.createElement("canvas");return B.width=u.offsetWidth,B.height=u.offsetHeight,B},f.prototype.appendChildNode=function(u,d,p){(!Za(d)||!DS(d)&&!d.hasAttribute(Pb)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(d)))&&(!this.options.copyStyles||!Za(d)||!Eb(d))&&u.appendChild(this.cloneNode(d,p))},f.prototype.cloneChildNodes=function(u,d,p){for(var B=this,y=u.shadowRoot?u.shadowRoot.firstChild:u.firstChild;y;y=y.nextSibling)if(Za(y)&&Kb(y)&&typeof y.assignedNodes=="function"){var F=y.assignedNodes();F.length&&F.forEach(function(T){return B.appendChildNode(d,T,p)})}else this.appendChildNode(d,y,p)},f.prototype.cloneNode=function(u,d){if(xb(u))return document.createTextNode(u.data);if(!u.ownerDocument)return u.cloneNode(!1);var p=u.ownerDocument.defaultView;if(p&&Za(u)&&(Am(u)||ec(u))){var B=this.createElementClone(u);B.style.transitionProperty="none";var y=p.getComputedStyle(u),F=p.getComputedStyle(u,":before"),T=p.getComputedStyle(u,":after");this.referenceElement===u&&Am(B)&&(this.clonedReferenceElement=B),im(B)&&zS(B);var U=this.counters.parse(new tb(this.context,y)),S=this.resolvePseudoContent(u,B,F,ic.BEFORE);Db(u)&&(d=!0),Ub(u)||this.cloneChildNodes(u,B,d),S&&B.insertBefore(S,B.firstChild);var H=this.resolvePseudoContent(u,B,T,ic.AFTER);return H&&B.appendChild(H),this.counters.pop(U),(y&&(this.options.copyStyles||ec(u))&&!Tb(u)||d)&&om(y,B),(u.scrollTop!==0||u.scrollLeft!==0)&&this.scrolledElements.push([B,u.scrollLeft,u.scrollTop]),(rc(u)||Ac(u))&&(rc(B)||Ac(B))&&(B.value=u.value),B}return u.cloneNode(!1)},f.prototype.resolvePseudoContent=function(u,d,p,B){var y=this;if(p){var F=p.content,T=d.ownerDocument;if(!(!T||!F||F==="none"||F==="-moz-alt-content"||p.display==="none")){this.counters.parse(new tb(this.context,p));var U=new UI(this.context,p),S=T.createElement("html2canvaspseudoelement");om(p,S),U.content.forEach(function(N){if(N.type===0)S.appendChild(T.createTextNode(N.value));else if(N.type===22){var G=T.createElement("img");G.src=N.value,G.style.opacity="1",S.appendChild(G)}else if(N.type===18){if(N.name==="attr"){var ut=N.values.filter(re);ut.length&&S.appendChild(T.createTextNode(u.getAttribute(ut[0].value)||""))}else if(N.name==="counter"){var Z=N.values.filter(ja),nt=Z[0],Qt=Z[1];if(nt&&re(nt)){var dt=y.counters.getCounterValue(nt.value),pt=Qt&&re(Qt)?Nd.parse(y.context,Qt.value):3;S.appendChild(T.createTextNode(Is(dt,pt,!1)))}}else if(N.name==="counters"){var Xt=N.values.filter(ja),nt=Xt[0],Tt=Xt[1],Qt=Xt[2];if(nt&&re(nt)){var vt=y.counters.getCounterValues(nt.value),lt=Qt&&re(Qt)?Nd.parse(y.context,Qt.value):3,Pt=Tt&&Tt.type===0?Tt.value:"",Rt=vt.map(function(Kr){return Is(Kr,lt,!1)}).join(Pt);S.appendChild(T.createTextNode(Rt))}}}else if(N.type===20)switch(N.value){case"open-quote":S.appendChild(T.createTextNode(qC(U.quotes,y.quoteDepth++,!0)));break;case"close-quote":S.appendChild(T.createTextNode(qC(U.quotes,--y.quoteDepth,!1)));break;default:S.appendChild(T.createTextNode(N.value))}}),S.className=sm+" "+lm;var H=B===ic.BEFORE?" "+sm:" "+lm;return ec(d)?d.className.baseValue+=H:d.className+=H,S}}},f.destroy=function(u){return u.parentNode?(u.parentNode.removeChild(u),!0):!1},f}(),ic=function(f){return f[f.BEFORE=0]="BEFORE",f[f.AFTER=1]="AFTER",f}(ic||{}),LS=function(f,u){var d=f.createElement("iframe");return d.className="html2canvas-container",d.style.visibility="hidden",d.style.position="fixed",d.style.left="-10000px",d.style.top="0px",d.style.border="0",d.width=u.width.toString(),d.height=u.height.toString(),d.scrolling="no",d.setAttribute(Pb,"true"),f.body.appendChild(d),d},HS=function(f){return new Promise(function(u){if(f.complete){u();return}if(!f.src){u();return}f.onload=u,f.onerror=u})},MS=function(f){return Promise.all([].slice.call(f.images,0).map(HS))},PS=function(f){return new Promise(function(u,d){var p=f.contentWindow;if(!p)return d("No window assigned for iframe");var B=p.document;p.onload=f.onload=function(){p.onload=f.onload=null;var y=setInterval(function(){B.body.childNodes.length>0&&B.readyState==="complete"&&(clearInterval(y),u(f))},50)}})},RS=["all","d","content"],om=function(f,u){for(var d=f.length-1;d>=0;d--){var p=f.item(d);RS.indexOf(p)===-1&&u.style.setProperty(p,f.getPropertyValue(p))}return u},OS=function(f){var u="";return f&&(u+="<!DOCTYPE ",f.name&&(u+=f.name),f.internalSubset&&(u+=f.internalSubset),f.publicId&&(u+='"'+f.publicId+'"'),f.systemId&&(u+='"'+f.systemId+'"'),u+=">"),u},NS=function(f,u,d){f&&f.defaultView&&(u!==f.defaultView.pageXOffset||d!==f.defaultView.pageYOffset)&&f.defaultView.scrollTo(u,d)},VS=function(f){var u=f[0],d=f[1],p=f[2];u.scrollLeft=d,u.scrollTop=p},WS=":before",GS=":after",sm="___html2canvas___pseudoelement_before",lm="___html2canvas___pseudoelement_after",Ob=`{
    content: "" !important;
    display: none !important;
}`,zS=function(f){XS(f,"."+sm+WS+Ob+`
         .`+lm+GS+Ob)},XS=function(f,u){var d=f.ownerDocument;if(d){var p=d.createElement("style");p.textContent=u,f.appendChild(p)}},Nb=function(){function f(){}return f.getOrigin=function(u){var d=f._link;return d?(d.href=u,d.href=d.href,d.protocol+d.hostname+d.port):"about:blank"},f.isSameOrigin=function(u){return f.getOrigin(u)===f._origin},f.setContext=function(u){f._link=u.document.createElement("a"),f._origin=f.getOrigin(u.location.href)},f._origin="about:blank",f}(),YS=function(){function f(u,d){this.context=u,this._options=d,this._cache={}}return f.prototype.addImage=function(u){var d=Promise.resolve();return this.has(u)||(cm(u)||ZS(u))&&(this._cache[u]=this.loadImage(u)).catch(function(){}),d},f.prototype.match=function(u){return this._cache[u]},f.prototype.loadImage=function(u){return A(this,void 0,void 0,function(){var d,p,B,y,F=this;return i(this,function(T){switch(T.label){case 0:return d=Nb.isSameOrigin(u),p=!um(u)&&this._options.useCORS===!0&&ir.SUPPORT_CORS_IMAGES&&!d,B=!um(u)&&!d&&!cm(u)&&typeof this._options.proxy=="string"&&ir.SUPPORT_CORS_XHR&&!p,!d&&this._options.allowTaint===!1&&!um(u)&&!cm(u)&&!B&&!p?[2]:(y=u,B?[4,this.proxy(y)]:[3,2]);case 1:y=T.sent(),T.label=2;case 2:return this.context.logger.debug("Added image "+u.substring(0,256)),[4,new Promise(function(U,S){var H=new Image;H.onload=function(){return U(H)},H.onerror=S,(qS(y)||p)&&(H.crossOrigin="anonymous"),H.src=y,H.complete===!0&&setTimeout(function(){return U(H)},500),F._options.imageTimeout>0&&setTimeout(function(){return S("Timed out ("+F._options.imageTimeout+"ms) loading image")},F._options.imageTimeout)})];case 3:return[2,T.sent()]}})})},f.prototype.has=function(u){return typeof this._cache[u]<"u"},f.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},f.prototype.proxy=function(u){var d=this,p=this._options.proxy;if(!p)throw new Error("No proxy defined");var B=u.substring(0,256);return new Promise(function(y,F){var T=ir.SUPPORT_RESPONSE_TYPE?"blob":"text",U=new XMLHttpRequest;U.onload=function(){if(U.status===200)if(T==="text")y(U.response);else{var N=new FileReader;N.addEventListener("load",function(){return y(N.result)},!1),N.addEventListener("error",function(G){return F(G)},!1),N.readAsDataURL(U.response)}else F("Failed to proxy resource "+B+" with status code "+U.status)},U.onerror=F;var S=p.indexOf("?")>-1?"&":"?";if(U.open("GET",""+p+S+"url="+encodeURIComponent(u)+"&responseType="+T),T!=="text"&&U instanceof XMLHttpRequest&&(U.responseType=T),d._options.imageTimeout){var H=d._options.imageTimeout;U.timeout=H,U.ontimeout=function(){return F("Timed out ("+H+"ms) proxying "+B)}}U.send()})},f}(),$S=/^data:image\/svg\+xml/i,JS=/^data:image\/.*;base64,/i,jS=/^data:image\/.*/i,ZS=function(f){return ir.SUPPORT_SVG_DRAWING||!tk(f)},um=function(f){return jS.test(f)},qS=function(f){return JS.test(f)},cm=function(f){return f.substr(0,4)==="blob"},tk=function(f){return f.substr(-3).toLowerCase()==="svg"||$S.test(f)},ot=function(){function f(u,d){this.type=0,this.x=u,this.y=d}return f.prototype.add=function(u,d){return new f(this.x+u,this.y+d)},f}(),eo=function(f,u,d){return new ot(f.x+(u.x-f.x)*d,f.y+(u.y-f.y)*d)},nc=function(){function f(u,d,p,B){this.type=1,this.start=u,this.startControl=d,this.endControl=p,this.end=B}return f.prototype.subdivide=function(u,d){var p=eo(this.start,this.startControl,u),B=eo(this.startControl,this.endControl,u),y=eo(this.endControl,this.end,u),F=eo(p,B,u),T=eo(B,y,u),U=eo(F,T,u);return d?new f(this.start,p,F,U):new f(U,T,y,this.end)},f.prototype.add=function(u,d){return new f(this.start.add(u,d),this.startControl.add(u,d),this.endControl.add(u,d),this.end.add(u,d))},f.prototype.reverse=function(){return new f(this.end,this.endControl,this.startControl,this.start)},f}(),tA=function(f){return f.type===1},ek=function(){function f(u){var d=u.styles,p=u.bounds,B=Fs(d.borderTopLeftRadius,p.width,p.height),y=B[0],F=B[1],T=Fs(d.borderTopRightRadius,p.width,p.height),U=T[0],S=T[1],H=Fs(d.borderBottomRightRadius,p.width,p.height),N=H[0],G=H[1],ut=Fs(d.borderBottomLeftRadius,p.width,p.height),Z=ut[0],nt=ut[1],Qt=[];Qt.push((y+U)/p.width),Qt.push((Z+N)/p.width),Qt.push((F+nt)/p.height),Qt.push((S+G)/p.height);var dt=Math.max.apply(Math,Qt);dt>1&&(y/=dt,F/=dt,U/=dt,S/=dt,N/=dt,G/=dt,Z/=dt,nt/=dt);var pt=p.width-U,Xt=p.height-G,Tt=p.width-N,vt=p.height-nt,lt=d.borderTopWidth,Pt=d.borderRightWidth,Rt=d.borderBottomWidth,xt=d.borderLeftWidth,ke=ue(d.paddingTop,u.bounds.width),Kr=ue(d.paddingRight,u.bounds.width),zr=ue(d.paddingBottom,u.bounds.width),Ae=ue(d.paddingLeft,u.bounds.width);this.topLeftBorderDoubleOuterBox=y>0||F>0?Be(p.left+xt/3,p.top+lt/3,y-xt/3,F-lt/3,Zt.TOP_LEFT):new ot(p.left+xt/3,p.top+lt/3),this.topRightBorderDoubleOuterBox=y>0||F>0?Be(p.left+pt,p.top+lt/3,U-Pt/3,S-lt/3,Zt.TOP_RIGHT):new ot(p.left+p.width-Pt/3,p.top+lt/3),this.bottomRightBorderDoubleOuterBox=N>0||G>0?Be(p.left+Tt,p.top+Xt,N-Pt/3,G-Rt/3,Zt.BOTTOM_RIGHT):new ot(p.left+p.width-Pt/3,p.top+p.height-Rt/3),this.bottomLeftBorderDoubleOuterBox=Z>0||nt>0?Be(p.left+xt/3,p.top+vt,Z-xt/3,nt-Rt/3,Zt.BOTTOM_LEFT):new ot(p.left+xt/3,p.top+p.height-Rt/3),this.topLeftBorderDoubleInnerBox=y>0||F>0?Be(p.left+xt*2/3,p.top+lt*2/3,y-xt*2/3,F-lt*2/3,Zt.TOP_LEFT):new ot(p.left+xt*2/3,p.top+lt*2/3),this.topRightBorderDoubleInnerBox=y>0||F>0?Be(p.left+pt,p.top+lt*2/3,U-Pt*2/3,S-lt*2/3,Zt.TOP_RIGHT):new ot(p.left+p.width-Pt*2/3,p.top+lt*2/3),this.bottomRightBorderDoubleInnerBox=N>0||G>0?Be(p.left+Tt,p.top+Xt,N-Pt*2/3,G-Rt*2/3,Zt.BOTTOM_RIGHT):new ot(p.left+p.width-Pt*2/3,p.top+p.height-Rt*2/3),this.bottomLeftBorderDoubleInnerBox=Z>0||nt>0?Be(p.left+xt*2/3,p.top+vt,Z-xt*2/3,nt-Rt*2/3,Zt.BOTTOM_LEFT):new ot(p.left+xt*2/3,p.top+p.height-Rt*2/3),this.topLeftBorderStroke=y>0||F>0?Be(p.left+xt/2,p.top+lt/2,y-xt/2,F-lt/2,Zt.TOP_LEFT):new ot(p.left+xt/2,p.top+lt/2),this.topRightBorderStroke=y>0||F>0?Be(p.left+pt,p.top+lt/2,U-Pt/2,S-lt/2,Zt.TOP_RIGHT):new ot(p.left+p.width-Pt/2,p.top+lt/2),this.bottomRightBorderStroke=N>0||G>0?Be(p.left+Tt,p.top+Xt,N-Pt/2,G-Rt/2,Zt.BOTTOM_RIGHT):new ot(p.left+p.width-Pt/2,p.top+p.height-Rt/2),this.bottomLeftBorderStroke=Z>0||nt>0?Be(p.left+xt/2,p.top+vt,Z-xt/2,nt-Rt/2,Zt.BOTTOM_LEFT):new ot(p.left+xt/2,p.top+p.height-Rt/2),this.topLeftBorderBox=y>0||F>0?Be(p.left,p.top,y,F,Zt.TOP_LEFT):new ot(p.left,p.top),this.topRightBorderBox=U>0||S>0?Be(p.left+pt,p.top,U,S,Zt.TOP_RIGHT):new ot(p.left+p.width,p.top),this.bottomRightBorderBox=N>0||G>0?Be(p.left+Tt,p.top+Xt,N,G,Zt.BOTTOM_RIGHT):new ot(p.left+p.width,p.top+p.height),this.bottomLeftBorderBox=Z>0||nt>0?Be(p.left,p.top+vt,Z,nt,Zt.BOTTOM_LEFT):new ot(p.left,p.top+p.height),this.topLeftPaddingBox=y>0||F>0?Be(p.left+xt,p.top+lt,Math.max(0,y-xt),Math.max(0,F-lt),Zt.TOP_LEFT):new ot(p.left+xt,p.top+lt),this.topRightPaddingBox=U>0||S>0?Be(p.left+Math.min(pt,p.width-Pt),p.top+lt,pt>p.width+Pt?0:Math.max(0,U-Pt),Math.max(0,S-lt),Zt.TOP_RIGHT):new ot(p.left+p.width-Pt,p.top+lt),this.bottomRightPaddingBox=N>0||G>0?Be(p.left+Math.min(Tt,p.width-xt),p.top+Math.min(Xt,p.height-Rt),Math.max(0,N-Pt),Math.max(0,G-Rt),Zt.BOTTOM_RIGHT):new ot(p.left+p.width-Pt,p.top+p.height-Rt),this.bottomLeftPaddingBox=Z>0||nt>0?Be(p.left+xt,p.top+Math.min(vt,p.height-Rt),Math.max(0,Z-xt),Math.max(0,nt-Rt),Zt.BOTTOM_LEFT):new ot(p.left+xt,p.top+p.height-Rt),this.topLeftContentBox=y>0||F>0?Be(p.left+xt+Ae,p.top+lt+ke,Math.max(0,y-(xt+Ae)),Math.max(0,F-(lt+ke)),Zt.TOP_LEFT):new ot(p.left+xt+Ae,p.top+lt+ke),this.topRightContentBox=U>0||S>0?Be(p.left+Math.min(pt,p.width+xt+Ae),p.top+lt+ke,pt>p.width+xt+Ae?0:U-xt+Ae,S-(lt+ke),Zt.TOP_RIGHT):new ot(p.left+p.width-(Pt+Kr),p.top+lt+ke),this.bottomRightContentBox=N>0||G>0?Be(p.left+Math.min(Tt,p.width-(xt+Ae)),p.top+Math.min(Xt,p.height+lt+ke),Math.max(0,N-(Pt+Kr)),G-(Rt+zr),Zt.BOTTOM_RIGHT):new ot(p.left+p.width-(Pt+Kr),p.top+p.height-(Rt+zr)),this.bottomLeftContentBox=Z>0||nt>0?Be(p.left+xt+Ae,p.top+vt,Math.max(0,Z-(xt+Ae)),nt-(Rt+zr),Zt.BOTTOM_LEFT):new ot(p.left+xt+Ae,p.top+p.height-(Rt+zr))}return f}(),Zt=function(f){return f[f.TOP_LEFT=0]="TOP_LEFT",f[f.TOP_RIGHT=1]="TOP_RIGHT",f[f.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",f[f.BOTTOM_LEFT=3]="BOTTOM_LEFT",f}(Zt||{}),Be=function(f,u,d,p,B){var y=4*((Math.sqrt(2)-1)/3),F=d*y,T=p*y,U=f+d,S=u+p;switch(B){case Zt.TOP_LEFT:return new nc(new ot(f,S),new ot(f,S-T),new ot(U-F,u),new ot(U,u));case Zt.TOP_RIGHT:return new nc(new ot(f,u),new ot(f+F,u),new ot(U,S-T),new ot(U,S));case Zt.BOTTOM_RIGHT:return new nc(new ot(U,u),new ot(U,u+T),new ot(f+F,S),new ot(f,S));case Zt.BOTTOM_LEFT:default:return new nc(new ot(U,S),new ot(U-F,S),new ot(f,u+T),new ot(f,u))}},ac=function(f){return[f.topLeftBorderBox,f.topRightBorderBox,f.bottomRightBorderBox,f.bottomLeftBorderBox]},rk=function(f){return[f.topLeftContentBox,f.topRightContentBox,f.bottomRightContentBox,f.bottomLeftContentBox]},oc=function(f){return[f.topLeftPaddingBox,f.topRightPaddingBox,f.bottomRightPaddingBox,f.bottomLeftPaddingBox]},Ak=function(){function f(u,d,p){this.offsetX=u,this.offsetY=d,this.matrix=p,this.type=0,this.target=6}return f}(),sc=function(){function f(u,d){this.path=u,this.target=d,this.type=1}return f}(),ik=function(){function f(u){this.opacity=u,this.type=2,this.target=6}return f}(),nk=function(f){return f.type===0},Vb=function(f){return f.type===1},ak=function(f){return f.type===2},Wb=function(f,u){return f.length===u.length?f.some(function(d,p){return d===u[p]}):!1},ok=function(f,u,d,p,B){return f.map(function(y,F){switch(F){case 0:return y.add(u,d);case 1:return y.add(u+p,d);case 2:return y.add(u+p,d+B);case 3:return y.add(u,d+B)}return y})},Gb=function(){function f(u){this.element=u,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return f}(),zb=function(){function f(u,d){if(this.container=u,this.parent=d,this.effects=[],this.curves=new ek(this.container),this.container.styles.opacity<1&&this.effects.push(new ik(this.container.styles.opacity)),this.container.styles.transform!==null){var p=this.container.bounds.left+this.container.styles.transformOrigin[0].number,B=this.container.bounds.top+this.container.styles.transformOrigin[1].number,y=this.container.styles.transform;this.effects.push(new Ak(p,B,y))}if(this.container.styles.overflowX!==0){var F=ac(this.curves),T=oc(this.curves);Wb(F,T)?this.effects.push(new sc(F,6)):(this.effects.push(new sc(F,2)),this.effects.push(new sc(T,4)))}}return f.prototype.getEffects=function(u){for(var d=[2,3].indexOf(this.container.styles.position)===-1,p=this.parent,B=this.effects.slice(0);p;){var y=p.effects.filter(function(U){return!Vb(U)});if(d||p.container.styles.position!==0||!p.parent){if(B.unshift.apply(B,y),d=[2,3].indexOf(p.container.styles.position)===-1,p.container.styles.overflowX!==0){var F=ac(p.curves),T=oc(p.curves);Wb(F,T)||B.unshift(new sc(T,6))}}else B.unshift.apply(B,y);p=p.parent}return B.filter(function(U){return Ge(U.target,u)})},f}(),fm=function(f,u,d,p){f.container.elements.forEach(function(B){var y=Ge(B.flags,4),F=Ge(B.flags,2),T=new zb(B,f);Ge(B.styles.display,2048)&&p.push(T);var U=Ge(B.flags,8)?[]:p;if(y||F){var S=y||B.styles.isPositioned()?d:u,H=new Gb(T);if(B.styles.isPositioned()||B.styles.opacity<1||B.styles.isTransformed()){var N=B.styles.zIndex.order;if(N<0){var G=0;S.negativeZIndex.some(function(Z,nt){return N>Z.element.container.styles.zIndex.order?(G=nt,!1):G>0}),S.negativeZIndex.splice(G,0,H)}else if(N>0){var ut=0;S.positiveZIndex.some(function(Z,nt){return N>=Z.element.container.styles.zIndex.order?(ut=nt+1,!1):ut>0}),S.positiveZIndex.splice(ut,0,H)}else S.zeroOrAutoZIndexOrTransformedOrOpacity.push(H)}else B.styles.isFloating()?S.nonPositionedFloats.push(H):S.nonPositionedInlineLevel.push(H);fm(T,H,y?H:d,U)}else B.styles.isInlineLevel()?u.inlineLevel.push(T):u.nonInlineLevel.push(T),fm(T,u,d,U);Ge(B.flags,8)&&Xb(B,U)})},Xb=function(f,u){for(var d=f instanceof em?f.start:1,p=f instanceof em?f.reversed:!1,B=0;B<u.length;B++){var y=u[B];y.container instanceof Bb&&typeof y.container.value=="number"&&y.container.value!==0&&(d=y.container.value),y.listValue=Is(d,y.container.styles.listStyleType,!0),d+=p?-1:1}},sk=function(f){var u=new zb(f,null),d=new Gb(u),p=[];return fm(u,d,d,p),Xb(u.container,p),d},Yb=function(f,u){switch(u){case 0:return eA(f.topLeftBorderBox,f.topLeftPaddingBox,f.topRightBorderBox,f.topRightPaddingBox);case 1:return eA(f.topRightBorderBox,f.topRightPaddingBox,f.bottomRightBorderBox,f.bottomRightPaddingBox);case 2:return eA(f.bottomRightBorderBox,f.bottomRightPaddingBox,f.bottomLeftBorderBox,f.bottomLeftPaddingBox);case 3:default:return eA(f.bottomLeftBorderBox,f.bottomLeftPaddingBox,f.topLeftBorderBox,f.topLeftPaddingBox)}},lk=function(f,u){switch(u){case 0:return eA(f.topLeftBorderBox,f.topLeftBorderDoubleOuterBox,f.topRightBorderBox,f.topRightBorderDoubleOuterBox);case 1:return eA(f.topRightBorderBox,f.topRightBorderDoubleOuterBox,f.bottomRightBorderBox,f.bottomRightBorderDoubleOuterBox);case 2:return eA(f.bottomRightBorderBox,f.bottomRightBorderDoubleOuterBox,f.bottomLeftBorderBox,f.bottomLeftBorderDoubleOuterBox);case 3:default:return eA(f.bottomLeftBorderBox,f.bottomLeftBorderDoubleOuterBox,f.topLeftBorderBox,f.topLeftBorderDoubleOuterBox)}},uk=function(f,u){switch(u){case 0:return eA(f.topLeftBorderDoubleInnerBox,f.topLeftPaddingBox,f.topRightBorderDoubleInnerBox,f.topRightPaddingBox);case 1:return eA(f.topRightBorderDoubleInnerBox,f.topRightPaddingBox,f.bottomRightBorderDoubleInnerBox,f.bottomRightPaddingBox);case 2:return eA(f.bottomRightBorderDoubleInnerBox,f.bottomRightPaddingBox,f.bottomLeftBorderDoubleInnerBox,f.bottomLeftPaddingBox);case 3:default:return eA(f.bottomLeftBorderDoubleInnerBox,f.bottomLeftPaddingBox,f.topLeftBorderDoubleInnerBox,f.topLeftPaddingBox)}},ck=function(f,u){switch(u){case 0:return lc(f.topLeftBorderStroke,f.topRightBorderStroke);case 1:return lc(f.topRightBorderStroke,f.bottomRightBorderStroke);case 2:return lc(f.bottomRightBorderStroke,f.bottomLeftBorderStroke);case 3:default:return lc(f.bottomLeftBorderStroke,f.topLeftBorderStroke)}},lc=function(f,u){var d=[];return tA(f)?d.push(f.subdivide(.5,!1)):d.push(f),tA(u)?d.push(u.subdivide(.5,!0)):d.push(u),d},eA=function(f,u,d,p){var B=[];return tA(f)?B.push(f.subdivide(.5,!1)):B.push(f),tA(d)?B.push(d.subdivide(.5,!0)):B.push(d),tA(p)?B.push(p.subdivide(.5,!0).reverse()):B.push(p),tA(u)?B.push(u.subdivide(.5,!1).reverse()):B.push(u),B},$b=function(f){var u=f.bounds,d=f.styles;return u.add(d.borderLeftWidth,d.borderTopWidth,-(d.borderRightWidth+d.borderLeftWidth),-(d.borderTopWidth+d.borderBottomWidth))},uc=function(f){var u=f.styles,d=f.bounds,p=ue(u.paddingLeft,d.width),B=ue(u.paddingRight,d.width),y=ue(u.paddingTop,d.width),F=ue(u.paddingBottom,d.width);return d.add(p+u.borderLeftWidth,y+u.borderTopWidth,-(u.borderRightWidth+u.borderLeftWidth+p+B),-(u.borderTopWidth+u.borderBottomWidth+y+F))},fk=function(f,u){return f===0?u.bounds:f===2?uc(u):$b(u)},hk=function(f,u){return f===0?u.bounds:f===2?uc(u):$b(u)},hm=function(f,u,d){var p=fk(Ao(f.styles.backgroundOrigin,u),f),B=hk(Ao(f.styles.backgroundClip,u),f),y=pk(Ao(f.styles.backgroundSize,u),d,p),F=y[0],T=y[1],U=Fs(Ao(f.styles.backgroundPosition,u),p.width-F,p.height-T),S=dk(Ao(f.styles.backgroundRepeat,u),U,y,p,B),H=Math.round(p.left+U[0]),N=Math.round(p.top+U[1]);return[S,H,N,F,T]},ro=function(f){return re(f)&&f.value===Ts.AUTO},cc=function(f){return typeof f=="number"},pk=function(f,u,d){var p=u[0],B=u[1],y=u[2],F=f[0],T=f[1];if(!F)return[0,0];if(Se(F)&&T&&Se(T))return[ue(F,d.width),ue(T,d.height)];var U=cc(y);if(re(F)&&(F.value===Ts.CONTAIN||F.value===Ts.COVER)){if(cc(y)){var S=d.width/d.height;return S<y!=(F.value===Ts.COVER)?[d.width,d.width/y]:[d.height*y,d.height]}return[d.width,d.height]}var H=cc(p),N=cc(B),G=H||N;if(ro(F)&&(!T||ro(T))){if(H&&N)return[p,B];if(!U&&!G)return[d.width,d.height];if(G&&U){var ut=H?p:B*y,Z=N?B:p/y;return[ut,Z]}var nt=H?p:d.width,Qt=N?B:d.height;return[nt,Qt]}if(U){var dt=0,pt=0;return Se(F)?dt=ue(F,d.width):Se(T)&&(pt=ue(T,d.height)),ro(F)?dt=pt*y:(!T||ro(T))&&(pt=dt/y),[dt,pt]}var Xt=null,Tt=null;if(Se(F)?Xt=ue(F,d.width):T&&Se(T)&&(Tt=ue(T,d.height)),Xt!==null&&(!T||ro(T))&&(Tt=H&&N?Xt/p*B:d.height),Tt!==null&&ro(F)&&(Xt=H&&N?Tt/B*p:d.width),Xt!==null&&Tt!==null)return[Xt,Tt];throw new Error("Unable to calculate background-size for element")},Ao=function(f,u){var d=f[u];return typeof d>"u"?f[0]:d},dk=function(f,u,d,p,B){var y=u[0],F=u[1],T=d[0],U=d[1];switch(f){case 2:return[new ot(Math.round(p.left),Math.round(p.top+F)),new ot(Math.round(p.left+p.width),Math.round(p.top+F)),new ot(Math.round(p.left+p.width),Math.round(U+p.top+F)),new ot(Math.round(p.left),Math.round(U+p.top+F))];case 3:return[new ot(Math.round(p.left+y),Math.round(p.top)),new ot(Math.round(p.left+y+T),Math.round(p.top)),new ot(Math.round(p.left+y+T),Math.round(p.height+p.top)),new ot(Math.round(p.left+y),Math.round(p.height+p.top))];case 1:return[new ot(Math.round(p.left+y),Math.round(p.top+F)),new ot(Math.round(p.left+y+T),Math.round(p.top+F)),new ot(Math.round(p.left+y+T),Math.round(p.top+F+U)),new ot(Math.round(p.left+y),Math.round(p.top+F+U))];default:return[new ot(Math.round(B.left),Math.round(B.top)),new ot(Math.round(B.left+B.width),Math.round(B.top)),new ot(Math.round(B.left+B.width),Math.round(B.height+B.top)),new ot(Math.round(B.left),Math.round(B.height+B.top))]}},mk="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Jb="Hidden Text",gk=function(){function f(u){this._data={},this._document=u}return f.prototype.parseMetrics=function(u,d){var p=this._document.createElement("div"),B=this._document.createElement("img"),y=this._document.createElement("span"),F=this._document.body;p.style.visibility="hidden",p.style.fontFamily=u,p.style.fontSize=d,p.style.margin="0",p.style.padding="0",p.style.whiteSpace="nowrap",F.appendChild(p),B.src=mk,B.width=1,B.height=1,B.style.margin="0",B.style.padding="0",B.style.verticalAlign="baseline",y.style.fontFamily=u,y.style.fontSize=d,y.style.margin="0",y.style.padding="0",y.appendChild(this._document.createTextNode(Jb)),p.appendChild(y),p.appendChild(B);var T=B.offsetTop-y.offsetTop+2;p.removeChild(y),p.appendChild(this._document.createTextNode(Jb)),p.style.lineHeight="normal",B.style.verticalAlign="super";var U=B.offsetTop-p.offsetTop+2;return F.removeChild(p),{baseline:T,middle:U}},f.prototype.getMetrics=function(u,d){var p=u+" "+d;return typeof this._data[p]>"u"&&(this._data[p]=this.parseMetrics(u,d)),this._data[p]},f}(),jb=function(){function f(u,d){this.context=u,this.options=d}return f}(),Bk=1e4,Ck=function(f){t(u,f);function u(d,p){var B=f.call(this,d,p)||this;return B._activeEffects=[],B.canvas=p.canvas?p.canvas:document.createElement("canvas"),B.ctx=B.canvas.getContext("2d"),p.canvas||(B.canvas.width=Math.floor(p.width*p.scale),B.canvas.height=Math.floor(p.height*p.scale),B.canvas.style.width=p.width+"px",B.canvas.style.height=p.height+"px"),B.fontMetrics=new gk(document),B.ctx.scale(B.options.scale,B.options.scale),B.ctx.translate(-p.x,-p.y),B.ctx.textBaseline="bottom",B._activeEffects=[],B.context.logger.debug("Canvas renderer initialized ("+p.width+"x"+p.height+") with scale "+p.scale),B}return u.prototype.applyEffects=function(d){for(var p=this;this._activeEffects.length;)this.popEffect();d.forEach(function(B){return p.applyEffect(B)})},u.prototype.applyEffect=function(d){this.ctx.save(),ak(d)&&(this.ctx.globalAlpha=d.opacity),nk(d)&&(this.ctx.translate(d.offsetX,d.offsetY),this.ctx.transform(d.matrix[0],d.matrix[1],d.matrix[2],d.matrix[3],d.matrix[4],d.matrix[5]),this.ctx.translate(-d.offsetX,-d.offsetY)),Vb(d)&&(this.path(d.path),this.ctx.clip()),this._activeEffects.push(d)},u.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},u.prototype.renderStack=function(d){return A(this,void 0,void 0,function(){var p;return i(this,function(B){switch(B.label){case 0:return p=d.element.container.styles,p.isVisible()?[4,this.renderStackContent(d)]:[3,2];case 1:B.sent(),B.label=2;case 2:return[2]}})})},u.prototype.renderNode=function(d){return A(this,void 0,void 0,function(){return i(this,function(p){switch(p.label){case 0:if(Ge(d.container.flags,16))debugger;return d.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(d)]:[3,3];case 1:return p.sent(),[4,this.renderNodeContent(d)];case 2:p.sent(),p.label=3;case 3:return[2]}})})},u.prototype.renderTextWithLetterSpacing=function(d,p,B){var y=this;if(p===0)this.ctx.fillText(d.text,d.bounds.left,d.bounds.top+B);else{var F=tm(d.text);F.reduce(function(T,U){return y.ctx.fillText(U,T,d.bounds.top+B),T+y.ctx.measureText(U).width},d.bounds.left)}},u.prototype.createFontStyle=function(d){var p=d.fontVariant.filter(function(F){return F==="normal"||F==="small-caps"}).join(""),B=_k(d.fontFamily).join(", "),y=Qs(d.fontSize)?""+d.fontSize.number+d.fontSize.unit:d.fontSize.number+"px";return[[d.fontStyle,p,d.fontWeight,y,B].join(" "),B,y]},u.prototype.renderTextNode=function(d,p){return A(this,void 0,void 0,function(){var B,y,F,T,U,S,H,N,G=this;return i(this,function(ut){return B=this.createFontStyle(p),y=B[0],F=B[1],T=B[2],this.ctx.font=y,this.ctx.direction=p.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",U=this.fontMetrics.getMetrics(F,T),S=U.baseline,H=U.middle,N=p.paintOrder,d.textBounds.forEach(function(Z){N.forEach(function(nt){switch(nt){case 0:G.ctx.fillStyle=$e(p.color),G.renderTextWithLetterSpacing(Z,p.letterSpacing,S);var Qt=p.textShadow;Qt.length&&Z.text.trim().length&&(Qt.slice(0).reverse().forEach(function(dt){G.ctx.shadowColor=$e(dt.color),G.ctx.shadowOffsetX=dt.offsetX.number*G.options.scale,G.ctx.shadowOffsetY=dt.offsetY.number*G.options.scale,G.ctx.shadowBlur=dt.blur.number,G.renderTextWithLetterSpacing(Z,p.letterSpacing,S)}),G.ctx.shadowColor="",G.ctx.shadowOffsetX=0,G.ctx.shadowOffsetY=0,G.ctx.shadowBlur=0),p.textDecorationLine.length&&(G.ctx.fillStyle=$e(p.textDecorationColor||p.color),p.textDecorationLine.forEach(function(dt){switch(dt){case 1:G.ctx.fillRect(Z.bounds.left,Math.round(Z.bounds.top+S),Z.bounds.width,1);break;case 2:G.ctx.fillRect(Z.bounds.left,Math.round(Z.bounds.top),Z.bounds.width,1);break;case 3:G.ctx.fillRect(Z.bounds.left,Math.ceil(Z.bounds.top+H),Z.bounds.width,1);break}}));break;case 1:p.webkitTextStrokeWidth&&Z.text.trim().length&&(G.ctx.strokeStyle=$e(p.webkitTextStrokeColor),G.ctx.lineWidth=p.webkitTextStrokeWidth,G.ctx.lineJoin=window.chrome?"miter":"round",G.ctx.strokeText(Z.text,Z.bounds.left,Z.bounds.top+S)),G.ctx.strokeStyle="",G.ctx.lineWidth=0,G.ctx.lineJoin="miter";break}})}),[2]})})},u.prototype.renderReplacedElement=function(d,p,B){if(B&&d.intrinsicWidth>0&&d.intrinsicHeight>0){var y=uc(d),F=oc(p);this.path(F),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(B,0,0,d.intrinsicWidth,d.intrinsicHeight,y.left,y.top,y.width,y.height),this.ctx.restore()}},u.prototype.renderNodeContent=function(d){return A(this,void 0,void 0,function(){var p,B,y,F,T,U,pt,pt,S,H,N,G,Tt,ut,Z,vt,nt,Qt,dt,pt,Xt,Tt,vt;return i(this,function(lt){switch(lt.label){case 0:this.applyEffects(d.getEffects(4)),p=d.container,B=d.curves,y=p.styles,F=0,T=p.textNodes,lt.label=1;case 1:return F<T.length?(U=T[F],[4,this.renderTextNode(U,y)]):[3,4];case 2:lt.sent(),lt.label=3;case 3:return F++,[3,1];case 4:if(!(p instanceof db))return[3,8];lt.label=5;case 5:return lt.trys.push([5,7,,8]),[4,this.context.cache.match(p.src)];case 6:return pt=lt.sent(),this.renderReplacedElement(p,B,pt),[3,8];case 7:return lt.sent(),this.context.logger.error("Error loading image "+p.src),[3,8];case 8:if(p instanceof mb&&this.renderReplacedElement(p,B,p.canvas),!(p instanceof gb))return[3,12];lt.label=9;case 9:return lt.trys.push([9,11,,12]),[4,this.context.cache.match(p.svg)];case 10:return pt=lt.sent(),this.renderReplacedElement(p,B,pt),[3,12];case 11:return lt.sent(),this.context.logger.error("Error loading svg "+p.svg.substring(0,255)),[3,12];case 12:return p instanceof yb&&p.tree?(S=new u(this.context,{scale:this.options.scale,backgroundColor:p.backgroundColor,x:0,y:0,width:p.width,height:p.height}),[4,S.render(p.tree)]):[3,14];case 13:H=lt.sent(),p.width&&p.height&&this.ctx.drawImage(H,0,0,p.width,p.height,p.bounds.left,p.bounds.top,p.bounds.width,p.bounds.height),lt.label=14;case 14:if(p instanceof rm&&(N=Math.min(p.bounds.width,p.bounds.height),p.type===Zu?p.checked&&(this.ctx.save(),this.path([new ot(p.bounds.left+N*.39363,p.bounds.top+N*.79),new ot(p.bounds.left+N*.16,p.bounds.top+N*.5549),new ot(p.bounds.left+N*.27347,p.bounds.top+N*.44071),new ot(p.bounds.left+N*.39694,p.bounds.top+N*.5649),new ot(p.bounds.left+N*.72983,p.bounds.top+N*.23),new ot(p.bounds.left+N*.84,p.bounds.top+N*.34085),new ot(p.bounds.left+N*.39363,p.bounds.top+N*.79)]),this.ctx.fillStyle=$e(Cb),this.ctx.fill(),this.ctx.restore()):p.type===qu&&p.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(p.bounds.left+N/2,p.bounds.top+N/2,N/4,0,Math.PI*2,!0),this.ctx.fillStyle=$e(Cb),this.ctx.fill(),this.ctx.restore())),bk(p)&&p.value.length){switch(G=this.createFontStyle(y),Tt=G[0],ut=G[1],Z=this.fontMetrics.getMetrics(Tt,ut).baseline,this.ctx.font=Tt,this.ctx.fillStyle=$e(y.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=yk(p.styles.textAlign),vt=uc(p),nt=0,p.styles.textAlign){case 1:nt+=vt.width/2;break;case 2:nt+=vt.width;break}Qt=vt.add(nt,0,0,-vt.height/2+1),this.ctx.save(),this.path([new ot(vt.left,vt.top),new ot(vt.left+vt.width,vt.top),new ot(vt.left+vt.width,vt.top+vt.height),new ot(vt.left,vt.top+vt.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Ks(p.value,Qt),y.letterSpacing,Z),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Ge(p.styles.display,2048))return[3,20];if(p.styles.listStyleImage===null)return[3,19];if(dt=p.styles.listStyleImage,dt.type!==0)return[3,18];pt=void 0,Xt=dt.url,lt.label=15;case 15:return lt.trys.push([15,17,,18]),[4,this.context.cache.match(Xt)];case 16:return pt=lt.sent(),this.ctx.drawImage(pt,p.bounds.left-(pt.width+10),p.bounds.top),[3,18];case 17:return lt.sent(),this.context.logger.error("Error loading list-style-image "+Xt),[3,18];case 18:return[3,20];case 19:d.listValue&&p.styles.listStyleType!==-1&&(Tt=this.createFontStyle(y)[0],this.ctx.font=Tt,this.ctx.fillStyle=$e(y.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",vt=new a(p.bounds.left,p.bounds.top+ue(p.styles.paddingTop,p.bounds.width),p.bounds.width,JC(y.lineHeight,y.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Ks(d.listValue,vt),y.letterSpacing,JC(y.lineHeight,y.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),lt.label=20;case 20:return[2]}})})},u.prototype.renderStackContent=function(d){return A(this,void 0,void 0,function(){var p,B,dt,y,F,dt,T,U,dt,S,H,dt,N,G,dt,ut,Z,dt,nt,Qt,dt;return i(this,function(pt){switch(pt.label){case 0:if(Ge(d.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(d.element)];case 1:pt.sent(),p=0,B=d.negativeZIndex,pt.label=2;case 2:return p<B.length?(dt=B[p],[4,this.renderStack(dt)]):[3,5];case 3:pt.sent(),pt.label=4;case 4:return p++,[3,2];case 5:return[4,this.renderNodeContent(d.element)];case 6:pt.sent(),y=0,F=d.nonInlineLevel,pt.label=7;case 7:return y<F.length?(dt=F[y],[4,this.renderNode(dt)]):[3,10];case 8:pt.sent(),pt.label=9;case 9:return y++,[3,7];case 10:T=0,U=d.nonPositionedFloats,pt.label=11;case 11:return T<U.length?(dt=U[T],[4,this.renderStack(dt)]):[3,14];case 12:pt.sent(),pt.label=13;case 13:return T++,[3,11];case 14:S=0,H=d.nonPositionedInlineLevel,pt.label=15;case 15:return S<H.length?(dt=H[S],[4,this.renderStack(dt)]):[3,18];case 16:pt.sent(),pt.label=17;case 17:return S++,[3,15];case 18:N=0,G=d.inlineLevel,pt.label=19;case 19:return N<G.length?(dt=G[N],[4,this.renderNode(dt)]):[3,22];case 20:pt.sent(),pt.label=21;case 21:return N++,[3,19];case 22:ut=0,Z=d.zeroOrAutoZIndexOrTransformedOrOpacity,pt.label=23;case 23:return ut<Z.length?(dt=Z[ut],[4,this.renderStack(dt)]):[3,26];case 24:pt.sent(),pt.label=25;case 25:return ut++,[3,23];case 26:nt=0,Qt=d.positiveZIndex,pt.label=27;case 27:return nt<Qt.length?(dt=Qt[nt],[4,this.renderStack(dt)]):[3,30];case 28:pt.sent(),pt.label=29;case 29:return nt++,[3,27];case 30:return[2]}})})},u.prototype.mask=function(d){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(d.slice(0).reverse()),this.ctx.closePath()},u.prototype.path=function(d){this.ctx.beginPath(),this.formatPath(d),this.ctx.closePath()},u.prototype.formatPath=function(d){var p=this;d.forEach(function(B,y){var F=tA(B)?B.start:B;y===0?p.ctx.moveTo(F.x,F.y):p.ctx.lineTo(F.x,F.y),tA(B)&&p.ctx.bezierCurveTo(B.startControl.x,B.startControl.y,B.endControl.x,B.endControl.y,B.end.x,B.end.y)})},u.prototype.renderRepeat=function(d,p,B,y){this.path(d),this.ctx.fillStyle=p,this.ctx.translate(B,y),this.ctx.fill(),this.ctx.translate(-B,-y)},u.prototype.resizeImage=function(d,p,B){var y;if(d.width===p&&d.height===B)return d;var F=(y=this.canvas.ownerDocument)!==null&&y!==void 0?y:document,T=F.createElement("canvas");T.width=Math.max(1,p),T.height=Math.max(1,B);var U=T.getContext("2d");return U.drawImage(d,0,0,d.width,d.height,0,0,p,B),T},u.prototype.renderBackgroundImage=function(d){return A(this,void 0,void 0,function(){var p,B,y,F,T,U;return i(this,function(S){switch(S.label){case 0:p=d.styles.backgroundImage.length-1,B=function(H){var N,G,ut,ke,Dr,Ir,Ae,nr,Rt,Z,ke,Dr,Ir,Ae,nr,nt,Qt,dt,pt,Xt,Tt,vt,lt,Pt,Rt,xt,ke,Kr,zr,Ae,nr,Yi,Dr,Ir,Mn,PA,$i,Pn,Rn,ui,On,ci;return i(this,function(io){switch(io.label){case 0:if(H.type!==0)return[3,5];N=void 0,G=H.url,io.label=1;case 1:return io.trys.push([1,3,,4]),[4,y.context.cache.match(G)];case 2:return N=io.sent(),[3,4];case 3:return io.sent(),y.context.logger.error("Error loading background-image "+G),[3,4];case 4:return N&&(ut=hm(d,p,[N.width,N.height,N.width/N.height]),ke=ut[0],Dr=ut[1],Ir=ut[2],Ae=ut[3],nr=ut[4],Rt=y.ctx.createPattern(y.resizeImage(N,Ae,nr),"repeat"),y.renderRepeat(ke,Rt,Dr,Ir)),[3,6];case 5:nD(H)?(Z=hm(d,p,[null,null,null]),ke=Z[0],Dr=Z[1],Ir=Z[2],Ae=Z[3],nr=Z[4],nt=tD(H.angle,Ae,nr),Qt=nt[0],dt=nt[1],pt=nt[2],Xt=nt[3],Tt=nt[4],vt=document.createElement("canvas"),vt.width=Ae,vt.height=nr,lt=vt.getContext("2d"),Pt=lt.createLinearGradient(dt,Xt,pt,Tt),PC(H.stops,Qt).forEach(function(Ss){return Pt.addColorStop(Ss.stop,$e(Ss.color))}),lt.fillStyle=Pt,lt.fillRect(0,0,Ae,nr),Ae>0&&nr>0&&(Rt=y.ctx.createPattern(vt,"repeat"),y.renderRepeat(ke,Rt,Dr,Ir))):aD(H)&&(xt=hm(d,p,[null,null,null]),ke=xt[0],Kr=xt[1],zr=xt[2],Ae=xt[3],nr=xt[4],Yi=H.position.length===0?[Md]:H.position,Dr=ue(Yi[0],Ae),Ir=ue(Yi[Yi.length-1],nr),Mn=eD(H,Dr,Ir,Ae,nr),PA=Mn[0],$i=Mn[1],PA>0&&$i>0&&(Pn=y.ctx.createRadialGradient(Kr+Dr,zr+Ir,0,Kr+Dr,zr+Ir,PA),PC(H.stops,PA*2).forEach(function(Ss){return Pn.addColorStop(Ss.stop,$e(Ss.color))}),y.path(ke),y.ctx.fillStyle=Pn,PA!==$i?(Rn=d.bounds.left+.5*d.bounds.width,ui=d.bounds.top+.5*d.bounds.height,On=$i/PA,ci=1/On,y.ctx.save(),y.ctx.translate(Rn,ui),y.ctx.transform(1,0,0,On,0,0),y.ctx.translate(-Rn,-ui),y.ctx.fillRect(Kr,ci*(zr-ui)+ui,Ae,nr*ci),y.ctx.restore()):y.ctx.fill())),io.label=6;case 6:return p--,[2]}})},y=this,F=0,T=d.styles.backgroundImage.slice(0).reverse(),S.label=1;case 1:return F<T.length?(U=T[F],[5,B(U)]):[3,4];case 2:S.sent(),S.label=3;case 3:return F++,[3,1];case 4:return[2]}})})},u.prototype.renderSolidBorder=function(d,p,B){return A(this,void 0,void 0,function(){return i(this,function(y){return this.path(Yb(B,p)),this.ctx.fillStyle=$e(d),this.ctx.fill(),[2]})})},u.prototype.renderDoubleBorder=function(d,p,B,y){return A(this,void 0,void 0,function(){var F,T;return i(this,function(U){switch(U.label){case 0:return p<3?[4,this.renderSolidBorder(d,B,y)]:[3,2];case 1:return U.sent(),[2];case 2:return F=lk(y,B),this.path(F),this.ctx.fillStyle=$e(d),this.ctx.fill(),T=uk(y,B),this.path(T),this.ctx.fill(),[2]}})})},u.prototype.renderNodeBackgroundAndBorders=function(d){return A(this,void 0,void 0,function(){var p,B,y,F,T,U,S,H,N=this;return i(this,function(G){switch(G.label){case 0:return this.applyEffects(d.getEffects(2)),p=d.container.styles,B=!Wi(p.backgroundColor)||p.backgroundImage.length,y=[{style:p.borderTopStyle,color:p.borderTopColor,width:p.borderTopWidth},{style:p.borderRightStyle,color:p.borderRightColor,width:p.borderRightWidth},{style:p.borderBottomStyle,color:p.borderBottomColor,width:p.borderBottomWidth},{style:p.borderLeftStyle,color:p.borderLeftColor,width:p.borderLeftWidth}],F=wk(Ao(p.backgroundClip,0),d.curves),B||p.boxShadow.length?(this.ctx.save(),this.path(F),this.ctx.clip(),Wi(p.backgroundColor)||(this.ctx.fillStyle=$e(p.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(d.container)]):[3,2];case 1:G.sent(),this.ctx.restore(),p.boxShadow.slice(0).reverse().forEach(function(ut){N.ctx.save();var Z=ac(d.curves),nt=ut.inset?0:Bk,Qt=ok(Z,-nt+(ut.inset?1:-1)*ut.spread.number,(ut.inset?1:-1)*ut.spread.number,ut.spread.number*(ut.inset?-2:2),ut.spread.number*(ut.inset?-2:2));ut.inset?(N.path(Z),N.ctx.clip(),N.mask(Qt)):(N.mask(Z),N.ctx.clip(),N.path(Qt)),N.ctx.shadowOffsetX=ut.offsetX.number+nt,N.ctx.shadowOffsetY=ut.offsetY.number,N.ctx.shadowColor=$e(ut.color),N.ctx.shadowBlur=ut.blur.number,N.ctx.fillStyle=ut.inset?$e(ut.color):"rgba(0,0,0,1)",N.ctx.fill(),N.ctx.restore()}),G.label=2;case 2:T=0,U=0,S=y,G.label=3;case 3:return U<S.length?(H=S[U],H.style!==0&&!Wi(H.color)&&H.width>0?H.style!==2?[3,5]:[4,this.renderDashedDottedBorder(H.color,H.width,T,d.curves,2)]:[3,11]):[3,13];case 4:return G.sent(),[3,11];case 5:return H.style!==3?[3,7]:[4,this.renderDashedDottedBorder(H.color,H.width,T,d.curves,3)];case 6:return G.sent(),[3,11];case 7:return H.style!==4?[3,9]:[4,this.renderDoubleBorder(H.color,H.width,T,d.curves)];case 8:return G.sent(),[3,11];case 9:return[4,this.renderSolidBorder(H.color,T,d.curves)];case 10:G.sent(),G.label=11;case 11:T++,G.label=12;case 12:return U++,[3,3];case 13:return[2]}})})},u.prototype.renderDashedDottedBorder=function(d,p,B,y,F){return A(this,void 0,void 0,function(){var T,U,S,H,N,G,ut,Z,nt,Qt,dt,pt,Xt,Tt,vt,lt,vt,lt;return i(this,function(Pt){return this.ctx.save(),T=ck(y,B),U=Yb(y,B),F===2&&(this.path(U),this.ctx.clip()),tA(U[0])?(S=U[0].start.x,H=U[0].start.y):(S=U[0].x,H=U[0].y),tA(U[1])?(N=U[1].end.x,G=U[1].end.y):(N=U[1].x,G=U[1].y),B===0||B===2?ut=Math.abs(S-N):ut=Math.abs(H-G),this.ctx.beginPath(),F===3?this.formatPath(T):this.formatPath(U.slice(0,2)),Z=p<3?p*3:p*2,nt=p<3?p*2:p,F===3&&(Z=p,nt=p),Qt=!0,ut<=Z*2?Qt=!1:ut<=Z*2+nt?(dt=ut/(2*Z+nt),Z*=dt,nt*=dt):(pt=Math.floor((ut+nt)/(Z+nt)),Xt=(ut-pt*Z)/(pt-1),Tt=(ut-(pt+1)*Z)/pt,nt=Tt<=0||Math.abs(nt-Xt)<Math.abs(nt-Tt)?Xt:Tt),Qt&&(F===3?this.ctx.setLineDash([0,Z+nt]):this.ctx.setLineDash([Z,nt])),F===3?(this.ctx.lineCap="round",this.ctx.lineWidth=p):this.ctx.lineWidth=p*2+1.1,this.ctx.strokeStyle=$e(d),this.ctx.stroke(),this.ctx.setLineDash([]),F===2&&(tA(U[0])&&(vt=U[3],lt=U[0],this.ctx.beginPath(),this.formatPath([new ot(vt.end.x,vt.end.y),new ot(lt.start.x,lt.start.y)]),this.ctx.stroke()),tA(U[1])&&(vt=U[1],lt=U[2],this.ctx.beginPath(),this.formatPath([new ot(vt.end.x,vt.end.y),new ot(lt.start.x,lt.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},u.prototype.render=function(d){return A(this,void 0,void 0,function(){var p;return i(this,function(B){switch(B.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=$e(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),p=sk(d),[4,this.renderStack(p)];case 1:return B.sent(),this.applyEffects([]),[2,this.canvas]}})})},u}(jb),bk=function(f){return f instanceof wb||f instanceof bb?!0:f instanceof rm&&f.type!==qu&&f.type!==Zu},wk=function(f,u){switch(f){case 0:return ac(u);case 2:return rk(u);case 1:default:return oc(u)}},yk=function(f){switch(f){case 1:return"center";case 2:return"right";case 0:default:return"left"}},vk=["-apple-system","system-ui"],_k=function(f){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?f.filter(function(u){return vk.indexOf(u)===-1}):f},xk=function(f){t(u,f);function u(d,p){var B=f.call(this,d,p)||this;return B.canvas=p.canvas?p.canvas:document.createElement("canvas"),B.ctx=B.canvas.getContext("2d"),B.options=p,B.canvas.width=Math.floor(p.width*p.scale),B.canvas.height=Math.floor(p.height*p.scale),B.canvas.style.width=p.width+"px",B.canvas.style.height=p.height+"px",B.ctx.scale(B.options.scale,B.options.scale),B.ctx.translate(-p.x,-p.y),B.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+p.width+"x"+p.height+" at "+p.x+","+p.y+") with scale "+p.scale),B}return u.prototype.render=function(d){return A(this,void 0,void 0,function(){var p,B;return i(this,function(y){switch(y.label){case 0:return p=qd(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,d),[4,Qk(p)];case 1:return B=y.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=$e(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(B,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},u}(jb),Qk=function(f){return new Promise(function(u,d){var p=new Image;p.onload=function(){u(p)},p.onerror=d,p.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(f))})},Fk=function(){function f(u){var d=u.id,p=u.enabled;this.id=d,this.enabled=p,this.start=Date.now()}return f.prototype.debug=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,n([this.id,this.getTime()+"ms"],u)):this.info.apply(this,u))},f.prototype.getTime=function(){return Date.now()-this.start},f.prototype.info=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,n([this.id,this.getTime()+"ms"],u))},f.prototype.warn=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,n([this.id,this.getTime()+"ms"],u)):this.info.apply(this,u))},f.prototype.error=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,n([this.id,this.getTime()+"ms"],u)):this.info.apply(this,u))},f.instances={},f}(),Uk=function(){function f(u,d){var p;this.windowBounds=d,this.instanceName="#"+f.instanceCount++,this.logger=new Fk({id:this.instanceName,enabled:u.logging}),this.cache=(p=u.cache)!==null&&p!==void 0?p:new YS(this,u)}return f.instanceCount=1,f}(),Tk=function(f,u){return u===void 0&&(u={}),Ek(f,u)};typeof window<"u"&&Nb.setContext(window);var Ek=function(f,u){return A(void 0,void 0,void 0,function(){var d,p,B,y,F,T,U,S,H,N,G,ut,Z,nt,Qt,dt,pt,Xt,Tt,vt,Pt,lt,Pt,Rt,xt,ke,Kr,zr,Ae,nr,Yi,Dr,Ir,Mn,PA,$i,Pn,Rn,ui,On;return i(this,function(ci){switch(ci.label){case 0:if(!f||typeof f!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(d=f.ownerDocument,!d)throw new Error("Element is not attached to a Document");if(p=d.defaultView,!p)throw new Error("Document is not attached to a Window");return B={allowTaint:(Rt=u.allowTaint)!==null&&Rt!==void 0?Rt:!1,imageTimeout:(xt=u.imageTimeout)!==null&&xt!==void 0?xt:15e3,proxy:u.proxy,useCORS:(ke=u.useCORS)!==null&&ke!==void 0?ke:!1},y=r({logging:(Kr=u.logging)!==null&&Kr!==void 0?Kr:!0,cache:u.cache},B),F={windowWidth:(zr=u.windowWidth)!==null&&zr!==void 0?zr:p.innerWidth,windowHeight:(Ae=u.windowHeight)!==null&&Ae!==void 0?Ae:p.innerHeight,scrollX:(nr=u.scrollX)!==null&&nr!==void 0?nr:p.pageXOffset,scrollY:(Yi=u.scrollY)!==null&&Yi!==void 0?Yi:p.pageYOffset},T=new a(F.scrollX,F.scrollY,F.windowWidth,F.windowHeight),U=new Uk(y,T),S=(Dr=u.foreignObjectRendering)!==null&&Dr!==void 0?Dr:!1,H={allowTaint:(Ir=u.allowTaint)!==null&&Ir!==void 0?Ir:!1,onclone:u.onclone,ignoreElements:u.ignoreElements,inlineImages:S,copyStyles:S},U.logger.debug("Starting document clone with size "+T.width+"x"+T.height+" scrolled to "+-T.left+","+-T.top),N=new Rb(U,f,H),G=N.clonedReferenceElement,G?[4,N.toIFrame(d,T)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return ut=ci.sent(),Z=im(G)||KS(G)?s(G.ownerDocument):o(U,G),nt=Z.width,Qt=Z.height,dt=Z.left,pt=Z.top,Xt=Kk(U,G,u.backgroundColor),Tt={canvas:u.canvas,backgroundColor:Xt,scale:(PA=(Mn=u.scale)!==null&&Mn!==void 0?Mn:p.devicePixelRatio)!==null&&PA!==void 0?PA:1,x:(($i=u.x)!==null&&$i!==void 0?$i:0)+dt,y:((Pn=u.y)!==null&&Pn!==void 0?Pn:0)+pt,width:(Rn=u.width)!==null&&Rn!==void 0?Rn:Math.ceil(nt),height:(ui=u.height)!==null&&ui!==void 0?ui:Math.ceil(Qt)},S?(U.logger.debug("Document cloned, using foreign object rendering"),Pt=new xk(U,Tt),[4,Pt.render(G)]):[3,3];case 2:return vt=ci.sent(),[3,5];case 3:return U.logger.debug("Document cloned, element located at "+dt+","+pt+" with size "+nt+"x"+Qt+" using computed rendering"),U.logger.debug("Starting DOM parsing"),lt=_b(U,G),Xt===lt.styles.backgroundColor&&(lt.styles.backgroundColor=si.TRANSPARENT),U.logger.debug("Starting renderer for element at "+Tt.x+","+Tt.y+" with size "+Tt.width+"x"+Tt.height),Pt=new Ck(U,Tt),[4,Pt.render(lt)];case 4:vt=ci.sent(),ci.label=5;case 5:return(!((On=u.removeContainer)!==null&&On!==void 0)||On)&&(Rb.destroy(ut)||U.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),U.logger.debug("Finished rendering"),[2,vt]}})})},Kk=function(f,u,d){var p=u.ownerDocument,B=p.documentElement?Us(f,getComputedStyle(p.documentElement).backgroundColor):si.TRANSPARENT,y=p.body?Us(f,getComputedStyle(p.body).backgroundColor):si.TRANSPARENT,F=typeof d=="string"?Us(f,d):d===null?si.TRANSPARENT:4294967295;return u===p.documentElement?Wi(B)?Wi(y)?F:y:B:F};return Tk})});var rr={};Dk(rr,{Adder:()=>te,Delaunay:()=>_f,FormatSpecifier:()=>Tl,InternMap:()=>bA,InternSet:()=>Mr,Node:()=>ZA,Path:()=>Qi,Voronoi:()=>So,ZoomTransform:()=>dA,active:()=>kv,arc:()=>PU,area:()=>is,areaRadial:()=>VB,ascending:()=>St,autoType:()=>Pg,axisBottom:()=>tl,axisLeft:()=>el,axisRight:()=>qs,axisTop:()=>Zs,bin:()=>Qc,bisect:()=>Hr,bisectCenter:()=>Sw,bisectLeft:()=>Iw,bisectRight:()=>pm,bisector:()=>ce,blob:()=>U_,blur:()=>kw,blur2:()=>vc,blurImage:()=>Lw,brush:()=>bf,brushSelection:()=>Nv,brushX:()=>Vv,brushY:()=>Wv,buffer:()=>T_,chord:()=>zv,chordDirected:()=>Yv,chordTranspose:()=>Xv,cluster:()=>OQ,color:()=>nA,contourDensity:()=>o_,contours:()=>vl,count:()=>mi,create:()=>G1,creator:()=>en,cross:()=>mm,csv:()=>K_,csvFormat:()=>g_,csvFormatBody:()=>B_,csvFormatRow:()=>b_,csvFormatRows:()=>C_,csvFormatValue:()=>w_,csvParse:()=>xf,csvParseRows:()=>m_,cubehelix:()=>pr,cumsum:()=>gm,curveBasis:()=>qU,curveBasisClosed:()=>eT,curveBasisOpen:()=>AT,curveBumpX:()=>op,curveBumpY:()=>sp,curveBundle:()=>nT,curveCardinal:()=>aT,curveCardinalClosed:()=>oT,curveCardinalOpen:()=>sT,curveCatmullRom:()=>uT,curveCatmullRomClosed:()=>fT,curveCatmullRomOpen:()=>pT,curveLinear:()=>Fn,curveLinearClosed:()=>mT,curveMonotoneX:()=>yT,curveMonotoneY:()=>vT,curveNatural:()=>QT,curveStep:()=>FT,curveStepAfter:()=>TT,curveStepBefore:()=>UT,descending:()=>Ps,deviation:()=>Os,difference:()=>Om,disjoint:()=>Nm,dispatch:()=>iA,drag:()=>$1,dragDisable:()=>nn,dragEnable:()=>an,dsv:()=>Rg,dsvFormat:()=>dn,easeBack:()=>Bg,easeBackIn:()=>Ev,easeBackInOut:()=>Bg,easeBackOut:()=>Kv,easeBounce:()=>Fo,easeBounceIn:()=>Uv,easeBounceInOut:()=>Tv,easeBounceOut:()=>Fo,easeCircle:()=>dg,easeCircleIn:()=>Qv,easeCircleInOut:()=>dg,easeCircleOut:()=>Fv,easeCubic:()=>Cl,easeCubicIn:()=>mv,easeCubicInOut:()=>Cl,easeCubicOut:()=>gv,easeElastic:()=>wg,easeElasticIn:()=>Dv,easeElasticInOut:()=>Iv,easeElasticOut:()=>wg,easeExp:()=>pg,easeExpIn:()=>_v,easeExpInOut:()=>pg,easeExpOut:()=>xv,easeLinear:()=>pf,easePoly:()=>fg,easePolyIn:()=>Bv,easePolyInOut:()=>fg,easePolyOut:()=>Cv,easeQuad:()=>ug,easeQuadIn:()=>pv,easeQuadInOut:()=>ug,easeQuadOut:()=>dv,easeSin:()=>hg,easeSinIn:()=>yv,easeSinInOut:()=>hg,easeSinOut:()=>vv,every:()=>km,extent:()=>gi,fcumsum:()=>Pw,filter:()=>Hm,flatGroup:()=>Ww,flatRollup:()=>Gw,forceCenter:()=>M_,forceCollide:()=>Ax,forceLink:()=>nx,forceManyBody:()=>ux,forceRadial:()=>cx,forceSimulation:()=>lx,forceX:()=>fx,forceY:()=>hx,format:()=>Ca,formatDefaultLocale:()=>Tf,formatLocale:()=>Ff,formatPrefix:()=>El,formatSpecifier:()=>FA,fsum:()=>Mw,geoAlbers:()=>hh,geoAlbersUsa:()=>FQ,geoArea:()=>Fx,geoAzimuthalEqualArea:()=>UQ,geoAzimuthalEqualAreaRaw:()=>dh,geoAzimuthalEquidistant:()=>TQ,geoAzimuthalEquidistantRaw:()=>mh,geoBounds:()=>kx,geoCentroid:()=>Ox,geoCircle:()=>zx,geoClipAntimeridian:()=>Rl,geoClipCircle:()=>qf,geoClipExtent:()=>$x,geoClipRectangle:()=>Di,geoConicConformal:()=>KQ,geoConicConformalRaw:()=>F0,geoConicEqualArea:()=>Fa,geoConicEqualAreaRaw:()=>x0,geoConicEquidistant:()=>IQ,geoConicEquidistantRaw:()=>U0,geoContains:()=>rQ,geoDistance:()=>Oo,geoEqualEarth:()=>SQ,geoEqualEarthRaw:()=>Ch,geoEquirectangular:()=>DQ,geoEquirectangularRaw:()=>Ta,geoGnomonic:()=>kQ,geoGnomonicRaw:()=>bh,geoGraticule:()=>nh,geoGraticule10:()=>nQ,geoIdentity:()=>LQ,geoInterpolate:()=>aQ,geoLength:()=>Ah,geoMercator:()=>EQ,geoMercatorRaw:()=>Ua,geoNaturalEarth1:()=>HQ,geoNaturalEarth1Raw:()=>wh,geoOrthographic:()=>MQ,geoOrthographicRaw:()=>yh,geoPath:()=>yQ,geoProjection:()=>Ie,geoProjectionMutator:()=>Yl,geoRotation:()=>Xf,geoStereographic:()=>PQ,geoStereographicRaw:()=>vh,geoStream:()=>qe,geoTransform:()=>vQ,geoTransverseMercator:()=>RQ,geoTransverseMercatorRaw:()=>_h,gray:()=>cy,greatest:()=>Xs,greatestIndex:()=>Em,group:()=>Ns,groupSort:()=>wm,groups:()=>Cm,hcl:()=>wo,hierarchy:()=>ql,histogram:()=>Qc,hsl:()=>Co,html:()=>L_,image:()=>I_,index:()=>zw,indexes:()=>Xw,interpolate:()=>dr,interpolateArray:()=>vy,interpolateBasis:()=>zc,interpolateBasisClosed:()=>Xc,interpolateBlues:()=>bU,interpolateBrBG:()=>q2,interpolateBuGn:()=>sU,interpolateBuPu:()=>lU,interpolateCividis:()=>QU,interpolateCool:()=>TU,interpolateCubehelix:()=>My,interpolateCubehelixDefault:()=>FU,interpolateCubehelixLong:()=>na,interpolateDate:()=>Jc,interpolateDiscrete:()=>_y,interpolateGnBu:()=>uU,interpolateGreens:()=>wU,interpolateGreys:()=>yU,interpolateHcl:()=>ky,interpolateHclLong:()=>Ly,interpolateHsl:()=>Dy,interpolateHslLong:()=>Iy,interpolateHue:()=>xy,interpolateInferno:()=>kU,interpolateLab:()=>og,interpolateMagma:()=>SU,interpolateNumber:()=>je,interpolateNumberArray:()=>vo,interpolateObject:()=>jc,interpolateOrRd:()=>cU,interpolateOranges:()=>xU,interpolatePRGn:()=>tU,interpolatePiYG:()=>eU,interpolatePlasma:()=>LU,interpolatePuBu:()=>hU,interpolatePuBuGn:()=>fU,interpolatePuOr:()=>rU,interpolatePuRd:()=>pU,interpolatePurples:()=>vU,interpolateRainbow:()=>EU,interpolateRdBu:()=>AU,interpolateRdGy:()=>iU,interpolateRdPu:()=>dU,interpolateRdYlBu:()=>nU,interpolateRdYlGn:()=>aU,interpolateReds:()=>_U,interpolateRgb:()=>un,interpolateRgbBasis:()=>Yc,interpolateRgbBasisClosed:()=>yy,interpolateRound:()=>cn,interpolateSinebow:()=>KU,interpolateSpectral:()=>oU,interpolateString:()=>_o,interpolateTransformCss:()=>tf,interpolateTransformSvg:()=>ef,interpolateTurbo:()=>DU,interpolateViridis:()=>IU,interpolateWarm:()=>UU,interpolateYlGn:()=>gU,interpolateYlGnBu:()=>mU,interpolateYlOrBr:()=>BU,interpolateYlOrRd:()=>CU,interpolateZoom:()=>rf,interrupt:()=>_A,intersection:()=>Vm,interval:()=>Vy,isoFormat:()=>M2,isoParse:()=>P2,json:()=>S_,lab:()=>Aa,lch:()=>hy,least:()=>Tm,leastIndex:()=>Ys,line:()=>Un,lineRadial:()=>NB,link:()=>mu,linkHorizontal:()=>XU,linkRadial:()=>$U,linkVertical:()=>YU,local:()=>Lc,map:()=>Mm,matcher:()=>mo,max:()=>bi,maxIndex:()=>$n,mean:()=>_m,median:()=>xm,medianIndex:()=>jw,merge:()=>Zn,min:()=>tn,minIndex:()=>Jn,mode:()=>Qm,namespace:()=>OA,namespaces:()=>rl,nice:()=>Xn,now:()=>fn,pack:()=>fF,packEnclose:()=>AF,packSiblings:()=>lF,pairs:()=>Fm,partition:()=>hF,path:()=>yl,pathRound:()=>Jv,permute:()=>Vs,pie:()=>WU,piecewise:()=>cl,pointRadial:()=>Wa,pointer:()=>He,pointers:()=>z1,polygonArea:()=>yF,polygonCentroid:()=>vF,polygonContains:()=>FF,polygonHull:()=>QF,polygonLength:()=>UF,precisionFixed:()=>Ef,precisionPrefix:()=>Kf,precisionRound:()=>Df,quadtree:()=>mn,quantile:()=>RA,quantileIndex:()=>Uc,quantileSorted:()=>Fc,quantize:()=>Py,quickselect:()=>jn,radialArea:()=>VB,radialLine:()=>NB,randomBates:()=>DF,randomBernoulli:()=>kF,randomBeta:()=>Dh,randomBinomial:()=>Ih,randomCauchy:()=>HF,randomExponential:()=>IF,randomGamma:()=>Zo,randomGeometric:()=>Kh,randomInt:()=>EF,randomIrwinHall:()=>Eh,randomLcg:()=>O0,randomLogNormal:()=>KF,randomLogistic:()=>MF,randomNormal:()=>jo,randomPareto:()=>SF,randomPoisson:()=>PF,randomUniform:()=>TF,randomWeibull:()=>LF,range:()=>AA,rank:()=>Um,reduce:()=>Pm,reverse:()=>Rm,rgb:()=>vi,ribbon:()=>t_,ribbonArrow:()=>e_,rollup:()=>_c,rollups:()=>bm,scaleBand:()=>Ea,scaleDiverging:()=>qh,scaleDivergingLog:()=>cB,scaleDivergingPow:()=>tp,scaleDivergingSqrt:()=>O2,scaleDivergingSymlog:()=>fB,scaleIdentity:()=>kh,scaleImplicit:()=>Sh,scaleLinear:()=>ts,scaleLog:()=>Lh,scaleOrdinal:()=>qo,scalePoint:()=>NF,scalePow:()=>au,scaleQuantile:()=>Ph,scaleQuantize:()=>Rh,scaleRadial:()=>Mh,scaleSequential:()=>$h,scaleSequentialLog:()=>lB,scaleSequentialPow:()=>Jh,scaleSequentialQuantile:()=>jh,scaleSequentialSqrt:()=>R2,scaleSequentialSymlog:()=>uB,scaleSqrt:()=>JF,scaleSymlog:()=>Hh,scaleThreshold:()=>Oh,scaleTime:()=>pu,scaleUtc:()=>sB,scan:()=>Km,schemeAccent:()=>V2,schemeBlues:()=>SB,schemeBrBG:()=>hB,schemeBuGn:()=>yB,schemeBuPu:()=>vB,schemeCategory10:()=>N2,schemeDark2:()=>W2,schemeGnBu:()=>_B,schemeGreens:()=>kB,schemeGreys:()=>LB,schemeObservable10:()=>G2,schemeOrRd:()=>xB,schemeOranges:()=>PB,schemePRGn:()=>pB,schemePaired:()=>z2,schemePastel1:()=>X2,schemePastel2:()=>Y2,schemePiYG:()=>dB,schemePuBu:()=>FB,schemePuBuGn:()=>QB,schemePuOr:()=>mB,schemePuRd:()=>UB,schemePurples:()=>HB,schemeRdBu:()=>gB,schemeRdGy:()=>BB,schemeRdPu:()=>TB,schemeRdYlBu:()=>CB,schemeRdYlGn:()=>bB,schemeReds:()=>MB,schemeSet1:()=>$2,schemeSet2:()=>J2,schemeSet3:()=>j2,schemeSpectral:()=>wB,schemeTableau10:()=>Z2,schemeYlGn:()=>KB,schemeYlGnBu:()=>EB,schemeYlOrBr:()=>DB,schemeYlOrRd:()=>IB,select:()=>Dt,selectAll:()=>X1,selection:()=>NA,selector:()=>rn,selectorAll:()=>po,shuffle:()=>Zw,shuffler:()=>Dm,some:()=>Lm,sort:()=>ho,stack:()=>ET,stackOffsetDiverging:()=>DT,stackOffsetExpand:()=>KT,stackOffsetNone:()=>IA,stackOffsetSilhouette:()=>IT,stackOffsetWiggle:()=>ST,stackOrderAppearance:()=>xp,stackOrderAscending:()=>Qp,stackOrderDescending:()=>kT,stackOrderInsideOut:()=>LT,stackOrderNone:()=>SA,stackOrderReverse:()=>HT,stratify:()=>mF,style:()=>wi,subset:()=>Wm,sum:()=>Im,superset:()=>Js,svg:()=>H_,symbol:()=>Ga,symbolAsterisk:()=>lp,symbolCircle:()=>os,symbolCross:()=>up,symbolDiamond:()=>cp,symbolDiamond2:()=>fp,symbolPlus:()=>hp,symbolSquare:()=>pp,symbolSquare2:()=>dp,symbolStar:()=>mp,symbolTimes:()=>gu,symbolTriangle:()=>gp,symbolTriangle2:()=>Bp,symbolWye:()=>Cp,symbolX:()=>gu,symbols:()=>XB,symbolsFill:()=>XB,symbolsStroke:()=>ZU,text:()=>ga,thresholdFreedmanDiaconis:()=>ym,thresholdScott:()=>vm,thresholdSturges:()=>Yn,tickFormat:()=>eu,tickIncrement:()=>wA,tickStep:()=>zn,ticks:()=>Pr,timeDay:()=>lA,timeDays:()=>r2,timeFormat:()=>fu,timeFormatDefaultLocale:()=>zh,timeFormatLocale:()=>Na,timeFriday:()=>J0,timeFridays:()=>u2,timeHour:()=>ki,timeHours:()=>t2,timeInterval:()=>ee,timeMillisecond:()=>_n,timeMilliseconds:()=>z0,timeMinute:()=>Si,timeMinutes:()=>ZF,timeMonday:()=>Ma,timeMondays:()=>a2,timeMonth:()=>Mi,timeMonths:()=>B2,timeParse:()=>aB,timeSaturday:()=>j0,timeSaturdays:()=>c2,timeSecond:()=>Fr,timeSeconds:()=>X0,timeSunday:()=>uA,timeSundays:()=>Z0,timeThursday:()=>Li,timeThursdays:()=>l2,timeTickInterval:()=>Gh,timeTicks:()=>Wh,timeTuesday:()=>Y0,timeTuesdays:()=>o2,timeWednesday:()=>$0,timeWednesdays:()=>s2,timeWeek:()=>uA,timeWeeks:()=>Z0,timeYear:()=>Cr,timeYears:()=>b2,timeout:()=>ml,timer:()=>sa,timerFlush:()=>lg,transition:()=>hf,transpose:()=>$s,tree:()=>gF,treemap:()=>BF,treemapBinary:()=>CF,treemapDice:()=>qA,treemapResquarify:()=>wF,treemapSlice:()=>yn,treemapSliceDice:()=>bF,treemapSquarify:()=>Th,tsv:()=>D_,tsvFormat:()=>v_,tsvFormatBody:()=>__,tsvFormatRow:()=>Q_,tsvFormatRows:()=>x_,tsvFormatValue:()=>F_,tsvParse:()=>Qf,tsvParseRows:()=>y_,union:()=>Gm,unixDay:()=>su,unixDays:()=>i2,utcDay:()=>xn,utcDays:()=>A2,utcFormat:()=>Va,utcFriday:()=>eB,utcFridays:()=>m2,utcHour:()=>La,utcHours:()=>e2,utcMillisecond:()=>_n,utcMilliseconds:()=>z0,utcMinute:()=>Sa,utcMinutes:()=>qF,utcMonday:()=>Ra,utcMondays:()=>f2,utcMonth:()=>Oa,utcMonths:()=>C2,utcParse:()=>hu,utcSaturday:()=>rB,utcSaturdays:()=>g2,utcSecond:()=>Fr,utcSeconds:()=>X0,utcSunday:()=>ri,utcSundays:()=>AB,utcThursday:()=>Hi,utcThursdays:()=>d2,utcTickInterval:()=>Vh,utcTicks:()=>Nh,utcTuesday:()=>q0,utcTuesdays:()=>h2,utcWednesday:()=>tB,utcWednesdays:()=>p2,utcWeek:()=>ri,utcWeeks:()=>AB,utcYear:()=>Nr,utcYears:()=>w2,variance:()=>Rs,window:()=>go,xml:()=>k_,zip:()=>Sm,zoom:()=>Tp,zoomIdentity:()=>Ur,zoomTransform:()=>Fp});function St(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ps(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ce(e){let t,r,A;e.length!==2?(t=St,r=(o,s)=>St(e(o),s),A=(o,s)=>e(o)-s):(t=e===St||e===Ps?e:Ik,r=e,A=e);function i(o,s,l=0,c=o.length){if(l<c){if(t(s,s)!==0)return c;do{let m=l+c>>>1;r(o[m],s)<0?l=m+1:c=m}while(l<c)}return l}function n(o,s,l=0,c=o.length){if(l<c){if(t(s,s)!==0)return c;do{let m=l+c>>>1;r(o[m],s)<=0?l=m+1:c=m}while(l<c)}return l}function a(o,s,l=0,c=o.length){let m=i(o,s,l,c-1);return m>l&&A(o[m-1],s)>-A(o[m],s)?m-1:m}return{left:i,center:a,right:n}}function Ik(){return 0}function Gn(e){return e===null?NaN:+e}function*Kw(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let A of e)(A=t(A,++r,e))!=null&&(A=+A)>=A&&(yield A)}}var Dw=ce(St),pm=Dw.right,Iw=Dw.left,Sw=ce(Gn).center,Hr=pm;function kw(e,t){if(!((t=+t)>=0))throw new RangeError("invalid r");let r=e.length;if(!((r=Math.floor(r))>=0))throw new RangeError("invalid length");if(!r||!t)return e;let A=dm(t),i=e.slice();return A(e,i,0,r,1),A(i,e,0,r,1),A(e,i,0,r,1),e}var vc=Hw(dm),Lw=Hw(Sk);function Hw(e){return function(t,r,A=r){if(!((r=+r)>=0))throw new RangeError("invalid rx");if(!((A=+A)>=0))throw new RangeError("invalid ry");let{data:i,width:n,height:a}=t;if(!((n=Math.floor(n))>=0))throw new RangeError("invalid width");if(!((a=Math.floor(a!==void 0?a:i.length/n))>=0))throw new RangeError("invalid height");if(!n||!a||!r&&!A)return t;let o=r&&e(r),s=A&&e(A),l=i.slice();return o&&s?(uo(o,l,i,n,a),uo(o,i,l,n,a),uo(o,l,i,n,a),co(s,i,l,n,a),co(s,l,i,n,a),co(s,i,l,n,a)):o?(uo(o,i,l,n,a),uo(o,l,i,n,a),uo(o,i,l,n,a)):s&&(co(s,i,l,n,a),co(s,l,i,n,a),co(s,i,l,n,a)),t}}function uo(e,t,r,A,i){for(let n=0,a=A*i;n<a;)e(t,r,n,n+=A,1)}function co(e,t,r,A,i){for(let n=0,a=A*i;n<A;++n)e(t,r,n,n+a,A)}function Sk(e){let t=dm(e);return(r,A,i,n,a)=>{i<<=2,n<<=2,a<<=2,t(r,A,i+0,n+0,a),t(r,A,i+1,n+1,a),t(r,A,i+2,n+2,a),t(r,A,i+3,n+3,a)}}function dm(e){let t=Math.floor(e);if(t===e)return kk(e);let r=e-t,A=2*e+1;return(i,n,a,o,s)=>{if(!((o-=s)>=a))return;let l=t*n[a],c=s*t,m=c+s;for(let h=a,g=a+c;h<g;h+=s)l+=n[Math.min(o,h)];for(let h=a,g=o;h<=g;h+=s)l+=n[Math.min(o,h+c)],i[h]=(l+r*(n[Math.max(a,h-m)]+n[Math.min(o,h+m)]))/A,l-=n[Math.max(a,h-c)]}}function kk(e){let t=2*e+1;return(r,A,i,n,a)=>{if(!((n-=a)>=i))return;let o=e*A[i],s=a*e;for(let l=i,c=i+s;l<c;l+=a)o+=A[Math.min(n,l)];for(let l=i,c=n;l<=c;l+=a)o+=A[Math.min(n,l+s)],r[l]=o/t,o-=A[Math.max(i,l-s)]}}function mi(e,t){let r=0;if(t===void 0)for(let A of e)A!=null&&(A=+A)>=A&&++r;else{let A=-1;for(let i of e)(i=t(i,++A,e))!=null&&(i=+i)>=i&&++r}return r}function Lk(e){return e.length|0}function Hk(e){return!(e>0)}function Mk(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function Pk(e){return t=>e(...t)}function mm(...e){let t=typeof e[e.length-1]=="function"&&Pk(e.pop());e=e.map(Mk);let r=e.map(Lk),A=e.length-1,i=new Array(A+1).fill(0),n=[];if(A<0||r.some(Hk))return n;for(;;){n.push(i.map((o,s)=>e[s][o]));let a=A;for(;++i[a]===r[a];){if(a===0)return t?n.map(t):n;i[a--]=0}}}function gm(e,t){var r=0,A=0;return Float64Array.from(e,t===void 0?i=>r+=+i||0:i=>r+=+t(i,A++,e)||0)}function Rs(e,t){let r=0,A,i=0,n=0;if(t===void 0)for(let a of e)a!=null&&(a=+a)>=a&&(A=a-i,i+=A/++r,n+=A*(a-i));else{let a=-1;for(let o of e)(o=t(o,++a,e))!=null&&(o=+o)>=o&&(A=o-i,i+=A/++r,n+=A*(o-i))}if(r>1)return n/(r-1)}function Os(e,t){let r=Rs(e,t);return r&&Math.sqrt(r)}function gi(e,t){let r,A;if(t===void 0)for(let i of e)i!=null&&(r===void 0?i>=i&&(r=A=i):(r>i&&(r=i),A<i&&(A=i)));else{let i=-1;for(let n of e)(n=t(n,++i,e))!=null&&(r===void 0?n>=n&&(r=A=n):(r>n&&(r=n),A<n&&(A=n)))}return[r,A]}var te=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){let r=this._partials,A=0;for(let i=0;i<this._n&&i<32;i++){let n=r[i],a=t+n,o=Math.abs(t)<Math.abs(n)?t-(a-n):n-(a-t);o&&(r[A++]=o),t=a}return r[A]=t,this._n=A+1,this}valueOf(){let t=this._partials,r=this._n,A,i,n,a=0;if(r>0){for(a=t[--r];r>0&&(A=a,i=t[--r],a=A+i,n=i-(a-A),!n););r>0&&(n<0&&t[r-1]<0||n>0&&t[r-1]>0)&&(i=n*2,A=a+i,i==A-a&&(a=A))}return a}};function Mw(e,t){let r=new te;if(t===void 0)for(let A of e)(A=+A)&&r.add(A);else{let A=-1;for(let i of e)(i=+t(i,++A,e))&&r.add(i)}return+r}function Pw(e,t){let r=new te,A=-1;return Float64Array.from(e,t===void 0?i=>r.add(+i||0):i=>r.add(+t(i,++A,e)||0))}var bA=class extends Map{constructor(t,r=Nw){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(let[A,i]of t)this.set(A,i)}get(t){return super.get(Bm(this,t))}has(t){return super.has(Bm(this,t))}set(t,r){return super.set(Rw(this,t),r)}delete(t){return super.delete(Ow(this,t))}},Mr=class extends Set{constructor(t,r=Nw){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(let A of t)this.add(A)}has(t){return super.has(Bm(this,t))}add(t){return super.add(Rw(this,t))}delete(t){return super.delete(Ow(this,t))}};function Bm({_intern:e,_key:t},r){let A=t(r);return e.has(A)?e.get(A):r}function Rw({_intern:e,_key:t},r){let A=t(r);return e.has(A)?e.get(A):(e.set(A,r),r)}function Ow({_intern:e,_key:t},r){let A=t(r);return e.has(A)&&(r=e.get(A),e.delete(A)),r}function Nw(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Bi(e){return e}function Ns(e,...t){return fo(e,Bi,Bi,t)}function Cm(e,...t){return fo(e,Array.from,Bi,t)}function Vw(e,t){for(let r=1,A=t.length;r<A;++r)e=e.flatMap(i=>i.pop().map(([n,a])=>[...i,n,a]));return e}function Ww(e,...t){return Vw(Cm(e,...t),t)}function Gw(e,t,...r){return Vw(bm(e,t,...r),r)}function _c(e,t,...r){return fo(e,Bi,t,r)}function bm(e,t,...r){return fo(e,Array.from,t,r)}function zw(e,...t){return fo(e,Bi,Yw,t)}function Xw(e,...t){return fo(e,Array.from,Yw,t)}function Yw(e){if(e.length!==1)throw new Error("duplicate key");return e[0]}function fo(e,t,r,A){return function i(n,a){if(a>=A.length)return r(n);let o=new bA,s=A[a++],l=-1;for(let c of n){let m=s(c,++l,n),h=o.get(m);h?h.push(c):o.set(m,[c])}for(let[c,m]of o)o.set(c,i(m,a));return t(o)}(e,0)}function Vs(e,t){return Array.from(t,r=>e[r])}function ho(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[r]=t;if(r&&r.length!==2||t.length>1){let A=Uint32Array.from(e,(i,n)=>n);return t.length>1?(t=t.map(i=>e.map(i)),A.sort((i,n)=>{for(let a of t){let o=Ci(a[i],a[n]);if(o)return o}})):(r=e.map(r),A.sort((i,n)=>Ci(r[i],r[n]))),Vs(e,A)}return e.sort(Ws(r))}function Ws(e=St){if(e===St)return Ci;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{let A=e(t,r);return A||A===0?A:(e(r,r)===0)-(e(t,t)===0)}}function Ci(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function wm(e,t,r){return(t.length!==2?ho(_c(e,t,r),([A,i],[n,a])=>St(i,a)||St(A,n)):ho(Ns(e,r),([A,i],[n,a])=>t(i,a)||St(A,n))).map(([A])=>A)}var $w=Array.prototype,Jw=$w.slice,i5=$w.map;function Gs(e){return()=>e}var Rk=Math.sqrt(50),Ok=Math.sqrt(10),Nk=Math.sqrt(2);function xc(e,t,r){let A=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(A)),n=A/Math.pow(10,i),a=n>=Rk?10:n>=Ok?5:n>=Nk?2:1,o,s,l;return i<0?(l=Math.pow(10,-i)/a,o=Math.round(e*l),s=Math.round(t*l),o/l<e&&++o,s/l>t&&--s,l=-l):(l=Math.pow(10,i)*a,o=Math.round(e/l),s=Math.round(t/l),o*l<e&&++o,s*l>t&&--s),s<o&&.5<=r&&r<2?xc(e,t,r*2):[o,s,l]}function Pr(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];let A=t<e,[i,n,a]=A?xc(t,e,r):xc(e,t,r);if(!(n>=i))return[];let o=n-i+1,s=new Array(o);if(A)if(a<0)for(let l=0;l<o;++l)s[l]=(n-l)/-a;else for(let l=0;l<o;++l)s[l]=(n-l)*a;else if(a<0)for(let l=0;l<o;++l)s[l]=(i+l)/-a;else for(let l=0;l<o;++l)s[l]=(i+l)*a;return s}function wA(e,t,r){return t=+t,e=+e,r=+r,xc(e,t,r)[2]}function zn(e,t,r){t=+t,e=+e,r=+r;let A=t<e,i=A?wA(t,e,r):wA(e,t,r);return(A?-1:1)*(i<0?1/-i:i)}function Xn(e,t,r){let A;for(;;){let i=wA(e,t,r);if(i===A||i===0||!isFinite(i))return[e,t];i>0?(e=Math.floor(e/i)*i,t=Math.ceil(t/i)*i):i<0&&(e=Math.ceil(e*i)/i,t=Math.floor(t*i)/i),A=i}}function Yn(e){return Math.max(1,Math.ceil(Math.log(mi(e))/Math.LN2)+1)}function Qc(){var e=Bi,t=gi,r=Yn;function A(i){Array.isArray(i)||(i=Array.from(i));var n,a=i.length,o,s,l=new Array(a);for(n=0;n<a;++n)l[n]=e(i[n],n,i);var c=t(l),m=c[0],h=c[1],g=r(l,m,h);if(!Array.isArray(g)){let x=h,_=+g;if(t===gi&&([m,h]=Xn(m,h,_)),g=Pr(m,h,_),g[0]<=m&&(s=wA(m,h,_)),g[g.length-1]>=h)if(x>=h&&t===gi){let E=wA(m,h,_);isFinite(E)&&(E>0?h=(Math.floor(h/E)+1)*E:E<0&&(h=(Math.ceil(h*-E)+1)/-E))}else g.pop()}for(var C=g.length,b=0,w=C;g[b]<=m;)++b;for(;g[w-1]>h;)--w;(b||w<C)&&(g=g.slice(b,w),C=w-b);var v=new Array(C+1),Q;for(n=0;n<=C;++n)Q=v[n]=[],Q.x0=n>0?g[n-1]:m,Q.x1=n<C?g[n]:h;if(isFinite(s)){if(s>0)for(n=0;n<a;++n)(o=l[n])!=null&&m<=o&&o<=h&&v[Math.min(C,Math.floor((o-m)/s))].push(i[n]);else if(s<0){for(n=0;n<a;++n)if((o=l[n])!=null&&m<=o&&o<=h){let x=Math.floor((m-o)*s);v[Math.min(C,x+(g[x]<=o))].push(i[n])}}}else for(n=0;n<a;++n)(o=l[n])!=null&&m<=o&&o<=h&&v[Hr(g,o,0,C)].push(i[n]);return v}return A.value=function(i){return arguments.length?(e=typeof i=="function"?i:Gs(i),A):e},A.domain=function(i){return arguments.length?(t=typeof i=="function"?i:Gs([i[0],i[1]]),A):t},A.thresholds=function(i){return arguments.length?(r=typeof i=="function"?i:Gs(Array.isArray(i)?Jw.call(i):i),A):r},A}function bi(e,t){let r;if(t===void 0)for(let A of e)A!=null&&(r<A||r===void 0&&A>=A)&&(r=A);else{let A=-1;for(let i of e)(i=t(i,++A,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function $n(e,t){let r,A=-1,i=-1;if(t===void 0)for(let n of e)++i,n!=null&&(r<n||r===void 0&&n>=n)&&(r=n,A=i);else for(let n of e)(n=t(n,++i,e))!=null&&(r<n||r===void 0&&n>=n)&&(r=n,A=i);return A}function tn(e,t){let r;if(t===void 0)for(let A of e)A!=null&&(r>A||r===void 0&&A>=A)&&(r=A);else{let A=-1;for(let i of e)(i=t(i,++A,e))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function Jn(e,t){let r,A=-1,i=-1;if(t===void 0)for(let n of e)++i,n!=null&&(r>n||r===void 0&&n>=n)&&(r=n,A=i);else for(let n of e)(n=t(n,++i,e))!=null&&(r>n||r===void 0&&n>=n)&&(r=n,A=i);return A}function jn(e,t,r=0,A=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),A=Math.floor(Math.min(e.length-1,A)),!(r<=t&&t<=A))return e;for(i=i===void 0?Ci:Ws(i);A>r;){if(A-r>600){let s=A-r+1,l=t-r+1,c=Math.log(s),m=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*m*(s-m)/s)*(l-s/2<0?-1:1),g=Math.max(r,Math.floor(t-l*m/s+h)),C=Math.min(A,Math.floor(t+(s-l)*m/s+h));jn(e,t,g,C,i)}let n=e[t],a=r,o=A;for(zs(e,r,t),i(e[A],n)>0&&zs(e,r,A);a<o;){for(zs(e,a,o),++a,--o;i(e[a],n)<0;)++a;for(;i(e[o],n)>0;)--o}i(e[r],n)===0?zs(e,r,o):(++o,zs(e,o,A)),o<=t&&(r=o+1),t<=o&&(A=o-1)}return e}function zs(e,t,r){let A=e[t];e[t]=e[r],e[r]=A}function Xs(e,t=St){let r,A=!1;if(t.length===1){let i;for(let n of e){let a=t(n);(A?St(a,i)>0:St(a,a)===0)&&(r=n,i=a,A=!0)}}else for(let i of e)(A?t(i,r)>0:t(i,i)===0)&&(r=i,A=!0);return r}function RA(e,t,r){if(e=Float64Array.from(Kw(e,r)),!(!(A=e.length)||isNaN(t=+t))){if(t<=0||A<2)return tn(e);if(t>=1)return bi(e);var A,i=(A-1)*t,n=Math.floor(i),a=bi(jn(e,n).subarray(0,n+1)),o=tn(e.subarray(n+1));return a+(o-a)*(i-n)}}function Fc(e,t,r=Gn){if(!(!(A=e.length)||isNaN(t=+t))){if(t<=0||A<2)return+r(e[0],0,e);if(t>=1)return+r(e[A-1],A-1,e);var A,i=(A-1)*t,n=Math.floor(i),a=+r(e[n],n,e),o=+r(e[n+1],n+1,e);return a+(o-a)*(i-n)}}function Uc(e,t,r=Gn){if(!isNaN(t=+t)){if(A=Float64Array.from(e,(o,s)=>Gn(r(e[s],s,e))),t<=0)return Jn(A);if(t>=1)return $n(A);var A,i=Uint32Array.from(e,(o,s)=>s),n=A.length-1,a=Math.floor(n*t);return jn(i,a,0,n,(o,s)=>Ci(A[o],A[s])),a=Xs(i.subarray(0,a+1),o=>A[o]),a>=0?a:-1}}function ym(e,t,r){let A=mi(e),i=RA(e,.75)-RA(e,.25);return A&&i?Math.ceil((r-t)/(2*i*Math.pow(A,-1/3))):1}function vm(e,t,r){let A=mi(e),i=Os(e);return A&&i?Math.ceil((r-t)*Math.cbrt(A)/(3.49*i)):1}function _m(e,t){let r=0,A=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++r,A+=i);else{let i=-1;for(let n of e)(n=t(n,++i,e))!=null&&(n=+n)>=n&&(++r,A+=n)}if(r)return A/r}function xm(e,t){return RA(e,.5,t)}function jw(e,t){return Uc(e,.5,t)}function*Vk(e){for(let t of e)yield*Aw(t)}function Zn(e){return Array.from(Vk(e))}function Qm(e,t){let r=new bA;if(t===void 0)for(let n of e)n!=null&&n>=n&&r.set(n,(r.get(n)||0)+1);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&a>=a&&r.set(a,(r.get(a)||0)+1)}let A,i=0;for(let[n,a]of r)a>i&&(i=a,A=n);return A}function Fm(e,t=Wk){let r=[],A,i=!1;for(let n of e)i&&r.push(t(A,n)),A=n,i=!0;return r}function Wk(e,t){return[e,t]}function AA(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var A=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,n=new Array(i);++A<i;)n[A]=e+A*r;return n}function Um(e,t=St){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let r=Array.from(e),A=new Float64Array(r.length);t.length!==2&&(r=r.map(t),t=St);let i=(o,s)=>t(r[o],r[s]),n,a;return e=Uint32Array.from(r,(o,s)=>s),e.sort(t===St?(o,s)=>Ci(r[o],r[s]):Ws(i)),e.forEach((o,s)=>{let l=i(o,n===void 0?o:n);l>=0?((n===void 0||l>0)&&(n=o,a=s),A[o]=a):A[o]=NaN}),A}function Tm(e,t=St){let r,A=!1;if(t.length===1){let i;for(let n of e){let a=t(n);(A?St(a,i)<0:St(a,a)===0)&&(r=n,i=a,A=!0)}}else for(let i of e)(A?t(i,r)<0:t(i,i)===0)&&(r=i,A=!0);return r}function Ys(e,t=St){if(t.length===1)return Jn(e,t);let r,A=-1,i=-1;for(let n of e)++i,(A<0?t(n,n)===0:t(n,r)<0)&&(r=n,A=i);return A}function Em(e,t=St){if(t.length===1)return $n(e,t);let r,A=-1,i=-1;for(let n of e)++i,(A<0?t(n,n)===0:t(n,r)>0)&&(r=n,A=i);return A}function Km(e,t){let r=Ys(e,t);return r<0?void 0:r}var Zw=Dm(Math.random);function Dm(e){return function(r,A=0,i=r.length){let n=i-(A=+A);for(;n;){let a=e()*n--|0,o=r[n+A];r[n+A]=r[a+A],r[a+A]=o}return r}}function Im(e,t){let r=0;if(t===void 0)for(let A of e)(A=+A)&&(r+=A);else{let A=-1;for(let i of e)(i=+t(i,++A,e))&&(r+=i)}return r}function $s(e){if(!(n=e.length))return[];for(var t=-1,r=tn(e,Gk),A=new Array(r);++t<r;)for(var i=-1,n,a=A[t]=new Array(n);++i<n;)a[i]=e[i][t];return A}function Gk(e){return e.length}function Sm(){return $s(arguments)}function km(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let r=-1;for(let A of e)if(!t(A,++r,e))return!1;return!0}function Lm(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let r=-1;for(let A of e)if(t(A,++r,e))return!0;return!1}function Hm(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let r=[],A=-1;for(let i of e)t(i,++A,e)&&r.push(i);return r}function Mm(e,t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof t!="function")throw new TypeError("mapper is not a function");return Array.from(e,(r,A)=>t(r,A,e))}function Pm(e,t,r){if(typeof t!="function")throw new TypeError("reducer is not a function");let A=e[Symbol.iterator](),i,n,a=-1;if(arguments.length<3){if({done:i,value:r}=A.next(),i)return;++a}for(;{done:i,value:n}=A.next(),!i;)r=t(r,n,++a,e);return r}function Rm(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function Om(e,...t){e=new Mr(e);for(let r of t)for(let A of r)e.delete(A);return e}function Nm(e,t){let r=t[Symbol.iterator](),A=new Mr;for(let i of e){if(A.has(i))return!1;let n,a;for(;({value:n,done:a}=r.next())&&!a;){if(Object.is(i,n))return!1;A.add(n)}}return!0}function Vm(e,...t){e=new Mr(e),t=t.map(zk);t:for(let r of e)for(let A of t)if(!A.has(r)){e.delete(r);continue t}return e}function zk(e){return e instanceof Mr?e:new Mr(e)}function Js(e,t){let r=e[Symbol.iterator](),A=new Set;for(let i of t){let n=qw(i);if(A.has(n))continue;let a,o;for(;{value:a,done:o}=r.next();){if(o)return!1;let s=qw(a);if(A.add(s),Object.is(n,s))break}}return!0}function qw(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Wm(e,t){return Js(t,e)}function Gm(...e){let t=new Mr;for(let r of e)for(let A of r)t.add(A);return t}function t1(e){return e}var Tc=1,Ec=2,zm=3,js=4,e1=1e-6;function Xk(e){return"translate("+e+",0)"}function Yk(e){return"translate(0,"+e+")"}function $k(e){return t=>+e(t)}function Jk(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),r=>+e(r)+t}function jk(){return!this.__axis}function Kc(e,t){var r=[],A=null,i=null,n=6,a=6,o=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=e===Tc||e===js?-1:1,c=e===js||e===Ec?"x":"y",m=e===Tc||e===zm?Xk:Yk;function h(g){var C=A??(t.ticks?t.ticks.apply(t,r):t.domain()),b=i??(t.tickFormat?t.tickFormat.apply(t,r):t1),w=Math.max(n,0)+o,v=t.range(),Q=+v[0]+s,x=+v[v.length-1]+s,_=(t.bandwidth?Jk:$k)(t.copy(),s),E=g.selection?g.selection():g,K=E.selectAll(".domain").data([null]),P=E.selectAll(".tick").data(C,t).order(),R=P.exit(),O=P.enter().append("g").attr("class","tick"),M=P.select("line"),I=P.select("text");K=K.merge(K.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),P=P.merge(O),M=M.merge(O.append("line").attr("stroke","currentColor").attr(c+"2",l*n)),I=I.merge(O.append("text").attr("fill","currentColor").attr(c,l*w).attr("dy",e===Tc?"0em":e===zm?"0.71em":"0.32em")),g!==E&&(K=K.transition(g),P=P.transition(g),M=M.transition(g),I=I.transition(g),R=R.transition(g).attr("opacity",e1).attr("transform",function(X){return isFinite(X=_(X))?m(X+s):this.getAttribute("transform")}),O.attr("opacity",e1).attr("transform",function(X){var V=this.parentNode.__axis;return m((V&&isFinite(V=V(X))?V:_(X))+s)})),R.remove(),K.attr("d",e===js||e===Ec?a?"M"+l*a+","+Q+"H"+s+"V"+x+"H"+l*a:"M"+s+","+Q+"V"+x:a?"M"+Q+","+l*a+"V"+s+"H"+x+"V"+l*a:"M"+Q+","+s+"H"+x),P.attr("opacity",1).attr("transform",function(X){return m(_(X)+s)}),M.attr(c+"2",l*n),I.attr(c,l*w).text(b),E.filter(jk).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Ec?"start":e===js?"end":"middle"),E.each(function(){this.__axis=_})}return h.scale=function(g){return arguments.length?(t=g,h):t},h.ticks=function(){return r=Array.from(arguments),h},h.tickArguments=function(g){return arguments.length?(r=g==null?[]:Array.from(g),h):r.slice()},h.tickValues=function(g){return arguments.length?(A=g==null?null:Array.from(g),h):A&&A.slice()},h.tickFormat=function(g){return arguments.length?(i=g,h):i},h.tickSize=function(g){return arguments.length?(n=a=+g,h):n},h.tickSizeInner=function(g){return arguments.length?(n=+g,h):n},h.tickSizeOuter=function(g){return arguments.length?(a=+g,h):a},h.tickPadding=function(g){return arguments.length?(o=+g,h):o},h.offset=function(g){return arguments.length?(s=+g,h):s},h}function Zs(e){return Kc(Tc,e)}function qs(e){return Kc(Ec,e)}function tl(e){return Kc(zm,e)}function el(e){return Kc(js,e)}var Zk={value:()=>{}};function A1(){for(var e=0,t=arguments.length,r={},A;e<t;++e){if(!(A=arguments[e]+"")||A in r||/[\s.]/.test(A))throw new Error("illegal type: "+A);r[A]=[]}return new Dc(r)}function Dc(e){this._=e}function qk(e,t){return e.trim().split(/^|\s+/).map(function(r){var A="",i=r.indexOf(".");if(i>=0&&(A=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:A}})}Dc.prototype=A1.prototype={constructor:Dc,on:function(e,t){var r=this._,A=qk(e+"",r),i,n=-1,a=A.length;if(arguments.length<2){for(;++n<a;)if((i=(e=A[n]).type)&&(i=t4(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++n<a;)if(i=(e=A[n]).type)r[i]=r1(r[i],e.name,t);else if(t==null)for(i in r)r[i]=r1(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Dc(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),A=0,i,n;A<i;++A)r[A]=arguments[A+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(n=this._[e],A=0,i=n.length;A<i;++A)n[A].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var A=this._[e],i=0,n=A.length;i<n;++i)A[i].value.apply(t,r)}};function t4(e,t){for(var r=0,A=e.length,i;r<A;++r)if((i=e[r]).name===t)return i.value}function r1(e,t,r){for(var A=0,i=e.length;A<i;++A)if(e[A].name===t){e[A]=Zk,e=e.slice(0,A).concat(e.slice(A+1));break}return r!=null&&e.push({name:t,value:r}),e}var iA=A1;var Ic="http://www.w3.org/1999/xhtml",rl={svg:"http://www.w3.org/2000/svg",xhtml:Ic,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function OA(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),rl.hasOwnProperty(t)?{space:rl[t],local:e}:e}function e4(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Ic&&t.documentElement.namespaceURI===Ic?t.createElement(e):t.createElementNS(r,e)}}function r4(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function en(e){var t=OA(e);return(t.local?r4:e4)(t)}function A4(){}function rn(e){return e==null?A4:function(){return this.querySelector(e)}}function i1(e){typeof e!="function"&&(e=rn(e));for(var t=this._groups,r=t.length,A=new Array(r),i=0;i<r;++i)for(var n=t[i],a=n.length,o=A[i]=new Array(a),s,l,c=0;c<a;++c)(s=n[c])&&(l=e.call(s,s.__data__,c,n))&&("__data__"in s&&(l.__data__=s.__data__),o[c]=l);return new pe(A,this._parents)}function Al(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function i4(){return[]}function po(e){return e==null?i4:function(){return this.querySelectorAll(e)}}function n4(e){return function(){return Al(e.apply(this,arguments))}}function n1(e){typeof e=="function"?e=n4(e):e=po(e);for(var t=this._groups,r=t.length,A=[],i=[],n=0;n<r;++n)for(var a=t[n],o=a.length,s,l=0;l<o;++l)(s=a[l])&&(A.push(e.call(s,s.__data__,l,a)),i.push(s));return new pe(A,i)}function mo(e){return function(){return this.matches(e)}}function Sc(e){return function(t){return t.matches(e)}}var a4=Array.prototype.find;function o4(e){return function(){return a4.call(this.children,e)}}function s4(){return this.firstElementChild}function a1(e){return this.select(e==null?s4:o4(typeof e=="function"?e:Sc(e)))}var l4=Array.prototype.filter;function u4(){return Array.from(this.children)}function c4(e){return function(){return l4.call(this.children,e)}}function o1(e){return this.selectAll(e==null?u4:c4(typeof e=="function"?e:Sc(e)))}function s1(e){typeof e!="function"&&(e=mo(e));for(var t=this._groups,r=t.length,A=new Array(r),i=0;i<r;++i)for(var n=t[i],a=n.length,o=A[i]=[],s,l=0;l<a;++l)(s=n[l])&&e.call(s,s.__data__,l,n)&&o.push(s);return new pe(A,this._parents)}function kc(e){return new Array(e.length)}function l1(){return new pe(this._enter||this._groups.map(kc),this._parents)}function il(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}il.prototype={constructor:il,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function u1(e){return function(){return e}}function f4(e,t,r,A,i,n){for(var a=0,o,s=t.length,l=n.length;a<l;++a)(o=t[a])?(o.__data__=n[a],A[a]=o):r[a]=new il(e,n[a]);for(;a<s;++a)(o=t[a])&&(i[a]=o)}function h4(e,t,r,A,i,n,a){var o,s,l=new Map,c=t.length,m=n.length,h=new Array(c),g;for(o=0;o<c;++o)(s=t[o])&&(h[o]=g=a.call(s,s.__data__,o,t)+"",l.has(g)?i[o]=s:l.set(g,s));for(o=0;o<m;++o)g=a.call(e,n[o],o,n)+"",(s=l.get(g))?(A[o]=s,s.__data__=n[o],l.delete(g)):r[o]=new il(e,n[o]);for(o=0;o<c;++o)(s=t[o])&&l.get(h[o])===s&&(i[o]=s)}function p4(e){return e.__data__}function c1(e,t){if(!arguments.length)return Array.from(this,p4);var r=t?h4:f4,A=this._parents,i=this._groups;typeof e!="function"&&(e=u1(e));for(var n=i.length,a=new Array(n),o=new Array(n),s=new Array(n),l=0;l<n;++l){var c=A[l],m=i[l],h=m.length,g=d4(e.call(c,c&&c.__data__,l,A)),C=g.length,b=o[l]=new Array(C),w=a[l]=new Array(C),v=s[l]=new Array(h);r(c,m,b,w,v,g,t);for(var Q=0,x=0,_,E;Q<C;++Q)if(_=b[Q]){for(Q>=x&&(x=Q+1);!(E=w[x])&&++x<C;);_._next=E||null}}return a=new pe(a,A),a._enter=o,a._exit=s,a}function d4(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function f1(){return new pe(this._exit||this._groups.map(kc),this._parents)}function h1(e,t,r){var A=this.enter(),i=this,n=this.exit();return typeof e=="function"?(A=e(A),A&&(A=A.selection())):A=A.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?n.remove():r(n),A&&i?A.merge(i).order():i}function p1(e){for(var t=e.selection?e.selection():e,r=this._groups,A=t._groups,i=r.length,n=A.length,a=Math.min(i,n),o=new Array(i),s=0;s<a;++s)for(var l=r[s],c=A[s],m=l.length,h=o[s]=new Array(m),g,C=0;C<m;++C)(g=l[C]||c[C])&&(h[C]=g);for(;s<i;++s)o[s]=r[s];return new pe(o,this._parents)}function d1(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var A=e[t],i=A.length-1,n=A[i],a;--i>=0;)(a=A[i])&&(n&&a.compareDocumentPosition(n)^4&&n.parentNode.insertBefore(a,n),n=a);return this}function m1(e){e||(e=m4);function t(m,h){return m&&h?e(m.__data__,h.__data__):!m-!h}for(var r=this._groups,A=r.length,i=new Array(A),n=0;n<A;++n){for(var a=r[n],o=a.length,s=i[n]=new Array(o),l,c=0;c<o;++c)(l=a[c])&&(s[c]=l);s.sort(t)}return new pe(i,this._parents).order()}function m4(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function g1(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function B1(){return Array.from(this)}function C1(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var A=e[t],i=0,n=A.length;i<n;++i){var a=A[i];if(a)return a}return null}function b1(){let e=0;for(let t of this)++e;return e}function w1(){return!this.node()}function y1(e){for(var t=this._groups,r=0,A=t.length;r<A;++r)for(var i=t[r],n=0,a=i.length,o;n<a;++n)(o=i[n])&&e.call(o,o.__data__,n,i);return this}function g4(e){return function(){this.removeAttribute(e)}}function B4(e){return function(){this.removeAttributeNS(e.space,e.local)}}function C4(e,t){return function(){this.setAttribute(e,t)}}function b4(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function w4(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function y4(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function v1(e,t){var r=OA(e);if(arguments.length<2){var A=this.node();return r.local?A.getAttributeNS(r.space,r.local):A.getAttribute(r)}return this.each((t==null?r.local?B4:g4:typeof t=="function"?r.local?y4:w4:r.local?b4:C4)(r,t))}function go(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function v4(e){return function(){this.style.removeProperty(e)}}function _4(e,t,r){return function(){this.style.setProperty(e,t,r)}}function x4(e,t,r){return function(){var A=t.apply(this,arguments);A==null?this.style.removeProperty(e):this.style.setProperty(e,A,r)}}function _1(e,t,r){return arguments.length>1?this.each((t==null?v4:typeof t=="function"?x4:_4)(e,t,r??"")):wi(this.node(),e)}function wi(e,t){return e.style.getPropertyValue(t)||go(e).getComputedStyle(e,null).getPropertyValue(t)}function Q4(e){return function(){delete this[e]}}function F4(e,t){return function(){this[e]=t}}function U4(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function x1(e,t){return arguments.length>1?this.each((t==null?Q4:typeof t=="function"?U4:F4)(e,t)):this.node()[e]}function Q1(e){return e.trim().split(/^|\s+/)}function Xm(e){return e.classList||new F1(e)}function F1(e){this._node=e,this._names=Q1(e.getAttribute("class")||"")}F1.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function U1(e,t){for(var r=Xm(e),A=-1,i=t.length;++A<i;)r.add(t[A])}function T1(e,t){for(var r=Xm(e),A=-1,i=t.length;++A<i;)r.remove(t[A])}function T4(e){return function(){U1(this,e)}}function E4(e){return function(){T1(this,e)}}function K4(e,t){return function(){(t.apply(this,arguments)?U1:T1)(this,e)}}function E1(e,t){var r=Q1(e+"");if(arguments.length<2){for(var A=Xm(this.node()),i=-1,n=r.length;++i<n;)if(!A.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?K4:t?T4:E4)(r,t))}function D4(){this.textContent=""}function I4(e){return function(){this.textContent=e}}function S4(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function K1(e){return arguments.length?this.each(e==null?D4:(typeof e=="function"?S4:I4)(e)):this.node().textContent}function k4(){this.innerHTML=""}function L4(e){return function(){this.innerHTML=e}}function H4(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function D1(e){return arguments.length?this.each(e==null?k4:(typeof e=="function"?H4:L4)(e)):this.node().innerHTML}function M4(){this.nextSibling&&this.parentNode.appendChild(this)}function I1(){return this.each(M4)}function P4(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function S1(){return this.each(P4)}function k1(e){var t=typeof e=="function"?e:en(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function R4(){return null}function L1(e,t){var r=typeof e=="function"?e:en(e),A=t==null?R4:typeof t=="function"?t:rn(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),A.apply(this,arguments)||null)})}function O4(){var e=this.parentNode;e&&e.removeChild(this)}function H1(){return this.each(O4)}function N4(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function V4(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function M1(e){return this.select(e?V4:N4)}function P1(e){return arguments.length?this.property("__data__",e):this.node().__data__}function W4(e){return function(t){e.call(this,t,this.__data__)}}function G4(e){return e.trim().split(/^|\s+/).map(function(t){var r="",A=t.indexOf(".");return A>=0&&(r=t.slice(A+1),t=t.slice(0,A)),{type:t,name:r}})}function z4(e){return function(){var t=this.__on;if(t){for(var r=0,A=-1,i=t.length,n;r<i;++r)n=t[r],(!e.type||n.type===e.type)&&n.name===e.name?this.removeEventListener(n.type,n.listener,n.options):t[++A]=n;++A?t.length=A:delete this.__on}}}function X4(e,t,r){return function(){var A=this.__on,i,n=W4(t);if(A){for(var a=0,o=A.length;a<o;++a)if((i=A[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=n,i.options=r),i.value=t;return}}this.addEventListener(e.type,n,r),i={type:e.type,name:e.name,value:t,listener:n,options:r},A?A.push(i):this.__on=[i]}}function R1(e,t,r){var A=G4(e+""),i,n=A.length,a;if(arguments.length<2){var o=this.node().__on;if(o){for(var s=0,l=o.length,c;s<l;++s)for(i=0,c=o[s];i<n;++i)if((a=A[i]).type===c.type&&a.name===c.name)return c.value}return}for(o=t?X4:z4,i=0;i<n;++i)this.each(o(A[i],t,r));return this}function O1(e,t,r){var A=go(e),i=A.CustomEvent;typeof i=="function"?i=new i(t,r):(i=A.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Y4(e,t){return function(){return O1(this,e,t)}}function $4(e,t){return function(){return O1(this,e,t.apply(this,arguments))}}function N1(e,t){return this.each((typeof t=="function"?$4:Y4)(e,t))}function*V1(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var A=e[t],i=0,n=A.length,a;i<n;++i)(a=A[i])&&(yield a)}var nl=[null];function pe(e,t){this._groups=e,this._parents=t}function W1(){return new pe([[document.documentElement]],nl)}function J4(){return this}pe.prototype=W1.prototype={constructor:pe,select:i1,selectAll:n1,selectChild:a1,selectChildren:o1,filter:s1,data:c1,enter:l1,exit:f1,join:h1,merge:p1,selection:J4,order:d1,sort:m1,call:g1,nodes:B1,node:C1,size:b1,empty:w1,each:y1,attr:v1,style:_1,property:x1,classed:E1,text:K1,html:D1,raise:I1,lower:S1,append:k1,insert:L1,remove:H1,clone:M1,datum:P1,on:R1,dispatch:N1,[Symbol.iterator]:V1};var NA=W1;function Dt(e){return typeof e=="string"?new pe([[document.querySelector(e)]],[document.documentElement]):new pe([[e]],nl)}function G1(e){return Dt(en(e).call(document.documentElement))}var j4=0;function Lc(){return new Ym}function Ym(){this._="@"+(++j4).toString(36)}Ym.prototype=Lc.prototype={constructor:Ym,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};function Hc(e){let t;for(;t=e.sourceEvent;)e=t;return e}function He(e,t){if(e=Hc(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var A=r.createSVGPoint();return A.x=e.clientX,A.y=e.clientY,A=A.matrixTransform(t.getScreenCTM().inverse()),[A.x,A.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function z1(e,t){return e.target&&(e=Hc(e),t===void 0&&(t=e.currentTarget),e=e.touches||[e]),Array.from(e,r=>He(r,t))}function X1(e){return typeof e=="string"?new pe([document.querySelectorAll(e)],[document.documentElement]):new pe([Al(e)],nl)}var Y1={passive:!1},qn={capture:!0,passive:!1};function Mc(e){e.stopImmediatePropagation()}function An(e){e.preventDefault(),e.stopImmediatePropagation()}function nn(e){var t=e.document.documentElement,r=Dt(e).on("dragstart.drag",An,qn);"onselectstart"in t?r.on("selectstart.drag",An,qn):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function an(e,t){var r=e.document.documentElement,A=Dt(e).on("dragstart.drag",null);t&&(A.on("click.drag",An,qn),setTimeout(function(){A.on("click.drag",null)},0)),"onselectstart"in r?A.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}var al=e=>()=>e;function ol(e,{sourceEvent:t,subject:r,target:A,identifier:i,active:n,x:a,y:o,dx:s,dy:l,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:A,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:n,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:s,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:c}})}ol.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Z4(e){return!e.ctrlKey&&!e.button}function q4(){return this.parentNode}function tL(e,t){return t??{x:e.x,y:e.y}}function eL(){return navigator.maxTouchPoints||"ontouchstart"in this}function $1(){var e=Z4,t=q4,r=tL,A=eL,i={},n=iA("start","drag","end"),a=0,o,s,l,c,m=0;function h(_){_.on("mousedown.drag",g).filter(A).on("touchstart.drag",w).on("touchmove.drag",v,Y1).on("touchend.drag touchcancel.drag",Q).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(_,E){if(!(c||!e.call(this,_,E))){var K=x(this,t.call(this,_,E),_,E,"mouse");K&&(Dt(_.view).on("mousemove.drag",C,qn).on("mouseup.drag",b,qn),nn(_.view),Mc(_),l=!1,o=_.clientX,s=_.clientY,K("start",_))}}function C(_){if(An(_),!l){var E=_.clientX-o,K=_.clientY-s;l=E*E+K*K>m}i.mouse("drag",_)}function b(_){Dt(_.view).on("mousemove.drag mouseup.drag",null),an(_.view,l),An(_),i.mouse("end",_)}function w(_,E){if(e.call(this,_,E)){var K=_.changedTouches,P=t.call(this,_,E),R=K.length,O,M;for(O=0;O<R;++O)(M=x(this,P,_,E,K[O].identifier,K[O]))&&(Mc(_),M("start",_,K[O]))}}function v(_){var E=_.changedTouches,K=E.length,P,R;for(P=0;P<K;++P)(R=i[E[P].identifier])&&(An(_),R("drag",_,E[P]))}function Q(_){var E=_.changedTouches,K=E.length,P,R;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),P=0;P<K;++P)(R=i[E[P].identifier])&&(Mc(_),R("end",_,E[P]))}function x(_,E,K,P,R,O){var M=n.copy(),I=He(O||K,E),X,V,D;if((D=r.call(_,new ol("beforestart",{sourceEvent:K,target:h,identifier:R,active:a,x:I[0],y:I[1],dx:0,dy:0,dispatch:M}),P))!=null)return X=D.x-I[0]||0,V=D.y-I[1]||0,function L(k,W,J){var Y=I,At;switch(k){case"start":i[R]=L,At=a++;break;case"end":delete i[R],--a;case"drag":I=He(J||W,E),At=a;break}M.call(k,_,new ol(k,{sourceEvent:W,subject:D,target:h,identifier:R,active:At,x:I[0]+X,y:I[1]+V,dx:I[0]-Y[0],dy:I[1]-Y[1],dispatch:M}),P)}}return h.filter=function(_){return arguments.length?(e=typeof _=="function"?_:al(!!_),h):e},h.container=function(_){return arguments.length?(t=typeof _=="function"?_:al(_),h):t},h.subject=function(_){return arguments.length?(r=typeof _=="function"?_:al(_),h):r},h.touchable=function(_){return arguments.length?(A=typeof _=="function"?_:al(!!_),h):A},h.on=function(){var _=n.on.apply(n,arguments);return _===n?h:_},h.clickDistance=function(_){return arguments.length?(m=(_=+_)*_,h):Math.sqrt(m)},h}function yi(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function on(e,t){var r=Object.create(e.prototype);for(var A in t)r[A]=t[A];return r}function WA(){}var sn=.7,ra=1/sn,Bo="\\s*([+-]?\\d+)\\s*",sl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",VA="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rL=/^#([0-9a-f]{3,8})$/,AL=new RegExp(`^rgb\\(${Bo},${Bo},${Bo}\\)$`),iL=new RegExp(`^rgb\\(${VA},${VA},${VA}\\)$`),nL=new RegExp(`^rgba\\(${Bo},${Bo},${Bo},${sl}\\)$`),aL=new RegExp(`^rgba\\(${VA},${VA},${VA},${sl}\\)$`),oL=new RegExp(`^hsl\\(${sl},${VA},${VA}\\)$`),sL=new RegExp(`^hsla\\(${sl},${VA},${VA},${sl}\\)$`),J1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yi(WA,nA,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:j1,formatHex:j1,formatHex8:lL,formatHsl:uL,formatRgb:Z1,toString:Z1});function j1(){return this.rgb().formatHex()}function lL(){return this.rgb().formatHex8()}function uL(){return iy(this).formatHsl()}function Z1(){return this.rgb().formatRgb()}function nA(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=rL.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?q1(t):r===3?new Me(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Pc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Pc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=AL.exec(e))?new Me(t[1],t[2],t[3],1):(t=iL.exec(e))?new Me(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=nL.exec(e))?Pc(t[1],t[2],t[3],t[4]):(t=aL.exec(e))?Pc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=oL.exec(e))?ry(t[1],t[2]/100,t[3]/100,1):(t=sL.exec(e))?ry(t[1],t[2]/100,t[3]/100,t[4]):J1.hasOwnProperty(e)?q1(J1[e]):e==="transparent"?new Me(NaN,NaN,NaN,0):null}function q1(e){return new Me(e>>16&255,e>>8&255,e&255,1)}function Pc(e,t,r,A){return A<=0&&(e=t=r=NaN),new Me(e,t,r,A)}function ll(e){return e instanceof WA||(e=nA(e)),e?(e=e.rgb(),new Me(e.r,e.g,e.b,e.opacity)):new Me}function vi(e,t,r,A){return arguments.length===1?ll(e):new Me(e,t,r,A??1)}function Me(e,t,r,A){this.r=+e,this.g=+t,this.b=+r,this.opacity=+A}yi(Me,vi,on(WA,{brighter(e){return e=e==null?ra:Math.pow(ra,e),new Me(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?sn:Math.pow(sn,e),new Me(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Me(ea(this.r),ea(this.g),ea(this.b),Oc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ty,formatHex:ty,formatHex8:cL,formatRgb:ey,toString:ey}));function ty(){return`#${ta(this.r)}${ta(this.g)}${ta(this.b)}`}function cL(){return`#${ta(this.r)}${ta(this.g)}${ta(this.b)}${ta((isNaN(this.opacity)?1:this.opacity)*255)}`}function ey(){let e=Oc(this.opacity);return`${e===1?"rgb(":"rgba("}${ea(this.r)}, ${ea(this.g)}, ${ea(this.b)}${e===1?")":`, ${e})`}`}function Oc(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ea(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ta(e){return e=ea(e),(e<16?"0":"")+e.toString(16)}function ry(e,t,r,A){return A<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new yA(e,t,r,A)}function iy(e){if(e instanceof yA)return new yA(e.h,e.s,e.l,e.opacity);if(e instanceof WA||(e=nA(e)),!e)return new yA;if(e instanceof yA)return e;e=e.rgb();var t=e.r/255,r=e.g/255,A=e.b/255,i=Math.min(t,r,A),n=Math.max(t,r,A),a=NaN,o=n-i,s=(n+i)/2;return o?(t===n?a=(r-A)/o+(r<A)*6:r===n?a=(A-t)/o+2:a=(t-r)/o+4,o/=s<.5?n+i:2-n-i,a*=60):o=s>0&&s<1?0:a,new yA(a,o,s,e.opacity)}function Co(e,t,r,A){return arguments.length===1?iy(e):new yA(e,t,r,A??1)}function yA(e,t,r,A){this.h=+e,this.s=+t,this.l=+r,this.opacity=+A}yi(yA,Co,on(WA,{brighter(e){return e=e==null?ra:Math.pow(ra,e),new yA(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?sn:Math.pow(sn,e),new yA(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,A=r+(r<.5?r:1-r)*t,i=2*r-A;return new Me($m(e>=240?e-240:e+120,i,A),$m(e,i,A),$m(e<120?e+240:e-120,i,A),this.opacity)},clamp(){return new yA(Ay(this.h),Rc(this.s),Rc(this.l),Oc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=Oc(this.opacity);return`${e===1?"hsl(":"hsla("}${Ay(this.h)}, ${Rc(this.s)*100}%, ${Rc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ay(e){return e=(e||0)%360,e<0?e+360:e}function Rc(e){return Math.max(0,Math.min(1,e||0))}function $m(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}var Nc=Math.PI/180,Vc=180/Math.PI;var Wc=18,ny=.96422,ay=1,oy=.82521,sy=4/29,bo=6/29,ly=3*bo*bo,fL=bo*bo*bo;function uy(e){if(e instanceof vA)return new vA(e.l,e.a,e.b,e.opacity);if(e instanceof GA)return py(e);e instanceof Me||(e=ll(e));var t=qm(e.r),r=qm(e.g),A=qm(e.b),i=Jm((.2225045*t+.7168786*r+.0606169*A)/ay),n,a;return t===r&&r===A?n=a=i:(n=Jm((.4360747*t+.3850649*r+.1430804*A)/ny),a=Jm((.0139322*t+.0971045*r+.7141733*A)/oy)),new vA(116*i-16,500*(n-i),200*(i-a),e.opacity)}function cy(e,t){return new vA(e,0,0,t??1)}function Aa(e,t,r,A){return arguments.length===1?uy(e):new vA(e,t,r,A??1)}function vA(e,t,r,A){this.l=+e,this.a=+t,this.b=+r,this.opacity=+A}yi(vA,Aa,on(WA,{brighter(e){return new vA(this.l+Wc*(e??1),this.a,this.b,this.opacity)},darker(e){return new vA(this.l-Wc*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return t=ny*jm(t),e=ay*jm(e),r=oy*jm(r),new Me(Zm(3.1338561*t-1.6168667*e-.4906146*r),Zm(-.9787684*t+1.9161415*e+.033454*r),Zm(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}}));function Jm(e){return e>fL?Math.pow(e,1/3):e/ly+sy}function jm(e){return e>bo?e*e*e:ly*(e-sy)}function Zm(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function qm(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function fy(e){if(e instanceof GA)return new GA(e.h,e.c,e.l,e.opacity);if(e instanceof vA||(e=uy(e)),e.a===0&&e.b===0)return new GA(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Vc;return new GA(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function hy(e,t,r,A){return arguments.length===1?fy(e):new GA(r,t,e,A??1)}function wo(e,t,r,A){return arguments.length===1?fy(e):new GA(e,t,r,A??1)}function GA(e,t,r,A){this.h=+e,this.c=+t,this.l=+r,this.opacity=+A}function py(e){if(isNaN(e.h))return new vA(e.l,0,0,e.opacity);var t=e.h*Nc;return new vA(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}yi(GA,wo,on(WA,{brighter(e){return new GA(this.h,this.c,this.l+Wc*(e??1),this.opacity)},darker(e){return new GA(this.h,this.c,this.l-Wc*(e??1),this.opacity)},rgb(){return py(this).rgb()}}));var By=-.14861,tg=1.78277,eg=-.29227,Gc=-.90649,ul=1.97294,dy=ul*Gc,my=ul*tg,gy=tg*eg-Gc*By;function hL(e){if(e instanceof ia)return new ia(e.h,e.s,e.l,e.opacity);e instanceof Me||(e=ll(e));var t=e.r/255,r=e.g/255,A=e.b/255,i=(gy*A+dy*t-my*r)/(gy+dy-my),n=A-i,a=(ul*(r-i)-eg*n)/Gc,o=Math.sqrt(a*a+n*n)/(ul*i*(1-i)),s=o?Math.atan2(a,n)*Vc-120:NaN;return new ia(s<0?s+360:s,o,i,e.opacity)}function pr(e,t,r,A){return arguments.length===1?hL(e):new ia(e,t,r,A??1)}function ia(e,t,r,A){this.h=+e,this.s=+t,this.l=+r,this.opacity=+A}yi(ia,pr,on(WA,{brighter(e){return e=e==null?ra:Math.pow(ra,e),new ia(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?sn:Math.pow(sn,e),new ia(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*Nc,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),A=Math.cos(e),i=Math.sin(e);return new Me(255*(t+r*(By*A+tg*i)),255*(t+r*(eg*A+Gc*i)),255*(t+r*(ul*A)),this.opacity)}}));function rg(e,t,r,A,i){var n=e*e,a=n*e;return((1-3*e+3*n-a)*t+(4-6*n+3*a)*r+(1+3*e+3*n-3*a)*A+a*i)/6}function zc(e){var t=e.length-1;return function(r){var A=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[A],n=e[A+1],a=A>0?e[A-1]:2*i-n,o=A<t-1?e[A+2]:2*n-i;return rg((r-A/t)*t,a,i,n,o)}}function Xc(e){var t=e.length;return function(r){var A=Math.floor(((r%=1)<0?++r:r)*t),i=e[(A+t-1)%t],n=e[A%t],a=e[(A+1)%t],o=e[(A+2)%t];return rg((r-A/t)*t,i,n,a,o)}}var yo=e=>()=>e;function Cy(e,t){return function(r){return e+r*t}}function pL(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(A){return Math.pow(e+A*t,r)}}function ln(e,t){var r=t-e;return r?Cy(e,r>180||r<-180?r-360*Math.round(r/360):r):yo(isNaN(e)?t:e)}function by(e){return(e=+e)==1?Ce:function(t,r){return r-t?pL(t,r,e):yo(isNaN(t)?r:t)}}function Ce(e,t){var r=t-e;return r?Cy(e,r):yo(isNaN(e)?t:e)}var un=function e(t){var r=by(t);function A(i,n){var a=r((i=vi(i)).r,(n=vi(n)).r),o=r(i.g,n.g),s=r(i.b,n.b),l=Ce(i.opacity,n.opacity);return function(c){return i.r=a(c),i.g=o(c),i.b=s(c),i.opacity=l(c),i+""}}return A.gamma=e,A}(1);function wy(e){return function(t){var r=t.length,A=new Array(r),i=new Array(r),n=new Array(r),a,o;for(a=0;a<r;++a)o=vi(t[a]),A[a]=o.r||0,i[a]=o.g||0,n[a]=o.b||0;return A=e(A),i=e(i),n=e(n),o.opacity=1,function(s){return o.r=A(s),o.g=i(s),o.b=n(s),o+""}}}var Yc=wy(zc),yy=wy(Xc);function vo(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,A=t.slice(),i;return function(n){for(i=0;i<r;++i)A[i]=e[i]*(1-n)+t[i]*n;return A}}function $c(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function vy(e,t){return($c(t)?vo:Ag)(e,t)}function Ag(e,t){var r=t?t.length:0,A=e?Math.min(r,e.length):0,i=new Array(A),n=new Array(r),a;for(a=0;a<A;++a)i[a]=dr(e[a],t[a]);for(;a<r;++a)n[a]=t[a];return function(o){for(a=0;a<A;++a)n[a]=i[a](o);return n}}function Jc(e,t){var r=new Date;return e=+e,t=+t,function(A){return r.setTime(e*(1-A)+t*A),r}}function je(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function jc(e,t){var r={},A={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=dr(e[i],t[i]):A[i]=t[i];return function(n){for(i in r)A[i]=r[i](n);return A}}var ng=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ig=new RegExp(ng.source,"g");function dL(e){return function(){return e}}function mL(e){return function(t){return e(t)+""}}function _o(e,t){var r=ng.lastIndex=ig.lastIndex=0,A,i,n,a=-1,o=[],s=[];for(e=e+"",t=t+"";(A=ng.exec(e))&&(i=ig.exec(t));)(n=i.index)>r&&(n=t.slice(r,n),o[a]?o[a]+=n:o[++a]=n),(A=A[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,s.push({i:a,x:je(A,i)})),r=ig.lastIndex;return r<t.length&&(n=t.slice(r),o[a]?o[a]+=n:o[++a]=n),o.length<2?s[0]?mL(s[0].x):dL(t):(t=s.length,function(l){for(var c=0,m;c<t;++c)o[(m=s[c]).i]=m.x(l);return o.join("")})}function dr(e,t){var r=typeof t,A;return t==null||r==="boolean"?yo(t):(r==="number"?je:r==="string"?(A=nA(t))?(t=A,un):_o:t instanceof nA?un:t instanceof Date?Jc:$c(t)?vo:Array.isArray(t)?Ag:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?jc:je)(e,t)}function _y(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}function xy(e,t){var r=ln(+e,+t);return function(A){var i=r(A);return i-360*Math.floor(i/360)}}function cn(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var Qy=180/Math.PI,Zc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ag(e,t,r,A,i,n){var a,o,s;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(s=e*r+t*A)&&(r-=e*s,A-=t*s),(o=Math.sqrt(r*r+A*A))&&(r/=o,A/=o,s/=o),e*A<t*r&&(e=-e,t=-t,s=-s,a=-a),{translateX:i,translateY:n,rotate:Math.atan2(t,e)*Qy,skewX:Math.atan(s)*Qy,scaleX:a,scaleY:o}}var qc;function Fy(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Zc:ag(t.a,t.b,t.c,t.d,t.e,t.f)}function Uy(e){return e==null?Zc:(qc||(qc=document.createElementNS("http://www.w3.org/2000/svg","g")),qc.setAttribute("transform",e),(e=qc.transform.baseVal.consolidate())?(e=e.matrix,ag(e.a,e.b,e.c,e.d,e.e,e.f)):Zc)}function Ty(e,t,r,A){function i(l){return l.length?l.pop()+" ":""}function n(l,c,m,h,g,C){if(l!==m||c!==h){var b=g.push("translate(",null,t,null,r);C.push({i:b-4,x:je(l,m)},{i:b-2,x:je(c,h)})}else(m||h)&&g.push("translate("+m+t+h+r)}function a(l,c,m,h){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),h.push({i:m.push(i(m)+"rotate(",null,A)-2,x:je(l,c)})):c&&m.push(i(m)+"rotate("+c+A)}function o(l,c,m,h){l!==c?h.push({i:m.push(i(m)+"skewX(",null,A)-2,x:je(l,c)}):c&&m.push(i(m)+"skewX("+c+A)}function s(l,c,m,h,g,C){if(l!==m||c!==h){var b=g.push(i(g)+"scale(",null,",",null,")");C.push({i:b-4,x:je(l,m)},{i:b-2,x:je(c,h)})}else(m!==1||h!==1)&&g.push(i(g)+"scale("+m+","+h+")")}return function(l,c){var m=[],h=[];return l=e(l),c=e(c),n(l.translateX,l.translateY,c.translateX,c.translateY,m,h),a(l.rotate,c.rotate,m,h),o(l.skewX,c.skewX,m,h),s(l.scaleX,l.scaleY,c.scaleX,c.scaleY,m,h),l=c=null,function(g){for(var C=-1,b=h.length,w;++C<b;)m[(w=h[C]).i]=w.x(g);return m.join("")}}}var tf=Ty(Fy,"px, ","px)","deg)"),ef=Ty(Uy,", ",")",")");var gL=1e-12;function Ey(e){return((e=Math.exp(e))+1/e)/2}function BL(e){return((e=Math.exp(e))-1/e)/2}function CL(e){return((e=Math.exp(2*e))-1)/(e+1)}var rf=function e(t,r,A){function i(n,a){var o=n[0],s=n[1],l=n[2],c=a[0],m=a[1],h=a[2],g=c-o,C=m-s,b=g*g+C*C,w,v;if(b<gL)v=Math.log(h/l)/t,w=function(P){return[o+P*g,s+P*C,l*Math.exp(t*P*v)]};else{var Q=Math.sqrt(b),x=(h*h-l*l+A*b)/(2*l*r*Q),_=(h*h-l*l-A*b)/(2*h*r*Q),E=Math.log(Math.sqrt(x*x+1)-x),K=Math.log(Math.sqrt(_*_+1)-_);v=(K-E)/t,w=function(P){var R=P*v,O=Ey(E),M=l/(r*Q)*(O*CL(t*R+E)-BL(E));return[o+M*g,s+M*C,l*O/Ey(t*R+E)]}}return w.duration=v*1e3*t/Math.SQRT2,w}return i.rho=function(n){var a=Math.max(.001,+n),o=a*a,s=o*o;return e(a,o,s)},i}(Math.SQRT2,2,4);function Ky(e){return function(t,r){var A=e((t=Co(t)).h,(r=Co(r)).h),i=Ce(t.s,r.s),n=Ce(t.l,r.l),a=Ce(t.opacity,r.opacity);return function(o){return t.h=A(o),t.s=i(o),t.l=n(o),t.opacity=a(o),t+""}}}var Dy=Ky(ln),Iy=Ky(Ce);function og(e,t){var r=Ce((e=Aa(e)).l,(t=Aa(t)).l),A=Ce(e.a,t.a),i=Ce(e.b,t.b),n=Ce(e.opacity,t.opacity);return function(a){return e.l=r(a),e.a=A(a),e.b=i(a),e.opacity=n(a),e+""}}function Sy(e){return function(t,r){var A=e((t=wo(t)).h,(r=wo(r)).h),i=Ce(t.c,r.c),n=Ce(t.l,r.l),a=Ce(t.opacity,r.opacity);return function(o){return t.h=A(o),t.c=i(o),t.l=n(o),t.opacity=a(o),t+""}}}var ky=Sy(ln),Ly=Sy(Ce);function Hy(e){return function t(r){r=+r;function A(i,n){var a=e((i=pr(i)).h,(n=pr(n)).h),o=Ce(i.s,n.s),s=Ce(i.l,n.l),l=Ce(i.opacity,n.opacity);return function(c){return i.h=a(c),i.s=o(c),i.l=s(Math.pow(c,r)),i.opacity=l(c),i+""}}return A.gamma=t,A}(1)}var My=Hy(ln),na=Hy(Ce);function cl(e,t){t===void 0&&(t=e,e=dr);for(var r=0,A=t.length-1,i=t[0],n=new Array(A<0?0:A);r<A;)n[r]=e(i,i=t[++r]);return function(a){var o=Math.max(0,Math.min(A-1,Math.floor(a*=A)));return n[o](a-o)}}function Py(e,t){for(var r=new Array(t),A=0;A<t;++A)r[A]=e(A/(t-1));return r}var xo=0,hl=0,fl=0,Oy=1e3,Af,pl,nf=0,aa=0,af=0,dl=typeof performance=="object"&&performance.now?performance:Date,Ny=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function fn(){return aa||(Ny(bL),aa=dl.now()+af)}function bL(){aa=0}function oa(){this._call=this._time=this._next=null}oa.prototype=sa.prototype={constructor:oa,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?fn():+r)+(t==null?0:+t),!this._next&&pl!==this&&(pl?pl._next=this:Af=this,pl=this),this._call=e,this._time=r,sg()},stop:function(){this._call&&(this._call=null,this._time=1/0,sg())}};function sa(e,t,r){var A=new oa;return A.restart(e,t,r),A}function lg(){fn(),++xo;for(var e=Af,t;e;)(t=aa-e._time)>=0&&e._call.call(void 0,t),e=e._next;--xo}function Ry(){aa=(nf=dl.now())+af,xo=hl=0;try{lg()}finally{xo=0,yL(),aa=0}}function wL(){var e=dl.now(),t=e-nf;t>Oy&&(af-=t,nf=e)}function yL(){for(var e,t=Af,r,A=1/0;t;)t._call?(A>t._time&&(A=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:Af=r);pl=e,sg(A)}function sg(e){if(!xo){hl&&(hl=clearTimeout(hl));var t=e-aa;t>24?(e<1/0&&(hl=setTimeout(Ry,e-dl.now()-af)),fl&&(fl=clearInterval(fl))):(fl||(nf=dl.now(),fl=setInterval(wL,Oy)),xo=1,Ny(Ry))}}function ml(e,t,r){var A=new oa;return t=t==null?0:+t,A.restart(i=>{A.stop(),e(i+t)},t,r),A}function Vy(e,t,r){var A=new oa,i=t;return t==null?(A.restart(e,t,r),A):(A._restart=A.restart,A.restart=function(n,a,o){a=+a,o=o==null?fn():+o,A._restart(function s(l){l+=i,A._restart(s,i+=a,o),n(l)},a,o)},A.restart(e,t,r),A)}var vL=iA("start","end","cancel","interrupt"),_L=[],Gy=0,sf=1,lf=2,of=3,Wy=4,uf=5,gl=6;function hn(e,t,r,A,i,n){var a=e.__transition;if(!a)e.__transition={};else if(r in a)return;xL(e,r,{name:t,index:A,group:i,on:vL,tween:_L,time:n.time,delay:n.delay,duration:n.duration,ease:n.ease,timer:null,state:Gy})}function Bl(e,t){var r=ze(e,t);if(r.state>Gy)throw new Error("too late; already scheduled");return r}function sr(e,t){var r=ze(e,t);if(r.state>of)throw new Error("too late; already running");return r}function ze(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function xL(e,t,r){var A=e.__transition,i;A[t]=r,r.timer=sa(n,0,r.time);function n(l){r.state=sf,r.timer.restart(a,r.delay,r.time),r.delay<=l&&a(l-r.delay)}function a(l){var c,m,h,g;if(r.state!==sf)return s();for(c in A)if(g=A[c],g.name===r.name){if(g.state===of)return ml(a);g.state===Wy?(g.state=gl,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete A[c]):+c<t&&(g.state=gl,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete A[c])}if(ml(function(){r.state===of&&(r.state=Wy,r.timer.restart(o,r.delay,r.time),o(l))}),r.state=lf,r.on.call("start",e,e.__data__,r.index,r.group),r.state===lf){for(r.state=of,i=new Array(h=r.tween.length),c=0,m=-1;c<h;++c)(g=r.tween[c].value.call(e,e.__data__,r.index,r.group))&&(i[++m]=g);i.length=m+1}}function o(l){for(var c=l<r.duration?r.ease.call(null,l/r.duration):(r.timer.restart(s),r.state=uf,1),m=-1,h=i.length;++m<h;)i[m].call(e,c);r.state===uf&&(r.on.call("end",e,e.__data__,r.index,r.group),s())}function s(){r.state=gl,r.timer.stop(),delete A[t];for(var l in A)return;delete e.__transition}}function _A(e,t){var r=e.__transition,A,i,n=!0,a;if(r){t=t==null?null:t+"";for(a in r){if((A=r[a]).name!==t){n=!1;continue}i=A.state>lf&&A.state<uf,A.state=gl,A.timer.stop(),A.on.call(i?"interrupt":"cancel",e,e.__data__,A.index,A.group),delete r[a]}n&&delete e.__transition}}function zy(e){return this.each(function(){_A(this,e)})}function QL(e,t){var r,A;return function(){var i=sr(this,e),n=i.tween;if(n!==r){A=r=n;for(var a=0,o=A.length;a<o;++a)if(A[a].name===t){A=A.slice(),A.splice(a,1);break}}i.tween=A}}function FL(e,t,r){var A,i;if(typeof r!="function")throw new Error;return function(){var n=sr(this,e),a=n.tween;if(a!==A){i=(A=a).slice();for(var o={name:t,value:r},s=0,l=i.length;s<l;++s)if(i[s].name===t){i[s]=o;break}s===l&&i.push(o)}n.tween=i}}function Xy(e,t){var r=this._id;if(e+="",arguments.length<2){for(var A=ze(this.node(),r).tween,i=0,n=A.length,a;i<n;++i)if((a=A[i]).name===e)return a.value;return null}return this.each((t==null?QL:FL)(r,e,t))}function Qo(e,t,r){var A=e._id;return e.each(function(){var i=sr(this,A);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return ze(i,A).value[t]}}function cf(e,t){var r;return(typeof t=="number"?je:t instanceof nA?un:(r=nA(t))?(t=r,un):_o)(e,t)}function UL(e){return function(){this.removeAttribute(e)}}function TL(e){return function(){this.removeAttributeNS(e.space,e.local)}}function EL(e,t,r){var A,i=r+"",n;return function(){var a=this.getAttribute(e);return a===i?null:a===A?n:n=t(A=a,r)}}function KL(e,t,r){var A,i=r+"",n;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===A?n:n=t(A=a,r)}}function DL(e,t,r){var A,i,n;return function(){var a,o=r(this),s;return o==null?void this.removeAttribute(e):(a=this.getAttribute(e),s=o+"",a===s?null:a===A&&s===i?n:(i=s,n=t(A=a,o)))}}function IL(e,t,r){var A,i,n;return function(){var a,o=r(this),s;return o==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),s=o+"",a===s?null:a===A&&s===i?n:(i=s,n=t(A=a,o)))}}function Yy(e,t){var r=OA(e),A=r==="transform"?ef:cf;return this.attrTween(e,typeof t=="function"?(r.local?IL:DL)(r,A,Qo(this,"attr."+e,t)):t==null?(r.local?TL:UL)(r):(r.local?KL:EL)(r,A,t))}function SL(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function kL(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function LL(e,t){var r,A;function i(){var n=t.apply(this,arguments);return n!==A&&(r=(A=n)&&kL(e,n)),r}return i._value=t,i}function HL(e,t){var r,A;function i(){var n=t.apply(this,arguments);return n!==A&&(r=(A=n)&&SL(e,n)),r}return i._value=t,i}function $y(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var A=OA(e);return this.tween(r,(A.local?LL:HL)(A,t))}function ML(e,t){return function(){Bl(this,e).delay=+t.apply(this,arguments)}}function PL(e,t){return t=+t,function(){Bl(this,e).delay=t}}function Jy(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ML:PL)(t,e)):ze(this.node(),t).delay}function RL(e,t){return function(){sr(this,e).duration=+t.apply(this,arguments)}}function OL(e,t){return t=+t,function(){sr(this,e).duration=t}}function jy(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?RL:OL)(t,e)):ze(this.node(),t).duration}function NL(e,t){if(typeof t!="function")throw new Error;return function(){sr(this,e).ease=t}}function Zy(e){var t=this._id;return arguments.length?this.each(NL(t,e)):ze(this.node(),t).ease}function VL(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;sr(this,e).ease=r}}function qy(e){if(typeof e!="function")throw new Error;return this.each(VL(this._id,e))}function tv(e){typeof e!="function"&&(e=mo(e));for(var t=this._groups,r=t.length,A=new Array(r),i=0;i<r;++i)for(var n=t[i],a=n.length,o=A[i]=[],s,l=0;l<a;++l)(s=n[l])&&e.call(s,s.__data__,l,n)&&o.push(s);return new lr(A,this._parents,this._name,this._id)}function ev(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,A=t.length,i=r.length,n=Math.min(A,i),a=new Array(A),o=0;o<n;++o)for(var s=t[o],l=r[o],c=s.length,m=a[o]=new Array(c),h,g=0;g<c;++g)(h=s[g]||l[g])&&(m[g]=h);for(;o<A;++o)a[o]=t[o];return new lr(a,this._parents,this._name,this._id)}function WL(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function GL(e,t,r){var A,i,n=WL(t)?Bl:sr;return function(){var a=n(this,e),o=a.on;o!==A&&(i=(A=o).copy()).on(t,r),a.on=i}}function rv(e,t){var r=this._id;return arguments.length<2?ze(this.node(),r).on.on(e):this.each(GL(r,e,t))}function zL(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function Av(){return this.on("end.remove",zL(this._id))}function iv(e){var t=this._name,r=this._id;typeof e!="function"&&(e=rn(e));for(var A=this._groups,i=A.length,n=new Array(i),a=0;a<i;++a)for(var o=A[a],s=o.length,l=n[a]=new Array(s),c,m,h=0;h<s;++h)(c=o[h])&&(m=e.call(c,c.__data__,h,o))&&("__data__"in c&&(m.__data__=c.__data__),l[h]=m,hn(l[h],t,r,h,l,ze(c,r)));return new lr(n,this._parents,t,r)}function nv(e){var t=this._name,r=this._id;typeof e!="function"&&(e=po(e));for(var A=this._groups,i=A.length,n=[],a=[],o=0;o<i;++o)for(var s=A[o],l=s.length,c,m=0;m<l;++m)if(c=s[m]){for(var h=e.call(c,c.__data__,m,s),g,C=ze(c,r),b=0,w=h.length;b<w;++b)(g=h[b])&&hn(g,t,r,b,h,C);n.push(h),a.push(c)}return new lr(n,a,t,r)}var XL=NA.prototype.constructor;function av(){return new XL(this._groups,this._parents)}function YL(e,t){var r,A,i;return function(){var n=wi(this,e),a=(this.style.removeProperty(e),wi(this,e));return n===a?null:n===r&&a===A?i:i=t(r=n,A=a)}}function ov(e){return function(){this.style.removeProperty(e)}}function $L(e,t,r){var A,i=r+"",n;return function(){var a=wi(this,e);return a===i?null:a===A?n:n=t(A=a,r)}}function JL(e,t,r){var A,i,n;return function(){var a=wi(this,e),o=r(this),s=o+"";return o==null&&(s=o=(this.style.removeProperty(e),wi(this,e))),a===s?null:a===A&&s===i?n:(i=s,n=t(A=a,o))}}function jL(e,t){var r,A,i,n="style."+t,a="end."+n,o;return function(){var s=sr(this,e),l=s.on,c=s.value[n]==null?o||(o=ov(t)):void 0;(l!==r||i!==c)&&(A=(r=l).copy()).on(a,i=c),s.on=A}}function sv(e,t,r){var A=(e+="")=="transform"?tf:cf;return t==null?this.styleTween(e,YL(e,A)).on("end.style."+e,ov(e)):typeof t=="function"?this.styleTween(e,JL(e,A,Qo(this,"style."+e,t))).each(jL(this._id,e)):this.styleTween(e,$L(e,A,t),r).on("end.style."+e,null)}function ZL(e,t,r){return function(A){this.style.setProperty(e,t.call(this,A),r)}}function qL(e,t,r){var A,i;function n(){var a=t.apply(this,arguments);return a!==i&&(A=(i=a)&&ZL(e,a,r)),A}return n._value=t,n}function lv(e,t,r){var A="style."+(e+="");if(arguments.length<2)return(A=this.tween(A))&&A._value;if(t==null)return this.tween(A,null);if(typeof t!="function")throw new Error;return this.tween(A,qL(e,t,r??""))}function tH(e){return function(){this.textContent=e}}function eH(e){return function(){var t=e(this);this.textContent=t??""}}function uv(e){return this.tween("text",typeof e=="function"?eH(Qo(this,"text",e)):tH(e==null?"":e+""))}function rH(e){return function(t){this.textContent=e.call(this,t)}}function AH(e){var t,r;function A(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&rH(i)),t}return A._value=e,A}function cv(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,AH(e))}function fv(){for(var e=this._name,t=this._id,r=ff(),A=this._groups,i=A.length,n=0;n<i;++n)for(var a=A[n],o=a.length,s,l=0;l<o;++l)if(s=a[l]){var c=ze(s,t);hn(s,e,r,l,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new lr(A,this._parents,e,r)}function hv(){var e,t,r=this,A=r._id,i=r.size();return new Promise(function(n,a){var o={value:a},s={value:function(){--i===0&&n()}};r.each(function(){var l=sr(this,A),c=l.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(s)),l.on=t}),i===0&&n()})}var iH=0;function lr(e,t,r,A){this._groups=e,this._parents=t,this._name=r,this._id=A}function hf(e){return NA().transition(e)}function ff(){return++iH}var _i=NA.prototype;lr.prototype=hf.prototype={constructor:lr,select:iv,selectAll:nv,selectChild:_i.selectChild,selectChildren:_i.selectChildren,filter:tv,merge:ev,selection:av,transition:fv,call:_i.call,nodes:_i.nodes,node:_i.node,size:_i.size,empty:_i.empty,each:_i.each,on:rv,attr:Yy,attrTween:$y,style:sv,styleTween:lv,text:uv,textTween:cv,remove:Av,tween:Xy,delay:Jy,duration:jy,ease:Zy,easeVarying:qy,end:hv,[Symbol.iterator]:_i[Symbol.iterator]};var pf=e=>+e;function pv(e){return e*e}function dv(e){return e*(2-e)}function ug(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function mv(e){return e*e*e}function gv(e){return--e*e*e+1}function Cl(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var cg=3,Bv=function e(t){t=+t;function r(A){return Math.pow(A,t)}return r.exponent=e,r}(cg),Cv=function e(t){t=+t;function r(A){return 1-Math.pow(1-A,t)}return r.exponent=e,r}(cg),fg=function e(t){t=+t;function r(A){return((A*=2)<=1?Math.pow(A,t):2-Math.pow(2-A,t))/2}return r.exponent=e,r}(cg);var bv=Math.PI,wv=bv/2;function yv(e){return+e==1?1:1-Math.cos(e*wv)}function vv(e){return Math.sin(e*wv)}function hg(e){return(1-Math.cos(bv*e))/2}function zA(e){return(Math.pow(2,-10*e)-.0009765625)*1.0009775171065494}function _v(e){return zA(1-+e)}function xv(e){return 1-zA(e)}function pg(e){return((e*=2)<=1?zA(1-e):2-zA(e-1))/2}function Qv(e){return 1-Math.sqrt(1-e*e)}function Fv(e){return Math.sqrt(1- --e*e)}function dg(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var mg=.36363636363636365,nH=6/11,aH=8/11,oH=3/4,sH=9/11,lH=10/11,uH=15/16,cH=21/22,fH=63/64,df=1/mg/mg;function Uv(e){return 1-Fo(1-e)}function Fo(e){return(e=+e)<mg?df*e*e:e<aH?df*(e-=nH)*e+oH:e<lH?df*(e-=sH)*e+uH:df*(e-=cH)*e+fH}function Tv(e){return((e*=2)<=1?1-Fo(1-e):Fo(e-1)+1)/2}var gg=1.70158,Ev=function e(t){t=+t;function r(A){return(A=+A)*A*(t*(A-1)+A)}return r.overshoot=e,r}(gg),Kv=function e(t){t=+t;function r(A){return--A*A*((A+1)*t+A)+1}return r.overshoot=e,r}(gg),Bg=function e(t){t=+t;function r(A){return((A*=2)<1?A*A*((t+1)*A-t):(A-=2)*A*((t+1)*A+t)+2)/2}return r.overshoot=e,r}(gg);var Uo=2*Math.PI,Cg=1,bg=.3,Dv=function e(t,r){var A=Math.asin(1/(t=Math.max(1,t)))*(r/=Uo);function i(n){return t*zA(- --n)*Math.sin((A-n)/r)}return i.amplitude=function(n){return e(n,r*Uo)},i.period=function(n){return e(t,n)},i}(Cg,bg),wg=function e(t,r){var A=Math.asin(1/(t=Math.max(1,t)))*(r/=Uo);function i(n){return 1-t*zA(n=+n)*Math.sin((n+A)/r)}return i.amplitude=function(n){return e(n,r*Uo)},i.period=function(n){return e(t,n)},i}(Cg,bg),Iv=function e(t,r){var A=Math.asin(1/(t=Math.max(1,t)))*(r/=Uo);function i(n){return((n=n*2-1)<0?t*zA(-n)*Math.sin((A-n)/r):2-t*zA(n)*Math.sin((A+n)/r))/2}return i.amplitude=function(n){return e(n,r*Uo)},i.period=function(n){return e(t,n)},i}(Cg,bg);var hH={time:null,delay:0,duration:250,ease:Cl};function pH(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function Sv(e){var t,r;e instanceof lr?(t=e._id,e=e._name):(t=ff(),(r=hH).time=fn(),e=e==null?null:e+"");for(var A=this._groups,i=A.length,n=0;n<i;++n)for(var a=A[n],o=a.length,s,l=0;l<o;++l)(s=a[l])&&hn(s,e,t,l,a,r||pH(s,t));return new lr(A,this._parents,e,t)}NA.prototype.interrupt=zy;NA.prototype.transition=Sv;var dH=[null];function kv(e,t){var r=e.__transition,A,i;if(r){t=t==null?null:t+"";for(i in r)if((A=r[i]).state>sf&&A.name===t)return new lr([[e]],dH,t,+i)}return null}var mf=e=>()=>e;function yg(e,{sourceEvent:t,target:r,selection:A,mode:i,dispatch:n}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},selection:{value:A,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:n}})}function Lv(e){e.stopImmediatePropagation()}function gf(e){e.preventDefault(),e.stopImmediatePropagation()}var Hv={name:"drag"},vg={name:"space"},To={name:"handle"},Eo={name:"center"},{abs:Mv,max:mr,min:gr}=Math;function Pv(e){return[+e[0],+e[1]]}function xg(e){return[Pv(e[0]),Pv(e[1])]}var Bf={name:"x",handles:["w","e"].map(bl),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Cf={name:"y",handles:["n","s"].map(bl),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},mH={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(bl),input:function(e){return e==null?null:xg(e)},output:function(e){return e}},xi={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Rv={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Ov={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},gH={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},BH={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function bl(e){return{type:e}}function CH(e){return!e.ctrlKey&&!e.button}function bH(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function wH(){return navigator.maxTouchPoints||"ontouchstart"in this}function _g(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function yH(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function Nv(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function Vv(){return Qg(Bf)}function Wv(){return Qg(Cf)}function bf(){return Qg(mH)}function Qg(e){var t=bH,r=CH,A=wH,i=!0,n=iA("start","brush","end"),a=6,o;function s(w){var v=w.property("__brush",b).selectAll(".overlay").data([bl("overlay")]);v.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",xi.overlay).merge(v).each(function(){var x=_g(this).extent;Dt(this).attr("x",x[0][0]).attr("y",x[0][1]).attr("width",x[1][0]-x[0][0]).attr("height",x[1][1]-x[0][1])}),w.selectAll(".selection").data([bl("selection")]).enter().append("rect").attr("class","selection").attr("cursor",xi.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var Q=w.selectAll(".handle").data(e.handles,function(x){return x.type});Q.exit().remove(),Q.enter().append("rect").attr("class",function(x){return"handle handle--"+x.type}).attr("cursor",function(x){return xi[x.type]}),w.each(l).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(A).on("touchstart.brush",h).on("touchmove.brush",g).on("touchend.brush touchcancel.brush",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}s.move=function(w,v,Q){w.tween?w.on("start.brush",function(x){c(this,arguments).beforestart().start(x)}).on("interrupt.brush end.brush",function(x){c(this,arguments).end(x)}).tween("brush",function(){var x=this,_=x.__brush,E=c(x,arguments),K=_.selection,P=e.input(typeof v=="function"?v.apply(this,arguments):v,_.extent),R=dr(K,P);function O(M){_.selection=M===1&&P===null?null:R(M),l.call(x),E.brush()}return K!==null&&P!==null?O:O(1)}):w.each(function(){var x=this,_=arguments,E=x.__brush,K=e.input(typeof v=="function"?v.apply(x,_):v,E.extent),P=c(x,_).beforestart();_A(x),E.selection=K===null?null:K,l.call(x),P.start(Q).brush(Q).end(Q)})},s.clear=function(w,v){s.move(w,null,v)};function l(){var w=Dt(this),v=_g(this).selection;v?(w.selectAll(".selection").style("display",null).attr("x",v[0][0]).attr("y",v[0][1]).attr("width",v[1][0]-v[0][0]).attr("height",v[1][1]-v[0][1]),w.selectAll(".handle").style("display",null).attr("x",function(Q){return Q.type[Q.type.length-1]==="e"?v[1][0]-a/2:v[0][0]-a/2}).attr("y",function(Q){return Q.type[0]==="s"?v[1][1]-a/2:v[0][1]-a/2}).attr("width",function(Q){return Q.type==="n"||Q.type==="s"?v[1][0]-v[0][0]+a:a}).attr("height",function(Q){return Q.type==="e"||Q.type==="w"?v[1][1]-v[0][1]+a:a})):w.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(w,v,Q){var x=w.__brush.emitter;return x&&(!Q||!x.clean)?x:new m(w,v,Q)}function m(w,v,Q){this.that=w,this.args=v,this.state=w.__brush,this.active=0,this.clean=Q}m.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(w,v){return this.starting?(this.starting=!1,this.emit("start",w,v)):this.emit("brush",w),this},brush:function(w,v){return this.emit("brush",w,v),this},end:function(w,v){return--this.active===0&&(delete this.state.emitter,this.emit("end",w,v)),this},emit:function(w,v,Q){var x=Dt(this.that).datum();n.call(w,this.that,new yg(w,{sourceEvent:v,target:s,selection:e.output(this.state.selection),mode:Q,dispatch:n}),x)}};function h(w){if(o&&!w.touches||!r.apply(this,arguments))return;var v=this,Q=w.target.__data__.type,x=(i&&w.metaKey?Q="overlay":Q)==="selection"?Hv:i&&w.altKey?Eo:To,_=e===Cf?null:gH[Q],E=e===Bf?null:BH[Q],K=_g(v),P=K.extent,R=K.selection,O=P[0][0],M,I,X=P[0][1],V,D,L=P[1][0],k,W,J=P[1][1],Y,At,ft=0,mt=0,Wt,Lt=_&&E&&i&&w.shiftKey,Ft,xe,Ht=Array.from(w.touches||[w],Ct=>{let he=Ct.identifier;return Ct=He(Ct,v),Ct.point0=Ct.slice(),Ct.identifier=he,Ct});_A(v);var ve=c(v,arguments,!0).beforestart();if(Q==="overlay"){R&&(Wt=!0);let Ct=[Ht[0],Ht[1]||Ht[0]];K.selection=R=[[M=e===Cf?O:gr(Ct[0][0],Ct[1][0]),V=e===Bf?X:gr(Ct[0][1],Ct[1][1])],[k=e===Cf?L:mr(Ct[0][0],Ct[1][0]),Y=e===Bf?J:mr(Ct[0][1],Ct[1][1])]],Ht.length>1&&fe(w)}else M=R[0][0],V=R[0][1],k=R[1][0],Y=R[1][1];I=M,D=V,W=k,At=Y;var it=Dt(v).attr("pointer-events","none"),yt=it.selectAll(".overlay").attr("cursor",xi[Q]);if(w.touches)ve.moved=j,ve.ended=zt;else{var Ut=Dt(w.view).on("mousemove.brush",j,!0).on("mouseup.brush",zt,!0);i&&Ut.on("keydown.brush",Ye,!0).on("keyup.brush",ge,!0),nn(w.view)}l.call(v),ve.start(w,x.name);function j(Ct){for(let he of Ct.changedTouches||[Ct])for(let ai of Ht)ai.identifier===he.identifier&&(ai.cur=He(he,v));if(Lt&&!Ft&&!xe&&Ht.length===1){let he=Ht[0];Mv(he.cur[0]-he[0])>Mv(he.cur[1]-he[1])?xe=!0:Ft=!0}for(let he of Ht)he.cur&&(he[0]=he.cur[0],he[1]=he.cur[1]);Wt=!0,gf(Ct),fe(Ct)}function fe(Ct){let he=Ht[0],ai=he.point0;var kA;switch(ft=he[0]-ai[0],mt=he[1]-ai[1],x){case vg:case Hv:{_&&(ft=mr(O-M,gr(L-k,ft)),I=M+ft,W=k+ft),E&&(mt=mr(X-V,gr(J-Y,mt)),D=V+mt,At=Y+mt);break}case To:{Ht[1]?(_&&(I=mr(O,gr(L,Ht[0][0])),W=mr(O,gr(L,Ht[1][0])),_=1),E&&(D=mr(X,gr(J,Ht[0][1])),At=mr(X,gr(J,Ht[1][1])),E=1)):(_<0?(ft=mr(O-M,gr(L-M,ft)),I=M+ft,W=k):_>0&&(ft=mr(O-k,gr(L-k,ft)),I=M,W=k+ft),E<0?(mt=mr(X-V,gr(J-V,mt)),D=V+mt,At=Y):E>0&&(mt=mr(X-Y,gr(J-Y,mt)),D=V,At=Y+mt));break}case Eo:{_&&(I=mr(O,gr(L,M-ft*_)),W=mr(O,gr(L,k+ft*_))),E&&(D=mr(X,gr(J,V-mt*E)),At=mr(X,gr(J,Y+mt*E)));break}}W<I&&(_*=-1,kA=M,M=k,k=kA,kA=I,I=W,W=kA,Q in Rv&&yt.attr("cursor",xi[Q=Rv[Q]])),At<D&&(E*=-1,kA=V,V=Y,Y=kA,kA=D,D=At,At=kA,Q in Ov&&yt.attr("cursor",xi[Q=Ov[Q]])),K.selection&&(R=K.selection),Ft&&(I=R[0][0],W=R[1][0]),xe&&(D=R[0][1],At=R[1][1]),(R[0][0]!==I||R[0][1]!==D||R[1][0]!==W||R[1][1]!==At)&&(K.selection=[[I,D],[W,At]],l.call(v),ve.brush(Ct,x.name))}function zt(Ct){if(Lv(Ct),Ct.touches){if(Ct.touches.length)return;o&&clearTimeout(o),o=setTimeout(function(){o=null},500)}else an(Ct.view,Wt),Ut.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);it.attr("pointer-events","all"),yt.attr("cursor",xi.overlay),K.selection&&(R=K.selection),yH(R)&&(K.selection=null,l.call(v)),ve.end(Ct,x.name)}function Ye(Ct){switch(Ct.keyCode){case 16:{Lt=_&&E;break}case 18:{x===To&&(_&&(k=W-ft*_,M=I+ft*_),E&&(Y=At-mt*E,V=D+mt*E),x=Eo,fe(Ct));break}case 32:{(x===To||x===Eo)&&(_<0?k=W-ft:_>0&&(M=I-ft),E<0?Y=At-mt:E>0&&(V=D-mt),x=vg,yt.attr("cursor",xi.selection),fe(Ct));break}default:return}gf(Ct)}function ge(Ct){switch(Ct.keyCode){case 16:{Lt&&(Ft=xe=Lt=!1,fe(Ct));break}case 18:{x===Eo&&(_<0?k=W:_>0&&(M=I),E<0?Y=At:E>0&&(V=D),x=To,fe(Ct));break}case 32:{x===vg&&(Ct.altKey?(_&&(k=W-ft*_,M=I+ft*_),E&&(Y=At-mt*E,V=D+mt*E),x=Eo):(_<0?k=W:_>0&&(M=I),E<0?Y=At:E>0&&(V=D),x=To),yt.attr("cursor",xi[Q]),fe(Ct));break}default:return}gf(Ct)}}function g(w){c(this,arguments).moved(w)}function C(w){c(this,arguments).ended(w)}function b(){var w=this.__brush||{selection:null};return w.extent=xg(t.apply(this,arguments)),w.dim=e,w}return s.extent=function(w){return arguments.length?(t=typeof w=="function"?w:mf(xg(w)),s):t},s.filter=function(w){return arguments.length?(r=typeof w=="function"?w:mf(!!w),s):r},s.touchable=function(w){return arguments.length?(A=typeof w=="function"?w:mf(!!w),s):A},s.handleSize=function(w){return arguments.length?(a=+w,s):a},s.keyModifiers=function(w){return arguments.length?(i=!!w,s):i},s.on=function(){var w=n.on.apply(n,arguments);return w===n?s:w},s}var Fg=Math.abs,la=Math.cos,ua=Math.sin,Gv=Math.PI,wl=Gv/2,Ug=Gv*2,Tg=Math.max,wf=1e-12;function Eg(e,t){return Array.from({length:t-e},(r,A)=>e+A)}function vH(e){return function(t,r){return e(t.source.value+t.target.value,r.source.value+r.target.value)}}function zv(){return Kg(!1,!1)}function Xv(){return Kg(!1,!0)}function Yv(){return Kg(!0,!1)}function Kg(e,t){var r=0,A=null,i=null,n=null;function a(o){var s=o.length,l=new Array(s),c=Eg(0,s),m=new Array(s*s),h=new Array(s),g=0,C;o=Float64Array.from({length:s*s},t?(b,w)=>o[w%s][w/s|0]:(b,w)=>o[w/s|0][w%s]);for(let b=0;b<s;++b){let w=0;for(let v=0;v<s;++v)w+=o[b*s+v]+e*o[v*s+b];g+=l[b]=w}g=Tg(0,Ug-r*s)/g,C=g?r:Ug/s;{let b=0;A&&c.sort((w,v)=>A(l[w],l[v]));for(let w of c){let v=b;if(e){let Q=Eg(~s+1,s).filter(x=>x<0?o[~x*s+w]:o[w*s+x]);i&&Q.sort((x,_)=>i(x<0?-o[~x*s+w]:o[w*s+x],_<0?-o[~_*s+w]:o[w*s+_]));for(let x of Q)if(x<0){let _=m[~x*s+w]||(m[~x*s+w]={source:null,target:null});_.target={index:w,startAngle:b,endAngle:b+=o[~x*s+w]*g,value:o[~x*s+w]}}else{let _=m[w*s+x]||(m[w*s+x]={source:null,target:null});_.source={index:w,startAngle:b,endAngle:b+=o[w*s+x]*g,value:o[w*s+x]}}h[w]={index:w,startAngle:v,endAngle:b,value:l[w]}}else{let Q=Eg(0,s).filter(x=>o[w*s+x]||o[x*s+w]);i&&Q.sort((x,_)=>i(o[w*s+x],o[w*s+_]));for(let x of Q){let _;if(w<x?(_=m[w*s+x]||(m[w*s+x]={source:null,target:null}),_.source={index:w,startAngle:b,endAngle:b+=o[w*s+x]*g,value:o[w*s+x]}):(_=m[x*s+w]||(m[x*s+w]={source:null,target:null}),_.target={index:w,startAngle:b,endAngle:b+=o[w*s+x]*g,value:o[w*s+x]},w===x&&(_.source=_.target)),_.source&&_.target&&_.source.value<_.target.value){let E=_.source;_.source=_.target,_.target=E}}h[w]={index:w,startAngle:v,endAngle:b,value:l[w]}}b+=C}}return m=Object.values(m),m.groups=h,n?m.sort(n):m}return a.padAngle=function(o){return arguments.length?(r=Tg(0,o),a):r},a.sortGroups=function(o){return arguments.length?(A=o,a):A},a.sortSubgroups=function(o){return arguments.length?(i=o,a):i},a.sortChords=function(o){return arguments.length?(o==null?n=null:(n=vH(o))._=o,a):n&&n._},a}var Dg=Math.PI,Ig=2*Dg,ca=1e-6,_H=Ig-ca;function $v(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function xH(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return $v;let r=10**t;return function(A){this._+=A[0];for(let i=1,n=A.length;i<n;++i)this._+=Math.round(arguments[i]*r)/r+A[i]}}var Qi=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?$v:xH(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,A,i){this._append`Q${+t},${+r},${this._x1=+A},${this._y1=+i}`}bezierCurveTo(t,r,A,i,n,a){this._append`C${+t},${+r},${+A},${+i},${this._x1=+n},${this._y1=+a}`}arcTo(t,r,A,i,n){if(t=+t,r=+r,A=+A,i=+i,n=+n,n<0)throw new Error(`negative radius: ${n}`);let a=this._x1,o=this._y1,s=A-t,l=i-r,c=a-t,m=o-r,h=c*c+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>ca)if(!(Math.abs(m*s-l*c)>ca)||!n)this._append`L${this._x1=t},${this._y1=r}`;else{let g=A-a,C=i-o,b=s*s+l*l,w=g*g+C*C,v=Math.sqrt(b),Q=Math.sqrt(h),x=n*Math.tan((Dg-Math.acos((b+h-w)/(2*v*Q)))/2),_=x/Q,E=x/v;Math.abs(_-1)>ca&&this._append`L${t+_*c},${r+_*m}`,this._append`A${n},${n},0,0,${+(m*g>c*C)},${this._x1=t+E*s},${this._y1=r+E*l}`}}arc(t,r,A,i,n,a){if(t=+t,r=+r,A=+A,a=!!a,A<0)throw new Error(`negative radius: ${A}`);let o=A*Math.cos(i),s=A*Math.sin(i),l=t+o,c=r+s,m=1^a,h=a?i-n:n-i;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>ca||Math.abs(this._y1-c)>ca)&&this._append`L${l},${c}`,A&&(h<0&&(h=h%Ig+Ig),h>_H?this._append`A${A},${A},0,1,${m},${t-o},${r-s}A${A},${A},0,1,${m},${this._x1=l},${this._y1=c}`:h>ca&&this._append`A${A},${A},0,${+(h>=Dg)},${m},${this._x1=t+A*Math.cos(n)},${this._y1=r+A*Math.sin(n)}`)}rect(t,r,A,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${A=+A}v${+i}h${-A}Z`}toString(){return this._}};function yl(){return new Qi}yl.prototype=Qi.prototype;function Jv(e=3){return new Qi(+e)}var jv=Array.prototype.slice;function pn(e){return function(){return e}}function QH(e){return e.source}function FH(e){return e.target}function Zv(e){return e.radius}function UH(e){return e.startAngle}function TH(e){return e.endAngle}function EH(){return 0}function KH(){return 10}function qv(e){var t=QH,r=FH,A=Zv,i=Zv,n=UH,a=TH,o=EH,s=null;function l(){var c,m=t.apply(this,arguments),h=r.apply(this,arguments),g=o.apply(this,arguments)/2,C=jv.call(arguments),b=+A.apply(this,(C[0]=m,C)),w=n.apply(this,C)-wl,v=a.apply(this,C)-wl,Q=+i.apply(this,(C[0]=h,C)),x=n.apply(this,C)-wl,_=a.apply(this,C)-wl;if(s||(s=c=yl()),g>wf&&(Fg(v-w)>g*2+wf?v>w?(w+=g,v-=g):(w-=g,v+=g):w=v=(w+v)/2,Fg(_-x)>g*2+wf?_>x?(x+=g,_-=g):(x-=g,_+=g):x=_=(x+_)/2),s.moveTo(b*la(w),b*ua(w)),s.arc(0,0,b,w,v),w!==x||v!==_)if(e){var E=+e.apply(this,arguments),K=Q-E,P=(x+_)/2;s.quadraticCurveTo(0,0,K*la(x),K*ua(x)),s.lineTo(Q*la(P),Q*ua(P)),s.lineTo(K*la(_),K*ua(_))}else s.quadraticCurveTo(0,0,Q*la(x),Q*ua(x)),s.arc(0,0,Q,x,_);if(s.quadraticCurveTo(0,0,b*la(w),b*ua(w)),s.closePath(),c)return s=null,c+""||null}return e&&(l.headRadius=function(c){return arguments.length?(e=typeof c=="function"?c:pn(+c),l):e}),l.radius=function(c){return arguments.length?(A=i=typeof c=="function"?c:pn(+c),l):A},l.sourceRadius=function(c){return arguments.length?(A=typeof c=="function"?c:pn(+c),l):A},l.targetRadius=function(c){return arguments.length?(i=typeof c=="function"?c:pn(+c),l):i},l.startAngle=function(c){return arguments.length?(n=typeof c=="function"?c:pn(+c),l):n},l.endAngle=function(c){return arguments.length?(a=typeof c=="function"?c:pn(+c),l):a},l.padAngle=function(c){return arguments.length?(o=typeof c=="function"?c:pn(+c),l):o},l.source=function(c){return arguments.length?(t=c,l):t},l.target=function(c){return arguments.length?(r=c,l):r},l.context=function(c){return arguments.length?(s=c??null,l):s},l}function t_(){return qv()}function e_(){return qv(KH)}var DH=Array.prototype,yf=DH.slice;function r_(e,t){return e-t}function A_(e){for(var t=0,r=e.length,A=e[r-1][1]*e[0][0]-e[r-1][0]*e[0][1];++t<r;)A+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return A}var XA=e=>()=>e;function i_(e,t){for(var r=-1,A=t.length,i;++r<A;)if(i=IH(e,t[r]))return i;return 0}function IH(e,t){for(var r=t[0],A=t[1],i=-1,n=0,a=e.length,o=a-1;n<a;o=n++){var s=e[n],l=s[0],c=s[1],m=e[o],h=m[0],g=m[1];if(SH(s,m,t))return 0;c>A!=g>A&&r<(h-l)*(A-c)/(g-c)+l&&(i=-i)}return i}function SH(e,t,r){var A;return kH(e,t,r)&&LH(e[A=+(e[0]===t[0])],r[A],t[A])}function kH(e,t,r){return(t[0]-e[0])*(r[1]-e[1])===(r[0]-e[0])*(t[1]-e[1])}function LH(e,t,r){return e<=t&&t<=r||r<=t&&t<=e}function n_(){}var Fi=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function vl(){var e=1,t=1,r=Yn,A=s;function i(l){var c=r(l);if(Array.isArray(c))c=c.slice().sort(r_);else{let m=gi(l,HH);for(c=Pr(...Xn(m[0],m[1],c),c);c[c.length-1]>=m[1];)c.pop();for(;c[1]<m[0];)c.shift()}return c.map(m=>n(l,m))}function n(l,c){let m=c==null?NaN:+c;if(isNaN(m))throw new Error(`invalid value: ${c}`);var h=[],g=[];return a(l,m,function(C){A(C,l,m),A_(C)>0?h.push([C]):g.push(C)}),g.forEach(function(C){for(var b=0,w=h.length,v;b<w;++b)if(i_((v=h[b])[0],C)!==-1){v.push(C);return}}),{type:"MultiPolygon",value:c,coordinates:h}}function a(l,c,m){var h=new Array,g=new Array,C,b,w,v,Q,x;for(C=b=-1,v=fa(l[0],c),Fi[v<<1].forEach(_);++C<e-1;)w=v,v=fa(l[C+1],c),Fi[w|v<<1].forEach(_);for(Fi[v<<0].forEach(_);++b<t-1;){for(C=-1,v=fa(l[b*e+e],c),Q=fa(l[b*e],c),Fi[v<<1|Q<<2].forEach(_);++C<e-1;)w=v,v=fa(l[b*e+e+C+1],c),x=Q,Q=fa(l[b*e+C+1],c),Fi[w|v<<1|Q<<2|x<<3].forEach(_);Fi[v|Q<<3].forEach(_)}for(C=-1,Q=l[b*e]>=c,Fi[Q<<2].forEach(_);++C<e-1;)x=Q,Q=fa(l[b*e+C+1],c),Fi[Q<<2|x<<3].forEach(_);Fi[Q<<3].forEach(_);function _(E){var K=[E[0][0]+C,E[0][1]+b],P=[E[1][0]+C,E[1][1]+b],R=o(K),O=o(P),M,I;(M=g[R])?(I=h[O])?(delete g[M.end],delete h[I.start],M===I?(M.ring.push(P),m(M.ring)):h[M.start]=g[I.end]={start:M.start,end:I.end,ring:M.ring.concat(I.ring)}):(delete g[M.end],M.ring.push(P),g[M.end=O]=M):(M=h[O])?(I=g[R])?(delete h[M.start],delete g[I.end],M===I?(M.ring.push(P),m(M.ring)):h[I.start]=g[M.end]={start:I.start,end:M.end,ring:I.ring.concat(M.ring)}):(delete h[M.start],M.ring.unshift(K),h[M.start=R]=M):h[R]=g[O]={start:R,end:O,ring:[K,P]}}}function o(l){return l[0]*2+l[1]*(e+1)*4}function s(l,c,m){l.forEach(function(h){var g=h[0],C=h[1],b=g|0,w=C|0,v=Sg(c[w*e+b]);g>0&&g<e&&b===g&&(h[0]=a_(g,Sg(c[w*e+b-1]),v,m)),C>0&&C<t&&w===C&&(h[1]=a_(C,Sg(c[(w-1)*e+b]),v,m))})}return i.contour=n,i.size=function(l){if(!arguments.length)return[e,t];var c=Math.floor(l[0]),m=Math.floor(l[1]);if(!(c>=0&&m>=0))throw new Error("invalid size");return e=c,t=m,i},i.thresholds=function(l){return arguments.length?(r=typeof l=="function"?l:Array.isArray(l)?XA(yf.call(l)):XA(l),i):r},i.smooth=function(l){return arguments.length?(A=l?s:n_,i):A===s},i}function HH(e){return isFinite(e)?e:NaN}function fa(e,t){return e==null?!1:+e>=t}function Sg(e){return e==null||isNaN(e=+e)?-1/0:e}function a_(e,t,r,A){let i=A-t,n=r-t,a=isFinite(i)||isFinite(n)?i/n:Math.sign(i)/Math.sign(n);return isNaN(a)?e:e+a-.5}function MH(e){return e[0]}function PH(e){return e[1]}function RH(){return 1}function o_(){var e=MH,t=PH,r=RH,A=960,i=500,n=20,a=2,o=n*3,s=A+o*2>>a,l=i+o*2>>a,c=XA(20);function m(Q){var x=new Float32Array(s*l),_=Math.pow(2,-a),E=-1;for(let V of Q){var K=(e(V,++E,Q)+o)*_,P=(t(V,E,Q)+o)*_,R=+r(V,E,Q);if(R&&K>=0&&K<s&&P>=0&&P<l){var O=Math.floor(K),M=Math.floor(P),I=K-O-.5,X=P-M-.5;x[O+M*s]+=(1-I)*(1-X)*R,x[O+1+M*s]+=I*(1-X)*R,x[O+1+(M+1)*s]+=I*X*R,x[O+(M+1)*s]+=(1-I)*X*R}}return vc({data:x,width:s,height:l},n*_),x}function h(Q){var x=m(Q),_=c(x),E=Math.pow(2,2*a);return Array.isArray(_)||(_=Pr(Number.MIN_VALUE,bi(x)/E,_)),vl().size([s,l]).thresholds(_.map(K=>K*E))(x).map((K,P)=>(K.value=+_[P],g(K)))}h.contours=function(Q){var x=m(Q),_=vl().size([s,l]),E=Math.pow(2,2*a),K=P=>{P=+P;var R=g(_.contour(x,P*E));return R.value=P,R};return Object.defineProperty(K,"max",{get:()=>bi(x)/E}),K};function g(Q){return Q.coordinates.forEach(C),Q}function C(Q){Q.forEach(b)}function b(Q){Q.forEach(w)}function w(Q){Q[0]=Q[0]*Math.pow(2,a)-o,Q[1]=Q[1]*Math.pow(2,a)-o}function v(){return o=n*3,s=A+o*2>>a,l=i+o*2>>a,h}return h.x=function(Q){return arguments.length?(e=typeof Q=="function"?Q:XA(+Q),h):e},h.y=function(Q){return arguments.length?(t=typeof Q=="function"?Q:XA(+Q),h):t},h.weight=function(Q){return arguments.length?(r=typeof Q=="function"?Q:XA(+Q),h):r},h.size=function(Q){if(!arguments.length)return[A,i];var x=+Q[0],_=+Q[1];if(!(x>=0&&_>=0))throw new Error("invalid size");return A=x,i=_,v()},h.cellSize=function(Q){if(!arguments.length)return 1<<a;if(!((Q=+Q)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(Q)/Math.LN2),v()},h.thresholds=function(Q){return arguments.length?(c=typeof Q=="function"?Q:Array.isArray(Q)?XA(yf.call(Q)):XA(Q),h):c},h.bandwidth=function(Q){if(!arguments.length)return Math.sqrt(n*(n+1));if(!((Q=+Q)>=0))throw new Error("invalid bandwidth");return n=(Math.sqrt(4*Q*Q+1)-1)/2,v()},h}var Nt=11102230246251565e-32,Pe=134217729,_l=(3+8*Nt)*Nt;function ha(e,t,r,A,i){let n,a,o,s,l=t[0],c=A[0],m=0,h=0;c>l==c>-l?(n=l,l=t[++m]):(n=c,c=A[++h]);let g=0;if(m<e&&h<r)for(c>l==c>-l?(a=l+n,o=n-(a-l),l=t[++m]):(a=c+n,o=n-(a-c),c=A[++h]),n=a,o!==0&&(i[g++]=o);m<e&&h<r;)c>l==c>-l?(a=n+l,s=a-n,o=n-(a-s)+(l-s),l=t[++m]):(a=n+c,s=a-n,o=n-(a-s)+(c-s),c=A[++h]),n=a,o!==0&&(i[g++]=o);for(;m<e;)a=n+l,s=a-n,o=n-(a-s)+(l-s),l=t[++m],n=a,o!==0&&(i[g++]=o);for(;h<r;)a=n+c,s=a-n,o=n-(a-s)+(c-s),c=A[++h],n=a,o!==0&&(i[g++]=o);return(n!==0||g===0)&&(i[g++]=n),g}function xl(e,t){let r=t[0];for(let A=1;A<e;A++)r+=t[A];return r}function $(e){return new Float64Array(e)}var OH=(3+16*Nt)*Nt,NH=(2+12*Nt)*Nt,VH=(9+64*Nt)*Nt*Nt,Ko=$(4),s_=$(8),l_=$(12),u_=$(16),wr=$(4);function WH(e,t,r,A,i,n,a){let o,s,l,c,m,h,g,C,b,w,v,Q,x,_,E,K,P,R,O=e-i,M=r-i,I=t-n,X=A-n;_=O*X,h=Pe*O,g=h-(h-O),C=O-g,h=Pe*X,b=h-(h-X),w=X-b,E=C*w-(_-g*b-C*b-g*w),K=I*M,h=Pe*I,g=h-(h-I),C=I-g,h=Pe*M,b=h-(h-M),w=M-b,P=C*w-(K-g*b-C*b-g*w),v=E-P,m=E-v,Ko[0]=E-(v+m)+(m-P),Q=_+v,m=Q-_,x=_-(Q-m)+(v-m),v=x-K,m=x-v,Ko[1]=x-(v+m)+(m-K),R=Q+v,m=R-Q,Ko[2]=Q-(R-m)+(v-m),Ko[3]=R;let V=xl(4,Ko),D=NH*a;if(V>=D||-V>=D||(m=e-O,o=e-(O+m)+(m-i),m=r-M,l=r-(M+m)+(m-i),m=t-I,s=t-(I+m)+(m-n),m=A-X,c=A-(X+m)+(m-n),o===0&&s===0&&l===0&&c===0)||(D=VH*a+_l*Math.abs(V),V+=O*c+X*o-(I*l+M*s),V>=D||-V>=D))return V;_=o*X,h=Pe*o,g=h-(h-o),C=o-g,h=Pe*X,b=h-(h-X),w=X-b,E=C*w-(_-g*b-C*b-g*w),K=s*M,h=Pe*s,g=h-(h-s),C=s-g,h=Pe*M,b=h-(h-M),w=M-b,P=C*w-(K-g*b-C*b-g*w),v=E-P,m=E-v,wr[0]=E-(v+m)+(m-P),Q=_+v,m=Q-_,x=_-(Q-m)+(v-m),v=x-K,m=x-v,wr[1]=x-(v+m)+(m-K),R=Q+v,m=R-Q,wr[2]=Q-(R-m)+(v-m),wr[3]=R;let L=ha(4,Ko,4,wr,s_);_=O*c,h=Pe*O,g=h-(h-O),C=O-g,h=Pe*c,b=h-(h-c),w=c-b,E=C*w-(_-g*b-C*b-g*w),K=I*l,h=Pe*I,g=h-(h-I),C=I-g,h=Pe*l,b=h-(h-l),w=l-b,P=C*w-(K-g*b-C*b-g*w),v=E-P,m=E-v,wr[0]=E-(v+m)+(m-P),Q=_+v,m=Q-_,x=_-(Q-m)+(v-m),v=x-K,m=x-v,wr[1]=x-(v+m)+(m-K),R=Q+v,m=R-Q,wr[2]=Q-(R-m)+(v-m),wr[3]=R;let k=ha(L,s_,4,wr,l_);_=o*c,h=Pe*o,g=h-(h-o),C=o-g,h=Pe*c,b=h-(h-c),w=c-b,E=C*w-(_-g*b-C*b-g*w),K=s*l,h=Pe*s,g=h-(h-s),C=s-g,h=Pe*l,b=h-(h-l),w=l-b,P=C*w-(K-g*b-C*b-g*w),v=E-P,m=E-v,wr[0]=E-(v+m)+(m-P),Q=_+v,m=Q-_,x=_-(Q-m)+(v-m),v=x-K,m=x-v,wr[1]=x-(v+m)+(m-K),R=Q+v,m=R-Q,wr[2]=Q-(R-m)+(v-m),wr[3]=R;let W=ha(k,l_,4,wr,u_);return u_[W-1]}function Do(e,t,r,A,i,n){let a=(t-n)*(r-i),o=(e-i)*(A-n),s=a-o,l=Math.abs(a+o);return Math.abs(s)>=OH*l?s:-WH(e,t,r,A,i,n,l)}var JX=(7+56*Nt)*Nt,jX=(3+28*Nt)*Nt,ZX=(26+288*Nt)*Nt*Nt,qX=$(4),tY=$(4),eY=$(4),rY=$(4),AY=$(4),iY=$(4),nY=$(4),aY=$(4),oY=$(4),sY=$(8),lY=$(8),uY=$(8),cY=$(4),fY=$(8),hY=$(8),pY=$(8),dY=$(12),mY=$(192),gY=$(192);var bY=(10+96*Nt)*Nt,wY=(4+48*Nt)*Nt,yY=(44+576*Nt)*Nt*Nt,vY=$(4),_Y=$(4),xY=$(4),QY=$(4),FY=$(4),UY=$(4),TY=$(4),EY=$(4),KY=$(8),DY=$(8),IY=$(8),SY=$(8),kY=$(8),LY=$(8),HY=$(8),MY=$(8),PY=$(8),RY=$(4),OY=$(4),NY=$(4),VY=$(8),WY=$(16),GY=$(16),zY=$(16),XY=$(32),YY=$(32),$Y=$(48),JY=$(64),jY=$(1152),ZY=$(1152);var r$=(16+224*Nt)*Nt,A$=(5+72*Nt)*Nt,i$=(71+1408*Nt)*Nt*Nt,n$=$(4),a$=$(4),o$=$(4),s$=$(4),l$=$(4),u$=$(4),c$=$(4),f$=$(4),h$=$(4),p$=$(4),d$=$(24),m$=$(24),g$=$(24),B$=$(24),C$=$(24),b$=$(24),w$=$(24),y$=$(24),v$=$(24),_$=$(24),x$=$(1152),Q$=$(1152),F$=$(1152),U$=$(1152),T$=$(1152),E$=$(2304),K$=$(2304),D$=$(3456),I$=$(5760),S$=$(8),k$=$(8),L$=$(8),H$=$(16),M$=$(24),P$=$(48),R$=$(48),O$=$(96),N$=$(192),V$=$(384),W$=$(384),G$=$(384),z$=$(768);var X$=$(96),Y$=$(96),$$=$(96),J$=$(1152);var f_=Math.pow(2,-52),vf=new Uint32Array(512),Fl=class e{static from(t,r=JH,A=jH){let i=t.length,n=new Float64Array(i*2);for(let a=0;a<i;a++){let o=t[a];n[2*a]=r(o),n[2*a+1]=A(o)}return new e(n)}constructor(t){let r=t.length>>1;if(r>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;let A=Math.max(2*r-5,0);this._triangles=new Uint32Array(A*3),this._halfedges=new Int32Array(A*3),this._hashSize=Math.ceil(Math.sqrt(r)),this._hullPrev=new Uint32Array(r),this._hullNext=new Uint32Array(r),this._hullTri=new Uint32Array(r),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(r),this._dists=new Float64Array(r),this.update()}update(){let{coords:t,_hullPrev:r,_hullNext:A,_hullTri:i,_hullHash:n}=this,a=t.length>>1,o=1/0,s=1/0,l=-1/0,c=-1/0;for(let O=0;O<a;O++){let M=t[2*O],I=t[2*O+1];M<o&&(o=M),I<s&&(s=I),M>l&&(l=M),I>c&&(c=I),this._ids[O]=O}let m=(o+l)/2,h=(s+c)/2,g,C,b;for(let O=0,M=1/0;O<a;O++){let I=kg(m,h,t[2*O],t[2*O+1]);I<M&&(g=O,M=I)}let w=t[2*g],v=t[2*g+1];for(let O=0,M=1/0;O<a;O++){if(O===g)continue;let I=kg(w,v,t[2*O],t[2*O+1]);I<M&&I>0&&(C=O,M=I)}let Q=t[2*C],x=t[2*C+1],_=1/0;for(let O=0;O<a;O++){if(O===g||O===C)continue;let M=YH(w,v,Q,x,t[2*O],t[2*O+1]);M<_&&(b=O,_=M)}let E=t[2*b],K=t[2*b+1];if(_===1/0){for(let I=0;I<a;I++)this._dists[I]=t[2*I]-t[0]||t[2*I+1]-t[1];Io(this._ids,this._dists,0,a-1);let O=new Uint32Array(a),M=0;for(let I=0,X=-1/0;I<a;I++){let V=this._ids[I],D=this._dists[V];D>X&&(O[M++]=V,X=D)}this.hull=O.subarray(0,M),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(Do(w,v,Q,x,E,K)<0){let O=C,M=Q,I=x;C=b,Q=E,x=K,b=O,E=M,K=I}let P=$H(w,v,Q,x,E,K);this._cx=P.x,this._cy=P.y;for(let O=0;O<a;O++)this._dists[O]=kg(t[2*O],t[2*O+1],P.x,P.y);Io(this._ids,this._dists,0,a-1),this._hullStart=g;let R=3;A[g]=r[b]=C,A[C]=r[g]=b,A[b]=r[C]=g,i[g]=0,i[C]=1,i[b]=2,n.fill(-1),n[this._hashKey(w,v)]=g,n[this._hashKey(Q,x)]=C,n[this._hashKey(E,K)]=b,this.trianglesLen=0,this._addTriangle(g,C,b,-1,-1,-1);for(let O=0,M,I;O<this._ids.length;O++){let X=this._ids[O],V=t[2*X],D=t[2*X+1];if(O>0&&Math.abs(V-M)<=f_&&Math.abs(D-I)<=f_||(M=V,I=D,X===g||X===C||X===b))continue;let L=0;for(let At=0,ft=this._hashKey(V,D);At<this._hashSize&&(L=n[(ft+At)%this._hashSize],!(L!==-1&&L!==A[L]));At++);L=r[L];let k=L,W;for(;W=A[k],Do(V,D,t[2*k],t[2*k+1],t[2*W],t[2*W+1])>=0;)if(k=W,k===L){k=-1;break}if(k===-1)continue;let J=this._addTriangle(k,X,A[k],-1,-1,i[k]);i[X]=this._legalize(J+2),i[k]=J,R++;let Y=A[k];for(;W=A[Y],Do(V,D,t[2*Y],t[2*Y+1],t[2*W],t[2*W+1])<0;)J=this._addTriangle(Y,X,W,i[X],-1,i[Y]),i[X]=this._legalize(J+2),A[Y]=Y,R--,Y=W;if(k===L)for(;W=r[k],Do(V,D,t[2*W],t[2*W+1],t[2*k],t[2*k+1])<0;)J=this._addTriangle(W,X,k,-1,i[k],i[W]),this._legalize(J+2),i[W]=J,A[k]=k,R--,k=W;this._hullStart=r[X]=k,A[k]=r[Y]=X,A[X]=Y,n[this._hashKey(V,D)]=X,n[this._hashKey(t[2*k],t[2*k+1])]=k}this.hull=new Uint32Array(R);for(let O=0,M=this._hullStart;O<R;O++)this.hull[O]=M,M=A[M];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,r){return Math.floor(zH(t-this._cx,r-this._cy)*this._hashSize)%this._hashSize}_legalize(t){let{_triangles:r,_halfedges:A,coords:i}=this,n=0,a=0;for(;;){let o=A[t],s=t-t%3;if(a=s+(t+2)%3,o===-1){if(n===0)break;t=vf[--n];continue}let l=o-o%3,c=s+(t+1)%3,m=l+(o+2)%3,h=r[a],g=r[t],C=r[c],b=r[m];if(XH(i[2*h],i[2*h+1],i[2*g],i[2*g+1],i[2*C],i[2*C+1],i[2*b],i[2*b+1])){r[t]=b,r[o]=h;let v=A[m];if(v===-1){let x=this._hullStart;do{if(this._hullTri[x]===m){this._hullTri[x]=t;break}x=this._hullPrev[x]}while(x!==this._hullStart)}this._link(t,v),this._link(o,A[a]),this._link(a,m);let Q=l+(o+1)%3;n<vf.length&&(vf[n++]=Q)}else{if(n===0)break;t=vf[--n]}}return a}_link(t,r){this._halfedges[t]=r,r!==-1&&(this._halfedges[r]=t)}_addTriangle(t,r,A,i,n,a){let o=this.trianglesLen;return this._triangles[o]=t,this._triangles[o+1]=r,this._triangles[o+2]=A,this._link(o,i),this._link(o+1,n),this._link(o+2,a),this.trianglesLen+=3,o}};function zH(e,t){let r=e/(Math.abs(e)+Math.abs(t));return(t>0?3-r:1+r)/4}function kg(e,t,r,A){let i=e-r,n=t-A;return i*i+n*n}function XH(e,t,r,A,i,n,a,o){let s=e-a,l=t-o,c=r-a,m=A-o,h=i-a,g=n-o,C=s*s+l*l,b=c*c+m*m,w=h*h+g*g;return s*(m*w-b*g)-l*(c*w-b*h)+C*(c*g-m*h)<0}function YH(e,t,r,A,i,n){let a=r-e,o=A-t,s=i-e,l=n-t,c=a*a+o*o,m=s*s+l*l,h=.5/(a*l-o*s),g=(l*c-o*m)*h,C=(a*m-s*c)*h;return g*g+C*C}function $H(e,t,r,A,i,n){let a=r-e,o=A-t,s=i-e,l=n-t,c=a*a+o*o,m=s*s+l*l,h=.5/(a*l-o*s),g=e+(l*c-o*m)*h,C=t+(a*m-s*c)*h;return{x:g,y:C}}function Io(e,t,r,A){if(A-r<=20)for(let i=r+1;i<=A;i++){let n=e[i],a=t[n],o=i-1;for(;o>=r&&t[e[o]]>a;)e[o+1]=e[o--];e[o+1]=n}else{let i=r+A>>1,n=r+1,a=A;Ql(e,i,n),t[e[r]]>t[e[A]]&&Ql(e,r,A),t[e[n]]>t[e[A]]&&Ql(e,n,A),t[e[r]]>t[e[n]]&&Ql(e,r,n);let o=e[n],s=t[o];for(;;){do n++;while(t[e[n]]<s);do a--;while(t[e[a]]>s);if(a<n)break;Ql(e,n,a)}e[r+1]=e[a],e[a]=o,A-n+1>=a-r?(Io(e,t,n,A),Io(e,t,r,a-1)):(Io(e,t,r,a-1),Io(e,t,n,A))}}function Ql(e,t,r){let A=e[t];e[t]=e[r],e[r]=A}function JH(e){return e[0]}function jH(e){return e[1]}var xA=class{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,r){this._+=`L${this._x1=+t},${this._y1=+r}`}arc(t,r,A){t=+t,r=+r,A=+A;let i=t+A,n=r;if(A<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${n}`:(Math.abs(this._x1-i)>1e-6||Math.abs(this._y1-n)>1e-6)&&(this._+="L"+i+","+n),A&&(this._+=`A${A},${A},0,1,1,${t-A},${r}A${A},${A},0,1,1,${this._x1=i},${this._y1=n}`)}rect(t,r,A,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${+A}v${+i}h${-A}Z`}value(){return this._||null}};var pa=class{constructor(){this._=[]}moveTo(t,r){this._.push([t,r])}closePath(){this._.push(this._[0].slice())}lineTo(t,r){this._.push([t,r])}value(){return this._.length?this._:null}};var So=class{constructor(t,[r,A,i,n]=[0,0,960,500]){if(!((i=+i)>=(r=+r))||!((n=+n)>=(A=+A)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=r,this.ymax=n,this.ymin=A,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){let{delaunay:{points:t,hull:r,triangles:A},vectors:i}=this,n,a,o=this.circumcenters=this._circumcenters.subarray(0,A.length/3*2);for(let b=0,w=0,v=A.length,Q,x;b<v;b+=3,w+=2){let _=A[b]*2,E=A[b+1]*2,K=A[b+2]*2,P=t[_],R=t[_+1],O=t[E],M=t[E+1],I=t[K],X=t[K+1],V=O-P,D=M-R,L=I-P,k=X-R,W=(V*k-D*L)*2;if(Math.abs(W)<1e-9){if(n===void 0){n=a=0;for(let Y of r)n+=t[Y*2],a+=t[Y*2+1];n/=r.length,a/=r.length}let J=1e9*Math.sign((n-P)*k-(a-R)*L);Q=(P+I)/2-J*k,x=(R+X)/2+J*L}else{let J=1/W,Y=V*V+D*D,At=L*L+k*k;Q=P+(k*Y-D*At)*J,x=R+(V*At-L*Y)*J}o[w]=Q,o[w+1]=x}let s=r[r.length-1],l,c=s*4,m,h=t[2*s],g,C=t[2*s+1];i.fill(0);for(let b=0;b<r.length;++b)s=r[b],l=c,m=h,g=C,c=s*4,h=t[2*s],C=t[2*s+1],i[l+2]=i[c]=g-C,i[l+3]=i[c+1]=h-m}render(t){let r=t==null?t=new xA:void 0,{delaunay:{halfedges:A,inedges:i,hull:n},circumcenters:a,vectors:o}=this;if(n.length<=1)return null;for(let c=0,m=A.length;c<m;++c){let h=A[c];if(h<c)continue;let g=Math.floor(c/3)*2,C=Math.floor(h/3)*2,b=a[g],w=a[g+1],v=a[C],Q=a[C+1];this._renderSegment(b,w,v,Q,t)}let s,l=n[n.length-1];for(let c=0;c<n.length;++c){s=l,l=n[c];let m=Math.floor(i[l]/3)*2,h=a[m],g=a[m+1],C=s*4,b=this._project(h,g,o[C+2],o[C+3]);b&&this._renderSegment(h,g,b[0],b[1],t)}return r&&r.value()}renderBounds(t){let r=t==null?t=new xA:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),r&&r.value()}renderCell(t,r){let A=r==null?r=new xA:void 0,i=this._clip(t);if(i===null||!i.length)return;r.moveTo(i[0],i[1]);let n=i.length;for(;i[0]===i[n-2]&&i[1]===i[n-1]&&n>1;)n-=2;for(let a=2;a<n;a+=2)(i[a]!==i[a-2]||i[a+1]!==i[a-1])&&r.lineTo(i[a],i[a+1]);return r.closePath(),A&&A.value()}*cellPolygons(){let{delaunay:{points:t}}=this;for(let r=0,A=t.length/2;r<A;++r){let i=this.cellPolygon(r);i&&(i.index=r,yield i)}}cellPolygon(t){let r=new pa;return this.renderCell(t,r),r.value()}_renderSegment(t,r,A,i,n){let a,o=this._regioncode(t,r),s=this._regioncode(A,i);o===0&&s===0?(n.moveTo(t,r),n.lineTo(A,i)):(a=this._clipSegment(t,r,A,i,o,s))&&(n.moveTo(a[0],a[1]),n.lineTo(a[2],a[3]))}contains(t,r,A){return r=+r,r!==r||(A=+A,A!==A)?!1:this.delaunay._step(t,r,A)===t}*neighbors(t){let r=this._clip(t);if(r)for(let A of this.delaunay.neighbors(t)){let i=this._clip(A);if(i){t:for(let n=0,a=r.length;n<a;n+=2)for(let o=0,s=i.length;o<s;o+=2)if(r[n]===i[o]&&r[n+1]===i[o+1]&&r[(n+2)%a]===i[(o+s-2)%s]&&r[(n+3)%a]===i[(o+s-1)%s]){yield A;break t}}}}_cell(t){let{circumcenters:r,delaunay:{inedges:A,halfedges:i,triangles:n}}=this,a=A[t];if(a===-1)return null;let o=[],s=a;do{let l=Math.floor(s/3);if(o.push(r[l*2],r[l*2+1]),s=s%3===2?s-2:s+1,n[s]!==t)break;s=i[s]}while(s!==a&&s!==-1);return o}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];let r=this._cell(t);if(r===null)return null;let{vectors:A}=this,i=t*4;return this._simplify(A[i]||A[i+1]?this._clipInfinite(t,r,A[i],A[i+1],A[i+2],A[i+3]):this._clipFinite(t,r))}_clipFinite(t,r){let A=r.length,i=null,n,a,o=r[A-2],s=r[A-1],l,c=this._regioncode(o,s),m,h=0;for(let g=0;g<A;g+=2)if(n=o,a=s,o=r[g],s=r[g+1],l=c,c=this._regioncode(o,s),l===0&&c===0)m=h,h=0,i?i.push(o,s):i=[o,s];else{let C,b,w,v,Q;if(l===0){if((C=this._clipSegment(n,a,o,s,l,c))===null)continue;[b,w,v,Q]=C}else{if((C=this._clipSegment(o,s,n,a,c,l))===null)continue;[v,Q,b,w]=C,m=h,h=this._edgecode(b,w),m&&h&&this._edge(t,m,h,i,i.length),i?i.push(b,w):i=[b,w]}m=h,h=this._edgecode(v,Q),m&&h&&this._edge(t,m,h,i,i.length),i?i.push(v,Q):i=[v,Q]}if(i)m=h,h=this._edgecode(i[0],i[1]),m&&h&&this._edge(t,m,h,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,r,A,i,n,a){let o=n<a;for(o&&([t,r,A,i,n,a]=[A,i,t,r,a,n]);;){if(n===0&&a===0)return o?[A,i,t,r]:[t,r,A,i];if(n&a)return null;let s,l,c=n||a;c&8?(s=t+(A-t)*(this.ymax-r)/(i-r),l=this.ymax):c&4?(s=t+(A-t)*(this.ymin-r)/(i-r),l=this.ymin):c&2?(l=r+(i-r)*(this.xmax-t)/(A-t),s=this.xmax):(l=r+(i-r)*(this.xmin-t)/(A-t),s=this.xmin),n?(t=s,r=l,n=this._regioncode(t,r)):(A=s,i=l,a=this._regioncode(A,i))}}_clipInfinite(t,r,A,i,n,a){let o=Array.from(r),s;if((s=this._project(o[0],o[1],A,i))&&o.unshift(s[0],s[1]),(s=this._project(o[o.length-2],o[o.length-1],n,a))&&o.push(s[0],s[1]),o=this._clipFinite(t,o))for(let l=0,c=o.length,m,h=this._edgecode(o[c-2],o[c-1]);l<c;l+=2)m=h,h=this._edgecode(o[l],o[l+1]),m&&h&&(l=this._edge(t,m,h,o,l),c=o.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(o=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return o}_edge(t,r,A,i,n){for(;r!==A;){let a,o;switch(r){case 5:r=4;continue;case 4:r=6,a=this.xmax,o=this.ymin;break;case 6:r=2;continue;case 2:r=10,a=this.xmax,o=this.ymax;break;case 10:r=8;continue;case 8:r=9,a=this.xmin,o=this.ymax;break;case 9:r=1;continue;case 1:r=5,a=this.xmin,o=this.ymin;break}(i[n]!==a||i[n+1]!==o)&&this.contains(t,a,o)&&(i.splice(n,0,a,o),n+=2)}return n}_project(t,r,A,i){let n=1/0,a,o,s;if(i<0){if(r<=this.ymin)return null;(a=(this.ymin-r)/i)<n&&(s=this.ymin,o=t+(n=a)*A)}else if(i>0){if(r>=this.ymax)return null;(a=(this.ymax-r)/i)<n&&(s=this.ymax,o=t+(n=a)*A)}if(A>0){if(t>=this.xmax)return null;(a=(this.xmax-t)/A)<n&&(o=this.xmax,s=r+(n=a)*i)}else if(A<0){if(t<=this.xmin)return null;(a=(this.xmin-t)/A)<n&&(o=this.xmin,s=r+(n=a)*i)}return[o,s]}_edgecode(t,r){return(t===this.xmin?1:t===this.xmax?2:0)|(r===this.ymin?4:r===this.ymax?8:0)}_regioncode(t,r){return(t<this.xmin?1:t>this.xmax?2:0)|(r<this.ymin?4:r>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let r=0;r<t.length;r+=2){let A=(r+2)%t.length,i=(r+4)%t.length;(t[r]===t[A]&&t[A]===t[i]||t[r+1]===t[A+1]&&t[A+1]===t[i+1])&&(t.splice(A,2),r-=2)}t.length||(t=null)}return t}};var ZH=2*Math.PI,ko=Math.pow;function qH(e){return e[0]}function tM(e){return e[1]}function eM(e){let{triangles:t,coords:r}=e;for(let A=0;A<t.length;A+=3){let i=2*t[A],n=2*t[A+1],a=2*t[A+2];if((r[a]-r[i])*(r[n+1]-r[i+1])-(r[n]-r[i])*(r[a+1]-r[i+1])>1e-10)return!1}return!0}function rM(e,t,r){return[e+Math.sin(e+t)*r,t+Math.cos(e-t)*r]}var _f=class e{static from(t,r=qH,A=tM,i){return new e("length"in t?AM(t,r,A,i):Float64Array.from(iM(t,r,A,i)))}constructor(t){this._delaunator=new Fl(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){let t=this._delaunator,r=this.points;if(t.hull&&t.hull.length>2&&eM(t)){this.collinear=Int32Array.from({length:r.length/2},(h,g)=>g).sort((h,g)=>r[2*h]-r[2*g]||r[2*h+1]-r[2*g+1]);let s=this.collinear[0],l=this.collinear[this.collinear.length-1],c=[r[2*s],r[2*s+1],r[2*l],r[2*l+1]],m=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let h=0,g=r.length/2;h<g;++h){let C=rM(r[2*h],r[2*h+1],m);r[2*h]=C[0],r[2*h+1]=C[1]}this._delaunator=new Fl(r)}else delete this.collinear;let A=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,n=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),o=this._hullIndex.fill(-1);for(let s=0,l=A.length;s<l;++s){let c=n[s%3===2?s-2:s+1];(A[s]===-1||a[c]===-1)&&(a[c]=s)}for(let s=0,l=i.length;s<l;++s)o[i[s]]=s;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],a[i[0]]=1,i.length===2&&(a[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new So(this,t)}*neighbors(t){let{inedges:r,hull:A,_hullIndex:i,halfedges:n,triangles:a,collinear:o}=this;if(o){let m=o.indexOf(t);m>0&&(yield o[m-1]),m<o.length-1&&(yield o[m+1]);return}let s=r[t];if(s===-1)return;let l=s,c=-1;do{if(yield c=a[l],l=l%3===2?l-2:l+1,a[l]!==t)return;if(l=n[l],l===-1){let m=A[(i[t]+1)%A.length];m!==c&&(yield m);return}}while(l!==s)}find(t,r,A=0){if(t=+t,t!==t||(r=+r,r!==r))return-1;let i=A,n;for(;(n=this._step(A,t,r))>=0&&n!==A&&n!==i;)A=n;return n}_step(t,r,A){let{inedges:i,hull:n,_hullIndex:a,halfedges:o,triangles:s,points:l}=this;if(i[t]===-1||!l.length)return(t+1)%(l.length>>1);let c=t,m=ko(r-l[t*2],2)+ko(A-l[t*2+1],2),h=i[t],g=h;do{let C=s[g],b=ko(r-l[C*2],2)+ko(A-l[C*2+1],2);if(b<m&&(m=b,c=C),g=g%3===2?g-2:g+1,s[g]!==t)break;if(g=o[g],g===-1){if(g=n[(a[t]+1)%n.length],g!==C&&ko(r-l[g*2],2)+ko(A-l[g*2+1],2)<m)return g;break}}while(g!==h);return c}render(t){let r=t==null?t=new xA:void 0,{points:A,halfedges:i,triangles:n}=this;for(let a=0,o=i.length;a<o;++a){let s=i[a];if(s<a)continue;let l=n[a]*2,c=n[s]*2;t.moveTo(A[l],A[l+1]),t.lineTo(A[c],A[c+1])}return this.renderHull(t),r&&r.value()}renderPoints(t,r){r===void 0&&(!t||typeof t.moveTo!="function")&&(r=t,t=null),r=r==null?2:+r;let A=t==null?t=new xA:void 0,{points:i}=this;for(let n=0,a=i.length;n<a;n+=2){let o=i[n],s=i[n+1];t.moveTo(o+r,s),t.arc(o,s,r,0,ZH)}return A&&A.value()}renderHull(t){let r=t==null?t=new xA:void 0,{hull:A,points:i}=this,n=A[0]*2,a=A.length;t.moveTo(i[n],i[n+1]);for(let o=1;o<a;++o){let s=2*A[o];t.lineTo(i[s],i[s+1])}return t.closePath(),r&&r.value()}hullPolygon(){let t=new pa;return this.renderHull(t),t.value()}renderTriangle(t,r){let A=r==null?r=new xA:void 0,{points:i,triangles:n}=this,a=n[t*=3]*2,o=n[t+1]*2,s=n[t+2]*2;return r.moveTo(i[a],i[a+1]),r.lineTo(i[o],i[o+1]),r.lineTo(i[s],i[s+1]),r.closePath(),A&&A.value()}*trianglePolygons(){let{triangles:t}=this;for(let r=0,A=t.length/3;r<A;++r)yield this.trianglePolygon(r)}trianglePolygon(t){let r=new pa;return this.renderTriangle(t,r),r.value()}};function AM(e,t,r,A){let i=e.length,n=new Float64Array(i*2);for(let a=0;a<i;++a){let o=e[a];n[a*2]=t.call(A,o,a,e),n[a*2+1]=r.call(A,o,a,e)}return n}function*iM(e,t,r,A){let i=0;for(let n of e)yield t.call(A,n,i,e),yield r.call(A,n,i,e),++i}var h_={},Lg={},Hg=34,Ul=10,Mg=13;function d_(e){return new Function("d","return {"+e.map(function(t,r){return JSON.stringify(t)+": d["+r+'] || ""'}).join(",")+"}")}function nM(e,t){var r=d_(e);return function(A,i){return t(r(A),i,e)}}function p_(e){var t=Object.create(null),r=[];return e.forEach(function(A){for(var i in A)i in t||r.push(t[i]=i)}),r}function Rr(e,t){var r=e+"",A=r.length;return A<t?new Array(t-A+1).join(0)+r:r}function aM(e){return e<0?"-"+Rr(-e,6):e>9999?"+"+Rr(e,6):Rr(e,4)}function oM(e){var t=e.getUTCHours(),r=e.getUTCMinutes(),A=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":aM(e.getUTCFullYear(),4)+"-"+Rr(e.getUTCMonth()+1,2)+"-"+Rr(e.getUTCDate(),2)+(i?"T"+Rr(t,2)+":"+Rr(r,2)+":"+Rr(A,2)+"."+Rr(i,3)+"Z":A?"T"+Rr(t,2)+":"+Rr(r,2)+":"+Rr(A,2)+"Z":r||t?"T"+Rr(t,2)+":"+Rr(r,2)+"Z":"")}function dn(e){var t=new RegExp('["'+e+`
\r]`),r=e.charCodeAt(0);function A(m,h){var g,C,b=i(m,function(w,v){if(g)return g(w,v-1);C=w,g=h?nM(w,h):d_(w)});return b.columns=C||[],b}function i(m,h){var g=[],C=m.length,b=0,w=0,v,Q=C<=0,x=!1;m.charCodeAt(C-1)===Ul&&--C,m.charCodeAt(C-1)===Mg&&--C;function _(){if(Q)return Lg;if(x)return x=!1,h_;var K,P=b,R;if(m.charCodeAt(P)===Hg){for(;b++<C&&m.charCodeAt(b)!==Hg||m.charCodeAt(++b)===Hg;);return(K=b)>=C?Q=!0:(R=m.charCodeAt(b++))===Ul?x=!0:R===Mg&&(x=!0,m.charCodeAt(b)===Ul&&++b),m.slice(P+1,K-1).replace(/""/g,'"')}for(;b<C;){if((R=m.charCodeAt(K=b++))===Ul)x=!0;else if(R===Mg)x=!0,m.charCodeAt(b)===Ul&&++b;else if(R!==r)continue;return m.slice(P,K)}return Q=!0,m.slice(P,C)}for(;(v=_())!==Lg;){for(var E=[];v!==h_&&v!==Lg;)E.push(v),v=_();h&&(E=h(E,w++))==null||g.push(E)}return g}function n(m,h){return m.map(function(g){return h.map(function(C){return c(g[C])}).join(e)})}function a(m,h){return h==null&&(h=p_(m)),[h.map(c).join(e)].concat(n(m,h)).join(`
`)}function o(m,h){return h==null&&(h=p_(m)),n(m,h).join(`
`)}function s(m){return m.map(l).join(`
`)}function l(m){return m.map(c).join(e)}function c(m){return m==null?"":m instanceof Date?oM(m):t.test(m+="")?'"'+m.replace(/"/g,'""')+'"':m}return{parse:A,parseRows:i,format:a,formatBody:o,formatRows:s,formatRow:l,formatValue:c}}var da=dn(","),xf=da.parse,m_=da.parseRows,g_=da.format,B_=da.formatBody,C_=da.formatRows,b_=da.formatRow,w_=da.formatValue;var ma=dn("	"),Qf=ma.parse,y_=ma.parseRows,v_=ma.format,__=ma.formatBody,x_=ma.formatRows,Q_=ma.formatRow,F_=ma.formatValue;function Pg(e){for(var t in e){var r=e[t].trim(),A,i;if(!r)r=null;else if(r==="true")r=!0;else if(r==="false")r=!1;else if(r==="NaN")r=NaN;else if(!isNaN(A=+r))r=A;else if(i=r.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))sM&&i[4]&&!i[7]&&(r=r.replace(/-/g,"/").replace(/T/," ")),r=new Date(r);else continue;e[t]=r}return e}var sM=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function lM(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.blob()}function U_(e,t){return fetch(e,t).then(lM)}function uM(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.arrayBuffer()}function T_(e,t){return fetch(e,t).then(uM)}function cM(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function ga(e,t){return fetch(e,t).then(cM)}function E_(e){return function(t,r,A){return arguments.length===2&&typeof r=="function"&&(A=r,r=void 0),ga(t,r).then(function(i){return e(i,A)})}}function Rg(e,t,r,A){arguments.length===3&&typeof r=="function"&&(A=r,r=void 0);var i=dn(e);return ga(t,r).then(function(n){return i.parse(n,A)})}var K_=E_(xf),D_=E_(Qf);function I_(e,t){return new Promise(function(r,A){var i=new Image;for(var n in t)i[n]=t[n];i.onerror=A,i.onload=function(){r(i)},i.src=e})}function fM(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(!(e.status===204||e.status===205))return e.json()}function S_(e,t){return fetch(e,t).then(fM)}function Og(e){return(t,r)=>ga(t,r).then(A=>new DOMParser().parseFromString(A,e))}var k_=Og("application/xml"),L_=Og("text/html"),H_=Og("image/svg+xml");function M_(e,t){var r,A=1;e==null&&(e=0),t==null&&(t=0);function i(){var n,a=r.length,o,s=0,l=0;for(n=0;n<a;++n)o=r[n],s+=o.x,l+=o.y;for(s=(s/a-e)*A,l=(l/a-t)*A,n=0;n<a;++n)o=r[n],o.x-=s,o.y-=l}return i.initialize=function(n){r=n},i.x=function(n){return arguments.length?(e=+n,i):e},i.y=function(n){return arguments.length?(t=+n,i):t},i.strength=function(n){return arguments.length?(A=+n,i):A},i}function P_(e){let t=+this._x.call(null,e),r=+this._y.call(null,e);return R_(this.cover(t,r),t,r,e)}function R_(e,t,r,A){if(isNaN(t)||isNaN(r))return e;var i,n=e._root,a={data:A},o=e._x0,s=e._y0,l=e._x1,c=e._y1,m,h,g,C,b,w,v,Q;if(!n)return e._root=a,e;for(;n.length;)if((b=t>=(m=(o+l)/2))?o=m:l=m,(w=r>=(h=(s+c)/2))?s=h:c=h,i=n,!(n=n[v=w<<1|b]))return i[v]=a,e;if(g=+e._x.call(null,n.data),C=+e._y.call(null,n.data),t===g&&r===C)return a.next=n,i?i[v]=a:e._root=a,e;do i=i?i[v]=new Array(4):e._root=new Array(4),(b=t>=(m=(o+l)/2))?o=m:l=m,(w=r>=(h=(s+c)/2))?s=h:c=h;while((v=w<<1|b)===(Q=(C>=h)<<1|g>=m));return i[Q]=n,i[v]=a,e}function O_(e){var t,r,A=e.length,i,n,a=new Array(A),o=new Array(A),s=1/0,l=1/0,c=-1/0,m=-1/0;for(r=0;r<A;++r)isNaN(i=+this._x.call(null,t=e[r]))||isNaN(n=+this._y.call(null,t))||(a[r]=i,o[r]=n,i<s&&(s=i),i>c&&(c=i),n<l&&(l=n),n>m&&(m=n));if(s>c||l>m)return this;for(this.cover(s,l).cover(c,m),r=0;r<A;++r)R_(this,a[r],o[r],e[r]);return this}function N_(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var r=this._x0,A=this._y0,i=this._x1,n=this._y1;if(isNaN(r))i=(r=Math.floor(e))+1,n=(A=Math.floor(t))+1;else{for(var a=i-r||1,o=this._root,s,l;r>e||e>=i||A>t||t>=n;)switch(l=(t<A)<<1|e<r,s=new Array(4),s[l]=o,o=s,a*=2,l){case 0:i=r+a,n=A+a;break;case 1:r=i-a,n=A+a;break;case 2:i=r+a,A=n-a;break;case 3:r=i-a,A=n-a;break}this._root&&this._root.length&&(this._root=o)}return this._x0=r,this._y0=A,this._x1=i,this._y1=n,this}function V_(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function W_(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Ze(e,t,r,A,i){this.node=e,this.x0=t,this.y0=r,this.x1=A,this.y1=i}function G_(e,t,r){var A,i=this._x0,n=this._y0,a,o,s,l,c=this._x1,m=this._y1,h=[],g=this._root,C,b;for(g&&h.push(new Ze(g,i,n,c,m)),r==null?r=1/0:(i=e-r,n=t-r,c=e+r,m=t+r,r*=r);C=h.pop();)if(!(!(g=C.node)||(a=C.x0)>c||(o=C.y0)>m||(s=C.x1)<i||(l=C.y1)<n))if(g.length){var w=(a+s)/2,v=(o+l)/2;h.push(new Ze(g[3],w,v,s,l),new Ze(g[2],a,v,w,l),new Ze(g[1],w,o,s,v),new Ze(g[0],a,o,w,v)),(b=(t>=v)<<1|e>=w)&&(C=h[h.length-1],h[h.length-1]=h[h.length-1-b],h[h.length-1-b]=C)}else{var Q=e-+this._x.call(null,g.data),x=t-+this._y.call(null,g.data),_=Q*Q+x*x;if(_<r){var E=Math.sqrt(r=_);i=e-E,n=t-E,c=e+E,m=t+E,A=g.data}}return A}function z_(e){if(isNaN(c=+this._x.call(null,e))||isNaN(m=+this._y.call(null,e)))return this;var t,r=this._root,A,i,n,a=this._x0,o=this._y0,s=this._x1,l=this._y1,c,m,h,g,C,b,w,v;if(!r)return this;if(r.length)for(;;){if((C=c>=(h=(a+s)/2))?a=h:s=h,(b=m>=(g=(o+l)/2))?o=g:l=g,t=r,!(r=r[w=b<<1|C]))return this;if(!r.length)break;(t[w+1&3]||t[w+2&3]||t[w+3&3])&&(A=t,v=w)}for(;r.data!==e;)if(i=r,!(r=r.next))return this;return(n=r.next)&&delete r.next,i?(n?i.next=n:delete i.next,this):t?(n?t[w]=n:delete t[w],(r=t[0]||t[1]||t[2]||t[3])&&r===(t[3]||t[2]||t[1]||t[0])&&!r.length&&(A?A[v]=r:this._root=r),this):(this._root=n,this)}function X_(e){for(var t=0,r=e.length;t<r;++t)this.remove(e[t]);return this}function Y_(){return this._root}function $_(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function J_(e){var t=[],r,A=this._root,i,n,a,o,s;for(A&&t.push(new Ze(A,this._x0,this._y0,this._x1,this._y1));r=t.pop();)if(!e(A=r.node,n=r.x0,a=r.y0,o=r.x1,s=r.y1)&&A.length){var l=(n+o)/2,c=(a+s)/2;(i=A[3])&&t.push(new Ze(i,l,c,o,s)),(i=A[2])&&t.push(new Ze(i,n,c,l,s)),(i=A[1])&&t.push(new Ze(i,l,a,o,c)),(i=A[0])&&t.push(new Ze(i,n,a,l,c))}return this}function j_(e){var t=[],r=[],A;for(this._root&&t.push(new Ze(this._root,this._x0,this._y0,this._x1,this._y1));A=t.pop();){var i=A.node;if(i.length){var n,a=A.x0,o=A.y0,s=A.x1,l=A.y1,c=(a+s)/2,m=(o+l)/2;(n=i[0])&&t.push(new Ze(n,a,o,c,m)),(n=i[1])&&t.push(new Ze(n,c,o,s,m)),(n=i[2])&&t.push(new Ze(n,a,m,c,l)),(n=i[3])&&t.push(new Ze(n,c,m,s,l))}r.push(A)}for(;A=r.pop();)e(A.node,A.x0,A.y0,A.x1,A.y1);return this}function Z_(e){return e[0]}function q_(e){return arguments.length?(this._x=e,this):this._x}function tx(e){return e[1]}function ex(e){return arguments.length?(this._y=e,this):this._y}function mn(e,t,r){var A=new Ng(t??Z_,r??tx,NaN,NaN,NaN,NaN);return e==null?A:A.addAll(e)}function Ng(e,t,r,A,i,n){this._x=e,this._y=t,this._x0=r,this._y0=A,this._x1=i,this._y1=n,this._root=void 0}function rx(e){for(var t={data:e.data},r=t;e=e.next;)r=r.next={data:e.data};return t}var yr=mn.prototype=Ng.prototype;yr.copy=function(){var e=new Ng(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,r,A;if(!t)return e;if(!t.length)return e._root=rx(t),e;for(r=[{source:t,target:e._root=new Array(4)}];t=r.pop();)for(var i=0;i<4;++i)(A=t.source[i])&&(A.length?r.push({source:A,target:t.target[i]=new Array(4)}):t.target[i]=rx(A));return e};yr.add=P_;yr.addAll=O_;yr.cover=N_;yr.data=V_;yr.extent=W_;yr.find=G_;yr.remove=z_;yr.removeAll=X_;yr.root=Y_;yr.size=$_;yr.visit=J_;yr.visitAfter=j_;yr.x=q_;yr.y=ex;function de(e){return function(){return e}}function QA(e){return(e()-.5)*1e-6}function hM(e){return e.x+e.vx}function pM(e){return e.y+e.vy}function Ax(e){var t,r,A,i=1,n=1;typeof e!="function"&&(e=de(e==null?1:+e));function a(){for(var l,c=t.length,m,h,g,C,b,w,v=0;v<n;++v)for(m=mn(t,hM,pM).visitAfter(o),l=0;l<c;++l)h=t[l],b=r[h.index],w=b*b,g=h.x+h.vx,C=h.y+h.vy,m.visit(Q);function Q(x,_,E,K,P){var R=x.data,O=x.r,M=b+O;if(R){if(R.index>h.index){var I=g-R.x-R.vx,X=C-R.y-R.vy,V=I*I+X*X;V<M*M&&(I===0&&(I=QA(A),V+=I*I),X===0&&(X=QA(A),V+=X*X),V=(M-(V=Math.sqrt(V)))/V*i,h.vx+=(I*=V)*(M=(O*=O)/(w+O)),h.vy+=(X*=V)*M,R.vx-=I*(M=1-M),R.vy-=X*M)}return}return _>g+M||K<g-M||E>C+M||P<C-M}}function o(l){if(l.data)return l.r=r[l.data.index];for(var c=l.r=0;c<4;++c)l[c]&&l[c].r>l.r&&(l.r=l[c].r)}function s(){if(t){var l,c=t.length,m;for(r=new Array(c),l=0;l<c;++l)m=t[l],r[m.index]=+e(m,l,t)}}return a.initialize=function(l,c){t=l,A=c,s()},a.iterations=function(l){return arguments.length?(n=+l,a):n},a.strength=function(l){return arguments.length?(i=+l,a):i},a.radius=function(l){return arguments.length?(e=typeof l=="function"?l:de(+l),s(),a):e},a}function dM(e){return e.index}function ix(e,t){var r=e.get(t);if(!r)throw new Error("node not found: "+t);return r}function nx(e){var t=dM,r=m,A,i=de(30),n,a,o,s,l,c=1;e==null&&(e=[]);function m(w){return 1/Math.min(o[w.source.index],o[w.target.index])}function h(w){for(var v=0,Q=e.length;v<c;++v)for(var x=0,_,E,K,P,R,O,M;x<Q;++x)_=e[x],E=_.source,K=_.target,P=K.x+K.vx-E.x-E.vx||QA(l),R=K.y+K.vy-E.y-E.vy||QA(l),O=Math.sqrt(P*P+R*R),O=(O-n[x])/O*w*A[x],P*=O,R*=O,K.vx-=P*(M=s[x]),K.vy-=R*M,E.vx+=P*(M=1-M),E.vy+=R*M}function g(){if(a){var w,v=a.length,Q=e.length,x=new Map(a.map((E,K)=>[t(E,K,a),E])),_;for(w=0,o=new Array(v);w<Q;++w)_=e[w],_.index=w,typeof _.source!="object"&&(_.source=ix(x,_.source)),typeof _.target!="object"&&(_.target=ix(x,_.target)),o[_.source.index]=(o[_.source.index]||0)+1,o[_.target.index]=(o[_.target.index]||0)+1;for(w=0,s=new Array(Q);w<Q;++w)_=e[w],s[w]=o[_.source.index]/(o[_.source.index]+o[_.target.index]);A=new Array(Q),C(),n=new Array(Q),b()}}function C(){if(a)for(var w=0,v=e.length;w<v;++w)A[w]=+r(e[w],w,e)}function b(){if(a)for(var w=0,v=e.length;w<v;++w)n[w]=+i(e[w],w,e)}return h.initialize=function(w,v){a=w,l=v,g()},h.links=function(w){return arguments.length?(e=w,g(),h):e},h.id=function(w){return arguments.length?(t=w,h):t},h.iterations=function(w){return arguments.length?(c=+w,h):c},h.strength=function(w){return arguments.length?(r=typeof w=="function"?w:de(+w),C(),h):r},h.distance=function(w){return arguments.length?(i=typeof w=="function"?w:de(+w),b(),h):i},h}function ax(){let e=1;return()=>(e=(1664525*e+1013904223)%4294967296)/4294967296}function ox(e){return e.x}function sx(e){return e.y}var mM=10,gM=Math.PI*(3-Math.sqrt(5));function lx(e){var t,r=1,A=.001,i=1-Math.pow(A,1/300),n=0,a=.6,o=new Map,s=sa(m),l=iA("tick","end"),c=ax();e==null&&(e=[]);function m(){h(),l.call("tick",t),r<A&&(s.stop(),l.call("end",t))}function h(b){var w,v=e.length,Q;b===void 0&&(b=1);for(var x=0;x<b;++x)for(r+=(n-r)*i,o.forEach(function(_){_(r)}),w=0;w<v;++w)Q=e[w],Q.fx==null?Q.x+=Q.vx*=a:(Q.x=Q.fx,Q.vx=0),Q.fy==null?Q.y+=Q.vy*=a:(Q.y=Q.fy,Q.vy=0);return t}function g(){for(var b=0,w=e.length,v;b<w;++b){if(v=e[b],v.index=b,v.fx!=null&&(v.x=v.fx),v.fy!=null&&(v.y=v.fy),isNaN(v.x)||isNaN(v.y)){var Q=mM*Math.sqrt(.5+b),x=b*gM;v.x=Q*Math.cos(x),v.y=Q*Math.sin(x)}(isNaN(v.vx)||isNaN(v.vy))&&(v.vx=v.vy=0)}}function C(b){return b.initialize&&b.initialize(e,c),b}return g(),t={tick:h,restart:function(){return s.restart(m),t},stop:function(){return s.stop(),t},nodes:function(b){return arguments.length?(e=b,g(),o.forEach(C),t):e},alpha:function(b){return arguments.length?(r=+b,t):r},alphaMin:function(b){return arguments.length?(A=+b,t):A},alphaDecay:function(b){return arguments.length?(i=+b,t):+i},alphaTarget:function(b){return arguments.length?(n=+b,t):n},velocityDecay:function(b){return arguments.length?(a=1-b,t):1-a},randomSource:function(b){return arguments.length?(c=b,o.forEach(C),t):c},force:function(b,w){return arguments.length>1?(w==null?o.delete(b):o.set(b,C(w)),t):o.get(b)},find:function(b,w,v){var Q=0,x=e.length,_,E,K,P,R;for(v==null?v=1/0:v*=v,Q=0;Q<x;++Q)P=e[Q],_=b-P.x,E=w-P.y,K=_*_+E*E,K<v&&(R=P,v=K);return R},on:function(b,w){return arguments.length>1?(l.on(b,w),t):l.on(b)}}}function ux(){var e,t,r,A,i=de(-30),n,a=1,o=1/0,s=.81;function l(g){var C,b=e.length,w=mn(e,ox,sx).visitAfter(m);for(A=g,C=0;C<b;++C)t=e[C],w.visit(h)}function c(){if(e){var g,C=e.length,b;for(n=new Array(C),g=0;g<C;++g)b=e[g],n[b.index]=+i(b,g,e)}}function m(g){var C=0,b,w,v=0,Q,x,_;if(g.length){for(Q=x=_=0;_<4;++_)(b=g[_])&&(w=Math.abs(b.value))&&(C+=b.value,v+=w,Q+=w*b.x,x+=w*b.y);g.x=Q/v,g.y=x/v}else{b=g,b.x=b.data.x,b.y=b.data.y;do C+=n[b.data.index];while(b=b.next)}g.value=C}function h(g,C,b,w){if(!g.value)return!0;var v=g.x-t.x,Q=g.y-t.y,x=w-C,_=v*v+Q*Q;if(x*x/s<_)return _<o&&(v===0&&(v=QA(r),_+=v*v),Q===0&&(Q=QA(r),_+=Q*Q),_<a&&(_=Math.sqrt(a*_)),t.vx+=v*g.value*A/_,t.vy+=Q*g.value*A/_),!0;if(g.length||_>=o)return;(g.data!==t||g.next)&&(v===0&&(v=QA(r),_+=v*v),Q===0&&(Q=QA(r),_+=Q*Q),_<a&&(_=Math.sqrt(a*_)));do g.data!==t&&(x=n[g.data.index]*A/_,t.vx+=v*x,t.vy+=Q*x);while(g=g.next)}return l.initialize=function(g,C){e=g,r=C,c()},l.strength=function(g){return arguments.length?(i=typeof g=="function"?g:de(+g),c(),l):i},l.distanceMin=function(g){return arguments.length?(a=g*g,l):Math.sqrt(a)},l.distanceMax=function(g){return arguments.length?(o=g*g,l):Math.sqrt(o)},l.theta=function(g){return arguments.length?(s=g*g,l):Math.sqrt(s)},l}function cx(e,t,r){var A,i=de(.1),n,a;typeof e!="function"&&(e=de(+e)),t==null&&(t=0),r==null&&(r=0);function o(l){for(var c=0,m=A.length;c<m;++c){var h=A[c],g=h.x-t||1e-6,C=h.y-r||1e-6,b=Math.sqrt(g*g+C*C),w=(a[c]-b)*n[c]*l/b;h.vx+=g*w,h.vy+=C*w}}function s(){if(A){var l,c=A.length;for(n=new Array(c),a=new Array(c),l=0;l<c;++l)a[l]=+e(A[l],l,A),n[l]=isNaN(a[l])?0:+i(A[l],l,A)}}return o.initialize=function(l){A=l,s()},o.strength=function(l){return arguments.length?(i=typeof l=="function"?l:de(+l),s(),o):i},o.radius=function(l){return arguments.length?(e=typeof l=="function"?l:de(+l),s(),o):e},o.x=function(l){return arguments.length?(t=+l,o):t},o.y=function(l){return arguments.length?(r=+l,o):r},o}function fx(e){var t=de(.1),r,A,i;typeof e!="function"&&(e=de(e==null?0:+e));function n(o){for(var s=0,l=r.length,c;s<l;++s)c=r[s],c.vx+=(i[s]-c.x)*A[s]*o}function a(){if(r){var o,s=r.length;for(A=new Array(s),i=new Array(s),o=0;o<s;++o)A[o]=isNaN(i[o]=+e(r[o],o,r))?0:+t(r[o],o,r)}}return n.initialize=function(o){r=o,a()},n.strength=function(o){return arguments.length?(t=typeof o=="function"?o:de(+o),a(),n):t},n.x=function(o){return arguments.length?(e=typeof o=="function"?o:de(+o),a(),n):e},n}function hx(e){var t=de(.1),r,A,i;typeof e!="function"&&(e=de(e==null?0:+e));function n(o){for(var s=0,l=r.length,c;s<l;++s)c=r[s],c.vy+=(i[s]-c.y)*A[s]*o}function a(){if(r){var o,s=r.length;for(A=new Array(s),i=new Array(s),o=0;o<s;++o)A[o]=isNaN(i[o]=+e(r[o],o,r))?0:+t(r[o],o,r)}}return n.initialize=function(o){r=o,a()},n.strength=function(o){return arguments.length?(t=typeof o=="function"?o:de(+o),a(),n):t},n.y=function(o){return arguments.length?(e=typeof o=="function"?o:de(+o),a(),n):e},n}function px(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ba(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,A=e.slice(0,r);return[A.length>1?A[0]+A.slice(2):A,+e.slice(r+1)]}function YA(e){return e=Ba(Math.abs(e)),e?e[1]:NaN}function dx(e,t){return function(r,A){for(var i=r.length,n=[],a=0,o=e[0],s=0;i>0&&o>0&&(s+o+1>A&&(o=Math.max(1,A-s)),n.push(r.substring(i-=o,i+o)),!((s+=o+1)>A));)o=e[a=(a+1)%e.length];return n.reverse().join(t)}}function mx(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var BM=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function FA(e){if(!(t=BM.exec(e)))throw new Error("invalid format: "+e);var t;return new Tl({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}FA.prototype=Tl.prototype;function Tl(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Tl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function gx(e){t:for(var t=e.length,r=1,A=-1,i;r<t;++r)switch(e[r]){case".":A=i=r;break;case"0":A===0&&(A=r),i=r;break;default:if(!+e[r])break t;A>0&&(A=0);break}return A>0?e.slice(0,A)+e.slice(i+1):e}var Vg;function Bx(e,t){var r=Ba(e,t);if(!r)return e+"";var A=r[0],i=r[1],n=i-(Vg=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=A.length;return n===a?A:n>a?A+new Array(n-a+1).join("0"):n>0?A.slice(0,n)+"."+A.slice(n):"0."+new Array(1-n).join("0")+Ba(e,Math.max(0,t+n-1))[0]}function Wg(e,t){var r=Ba(e,t);if(!r)return e+"";var A=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+A:A.length>i+1?A.slice(0,i+1)+"."+A.slice(i+1):A+new Array(i-A.length+2).join("0")}var Gg={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:px,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Wg(e*100,t),r:Wg,s:Bx,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function zg(e){return e}var Cx=Array.prototype.map,bx=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Ff(e){var t=e.grouping===void 0||e.thousands===void 0?zg:dx(Cx.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",A=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",n=e.numerals===void 0?zg:mx(Cx.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"\u2212":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function l(m){m=FA(m);var h=m.fill,g=m.align,C=m.sign,b=m.symbol,w=m.zero,v=m.width,Q=m.comma,x=m.precision,_=m.trim,E=m.type;E==="n"?(Q=!0,E="g"):Gg[E]||(x===void 0&&(x=12),_=!0,E="g"),(w||h==="0"&&g==="=")&&(w=!0,h="0",g="=");var K=b==="$"?r:b==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",P=b==="$"?A:/[%p]/.test(E)?a:"",R=Gg[E],O=/[defgprs%]/.test(E);x=x===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function M(I){var X=K,V=P,D,L,k;if(E==="c")V=R(I)+V,I="";else{I=+I;var W=I<0||1/I<0;if(I=isNaN(I)?s:R(Math.abs(I),x),_&&(I=gx(I)),W&&+I==0&&C!=="+"&&(W=!1),X=(W?C==="("?C:o:C==="-"||C==="("?"":C)+X,V=(E==="s"?bx[8+Vg/3]:"")+V+(W&&C==="("?")":""),O){for(D=-1,L=I.length;++D<L;)if(k=I.charCodeAt(D),48>k||k>57){V=(k===46?i+I.slice(D+1):I.slice(D))+V,I=I.slice(0,D);break}}}Q&&!w&&(I=t(I,1/0));var J=X.length+I.length+V.length,Y=J<v?new Array(v-J+1).join(h):"";switch(Q&&w&&(I=t(Y+I,Y.length?v-V.length:1/0),Y=""),g){case"<":I=X+I+V+Y;break;case"=":I=X+Y+I+V;break;case"^":I=Y.slice(0,J=Y.length>>1)+X+I+V+Y.slice(J);break;default:I=Y+X+I+V;break}return n(I)}return M.toString=function(){return m+""},M}function c(m,h){var g=l((m=FA(m),m.type="f",m)),C=Math.max(-8,Math.min(8,Math.floor(YA(h)/3)))*3,b=Math.pow(10,-C),w=bx[8+C/3];return function(v){return g(b*v)+w}}return{format:l,formatPrefix:c}}var Uf,Ca,El;Tf({thousands:",",grouping:[3],currency:["$",""]});function Tf(e){return Uf=Ff(e),Ca=Uf.format,El=Uf.formatPrefix,Uf}function Ef(e){return Math.max(0,-YA(Math.abs(e)))}function Kf(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(YA(t)/3)))*3-YA(Math.abs(e)))}function Df(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,YA(t)-YA(e))+1}var st=1e-6,Ui=1e-12,_t=Math.PI,ie=_t/2,Lo=_t/4,De=_t*2,Mt=180/_t,ht=_t/180,bt=Math.abs,aA=Math.atan,oe=Math.atan2,et=Math.cos,Kl=Math.ceil,If=Math.exp;var Sf=Math.hypot,ba=Math.log,kf=Math.pow,q=Math.sin,Br=Math.sign||function(e){return e>0?1:e<0?-1:0},Gt=Math.sqrt,Ho=Math.tan;function Lf(e){return e>1?0:e<-1?_t:Math.acos(e)}function se(e){return e>1?ie:e<-1?-ie:Math.asin(e)}function Xg(e){return(e=q(e/2))*e}function Yt(){}function Hf(e,t){e&&yx.hasOwnProperty(e.type)&&yx[e.type](e,t)}var wx={Feature:function(e,t){Hf(e.geometry,t)},FeatureCollection:function(e,t){for(var r=e.features,A=-1,i=r.length;++A<i;)Hf(r[A].geometry,t)}},yx={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var r=e.coordinates,A=-1,i=r.length;++A<i;)e=r[A],t.point(e[0],e[1],e[2])},LineString:function(e,t){Yg(e.coordinates,t,0)},MultiLineString:function(e,t){for(var r=e.coordinates,A=-1,i=r.length;++A<i;)Yg(r[A],t,0)},Polygon:function(e,t){vx(e.coordinates,t)},MultiPolygon:function(e,t){for(var r=e.coordinates,A=-1,i=r.length;++A<i;)vx(r[A],t)},GeometryCollection:function(e,t){for(var r=e.geometries,A=-1,i=r.length;++A<i;)Hf(r[A],t)}};function Yg(e,t,r){var A=-1,i=e.length-r,n;for(t.lineStart();++A<i;)n=e[A],t.point(n[0],n[1],n[2]);t.lineEnd()}function vx(e,t){var r=-1,A=e.length;for(t.polygonStart();++r<A;)Yg(e[r],t,1);t.polygonEnd()}function qe(e,t){e&&wx.hasOwnProperty(e.type)?wx[e.type](e,t):Hf(e,t)}var Dl=new te,Mf=new te,_x,xx,$g,Jg,jg,UA={point:Yt,lineStart:Yt,lineEnd:Yt,polygonStart:function(){Dl=new te,UA.lineStart=CM,UA.lineEnd=bM},polygonEnd:function(){var e=+Dl;Mf.add(e<0?De+e:e),this.lineStart=this.lineEnd=this.point=Yt},sphere:function(){Mf.add(De)}};function CM(){UA.point=wM}function bM(){Qx(_x,xx)}function wM(e,t){UA.point=Qx,_x=e,xx=t,e*=ht,t*=ht,$g=e,Jg=et(t=t/2+Lo),jg=q(t)}function Qx(e,t){e*=ht,t*=ht,t=t/2+Lo;var r=e-$g,A=r>=0?1:-1,i=A*r,n=et(t),a=q(t),o=jg*a,s=Jg*n+o*et(i),l=o*A*q(i);Dl.add(oe(l,s)),$g=e,Jg=n,jg=a}function Fx(e){return Mf=new te,qe(e,UA),Mf*2}function wa(e){return[oe(e[1],e[0]),se(e[2])]}function oA(e){var t=e[0],r=e[1],A=et(r);return[A*et(t),A*q(t),q(r)]}function Il(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Ti(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Pf(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Sl(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function ya(e){var t=Gt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var _e,Or,Fe,$r,va,Kx,Dx,Mo,kl,gn,Ki,Ei={point:Zg,lineStart:Ux,lineEnd:Tx,polygonStart:function(){Ei.point=Sx,Ei.lineStart=yM,Ei.lineEnd=vM,kl=new te,UA.polygonStart()},polygonEnd:function(){UA.polygonEnd(),Ei.point=Zg,Ei.lineStart=Ux,Ei.lineEnd=Tx,Dl<0?(_e=-(Fe=180),Or=-($r=90)):kl>st?$r=90:kl<-st&&(Or=-90),Ki[0]=_e,Ki[1]=Fe},sphere:function(){_e=-(Fe=180),Or=-($r=90)}};function Zg(e,t){gn.push(Ki=[_e=e,Fe=e]),t<Or&&(Or=t),t>$r&&($r=t)}function Ix(e,t){var r=oA([e*ht,t*ht]);if(Mo){var A=Ti(Mo,r),i=[A[1],-A[0],0],n=Ti(i,A);ya(n),n=wa(n);var a=e-va,o=a>0?1:-1,s=n[0]*Mt*o,l,c=bt(a)>180;c^(o*va<s&&s<o*e)?(l=n[1]*Mt,l>$r&&($r=l)):(s=(s+360)%360-180,c^(o*va<s&&s<o*e)?(l=-n[1]*Mt,l<Or&&(Or=l)):(t<Or&&(Or=t),t>$r&&($r=t))),c?e<va?Yr(_e,e)>Yr(_e,Fe)&&(Fe=e):Yr(e,Fe)>Yr(_e,Fe)&&(_e=e):Fe>=_e?(e<_e&&(_e=e),e>Fe&&(Fe=e)):e>va?Yr(_e,e)>Yr(_e,Fe)&&(Fe=e):Yr(e,Fe)>Yr(_e,Fe)&&(_e=e)}else gn.push(Ki=[_e=e,Fe=e]);t<Or&&(Or=t),t>$r&&($r=t),Mo=r,va=e}function Ux(){Ei.point=Ix}function Tx(){Ki[0]=_e,Ki[1]=Fe,Ei.point=Zg,Mo=null}function Sx(e,t){if(Mo){var r=e-va;kl.add(bt(r)>180?r+(r>0?360:-360):r)}else Kx=e,Dx=t;UA.point(e,t),Ix(e,t)}function yM(){UA.lineStart()}function vM(){Sx(Kx,Dx),UA.lineEnd(),bt(kl)>st&&(_e=-(Fe=180)),Ki[0]=_e,Ki[1]=Fe,Mo=null}function Yr(e,t){return(t-=e)<0?t+360:t}function _M(e,t){return e[0]-t[0]}function Ex(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function kx(e){var t,r,A,i,n,a,o;if($r=Fe=-(_e=Or=1/0),gn=[],qe(e,Ei),r=gn.length){for(gn.sort(_M),t=1,A=gn[0],n=[A];t<r;++t)i=gn[t],Ex(A,i[0])||Ex(A,i[1])?(Yr(A[0],i[1])>Yr(A[0],A[1])&&(A[1]=i[1]),Yr(i[0],A[1])>Yr(A[0],A[1])&&(A[0]=i[0])):n.push(A=i);for(a=-1/0,r=n.length-1,t=0,A=n[r];t<=r;A=i,++t)i=n[t],(o=Yr(A[1],i[0]))>a&&(a=o,_e=i[0],Fe=A[1])}return gn=Ki=null,_e===1/0||Or===1/0?[[NaN,NaN],[NaN,NaN]]:[[_e,Or],[Fe,$r]]}var Ll,Rf,Of,Nf,Vf,Wf,Gf,zf,qg,t0,e0,Mx,Px,vr,_r,xr,TA={sphere:Yt,point:r0,lineStart:Lx,lineEnd:Hx,polygonStart:function(){TA.lineStart=FM,TA.lineEnd=UM},polygonEnd:function(){TA.lineStart=Lx,TA.lineEnd=Hx}};function r0(e,t){e*=ht,t*=ht;var r=et(t);Hl(r*et(e),r*q(e),q(t))}function Hl(e,t,r){++Ll,Of+=(e-Of)/Ll,Nf+=(t-Nf)/Ll,Vf+=(r-Vf)/Ll}function Lx(){TA.point=xM}function xM(e,t){e*=ht,t*=ht;var r=et(t);vr=r*et(e),_r=r*q(e),xr=q(t),TA.point=QM,Hl(vr,_r,xr)}function QM(e,t){e*=ht,t*=ht;var r=et(t),A=r*et(e),i=r*q(e),n=q(t),a=oe(Gt((a=_r*n-xr*i)*a+(a=xr*A-vr*n)*a+(a=vr*i-_r*A)*a),vr*A+_r*i+xr*n);Rf+=a,Wf+=a*(vr+(vr=A)),Gf+=a*(_r+(_r=i)),zf+=a*(xr+(xr=n)),Hl(vr,_r,xr)}function Hx(){TA.point=r0}function FM(){TA.point=TM}function UM(){Rx(Mx,Px),TA.point=r0}function TM(e,t){Mx=e,Px=t,e*=ht,t*=ht,TA.point=Rx;var r=et(t);vr=r*et(e),_r=r*q(e),xr=q(t),Hl(vr,_r,xr)}function Rx(e,t){e*=ht,t*=ht;var r=et(t),A=r*et(e),i=r*q(e),n=q(t),a=_r*n-xr*i,o=xr*A-vr*n,s=vr*i-_r*A,l=Sf(a,o,s),c=se(l),m=l&&-c/l;qg.add(m*a),t0.add(m*o),e0.add(m*s),Rf+=c,Wf+=c*(vr+(vr=A)),Gf+=c*(_r+(_r=i)),zf+=c*(xr+(xr=n)),Hl(vr,_r,xr)}function Ox(e){Ll=Rf=Of=Nf=Vf=Wf=Gf=zf=0,qg=new te,t0=new te,e0=new te,qe(e,TA);var t=+qg,r=+t0,A=+e0,i=Sf(t,r,A);return i<Ui&&(t=Wf,r=Gf,A=zf,Rf<st&&(t=Of,r=Nf,A=Vf),i=Sf(t,r,A),i<Ui)?[NaN,NaN]:[oe(r,t)*Mt,se(A/i)*Mt]}function _a(e){return function(){return e}}function Ml(e,t){function r(A,i){return A=e(A,i),t(A[0],A[1])}return e.invert&&t.invert&&(r.invert=function(A,i){return A=t.invert(A,i),A&&e.invert(A[0],A[1])}),r}function A0(e,t){return bt(e)>_t&&(e-=Math.round(e/De)*De),[e,t]}A0.invert=A0;function Pl(e,t,r){return(e%=De)?t||r?Ml(Vx(e),Wx(t,r)):Vx(e):t||r?Wx(t,r):A0}function Nx(e){return function(t,r){return t+=e,bt(t)>_t&&(t-=Math.round(t/De)*De),[t,r]}}function Vx(e){var t=Nx(e);return t.invert=Nx(-e),t}function Wx(e,t){var r=et(e),A=q(e),i=et(t),n=q(t);function a(o,s){var l=et(s),c=et(o)*l,m=q(o)*l,h=q(s),g=h*r+c*A;return[oe(m*i-g*n,c*r-h*A),se(g*i+m*n)]}return a.invert=function(o,s){var l=et(s),c=et(o)*l,m=q(o)*l,h=q(s),g=h*i-m*n;return[oe(m*i+h*n,c*r+g*A),se(g*r-c*A)]},a}function Xf(e){e=Pl(e[0]*ht,e[1]*ht,e.length>2?e[2]*ht:0);function t(r){return r=e(r[0]*ht,r[1]*ht),r[0]*=Mt,r[1]*=Mt,r}return t.invert=function(r){return r=e.invert(r[0]*ht,r[1]*ht),r[0]*=Mt,r[1]*=Mt,r},t}function i0(e,t,r,A,i,n){if(r){var a=et(t),o=q(t),s=A*r;i==null?(i=t+A*De,n=t-s/2):(i=Gx(a,i),n=Gx(a,n),(A>0?i<n:i>n)&&(i+=A*De));for(var l,c=i;A>0?c>n:c<n;c-=s)l=wa([a,-o*et(c),-o*q(c)]),e.point(l[0],l[1])}}function Gx(e,t){t=oA(t),t[0]-=e,ya(t);var r=Lf(-t[1]);return((-t[2]<0?-r:r)+De-st)%De}function zx(){var e=_a([0,0]),t=_a(90),r=_a(2),A,i,n={point:a};function a(s,l){A.push(s=i(s,l)),s[0]*=Mt,s[1]*=Mt}function o(){var s=e.apply(this,arguments),l=t.apply(this,arguments)*ht,c=r.apply(this,arguments)*ht;return A=[],i=Pl(-s[0]*ht,-s[1]*ht,0).invert,i0(n,l,c,1),s={type:"Polygon",coordinates:[A]},A=i=null,s}return o.center=function(s){return arguments.length?(e=typeof s=="function"?s:_a([+s[0],+s[1]]),o):e},o.radius=function(s){return arguments.length?(t=typeof s=="function"?s:_a(+s),o):t},o.precision=function(s){return arguments.length?(r=typeof s=="function"?s:_a(+s),o):r},o}function Yf(){var e=[],t;return{point:function(r,A,i){t.push([r,A,i])},lineStart:function(){e.push(t=[])},lineEnd:Yt,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var r=e;return e=[],t=null,r}}}function Po(e,t){return bt(e[0]-t[0])<st&&bt(e[1]-t[1])<st}function $f(e,t,r,A){this.x=e,this.z=t,this.o=r,this.e=A,this.v=!1,this.n=this.p=null}function Jf(e,t,r,A,i){var n=[],a=[],o,s;if(e.forEach(function(C){if(!((b=C.length-1)<=0)){var b,w=C[0],v=C[b],Q;if(Po(w,v)){if(!w[2]&&!v[2]){for(i.lineStart(),o=0;o<b;++o)i.point((w=C[o])[0],w[1]);i.lineEnd();return}v[0]+=2*st}n.push(Q=new $f(w,C,null,!0)),a.push(Q.o=new $f(w,null,Q,!1)),n.push(Q=new $f(v,C,null,!1)),a.push(Q.o=new $f(v,null,Q,!0))}}),!!n.length){for(a.sort(t),Xx(n),Xx(a),o=0,s=a.length;o<s;++o)a[o].e=r=!r;for(var l=n[0],c,m;;){for(var h=l,g=!0;h.v;)if((h=h.n)===l)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(g)for(o=0,s=c.length;o<s;++o)i.point((m=c[o])[0],m[1]);else A(h.x,h.n.x,1,i);h=h.n}else{if(g)for(c=h.p.z,o=c.length-1;o>=0;--o)i.point((m=c[o])[0],m[1]);else A(h.x,h.p.x,-1,i);h=h.p}h=h.o,c=h.z,g=!g}while(!h.v);i.lineEnd()}}}function Xx(e){if(t=e.length){for(var t,r=0,A=e[0],i;++r<t;)A.n=i=e[r],i.p=A,A=i;A.n=i=e[0],i.p=A}}function n0(e){return bt(e[0])<=_t?e[0]:Br(e[0])*((bt(e[0])+_t)%De-_t)}function jf(e,t){var r=n0(t),A=t[1],i=q(A),n=[q(r),-et(r),0],a=0,o=0,s=new te;i===1?A=ie+st:i===-1&&(A=-ie-st);for(var l=0,c=e.length;l<c;++l)if(h=(m=e[l]).length)for(var m,h,g=m[h-1],C=n0(g),b=g[1]/2+Lo,w=q(b),v=et(b),Q=0;Q<h;++Q,C=_,w=K,v=P,g=x){var x=m[Q],_=n0(x),E=x[1]/2+Lo,K=q(E),P=et(E),R=_-C,O=R>=0?1:-1,M=O*R,I=M>_t,X=w*K;if(s.add(oe(X*O*q(M),v*P+X*et(M))),a+=I?R+O*De:R,I^C>=r^_>=r){var V=Ti(oA(g),oA(x));ya(V);var D=Ti(n,V);ya(D);var L=(I^R>=0?-1:1)*se(D[2]);(A>L||A===L&&(V[0]||V[1]))&&(o+=I^R>=0?1:-1)}}return(a<-st||a<st&&s<-Ui)^o&1}function Zf(e,t,r,A){return function(i){var n=t(i),a=Yf(),o=t(a),s=!1,l,c,m,h={point:g,lineStart:b,lineEnd:w,polygonStart:function(){h.point=v,h.lineStart=Q,h.lineEnd=x,c=[],l=[]},polygonEnd:function(){h.point=g,h.lineStart=b,h.lineEnd=w,c=Zn(c);var _=jf(l,A);c.length?(s||(i.polygonStart(),s=!0),Jf(c,KM,_,r,i)):_&&(s||(i.polygonStart(),s=!0),i.lineStart(),r(null,null,1,i),i.lineEnd()),s&&(i.polygonEnd(),s=!1),c=l=null},sphere:function(){i.polygonStart(),i.lineStart(),r(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function g(_,E){e(_,E)&&i.point(_,E)}function C(_,E){n.point(_,E)}function b(){h.point=C,n.lineStart()}function w(){h.point=g,n.lineEnd()}function v(_,E){m.push([_,E]),o.point(_,E)}function Q(){o.lineStart(),m=[]}function x(){v(m[0][0],m[0][1]),o.lineEnd();var _=o.clean(),E=a.result(),K,P=E.length,R,O,M;if(m.pop(),l.push(m),m=null,!!P){if(_&1){if(O=E[0],(R=O.length-1)>0){for(s||(i.polygonStart(),s=!0),i.lineStart(),K=0;K<R;++K)i.point((M=O[K])[0],M[1]);i.lineEnd()}return}P>1&&_&2&&E.push(E.pop().concat(E.shift())),c.push(E.filter(EM))}}return h}}function EM(e){return e.length>1}function KM(e,t){return((e=e.x)[0]<0?e[1]-ie-st:ie-e[1])-((t=t.x)[0]<0?t[1]-ie-st:ie-t[1])}var Rl=Zf(function(){return!0},DM,SM,[-_t,-ie]);function DM(e){var t=NaN,r=NaN,A=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(n,a){var o=n>0?_t:-_t,s=bt(n-t);bt(s-_t)<st?(e.point(t,r=(r+a)/2>0?ie:-ie),e.point(A,r),e.lineEnd(),e.lineStart(),e.point(o,r),e.point(n,r),i=0):A!==o&&s>=_t&&(bt(t-A)<st&&(t-=A*st),bt(n-o)<st&&(n-=o*st),r=IM(t,r,n,a),e.point(A,r),e.lineEnd(),e.lineStart(),e.point(o,r),i=0),e.point(t=n,r=a),A=o},lineEnd:function(){e.lineEnd(),t=r=NaN},clean:function(){return 2-i}}}function IM(e,t,r,A){var i,n,a=q(e-r);return bt(a)>st?aA((q(t)*(n=et(A))*q(r)-q(A)*(i=et(t))*q(e))/(i*n*a)):(t+A)/2}function SM(e,t,r,A){var i;if(e==null)i=r*ie,A.point(-_t,i),A.point(0,i),A.point(_t,i),A.point(_t,0),A.point(_t,-i),A.point(0,-i),A.point(-_t,-i),A.point(-_t,0),A.point(-_t,i);else if(bt(e[0]-t[0])>st){var n=e[0]<t[0]?_t:-_t;i=r*n/2,A.point(-n,i),A.point(0,i),A.point(n,i)}else A.point(t[0],t[1])}function qf(e){var t=et(e),r=2*ht,A=t>0,i=bt(t)>st;function n(c,m,h,g){i0(g,e,r,h,c,m)}function a(c,m){return et(c)*et(m)>t}function o(c){var m,h,g,C,b;return{lineStart:function(){C=g=!1,b=1},point:function(w,v){var Q=[w,v],x,_=a(w,v),E=A?_?0:l(w,v):_?l(w+(w<0?_t:-_t),v):0;if(!m&&(C=g=_)&&c.lineStart(),_!==g&&(x=s(m,Q),(!x||Po(m,x)||Po(Q,x))&&(Q[2]=1)),_!==g)b=0,_?(c.lineStart(),x=s(Q,m),c.point(x[0],x[1])):(x=s(m,Q),c.point(x[0],x[1],2),c.lineEnd()),m=x;else if(i&&m&&A^_){var K;!(E&h)&&(K=s(Q,m,!0))&&(b=0,A?(c.lineStart(),c.point(K[0][0],K[0][1]),c.point(K[1][0],K[1][1]),c.lineEnd()):(c.point(K[1][0],K[1][1]),c.lineEnd(),c.lineStart(),c.point(K[0][0],K[0][1],3)))}_&&(!m||!Po(m,Q))&&c.point(Q[0],Q[1]),m=Q,g=_,h=E},lineEnd:function(){g&&c.lineEnd(),m=null},clean:function(){return b|(C&&g)<<1}}}function s(c,m,h){var g=oA(c),C=oA(m),b=[1,0,0],w=Ti(g,C),v=Il(w,w),Q=w[0],x=v-Q*Q;if(!x)return!h&&c;var _=t*v/x,E=-t*Q/x,K=Ti(b,w),P=Sl(b,_),R=Sl(w,E);Pf(P,R);var O=K,M=Il(P,O),I=Il(O,O),X=M*M-I*(Il(P,P)-1);if(!(X<0)){var V=Gt(X),D=Sl(O,(-M-V)/I);if(Pf(D,P),D=wa(D),!h)return D;var L=c[0],k=m[0],W=c[1],J=m[1],Y;k<L&&(Y=L,L=k,k=Y);var At=k-L,ft=bt(At-_t)<st,mt=ft||At<st;if(!ft&&J<W&&(Y=W,W=J,J=Y),mt?ft?W+J>0^D[1]<(bt(D[0]-L)<st?W:J):W<=D[1]&&D[1]<=J:At>_t^(L<=D[0]&&D[0]<=k)){var Wt=Sl(O,(-M+V)/I);return Pf(Wt,P),[D,wa(Wt)]}}}function l(c,m){var h=A?e:_t-e,g=0;return c<-h?g|=1:c>h&&(g|=2),m<-h?g|=4:m>h&&(g|=8),g}return Zf(a,o,n,A?[0,-e]:[-_t,e-_t])}function Yx(e,t,r,A,i,n){var a=e[0],o=e[1],s=t[0],l=t[1],c=0,m=1,h=s-a,g=l-o,C;if(C=r-a,!(!h&&C>0)){if(C/=h,h<0){if(C<c)return;C<m&&(m=C)}else if(h>0){if(C>m)return;C>c&&(c=C)}if(C=i-a,!(!h&&C<0)){if(C/=h,h<0){if(C>m)return;C>c&&(c=C)}else if(h>0){if(C<c)return;C<m&&(m=C)}if(C=A-o,!(!g&&C>0)){if(C/=g,g<0){if(C<c)return;C<m&&(m=C)}else if(g>0){if(C>m)return;C>c&&(c=C)}if(C=n-o,!(!g&&C<0)){if(C/=g,g<0){if(C>m)return;C>c&&(c=C)}else if(g>0){if(C<c)return;C<m&&(m=C)}return c>0&&(e[0]=a+c*h,e[1]=o+c*g),m<1&&(t[0]=a+m*h,t[1]=o+m*g),!0}}}}}var Ol=1e9,th=-Ol;function Di(e,t,r,A){function i(l,c){return e<=l&&l<=r&&t<=c&&c<=A}function n(l,c,m,h){var g=0,C=0;if(l==null||(g=a(l,m))!==(C=a(c,m))||s(l,c)<0^m>0)do h.point(g===0||g===3?e:r,g>1?A:t);while((g=(g+m+4)%4)!==C);else h.point(c[0],c[1])}function a(l,c){return bt(l[0]-e)<st?c>0?0:3:bt(l[0]-r)<st?c>0?2:1:bt(l[1]-t)<st?c>0?1:0:c>0?3:2}function o(l,c){return s(l.x,c.x)}function s(l,c){var m=a(l,1),h=a(c,1);return m!==h?m-h:m===0?c[1]-l[1]:m===1?l[0]-c[0]:m===2?l[1]-c[1]:c[0]-l[0]}return function(l){var c=l,m=Yf(),h,g,C,b,w,v,Q,x,_,E,K,P={point:R,lineStart:X,lineEnd:V,polygonStart:M,polygonEnd:I};function R(L,k){i(L,k)&&c.point(L,k)}function O(){for(var L=0,k=0,W=g.length;k<W;++k)for(var J=g[k],Y=1,At=J.length,ft=J[0],mt,Wt,Lt=ft[0],Ft=ft[1];Y<At;++Y)mt=Lt,Wt=Ft,ft=J[Y],Lt=ft[0],Ft=ft[1],Wt<=A?Ft>A&&(Lt-mt)*(A-Wt)>(Ft-Wt)*(e-mt)&&++L:Ft<=A&&(Lt-mt)*(A-Wt)<(Ft-Wt)*(e-mt)&&--L;return L}function M(){c=m,h=[],g=[],K=!0}function I(){var L=O(),k=K&&L,W=(h=Zn(h)).length;(k||W)&&(l.polygonStart(),k&&(l.lineStart(),n(null,null,1,l),l.lineEnd()),W&&Jf(h,o,L,n,l),l.polygonEnd()),c=l,h=g=C=null}function X(){P.point=D,g&&g.push(C=[]),E=!0,_=!1,Q=x=NaN}function V(){h&&(D(b,w),v&&_&&m.rejoin(),h.push(m.result())),P.point=R,_&&c.lineEnd()}function D(L,k){var W=i(L,k);if(g&&C.push([L,k]),E)b=L,w=k,v=W,E=!1,W&&(c.lineStart(),c.point(L,k));else if(W&&_)c.point(L,k);else{var J=[Q=Math.max(th,Math.min(Ol,Q)),x=Math.max(th,Math.min(Ol,x))],Y=[L=Math.max(th,Math.min(Ol,L)),k=Math.max(th,Math.min(Ol,k))];Yx(J,Y,e,t,r,A)?(_||(c.lineStart(),c.point(J[0],J[1])),c.point(Y[0],Y[1]),W||c.lineEnd(),K=!1):W&&(c.lineStart(),c.point(L,k),K=!1)}Q=L,x=k,_=W}return P}}function $x(){var e=0,t=0,r=960,A=500,i,n,a;return a={stream:function(o){return i&&n===o?i:i=Di(e,t,r,A)(n=o)},extent:function(o){return arguments.length?(e=+o[0][0],t=+o[0][1],r=+o[1][0],A=+o[1][1],i=n=null,a):[[e,t],[r,A]]}}}var a0,o0,eh,rh,Ro={sphere:Yt,point:Yt,lineStart:kM,lineEnd:Yt,polygonStart:Yt,polygonEnd:Yt};function kM(){Ro.point=HM,Ro.lineEnd=LM}function LM(){Ro.point=Ro.lineEnd=Yt}function HM(e,t){e*=ht,t*=ht,o0=e,eh=q(t),rh=et(t),Ro.point=MM}function MM(e,t){e*=ht,t*=ht;var r=q(t),A=et(t),i=bt(e-o0),n=et(i),a=q(i),o=A*a,s=rh*r-eh*A*n,l=eh*r+rh*A*n;a0.add(oe(Gt(o*o+s*s),l)),o0=e,eh=r,rh=A}function Ah(e){return a0=new te,qe(e,Ro),+a0}var s0=[null,null],PM={type:"LineString",coordinates:s0};function Oo(e,t){return s0[0]=e,s0[1]=t,Ah(PM)}var Jx={Feature:function(e,t){return ih(e.geometry,t)},FeatureCollection:function(e,t){for(var r=e.features,A=-1,i=r.length;++A<i;)if(ih(r[A].geometry,t))return!0;return!1}},jx={Sphere:function(){return!0},Point:function(e,t){return Zx(e.coordinates,t)},MultiPoint:function(e,t){for(var r=e.coordinates,A=-1,i=r.length;++A<i;)if(Zx(r[A],t))return!0;return!1},LineString:function(e,t){return qx(e.coordinates,t)},MultiLineString:function(e,t){for(var r=e.coordinates,A=-1,i=r.length;++A<i;)if(qx(r[A],t))return!0;return!1},Polygon:function(e,t){return tQ(e.coordinates,t)},MultiPolygon:function(e,t){for(var r=e.coordinates,A=-1,i=r.length;++A<i;)if(tQ(r[A],t))return!0;return!1},GeometryCollection:function(e,t){for(var r=e.geometries,A=-1,i=r.length;++A<i;)if(ih(r[A],t))return!0;return!1}};function ih(e,t){return e&&jx.hasOwnProperty(e.type)?jx[e.type](e,t):!1}function Zx(e,t){return Oo(e,t)===0}function qx(e,t){for(var r,A,i,n=0,a=e.length;n<a;n++){if(A=Oo(e[n],t),A===0||n>0&&(i=Oo(e[n],e[n-1]),i>0&&r<=i&&A<=i&&(r+A-i)*(1-Math.pow((r-A)/i,2))<Ui*i))return!0;r=A}return!1}function tQ(e,t){return!!jf(e.map(RM),eQ(t))}function RM(e){return e=e.map(eQ),e.pop(),e}function eQ(e){return[e[0]*ht,e[1]*ht]}function rQ(e,t){return(e&&Jx.hasOwnProperty(e.type)?Jx[e.type]:ih)(e,t)}function AQ(e,t,r){var A=AA(e,t-st,r).concat(t);return function(i){return A.map(function(n){return[i,n]})}}function iQ(e,t,r){var A=AA(e,t-st,r).concat(t);return function(i){return A.map(function(n){return[n,i]})}}function nh(){var e,t,r,A,i,n,a,o,s=10,l=s,c=90,m=360,h,g,C,b,w=2.5;function v(){return{type:"MultiLineString",coordinates:Q()}}function Q(){return AA(Kl(A/c)*c,r,c).map(C).concat(AA(Kl(o/m)*m,a,m).map(b)).concat(AA(Kl(t/s)*s,e,s).filter(function(x){return bt(x%c)>st}).map(h)).concat(AA(Kl(n/l)*l,i,l).filter(function(x){return bt(x%m)>st}).map(g))}return v.lines=function(){return Q().map(function(x){return{type:"LineString",coordinates:x}})},v.outline=function(){return{type:"Polygon",coordinates:[C(A).concat(b(a).slice(1),C(r).reverse().slice(1),b(o).reverse().slice(1))]}},v.extent=function(x){return arguments.length?v.extentMajor(x).extentMinor(x):v.extentMinor()},v.extentMajor=function(x){return arguments.length?(A=+x[0][0],r=+x[1][0],o=+x[0][1],a=+x[1][1],A>r&&(x=A,A=r,r=x),o>a&&(x=o,o=a,a=x),v.precision(w)):[[A,o],[r,a]]},v.extentMinor=function(x){return arguments.length?(t=+x[0][0],e=+x[1][0],n=+x[0][1],i=+x[1][1],t>e&&(x=t,t=e,e=x),n>i&&(x=n,n=i,i=x),v.precision(w)):[[t,n],[e,i]]},v.step=function(x){return arguments.length?v.stepMajor(x).stepMinor(x):v.stepMinor()},v.stepMajor=function(x){return arguments.length?(c=+x[0],m=+x[1],v):[c,m]},v.stepMinor=function(x){return arguments.length?(s=+x[0],l=+x[1],v):[s,l]},v.precision=function(x){return arguments.length?(w=+x,h=AQ(n,i,90),g=iQ(t,e,w),C=AQ(o,a,90),b=iQ(A,r,w),v):w},v.extentMajor([[-180,-90+st],[180,90-st]]).extentMinor([[-180,-80-st],[180,80+st]])}function nQ(){return nh()()}function aQ(e,t){var r=e[0]*ht,A=e[1]*ht,i=t[0]*ht,n=t[1]*ht,a=et(A),o=q(A),s=et(n),l=q(n),c=a*et(r),m=a*q(r),h=s*et(i),g=s*q(i),C=2*se(Gt(Xg(n-A)+a*s*Xg(i-r))),b=q(C),w=C?function(v){var Q=q(v*=C)/b,x=q(C-v)/b,_=x*c+Q*h,E=x*m+Q*g,K=x*o+Q*l;return[oe(E,_)*Mt,oe(K,Gt(_*_+E*E))*Mt]}:function(){return[r*Mt,A*Mt]};return w.distance=C,w}var Bn=e=>e;var l0=new te,u0=new te,oQ,sQ,c0,f0,Cn={point:Yt,lineStart:Yt,lineEnd:Yt,polygonStart:function(){Cn.lineStart=OM,Cn.lineEnd=VM},polygonEnd:function(){Cn.lineStart=Cn.lineEnd=Cn.point=Yt,l0.add(bt(u0)),u0=new te},result:function(){var e=l0/2;return l0=new te,e}};function OM(){Cn.point=NM}function NM(e,t){Cn.point=lQ,oQ=c0=e,sQ=f0=t}function lQ(e,t){u0.add(f0*e-c0*t),c0=e,f0=t}function VM(){lQ(oQ,sQ)}var h0=Cn;var No=1/0,ah=No,Nl=-No,oh=Nl,WM={point:GM,lineStart:Yt,lineEnd:Yt,polygonStart:Yt,polygonEnd:Yt,result:function(){var e=[[No,ah],[Nl,oh]];return Nl=oh=-(ah=No=1/0),e}};function GM(e,t){e<No&&(No=e),e>Nl&&(Nl=e),t<ah&&(ah=t),t>oh&&(oh=t)}var Vo=WM;var p0=0,d0=0,Vl=0,sh=0,lh=0,Wo=0,m0=0,g0=0,Wl=0,fQ,hQ,$A,JA,EA={point:xa,lineStart:uQ,lineEnd:cQ,polygonStart:function(){EA.lineStart=YM,EA.lineEnd=$M},polygonEnd:function(){EA.point=xa,EA.lineStart=uQ,EA.lineEnd=cQ},result:function(){var e=Wl?[m0/Wl,g0/Wl]:Wo?[sh/Wo,lh/Wo]:Vl?[p0/Vl,d0/Vl]:[NaN,NaN];return p0=d0=Vl=sh=lh=Wo=m0=g0=Wl=0,e}};function xa(e,t){p0+=e,d0+=t,++Vl}function uQ(){EA.point=zM}function zM(e,t){EA.point=XM,xa($A=e,JA=t)}function XM(e,t){var r=e-$A,A=t-JA,i=Gt(r*r+A*A);sh+=i*($A+e)/2,lh+=i*(JA+t)/2,Wo+=i,xa($A=e,JA=t)}function cQ(){EA.point=xa}function YM(){EA.point=JM}function $M(){pQ(fQ,hQ)}function JM(e,t){EA.point=pQ,xa(fQ=$A=e,hQ=JA=t)}function pQ(e,t){var r=e-$A,A=t-JA,i=Gt(r*r+A*A);sh+=i*($A+e)/2,lh+=i*(JA+t)/2,Wo+=i,i=JA*e-$A*t,m0+=i*($A+e),g0+=i*(JA+t),Wl+=i*3,xa($A=e,JA=t)}var B0=EA;function uh(e){this._context=e}uh.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,De);break}}},result:Yt};var b0=new te,C0,dQ,mQ,Gl,zl,ch={point:Yt,lineStart:function(){ch.point=jM},lineEnd:function(){C0&&gQ(dQ,mQ),ch.point=Yt},polygonStart:function(){C0=!0},polygonEnd:function(){C0=null},result:function(){var e=+b0;return b0=new te,e}};function jM(e,t){ch.point=gQ,dQ=Gl=e,mQ=zl=t}function gQ(e,t){Gl-=e,zl-=t,b0.add(Gt(Gl*Gl+zl*zl)),Gl=e,zl=t}var w0=ch;var BQ,fh,CQ,bQ,Xl=class{constructor(t){this._append=t==null?wQ:ZM(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,r){switch(this._point){case 0:{this._append`M${t},${r}`,this._point=1;break}case 1:{this._append`L${t},${r}`;break}default:{if(this._append`M${t},${r}`,this._radius!==CQ||this._append!==fh){let A=this._radius,i=this._;this._="",this._append`m0,${A}a${A},${A} 0 1,1 0,${-2*A}a${A},${A} 0 1,1 0,${2*A}z`,CQ=A,fh=this._append,bQ=this._,this._=i}this._+=bQ;break}}}result(){let t=this._;return this._="",t.length?t:null}};function wQ(e){let t=1;this._+=e[0];for(let r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function ZM(e){let t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return wQ;if(t!==BQ){let r=10**t;BQ=t,fh=function(i){let n=1;this._+=i[0];for(let a=i.length;n<a;++n)this._+=Math.round(arguments[n]*r)/r+i[n]}}return fh}function yQ(e,t){let r=3,A=4.5,i,n;function a(o){return o&&(typeof A=="function"&&n.pointRadius(+A.apply(this,arguments)),qe(o,i(n))),n.result()}return a.area=function(o){return qe(o,i(h0)),h0.result()},a.measure=function(o){return qe(o,i(w0)),w0.result()},a.bounds=function(o){return qe(o,i(Vo)),Vo.result()},a.centroid=function(o){return qe(o,i(B0)),B0.result()},a.projection=function(o){return arguments.length?(i=o==null?(e=null,Bn):(e=o).stream,a):e},a.context=function(o){return arguments.length?(n=o==null?(t=null,new Xl(r)):new uh(t=o),typeof A!="function"&&n.pointRadius(A),a):t},a.pointRadius=function(o){return arguments.length?(A=typeof o=="function"?o:(n.pointRadius(+o),+o),a):A},a.digits=function(o){if(!arguments.length)return r;if(o==null)r=null;else{let s=Math.floor(o);if(!(s>=0))throw new RangeError(`invalid digits: ${o}`);r=s}return t===null&&(n=new Xl(r)),a},a.projection(e).digits(r).context(t)}function vQ(e){return{stream:bn(e)}}function bn(e){return function(t){var r=new y0;for(var A in e)r[A]=e[A];return r.stream=t,r}}function y0(){}y0.prototype={constructor:y0,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function v0(e,t,r){var A=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),A!=null&&e.clipExtent(null),qe(r,e.stream(Vo)),t(Vo.result()),A!=null&&e.clipExtent(A),e}function Qa(e,t,r){return v0(e,function(A){var i=t[1][0]-t[0][0],n=t[1][1]-t[0][1],a=Math.min(i/(A[1][0]-A[0][0]),n/(A[1][1]-A[0][1])),o=+t[0][0]+(i-a*(A[1][0]+A[0][0]))/2,s=+t[0][1]+(n-a*(A[1][1]+A[0][1]))/2;e.scale(150*a).translate([o,s])},r)}function Go(e,t,r){return Qa(e,[[0,0],t],r)}function zo(e,t,r){return v0(e,function(A){var i=+t,n=i/(A[1][0]-A[0][0]),a=(i-n*(A[1][0]+A[0][0]))/2,o=-n*A[0][1];e.scale(150*n).translate([a,o])},r)}function Xo(e,t,r){return v0(e,function(A){var i=+t,n=i/(A[1][1]-A[0][1]),a=-n*A[0][0],o=(i-n*(A[1][1]+A[0][1]))/2;e.scale(150*n).translate([a,o])},r)}var _Q=16,qM=et(30*ht);function _0(e,t){return+t?eP(e,t):tP(e)}function tP(e){return bn({point:function(t,r){t=e(t,r),this.stream.point(t[0],t[1])}})}function eP(e,t){function r(A,i,n,a,o,s,l,c,m,h,g,C,b,w){var v=l-A,Q=c-i,x=v*v+Q*Q;if(x>4*t&&b--){var _=a+h,E=o+g,K=s+C,P=Gt(_*_+E*E+K*K),R=se(K/=P),O=bt(bt(K)-1)<st||bt(n-m)<st?(n+m)/2:oe(E,_),M=e(O,R),I=M[0],X=M[1],V=I-A,D=X-i,L=Q*V-v*D;(L*L/x>t||bt((v*V+Q*D)/x-.5)>.3||a*h+o*g+s*C<qM)&&(r(A,i,n,a,o,s,I,X,O,_/=P,E/=P,K,b,w),w.point(I,X),r(I,X,O,_,E,K,l,c,m,h,g,C,b,w))}}return function(A){var i,n,a,o,s,l,c,m,h,g,C,b,w={point:v,lineStart:Q,lineEnd:_,polygonStart:function(){A.polygonStart(),w.lineStart=E},polygonEnd:function(){A.polygonEnd(),w.lineStart=Q}};function v(R,O){R=e(R,O),A.point(R[0],R[1])}function Q(){m=NaN,w.point=x,A.lineStart()}function x(R,O){var M=oA([R,O]),I=e(R,O);r(m,h,c,g,C,b,m=I[0],h=I[1],c=R,g=M[0],C=M[1],b=M[2],_Q,A),A.point(m,h)}function _(){w.point=v,A.lineEnd()}function E(){Q(),w.point=K,w.lineEnd=P}function K(R,O){x(i=R,O),n=m,a=h,o=g,s=C,l=b,w.point=x}function P(){r(m,h,c,g,C,b,n,a,i,o,s,l,_Q,A),w.lineEnd=_,_()}return w}}var rP=bn({point:function(e,t){this.stream.point(e*ht,t*ht)}});function AP(e){return bn({point:function(t,r){var A=e(t,r);return this.stream.point(A[0],A[1])}})}function iP(e,t,r,A,i){function n(a,o){return a*=A,o*=i,[t+e*a,r-e*o]}return n.invert=function(a,o){return[(a-t)/e*A,(r-o)/e*i]},n}function xQ(e,t,r,A,i,n){if(!n)return iP(e,t,r,A,i);var a=et(n),o=q(n),s=a*e,l=o*e,c=a/e,m=o/e,h=(o*r-a*t)/e,g=(o*t+a*r)/e;function C(b,w){return b*=A,w*=i,[s*b-l*w+t,r-l*b-s*w]}return C.invert=function(b,w){return[A*(c*b-m*w+h),i*(g-m*b-c*w)]},C}function Ie(e){return Yl(function(){return e})()}function Yl(e){var t,r=150,A=480,i=250,n=0,a=0,o=0,s=0,l=0,c,m=0,h=1,g=1,C=null,b=Rl,w=null,v,Q,x,_=Bn,E=.5,K,P,R,O,M;function I(L){return R(L[0]*ht,L[1]*ht)}function X(L){return L=R.invert(L[0],L[1]),L&&[L[0]*Mt,L[1]*Mt]}I.stream=function(L){return O&&M===L?O:O=rP(AP(c)(b(K(_(M=L)))))},I.preclip=function(L){return arguments.length?(b=L,C=void 0,D()):b},I.postclip=function(L){return arguments.length?(_=L,w=v=Q=x=null,D()):_},I.clipAngle=function(L){return arguments.length?(b=+L?qf(C=L*ht):(C=null,Rl),D()):C*Mt},I.clipExtent=function(L){return arguments.length?(_=L==null?(w=v=Q=x=null,Bn):Di(w=+L[0][0],v=+L[0][1],Q=+L[1][0],x=+L[1][1]),D()):w==null?null:[[w,v],[Q,x]]},I.scale=function(L){return arguments.length?(r=+L,V()):r},I.translate=function(L){return arguments.length?(A=+L[0],i=+L[1],V()):[A,i]},I.center=function(L){return arguments.length?(n=L[0]%360*ht,a=L[1]%360*ht,V()):[n*Mt,a*Mt]},I.rotate=function(L){return arguments.length?(o=L[0]%360*ht,s=L[1]%360*ht,l=L.length>2?L[2]%360*ht:0,V()):[o*Mt,s*Mt,l*Mt]},I.angle=function(L){return arguments.length?(m=L%360*ht,V()):m*Mt},I.reflectX=function(L){return arguments.length?(h=L?-1:1,V()):h<0},I.reflectY=function(L){return arguments.length?(g=L?-1:1,V()):g<0},I.precision=function(L){return arguments.length?(K=_0(P,E=L*L),D()):Gt(E)},I.fitExtent=function(L,k){return Qa(I,L,k)},I.fitSize=function(L,k){return Go(I,L,k)},I.fitWidth=function(L,k){return zo(I,L,k)},I.fitHeight=function(L,k){return Xo(I,L,k)};function V(){var L=xQ(r,0,0,h,g,m).apply(null,t(n,a)),k=xQ(r,A-L[0],i-L[1],h,g,m);return c=Pl(o,s,l),P=Ml(t,k),R=Ml(c,P),K=_0(P,E),D()}function D(){return O=M=null,I}return function(){return t=e.apply(this,arguments),I.invert=t.invert&&X,V()}}function Yo(e){var t=0,r=_t/3,A=Yl(e),i=A(t,r);return i.parallels=function(n){return arguments.length?A(t=n[0]*ht,r=n[1]*ht):[t*Mt,r*Mt]},i}function QQ(e){var t=et(e);function r(A,i){return[A*t,q(i)/t]}return r.invert=function(A,i){return[A/t,se(i*t)]},r}function x0(e,t){var r=q(e),A=(r+q(t))/2;if(bt(A)<st)return QQ(e);var i=1+r*(2*A-r),n=Gt(i)/A;function a(o,s){var l=Gt(i-2*A*q(s))/A;return[l*q(o*=A),n-l*et(o)]}return a.invert=function(o,s){var l=n-s,c=oe(o,bt(l))*Br(l);return l*A<0&&(c-=_t*Br(o)*Br(l)),[c/A,se((i-(o*o+l*l)*A*A)/(2*A))]},a}function Fa(){return Yo(x0).scale(155.424).center([0,33.6442])}function hh(){return Fa().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function nP(e){var t=e.length;return{point:function(r,A){for(var i=-1;++i<t;)e[i].point(r,A)},sphere:function(){for(var r=-1;++r<t;)e[r].sphere()},lineStart:function(){for(var r=-1;++r<t;)e[r].lineStart()},lineEnd:function(){for(var r=-1;++r<t;)e[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<t;)e[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<t;)e[r].polygonEnd()}}}function FQ(){var e,t,r=hh(),A,i=Fa().rotate([154,0]).center([-2,58.5]).parallels([55,65]),n,a=Fa().rotate([157,0]).center([-3,19.9]).parallels([8,18]),o,s,l={point:function(h,g){s=[h,g]}};function c(h){var g=h[0],C=h[1];return s=null,A.point(g,C),s||(n.point(g,C),s)||(o.point(g,C),s)}c.invert=function(h){var g=r.scale(),C=r.translate(),b=(h[0]-C[0])/g,w=(h[1]-C[1])/g;return(w>=.12&&w<.234&&b>=-.425&&b<-.214?i:w>=.166&&w<.234&&b>=-.214&&b<-.115?a:r).invert(h)},c.stream=function(h){return e&&t===h?e:e=nP([r.stream(t=h),i.stream(h),a.stream(h)])},c.precision=function(h){return arguments.length?(r.precision(h),i.precision(h),a.precision(h),m()):r.precision()},c.scale=function(h){return arguments.length?(r.scale(h),i.scale(h*.35),a.scale(h),c.translate(r.translate())):r.scale()},c.translate=function(h){if(!arguments.length)return r.translate();var g=r.scale(),C=+h[0],b=+h[1];return A=r.translate(h).clipExtent([[C-.455*g,b-.238*g],[C+.455*g,b+.238*g]]).stream(l),n=i.translate([C-.307*g,b+.201*g]).clipExtent([[C-.425*g+st,b+.12*g+st],[C-.214*g-st,b+.234*g-st]]).stream(l),o=a.translate([C-.205*g,b+.212*g]).clipExtent([[C-.214*g+st,b+.166*g+st],[C-.115*g-st,b+.234*g-st]]).stream(l),m()},c.fitExtent=function(h,g){return Qa(c,h,g)},c.fitSize=function(h,g){return Go(c,h,g)},c.fitWidth=function(h,g){return zo(c,h,g)},c.fitHeight=function(h,g){return Xo(c,h,g)};function m(){return e=t=null,c}return c.scale(1070)}function ph(e){return function(t,r){var A=et(t),i=et(r),n=e(A*i);return n===1/0?[2,0]:[n*i*q(t),n*q(r)]}}function jA(e){return function(t,r){var A=Gt(t*t+r*r),i=e(A),n=q(i),a=et(i);return[oe(t*n,A*a),se(A&&r*n/A)]}}var dh=ph(function(e){return Gt(2/(1+e))});dh.invert=jA(function(e){return 2*se(e/2)});function UQ(){return Ie(dh).scale(124.75).clipAngle(180-.001)}var mh=ph(function(e){return(e=Lf(e))&&e/q(e)});mh.invert=jA(function(e){return e});function TQ(){return Ie(mh).scale(79.4188).clipAngle(180-.001)}function Ua(e,t){return[e,ba(Ho((ie+t)/2))]}Ua.invert=function(e,t){return[e,2*aA(If(t))-ie]};function EQ(){return Q0(Ua).scale(961/De)}function Q0(e){var t=Ie(e),r=t.center,A=t.scale,i=t.translate,n=t.clipExtent,a=null,o,s,l;t.scale=function(m){return arguments.length?(A(m),c()):A()},t.translate=function(m){return arguments.length?(i(m),c()):i()},t.center=function(m){return arguments.length?(r(m),c()):r()},t.clipExtent=function(m){return arguments.length?(m==null?a=o=s=l=null:(a=+m[0][0],o=+m[0][1],s=+m[1][0],l=+m[1][1]),c()):a==null?null:[[a,o],[s,l]]};function c(){var m=_t*A(),h=t(Xf(t.rotate()).invert([0,0]));return n(a==null?[[h[0]-m,h[1]-m],[h[0]+m,h[1]+m]]:e===Ua?[[Math.max(h[0]-m,a),o],[Math.min(h[0]+m,s),l]]:[[a,Math.max(h[1]-m,o)],[s,Math.min(h[1]+m,l)]])}return c()}function gh(e){return Ho((ie+e)/2)}function F0(e,t){var r=et(e),A=e===t?q(e):ba(r/et(t))/ba(gh(t)/gh(e)),i=r*kf(gh(e),A)/A;if(!A)return Ua;function n(a,o){i>0?o<-ie+st&&(o=-ie+st):o>ie-st&&(o=ie-st);var s=i/kf(gh(o),A);return[s*q(A*a),i-s*et(A*a)]}return n.invert=function(a,o){var s=i-o,l=Br(A)*Gt(a*a+s*s),c=oe(a,bt(s))*Br(s);return s*A<0&&(c-=_t*Br(a)*Br(s)),[c/A,2*aA(kf(i/l,1/A))-ie]},n}function KQ(){return Yo(F0).scale(109.5).parallels([30,30])}function Ta(e,t){return[e,t]}Ta.invert=Ta;function DQ(){return Ie(Ta).scale(152.63)}function U0(e,t){var r=et(e),A=e===t?q(e):(r-et(t))/(t-e),i=r/A+e;if(bt(A)<st)return Ta;function n(a,o){var s=i-o,l=A*a;return[s*q(l),i-s*et(l)]}return n.invert=function(a,o){var s=i-o,l=oe(a,bt(s))*Br(s);return s*A<0&&(l-=_t*Br(a)*Br(s)),[l/A,i-Br(A)*Gt(a*a+s*s)]},n}function IQ(){return Yo(U0).scale(131.154).center([0,13.9389])}var $l=1.340264,Jl=-.081106,jl=893e-6,Zl=.003796,Bh=Gt(3)/2,aP=12;function Ch(e,t){var r=se(Bh*q(t)),A=r*r,i=A*A*A;return[e*et(r)/(Bh*($l+3*Jl*A+i*(7*jl+9*Zl*A))),r*($l+Jl*A+i*(jl+Zl*A))]}Ch.invert=function(e,t){for(var r=t,A=r*r,i=A*A*A,n=0,a,o,s;n<aP&&(o=r*($l+Jl*A+i*(jl+Zl*A))-t,s=$l+3*Jl*A+i*(7*jl+9*Zl*A),r-=a=o/s,A=r*r,i=A*A*A,!(bt(a)<Ui));++n);return[Bh*e*($l+3*Jl*A+i*(7*jl+9*Zl*A))/et(r),se(q(r)/Bh)]};function SQ(){return Ie(Ch).scale(177.158)}function bh(e,t){var r=et(t),A=et(e)*r;return[r*q(e)/A,q(t)/A]}bh.invert=jA(aA);function kQ(){return Ie(bh).scale(144.049).clipAngle(60)}function LQ(){var e=1,t=0,r=0,A=1,i=1,n=0,a,o,s=null,l,c,m,h=1,g=1,C=bn({point:function(_,E){var K=x([_,E]);this.stream.point(K[0],K[1])}}),b=Bn,w,v;function Q(){return h=e*A,g=e*i,w=v=null,x}function x(_){var E=_[0]*h,K=_[1]*g;if(n){var P=K*a-E*o;E=E*a+K*o,K=P}return[E+t,K+r]}return x.invert=function(_){var E=_[0]-t,K=_[1]-r;if(n){var P=K*a+E*o;E=E*a-K*o,K=P}return[E/h,K/g]},x.stream=function(_){return w&&v===_?w:w=C(b(v=_))},x.postclip=function(_){return arguments.length?(b=_,s=l=c=m=null,Q()):b},x.clipExtent=function(_){return arguments.length?(b=_==null?(s=l=c=m=null,Bn):Di(s=+_[0][0],l=+_[0][1],c=+_[1][0],m=+_[1][1]),Q()):s==null?null:[[s,l],[c,m]]},x.scale=function(_){return arguments.length?(e=+_,Q()):e},x.translate=function(_){return arguments.length?(t=+_[0],r=+_[1],Q()):[t,r]},x.angle=function(_){return arguments.length?(n=_%360*ht,o=q(n),a=et(n),Q()):n*Mt},x.reflectX=function(_){return arguments.length?(A=_?-1:1,Q()):A<0},x.reflectY=function(_){return arguments.length?(i=_?-1:1,Q()):i<0},x.fitExtent=function(_,E){return Qa(x,_,E)},x.fitSize=function(_,E){return Go(x,_,E)},x.fitWidth=function(_,E){return zo(x,_,E)},x.fitHeight=function(_,E){return Xo(x,_,E)},x}function wh(e,t){var r=t*t,A=r*r;return[e*(.8707-.131979*r+A*(-.013791+A*(.003971*r-.001529*A))),t*(1.007226+r*(.015085+A*(-.044475+.028874*r-.005916*A)))]}wh.invert=function(e,t){var r=t,A=25,i;do{var n=r*r,a=n*n;r-=i=(r*(1.007226+n*(.015085+a*(-.044475+.028874*n-.005916*a)))-t)/(1.007226+n*(.015085*3+a*(-.044475*7+.028874*9*n-.005916*11*a)))}while(bt(i)>st&&--A>0);return[e/(.8707+(n=r*r)*(-.131979+n*(-.013791+n*n*n*(.003971-.001529*n)))),r]};function HQ(){return Ie(wh).scale(175.295)}function yh(e,t){return[et(t)*q(e),q(t)]}yh.invert=jA(se);function MQ(){return Ie(yh).scale(249.5).clipAngle(90+st)}function vh(e,t){var r=et(t),A=1+et(e)*r;return[r*q(e)/A,q(t)/A]}vh.invert=jA(function(e){return 2*aA(e)});function PQ(){return Ie(vh).scale(250).clipAngle(142)}function _h(e,t){return[ba(Ho((ie+t)/2)),-e]}_h.invert=function(e,t){return[-t,2*aA(If(e))-ie]};function RQ(){var e=Q0(_h),t=e.center,r=e.rotate;return e.center=function(A){return arguments.length?t([-A[1],A[0]]):(A=t(),[A[1],-A[0]])},e.rotate=function(A){return arguments.length?r([A[0],A[1],A.length>2?A[2]+90:90]):(A=r(),[A[0],A[1],A[2]-90])},r([0,0,90]).scale(159.155)}function oP(e,t){return e.parent===t.parent?1:2}function sP(e){return e.reduce(lP,0)/e.length}function lP(e,t){return e+t.x}function uP(e){return 1+e.reduce(cP,0)}function cP(e,t){return Math.max(e,t.y)}function fP(e){for(var t;t=e.children;)e=t[0];return e}function hP(e){for(var t;t=e.children;)e=t[t.length-1];return e}function OQ(){var e=oP,t=1,r=1,A=!1;function i(n){var a,o=0;n.eachAfter(function(h){var g=h.children;g?(h.x=sP(g),h.y=uP(g)):(h.x=a?o+=e(h,a):0,h.y=0,a=h)});var s=fP(n),l=hP(n),c=s.x-e(s,l)/2,m=l.x+e(l,s)/2;return n.eachAfter(A?function(h){h.x=(h.x-n.x)*t,h.y=(n.y-h.y)*r}:function(h){h.x=(h.x-c)/(m-c)*t,h.y=(1-(n.y?h.y/n.y:1))*r})}return i.separation=function(n){return arguments.length?(e=n,i):e},i.size=function(n){return arguments.length?(A=!1,t=+n[0],r=+n[1],i):A?null:[t,r]},i.nodeSize=function(n){return arguments.length?(A=!0,t=+n[0],r=+n[1],i):A?[t,r]:null},i}function pP(e){var t=0,r=e.children,A=r&&r.length;if(!A)t=1;else for(;--A>=0;)t+=r[A].value;e.value=t}function NQ(){return this.eachAfter(pP)}function VQ(e,t){let r=-1;for(let A of this)e.call(t,A,++r,this);return this}function WQ(e,t){for(var r=this,A=[r],i,n,a=-1;r=A.pop();)if(e.call(t,r,++a,this),i=r.children)for(n=i.length-1;n>=0;--n)A.push(i[n]);return this}function GQ(e,t){for(var r=this,A=[r],i=[],n,a,o,s=-1;r=A.pop();)if(i.push(r),n=r.children)for(a=0,o=n.length;a<o;++a)A.push(n[a]);for(;r=i.pop();)e.call(t,r,++s,this);return this}function zQ(e,t){let r=-1;for(let A of this)if(e.call(t,A,++r,this))return A}function XQ(e){return this.eachAfter(function(t){for(var r=+e(t.data)||0,A=t.children,i=A&&A.length;--i>=0;)r+=A[i].value;t.value=r})}function YQ(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function $Q(e){for(var t=this,r=dP(t,e),A=[t];t!==r;)t=t.parent,A.push(t);for(var i=A.length;e!==r;)A.splice(i,0,e),e=e.parent;return A}function dP(e,t){if(e===t)return e;var r=e.ancestors(),A=t.ancestors(),i=null;for(e=r.pop(),t=A.pop();e===t;)i=e,e=r.pop(),t=A.pop();return i}function JQ(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function jQ(){return Array.from(this)}function ZQ(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function qQ(){var e=this,t=[];return e.each(function(r){r!==e&&t.push({source:r.parent,target:r})}),t}function*tF(){var e=this,t,r=[e],A,i,n;do for(t=r.reverse(),r=[];e=t.pop();)if(yield e,A=e.children)for(i=0,n=A.length;i<n;++i)r.push(A[i]);while(r.length)}function ql(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=BP)):t===void 0&&(t=gP);for(var r=new ZA(e),A,i=[r],n,a,o,s;A=i.pop();)if((a=t(A.data))&&(s=(a=Array.from(a)).length))for(A.children=a,o=s-1;o>=0;--o)i.push(n=a[o]=new ZA(a[o])),n.parent=A,n.depth=A.depth+1;return r.eachBefore(T0)}function mP(){return ql(this).eachBefore(CP)}function gP(e){return e.children}function BP(e){return Array.isArray(e)?e[1]:null}function CP(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function T0(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function ZA(e){this.data=e,this.depth=this.height=0,this.parent=null}ZA.prototype=ql.prototype={constructor:ZA,count:NQ,each:VQ,eachAfter:GQ,eachBefore:WQ,find:zQ,sum:XQ,sort:YQ,path:$Q,ancestors:JQ,descendants:jQ,leaves:ZQ,links:qQ,copy:mP,[Symbol.iterator]:tF};function $o(e){return e==null?null:E0(e)}function E0(e){if(typeof e!="function")throw new Error;return e}function Ii(){return 0}function wn(e){return function(){return e}}function Jo(){let e=1;return()=>(e=(1664525*e+1013904223)%4294967296)/4294967296}function eF(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function rF(e,t){let r=e.length,A,i;for(;r;)i=t()*r--|0,A=e[r],e[r]=e[i],e[i]=A;return e}function AF(e){return D0(e,Jo())}function D0(e,t){for(var r=0,A=(e=rF(Array.from(e),t)).length,i=[],n,a;r<A;)n=e[r],a&&iF(a,n)?++r:(a=wP(i=bP(i,n)),r=0);return a}function bP(e,t){var r,A;if(K0(t,e))return[t];for(r=0;r<e.length;++r)if(xh(t,e[r])&&K0(tu(e[r],t),e))return[e[r],t];for(r=0;r<e.length-1;++r)for(A=r+1;A<e.length;++A)if(xh(tu(e[r],e[A]),t)&&xh(tu(e[r],t),e[A])&&xh(tu(e[A],t),e[r])&&K0(nF(e[r],e[A],t),e))return[e[r],e[A],t];throw new Error}function xh(e,t){var r=e.r-t.r,A=t.x-e.x,i=t.y-e.y;return r<0||r*r<A*A+i*i}function iF(e,t){var r=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,A=t.x-e.x,i=t.y-e.y;return r>0&&r*r>A*A+i*i}function K0(e,t){for(var r=0;r<t.length;++r)if(!iF(e,t[r]))return!1;return!0}function wP(e){switch(e.length){case 1:return yP(e[0]);case 2:return tu(e[0],e[1]);case 3:return nF(e[0],e[1],e[2])}}function yP(e){return{x:e.x,y:e.y,r:e.r}}function tu(e,t){var r=e.x,A=e.y,i=e.r,n=t.x,a=t.y,o=t.r,s=n-r,l=a-A,c=o-i,m=Math.sqrt(s*s+l*l);return{x:(r+n+s/m*c)/2,y:(A+a+l/m*c)/2,r:(m+i+o)/2}}function nF(e,t,r){var A=e.x,i=e.y,n=e.r,a=t.x,o=t.y,s=t.r,l=r.x,c=r.y,m=r.r,h=A-a,g=A-l,C=i-o,b=i-c,w=s-n,v=m-n,Q=A*A+i*i-n*n,x=Q-a*a-o*o+s*s,_=Q-l*l-c*c+m*m,E=g*C-h*b,K=(C*_-b*x)/(E*2)-A,P=(b*w-C*v)/E,R=(g*x-h*_)/(E*2)-i,O=(h*v-g*w)/E,M=P*P+O*O-1,I=2*(n+K*P+R*O),X=K*K+R*R-n*n,V=-(Math.abs(M)>1e-6?(I+Math.sqrt(I*I-4*M*X))/(2*M):X/I);return{x:A+K+P*V,y:i+R+O*V,r:V}}function aF(e,t,r){var A=e.x-t.x,i,n,a=e.y-t.y,o,s,l=A*A+a*a;l?(n=t.r+r.r,n*=n,s=e.r+r.r,s*=s,n>s?(i=(l+s-n)/(2*l),o=Math.sqrt(Math.max(0,s/l-i*i)),r.x=e.x-i*A-o*a,r.y=e.y-i*a+o*A):(i=(l+n-s)/(2*l),o=Math.sqrt(Math.max(0,n/l-i*i)),r.x=t.x+i*A-o*a,r.y=t.y+i*a+o*A)):(r.x=t.x+r.r,r.y=t.y)}function oF(e,t){var r=e.r+t.r-1e-6,A=t.x-e.x,i=t.y-e.y;return r>0&&r*r>A*A+i*i}function sF(e){var t=e._,r=e.next._,A=t.r+r.r,i=(t.x*r.r+r.x*t.r)/A,n=(t.y*r.r+r.y*t.r)/A;return i*i+n*n}function Qh(e){this._=e,this.next=null,this.previous=null}function I0(e,t){if(!(n=(e=eF(e)).length))return 0;var r,A,i,n,a,o,s,l,c,m,h;if(r=e[0],r.x=0,r.y=0,!(n>1))return r.r;if(A=e[1],r.x=-A.r,A.x=r.r,A.y=0,!(n>2))return r.r+A.r;aF(A,r,i=e[2]),r=new Qh(r),A=new Qh(A),i=new Qh(i),r.next=i.previous=A,A.next=r.previous=i,i.next=A.previous=r;t:for(s=3;s<n;++s){aF(r._,A._,i=e[s]),i=new Qh(i),l=A.next,c=r.previous,m=A._.r,h=r._.r;do if(m<=h){if(oF(l._,i._)){A=l,r.next=A,A.previous=r,--s;continue t}m+=l._.r,l=l.next}else{if(oF(c._,i._)){r=c,r.next=A,A.previous=r,--s;continue t}h+=c._.r,c=c.previous}while(l!==c.next);for(i.previous=r,i.next=A,r.next=A.previous=A=i,a=sF(r);(i=i.next)!==A;)(o=sF(i))<a&&(r=i,a=o);A=r.next}for(r=[A._],i=A;(i=i.next)!==A;)r.push(i._);for(i=D0(r,t),s=0;s<n;++s)r=e[s],r.x-=i.x,r.y-=i.y;return i.r}function lF(e){return I0(e,Jo()),e}function vP(e){return Math.sqrt(e.value)}function fF(){var e=null,t=1,r=1,A=Ii;function i(n){let a=Jo();return n.x=t/2,n.y=r/2,e?n.eachBefore(uF(e)).eachAfter(S0(A,.5,a)).eachBefore(cF(1)):n.eachBefore(uF(vP)).eachAfter(S0(Ii,1,a)).eachAfter(S0(A,n.r/Math.min(t,r),a)).eachBefore(cF(Math.min(t,r)/(2*n.r))),n}return i.radius=function(n){return arguments.length?(e=$o(n),i):e},i.size=function(n){return arguments.length?(t=+n[0],r=+n[1],i):[t,r]},i.padding=function(n){return arguments.length?(A=typeof n=="function"?n:wn(+n),i):A},i}function uF(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function S0(e,t,r){return function(A){if(i=A.children){var i,n,a=i.length,o=e(A)*t||0,s;if(o)for(n=0;n<a;++n)i[n].r+=o;if(s=I0(i,r),o)for(n=0;n<a;++n)i[n].r-=o;A.r=s+o}}}function cF(e){return function(t){var r=t.parent;t.r*=e,r&&(t.x=r.x+e*t.x,t.y=r.y+e*t.y)}}function Fh(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function qA(e,t,r,A,i){for(var n=e.children,a,o=-1,s=n.length,l=e.value&&(A-t)/e.value;++o<s;)a=n[o],a.y0=r,a.y1=i,a.x0=t,a.x1=t+=a.value*l}function hF(){var e=1,t=1,r=0,A=!1;function i(a){var o=a.height+1;return a.x0=a.y0=r,a.x1=e,a.y1=t/o,a.eachBefore(n(t,o)),A&&a.eachBefore(Fh),a}function n(a,o){return function(s){s.children&&qA(s,s.x0,a*(s.depth+1)/o,s.x1,a*(s.depth+2)/o);var l=s.x0,c=s.y0,m=s.x1-r,h=s.y1-r;m<l&&(l=m=(l+m)/2),h<c&&(c=h=(c+h)/2),s.x0=l,s.y0=c,s.x1=m,s.y1=h}}return i.round=function(a){return arguments.length?(A=!!a,i):A},i.size=function(a){return arguments.length?(e=+a[0],t=+a[1],i):[e,t]},i.padding=function(a){return arguments.length?(r=+a,i):r},i}var _P={depth:-1},pF={},k0={};function xP(e){return e.id}function QP(e){return e.parentId}function mF(){var e=xP,t=QP,r;function A(i){var n=Array.from(i),a=e,o=t,s,l,c,m,h,g,C,b,w=new Map;if(r!=null){let v=n.map((_,E)=>FP(r(_,E,i))),Q=v.map(dF),x=new Set(v).add("");for(let _ of Q)x.has(_)||(x.add(_),v.push(_),Q.push(dF(_)),n.push(k0));a=(_,E)=>v[E],o=(_,E)=>Q[E]}for(c=0,s=n.length;c<s;++c)l=n[c],g=n[c]=new ZA(l),(C=a(l,c,i))!=null&&(C+="")&&(b=g.id=C,w.set(b,w.has(b)?pF:g)),(C=o(l,c,i))!=null&&(C+="")&&(g.parent=C);for(c=0;c<s;++c)if(g=n[c],C=g.parent){if(h=w.get(C),!h)throw new Error("missing: "+C);if(h===pF)throw new Error("ambiguous: "+C);h.children?h.children.push(g):h.children=[g],g.parent=h}else{if(m)throw new Error("multiple roots");m=g}if(!m)throw new Error("no root");if(r!=null){for(;m.data===k0&&m.children.length===1;)m=m.children[0],--s;for(let v=n.length-1;v>=0&&(g=n[v],g.data===k0);--v)g.data=null}if(m.parent=_P,m.eachBefore(function(v){v.depth=v.parent.depth+1,--s}).eachBefore(T0),m.parent=null,s>0)throw new Error("cycle");return m}return A.id=function(i){return arguments.length?(e=$o(i),A):e},A.parentId=function(i){return arguments.length?(t=$o(i),A):t},A.path=function(i){return arguments.length?(r=$o(i),A):r},A}function FP(e){e=`${e}`;let t=e.length;return L0(e,t-1)&&!L0(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function dF(e){let t=e.length;if(t<2)return"";for(;--t>1&&!L0(e,t););return e.slice(0,t)}function L0(e,t){if(e[t]==="/"){let r=0;for(;t>0&&e[--t]==="\\";)++r;if(!(r&1))return!0}return!1}function UP(e,t){return e.parent===t.parent?1:2}function H0(e){var t=e.children;return t?t[0]:e.t}function M0(e){var t=e.children;return t?t[t.length-1]:e.t}function TP(e,t,r){var A=r/(t.i-e.i);t.c-=A,t.s+=r,e.c+=A,t.z+=r,t.m+=r}function EP(e){for(var t=0,r=0,A=e.children,i=A.length,n;--i>=0;)n=A[i],n.z+=t,n.m+=t,t+=n.s+(r+=n.c)}function KP(e,t,r){return e.a.parent===t.parent?e.a:r}function Uh(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}Uh.prototype=Object.create(ZA.prototype);function DP(e){for(var t=new Uh(e,0),r,A=[t],i,n,a,o;r=A.pop();)if(n=r._.children)for(r.children=new Array(o=n.length),a=o-1;a>=0;--a)A.push(i=r.children[a]=new Uh(n[a],a)),i.parent=r;return(t.parent=new Uh(null,0)).children=[t],t}function gF(){var e=UP,t=1,r=1,A=null;function i(l){var c=DP(l);if(c.eachAfter(n),c.parent.m=-c.z,c.eachBefore(a),A)l.eachBefore(s);else{var m=l,h=l,g=l;l.eachBefore(function(Q){Q.x<m.x&&(m=Q),Q.x>h.x&&(h=Q),Q.depth>g.depth&&(g=Q)});var C=m===h?1:e(m,h)/2,b=C-m.x,w=t/(h.x+C+b),v=r/(g.depth||1);l.eachBefore(function(Q){Q.x=(Q.x+b)*w,Q.y=Q.depth*v})}return l}function n(l){var c=l.children,m=l.parent.children,h=l.i?m[l.i-1]:null;if(c){EP(l);var g=(c[0].z+c[c.length-1].z)/2;h?(l.z=h.z+e(l._,h._),l.m=l.z-g):l.z=g}else h&&(l.z=h.z+e(l._,h._));l.parent.A=o(l,h,l.parent.A||m[0])}function a(l){l._.x=l.z+l.parent.m,l.m+=l.parent.m}function o(l,c,m){if(c){for(var h=l,g=l,C=c,b=h.parent.children[0],w=h.m,v=g.m,Q=C.m,x=b.m,_;C=M0(C),h=H0(h),C&&h;)b=H0(b),g=M0(g),g.a=l,_=C.z+Q-h.z-w+e(C._,h._),_>0&&(TP(KP(C,l,m),l,_),w+=_,v+=_),Q+=C.m,w+=h.m,x+=b.m,v+=g.m;C&&!M0(g)&&(g.t=C,g.m+=Q-v),h&&!H0(b)&&(b.t=h,b.m+=w-x,m=l)}return m}function s(l){l.x*=t,l.y=l.depth*r}return i.separation=function(l){return arguments.length?(e=l,i):e},i.size=function(l){return arguments.length?(A=!1,t=+l[0],r=+l[1],i):A?null:[t,r]},i.nodeSize=function(l){return arguments.length?(A=!0,t=+l[0],r=+l[1],i):A?[t,r]:null},i}function yn(e,t,r,A,i){for(var n=e.children,a,o=-1,s=n.length,l=e.value&&(i-r)/e.value;++o<s;)a=n[o],a.x0=t,a.x1=A,a.y0=r,a.y1=r+=a.value*l}var P0=(1+Math.sqrt(5))/2;function R0(e,t,r,A,i,n){for(var a=[],o=t.children,s,l,c=0,m=0,h=o.length,g,C,b=t.value,w,v,Q,x,_,E,K;c<h;){g=i-r,C=n-A;do w=o[m++].value;while(!w&&m<h);for(v=Q=w,E=Math.max(C/g,g/C)/(b*e),K=w*w*E,_=Math.max(Q/K,K/v);m<h;++m){if(w+=l=o[m].value,l<v&&(v=l),l>Q&&(Q=l),K=w*w*E,x=Math.max(Q/K,K/v),x>_){w-=l;break}_=x}a.push(s={value:w,dice:g<C,children:o.slice(c,m)}),s.dice?qA(s,r,A,i,b?A+=C*w/b:n):yn(s,r,A,b?r+=g*w/b:i,n),b-=w,c=m}return a}var Th=function e(t){function r(A,i,n,a,o){R0(t,A,i,n,a,o)}return r.ratio=function(A){return e((A=+A)>1?A:1)},r}(P0);function BF(){var e=Th,t=!1,r=1,A=1,i=[0],n=Ii,a=Ii,o=Ii,s=Ii,l=Ii;function c(h){return h.x0=h.y0=0,h.x1=r,h.y1=A,h.eachBefore(m),i=[0],t&&h.eachBefore(Fh),h}function m(h){var g=i[h.depth],C=h.x0+g,b=h.y0+g,w=h.x1-g,v=h.y1-g;w<C&&(C=w=(C+w)/2),v<b&&(b=v=(b+v)/2),h.x0=C,h.y0=b,h.x1=w,h.y1=v,h.children&&(g=i[h.depth+1]=n(h)/2,C+=l(h)-g,b+=a(h)-g,w-=o(h)-g,v-=s(h)-g,w<C&&(C=w=(C+w)/2),v<b&&(b=v=(b+v)/2),e(h,C,b,w,v))}return c.round=function(h){return arguments.length?(t=!!h,c):t},c.size=function(h){return arguments.length?(r=+h[0],A=+h[1],c):[r,A]},c.tile=function(h){return arguments.length?(e=E0(h),c):e},c.padding=function(h){return arguments.length?c.paddingInner(h).paddingOuter(h):c.paddingInner()},c.paddingInner=function(h){return arguments.length?(n=typeof h=="function"?h:wn(+h),c):n},c.paddingOuter=function(h){return arguments.length?c.paddingTop(h).paddingRight(h).paddingBottom(h).paddingLeft(h):c.paddingTop()},c.paddingTop=function(h){return arguments.length?(a=typeof h=="function"?h:wn(+h),c):a},c.paddingRight=function(h){return arguments.length?(o=typeof h=="function"?h:wn(+h),c):o},c.paddingBottom=function(h){return arguments.length?(s=typeof h=="function"?h:wn(+h),c):s},c.paddingLeft=function(h){return arguments.length?(l=typeof h=="function"?h:wn(+h),c):l},c}function CF(e,t,r,A,i){var n=e.children,a,o=n.length,s,l=new Array(o+1);for(l[0]=s=a=0;a<o;++a)l[a+1]=s+=n[a].value;c(0,o,e.value,t,r,A,i);function c(m,h,g,C,b,w,v){if(m>=h-1){var Q=n[m];Q.x0=C,Q.y0=b,Q.x1=w,Q.y1=v;return}for(var x=l[m],_=g/2+x,E=m+1,K=h-1;E<K;){var P=E+K>>>1;l[P]<_?E=P+1:K=P}_-l[E-1]<l[E]-_&&m+1<E&&--E;var R=l[E]-x,O=g-R;if(w-C>v-b){var M=g?(C*O+w*R)/g:w;c(m,E,R,C,b,M,v),c(E,h,O,M,b,w,v)}else{var I=g?(b*O+v*R)/g:v;c(m,E,R,C,b,w,I),c(E,h,O,C,I,w,v)}}}function bF(e,t,r,A,i){(e.depth&1?yn:qA)(e,t,r,A,i)}var wF=function e(t){function r(A,i,n,a,o){if((s=A._squarify)&&s.ratio===t)for(var s,l,c,m,h=-1,g,C=s.length,b=A.value;++h<C;){for(l=s[h],c=l.children,m=l.value=0,g=c.length;m<g;++m)l.value+=c[m].value;l.dice?qA(l,i,n,a,b?n+=(o-n)*l.value/b:o):yn(l,i,n,b?i+=(a-i)*l.value/b:a,o),b-=l.value}else A._squarify=s=R0(t,A,i,n,a,o),s.ratio=t}return r.ratio=function(A){return e((A=+A)>1?A:1)},r}(P0);function yF(e){for(var t=-1,r=e.length,A,i=e[r-1],n=0;++t<r;)A=i,i=e[t],n+=A[1]*i[0]-A[0]*i[1];return n/2}function vF(e){for(var t=-1,r=e.length,A=0,i=0,n,a=e[r-1],o,s=0;++t<r;)n=a,a=e[t],s+=o=n[0]*a[1]-a[0]*n[1],A+=(n[0]+a[0])*o,i+=(n[1]+a[1])*o;return s*=3,[A/s,i/s]}function _F(e,t,r){return(t[0]-e[0])*(r[1]-e[1])-(t[1]-e[1])*(r[0]-e[0])}function IP(e,t){return e[0]-t[0]||e[1]-t[1]}function xF(e){let t=e.length,r=[0,1],A=2,i;for(i=2;i<t;++i){for(;A>1&&_F(e[r[A-2]],e[r[A-1]],e[i])<=0;)--A;r[A++]=i}return r.slice(0,A)}function QF(e){if((r=e.length)<3)return null;var t,r,A=new Array(r),i=new Array(r);for(t=0;t<r;++t)A[t]=[+e[t][0],+e[t][1],t];for(A.sort(IP),t=0;t<r;++t)i[t]=[A[t][0],-A[t][1]];var n=xF(A),a=xF(i),o=a[0]===n[0],s=a[a.length-1]===n[n.length-1],l=[];for(t=n.length-1;t>=0;--t)l.push(e[A[n[t]][2]]);for(t=+o;t<a.length-s;++t)l.push(e[A[a[t]][2]]);return l}function FF(e,t){for(var r=e.length,A=e[r-1],i=t[0],n=t[1],a=A[0],o=A[1],s,l,c=!1,m=0;m<r;++m)A=e[m],s=A[0],l=A[1],l>n!=o>n&&i<(a-s)*(n-l)/(o-l)+s&&(c=!c),a=s,o=l;return c}function UF(e){for(var t=-1,r=e.length,A=e[r-1],i,n,a=A[0],o=A[1],s=0;++t<r;)i=a,n=o,A=e[t],a=A[0],o=A[1],i-=a,n-=o,s+=Math.hypot(i,n);return s}var Vt=Math.random;var TF=function e(t){function r(A,i){return A=A==null?0:+A,i=i==null?1:+i,arguments.length===1?(i=A,A=0):i-=A,function(){return t()*i+A}}return r.source=e,r}(Vt);var EF=function e(t){function r(A,i){return arguments.length<2&&(i=A,A=0),A=Math.floor(A),i=Math.floor(i)-A,function(){return Math.floor(t()*i+A)}}return r.source=e,r}(Vt);var jo=function e(t){function r(A,i){var n,a;return A=A==null?0:+A,i=i==null?1:+i,function(){var o;if(n!=null)o=n,n=null;else do n=t()*2-1,o=t()*2-1,a=n*n+o*o;while(!a||a>1);return A+i*o*Math.sqrt(-2*Math.log(a)/a)}}return r.source=e,r}(Vt);var KF=function e(t){var r=jo.source(t);function A(){var i=r.apply(this,arguments);return function(){return Math.exp(i())}}return A.source=e,A}(Vt);var Eh=function e(t){function r(A){return(A=+A)<=0?()=>0:function(){for(var i=0,n=A;n>1;--n)i+=t();return i+n*t()}}return r.source=e,r}(Vt);var DF=function e(t){var r=Eh.source(t);function A(i){if((i=+i)==0)return t;var n=r(i);return function(){return n()/i}}return A.source=e,A}(Vt);var IF=function e(t){function r(A){return function(){return-Math.log1p(-t())/A}}return r.source=e,r}(Vt);var SF=function e(t){function r(A){if((A=+A)<0)throw new RangeError("invalid alpha");return A=1/-A,function(){return Math.pow(1-t(),A)}}return r.source=e,r}(Vt);var kF=function e(t){function r(A){if((A=+A)<0||A>1)throw new RangeError("invalid p");return function(){return Math.floor(t()+A)}}return r.source=e,r}(Vt);var Kh=function e(t){function r(A){if((A=+A)<0||A>1)throw new RangeError("invalid p");return A===0?()=>1/0:A===1?()=>1:(A=Math.log1p(-A),function(){return 1+Math.floor(Math.log1p(-t())/A)})}return r.source=e,r}(Vt);var Zo=function e(t){var r=jo.source(t)();function A(i,n){if((i=+i)<0)throw new RangeError("invalid k");if(i===0)return()=>0;if(n=n==null?1:+n,i===1)return()=>-Math.log1p(-t())*n;var a=(i<1?i+1:i)-1/3,o=1/(3*Math.sqrt(a)),s=i<1?()=>Math.pow(t(),1/i):()=>1;return function(){do{do var l=r(),c=1+o*l;while(c<=0);c*=c*c;var m=1-t()}while(m>=1-.0331*l*l*l*l&&Math.log(m)>=.5*l*l+a*(1-c+Math.log(c)));return a*c*s()*n}}return A.source=e,A}(Vt);var Dh=function e(t){var r=Zo.source(t);function A(i,n){var a=r(i),o=r(n);return function(){var s=a();return s===0?0:s/(s+o())}}return A.source=e,A}(Vt);var Ih=function e(t){var r=Kh.source(t),A=Dh.source(t);function i(n,a){return n=+n,(a=+a)>=1?()=>n:a<=0?()=>0:function(){for(var o=0,s=n,l=a;s*l>16&&s*(1-l)>16;){var c=Math.floor((s+1)*l),m=A(c,s-c+1)();m<=l?(o+=c,s-=c,l=(l-m)/(1-m)):(s=c-1,l/=m)}for(var h=l<.5,g=h?l:1-l,C=r(g),b=C(),w=0;b<=s;++w)b+=C();return o+(h?w:s-w)}}return i.source=e,i}(Vt);var LF=function e(t){function r(A,i,n){var a;return(A=+A)==0?a=o=>-Math.log(o):(A=1/A,a=o=>Math.pow(o,A)),i=i==null?0:+i,n=n==null?1:+n,function(){return i+n*a(-Math.log1p(-t()))}}return r.source=e,r}(Vt);var HF=function e(t){function r(A,i){return A=A==null?0:+A,i=i==null?1:+i,function(){return A+i*Math.tan(Math.PI*t())}}return r.source=e,r}(Vt);var MF=function e(t){function r(A,i){return A=A==null?0:+A,i=i==null?1:+i,function(){var n=t();return A+i*Math.log(n/(1-n))}}return r.source=e,r}(Vt);var PF=function e(t){var r=Zo.source(t),A=Ih.source(t);function i(n){return function(){for(var a=0,o=n;o>16;){var s=Math.floor(.875*o),l=r(s)();if(l>o)return a+A(s-1,o/l)();a+=s,o-=l}for(var c=-Math.log1p(-t()),m=0;c<=o;++m)c-=Math.log1p(-t());return a+m}}return i.source=e,i}(Vt);var RF=23283064365386963e-26;function O0(e=Math.random()){let t=(0<=e&&e<1?e/RF:Math.abs(e))|0;return()=>(t=1664525*t+1013904223|0,RF*(t>>>0))}function be(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function sA(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}var Sh=Symbol("implicit");function qo(){var e=new bA,t=[],r=[],A=Sh;function i(n){let a=e.get(n);if(a===void 0){if(A!==Sh)return A;e.set(n,a=t.push(n)-1)}return r[a%r.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new bA;for(let a of n)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(n){return arguments.length?(r=Array.from(n),i):r.slice()},i.unknown=function(n){return arguments.length?(A=n,i):A},i.copy=function(){return qo(t,r).unknown(A)},be.apply(i,arguments),i}function Ea(){var e=qo().unknown(void 0),t=e.domain,r=e.range,A=0,i=1,n,a,o=!1,s=0,l=0,c=.5;delete e.unknown;function m(){var h=t().length,g=i<A,C=g?i:A,b=g?A:i;n=(b-C)/Math.max(1,h-s+l*2),o&&(n=Math.floor(n)),C+=(b-C-n*(h-s))*c,a=n*(1-s),o&&(C=Math.round(C),a=Math.round(a));var w=AA(h).map(function(v){return C+n*v});return r(g?w.reverse():w)}return e.domain=function(h){return arguments.length?(t(h),m()):t()},e.range=function(h){return arguments.length?([A,i]=h,A=+A,i=+i,m()):[A,i]},e.rangeRound=function(h){return[A,i]=h,A=+A,i=+i,o=!0,m()},e.bandwidth=function(){return a},e.step=function(){return n},e.round=function(h){return arguments.length?(o=!!h,m()):o},e.padding=function(h){return arguments.length?(s=Math.min(1,l=+h),m()):s},e.paddingInner=function(h){return arguments.length?(s=Math.min(1,h),m()):s},e.paddingOuter=function(h){return arguments.length?(l=+h,m()):l},e.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),m()):c},e.copy=function(){return Ea(t(),[A,i]).round(o).paddingInner(s).paddingOuter(l).align(c)},be.apply(m(),arguments)}function OF(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return OF(t())},e}function NF(){return OF(Ea.apply(null,arguments).paddingInner(1))}function N0(e){return function(){return e}}function vn(e){return+e}var VF=[0,1];function Xe(e){return e}function V0(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:N0(isNaN(t)?NaN:.5)}function SP(e,t){var r;return e>t&&(r=e,e=t,t=r),function(A){return Math.max(e,Math.min(t,A))}}function kP(e,t,r){var A=e[0],i=e[1],n=t[0],a=t[1];return i<A?(A=V0(i,A),n=r(a,n)):(A=V0(A,i),n=r(n,a)),function(o){return n(A(o))}}function LP(e,t,r){var A=Math.min(e.length,t.length)-1,i=new Array(A),n=new Array(A),a=-1;for(e[A]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<A;)i[a]=V0(e[a],e[a+1]),n[a]=r(t[a],t[a+1]);return function(o){var s=Hr(e,o,1,A)-1;return n[s](i[s](o))}}function ti(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ka(){var e=VF,t=VF,r=dr,A,i,n,a=Xe,o,s,l;function c(){var h=Math.min(e.length,t.length);return a!==Xe&&(a=SP(e[0],e[h-1])),o=h>2?LP:kP,s=l=null,m}function m(h){return h==null||isNaN(h=+h)?n:(s||(s=o(e.map(A),t,r)))(A(a(h)))}return m.invert=function(h){return a(i((l||(l=o(t,e.map(A),je)))(h)))},m.domain=function(h){return arguments.length?(e=Array.from(h,vn),c()):e.slice()},m.range=function(h){return arguments.length?(t=Array.from(h),c()):t.slice()},m.rangeRound=function(h){return t=Array.from(h),r=cn,c()},m.clamp=function(h){return arguments.length?(a=h?!0:Xe,c()):a!==Xe},m.interpolate=function(h){return arguments.length?(r=h,c()):r},m.unknown=function(h){return arguments.length?(n=h,m):n},function(h,g){return A=h,i=g,c()}}function Da(){return Ka()(Xe,Xe)}function eu(e,t,r,A){var i=zn(e,t,r),n;switch(A=FA(A??",f"),A.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return A.precision==null&&!isNaN(n=Kf(i,a))&&(A.precision=n),El(A,a)}case"":case"e":case"g":case"p":case"r":{A.precision==null&&!isNaN(n=Df(i,Math.max(Math.abs(e),Math.abs(t))))&&(A.precision=n-(A.type==="e"));break}case"f":case"%":{A.precision==null&&!isNaN(n=Ef(i))&&(A.precision=n-(A.type==="%")*2);break}}return Ca(A)}function Qr(e){var t=e.domain;return e.ticks=function(r){var A=t();return Pr(A[0],A[A.length-1],r??10)},e.tickFormat=function(r,A){var i=t();return eu(i[0],i[i.length-1],r??10,A)},e.nice=function(r){r==null&&(r=10);var A=t(),i=0,n=A.length-1,a=A[i],o=A[n],s,l,c=10;for(o<a&&(l=a,a=o,o=l,l=i,i=n,n=l);c-- >0;){if(l=wA(a,o,r),l===s)return A[i]=a,A[n]=o,t(A);if(l>0)a=Math.floor(a/l)*l,o=Math.ceil(o/l)*l;else if(l<0)a=Math.ceil(a*l)/l,o=Math.floor(o*l)/l;else break;s=l}return e},e}function ts(){var e=Da();return e.copy=function(){return ti(e,ts())},be.apply(e,arguments),Qr(e)}function kh(e){var t;function r(A){return A==null||isNaN(A=+A)?t:A}return r.invert=r,r.domain=r.range=function(A){return arguments.length?(e=Array.from(A,vn),r):e.slice()},r.unknown=function(A){return arguments.length?(t=A,r):t},r.copy=function(){return kh(e).unknown(t)},e=arguments.length?Array.from(e,vn):[0,1],Qr(r)}function ru(e,t){e=e.slice();var r=0,A=e.length-1,i=e[r],n=e[A],a;return n<i&&(a=r,r=A,A=a,a=i,i=n,n=a),e[r]=t.floor(i),e[A]=t.ceil(n),e}function WF(e){return Math.log(e)}function GF(e){return Math.exp(e)}function HP(e){return-Math.log(-e)}function MP(e){return-Math.exp(-e)}function PP(e){return isFinite(e)?+("1e"+e):e<0?0:e}function RP(e){return e===10?PP:e===Math.E?Math.exp:t=>Math.pow(e,t)}function OP(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function zF(e){return(t,r)=>-e(-t,r)}function Au(e){let t=e(WF,GF),r=t.domain,A=10,i,n;function a(){return i=OP(A),n=RP(A),r()[0]<0?(i=zF(i),n=zF(n),e(HP,MP)):e(WF,GF),t}return t.base=function(o){return arguments.length?(A=+o,a()):A},t.domain=function(o){return arguments.length?(r(o),a()):r()},t.ticks=o=>{let s=r(),l=s[0],c=s[s.length-1],m=c<l;m&&([l,c]=[c,l]);let h=i(l),g=i(c),C,b,w=o==null?10:+o,v=[];if(!(A%1)&&g-h<w){if(h=Math.floor(h),g=Math.ceil(g),l>0){for(;h<=g;++h)for(C=1;C<A;++C)if(b=h<0?C/n(-h):C*n(h),!(b<l)){if(b>c)break;v.push(b)}}else for(;h<=g;++h)for(C=A-1;C>=1;--C)if(b=h>0?C/n(-h):C*n(h),!(b<l)){if(b>c)break;v.push(b)}v.length*2<w&&(v=Pr(l,c,w))}else v=Pr(h,g,Math.min(g-h,w)).map(n);return m?v.reverse():v},t.tickFormat=(o,s)=>{if(o==null&&(o=10),s==null&&(s=A===10?"s":","),typeof s!="function"&&(!(A%1)&&(s=FA(s)).precision==null&&(s.trim=!0),s=Ca(s)),o===1/0)return s;let l=Math.max(1,A*o/t.ticks().length);return c=>{let m=c/n(Math.round(i(c)));return m*A<A-.5&&(m*=A),m<=l?s(c):""}},t.nice=()=>r(ru(r(),{floor:o=>n(Math.floor(i(o))),ceil:o=>n(Math.ceil(i(o)))})),t}function Lh(){let e=Au(Ka()).domain([1,10]);return e.copy=()=>ti(e,Lh()).base(e.base()),be.apply(e,arguments),e}function XF(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function YF(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function iu(e){var t=1,r=e(XF(t),YF(t));return r.constant=function(A){return arguments.length?e(XF(t=+A),YF(t)):t},Qr(r)}function Hh(){var e=iu(Ka());return e.copy=function(){return ti(e,Hh()).constant(e.constant())},be.apply(e,arguments)}function $F(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function NP(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function VP(e){return e<0?-e*e:e*e}function nu(e){var t=e(Xe,Xe),r=1;function A(){return r===1?e(Xe,Xe):r===.5?e(NP,VP):e($F(r),$F(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,A()):r},Qr(t)}function au(){var e=nu(Ka());return e.copy=function(){return ti(e,au()).exponent(e.exponent())},be.apply(e,arguments),e}function JF(){return au.apply(null,arguments).exponent(.5)}function jF(e){return Math.sign(e)*e*e}function WP(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Mh(){var e=Da(),t=[0,1],r=!1,A;function i(n){var a=WP(e(n));return isNaN(a)?A:r?Math.round(a):a}return i.invert=function(n){return e.invert(jF(n))},i.domain=function(n){return arguments.length?(e.domain(n),i):e.domain()},i.range=function(n){return arguments.length?(e.range((t=Array.from(n,vn)).map(jF)),i):t.slice()},i.rangeRound=function(n){return i.range(n).round(!0)},i.round=function(n){return arguments.length?(r=!!n,i):r},i.clamp=function(n){return arguments.length?(e.clamp(n),i):e.clamp()},i.unknown=function(n){return arguments.length?(A=n,i):A},i.copy=function(){return Mh(e.domain(),t).round(r).clamp(e.clamp()).unknown(A)},be.apply(i,arguments),Qr(i)}function Ph(){var e=[],t=[],r=[],A;function i(){var a=0,o=Math.max(1,t.length);for(r=new Array(o-1);++a<o;)r[a-1]=Fc(e,a/o);return n}function n(a){return a==null||isNaN(a=+a)?A:t[Hr(r,a)]}return n.invertExtent=function(a){var o=t.indexOf(a);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},n.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let o of a)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(St),i()},n.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},n.unknown=function(a){return arguments.length?(A=a,n):A},n.quantiles=function(){return r.slice()},n.copy=function(){return Ph().domain(e).range(t).unknown(A)},be.apply(n,arguments)}function Rh(){var e=0,t=1,r=1,A=[.5],i=[0,1],n;function a(s){return s!=null&&s<=s?i[Hr(A,s,0,r)]:n}function o(){var s=-1;for(A=new Array(r);++s<r;)A[s]=((s+1)*t-(s-r)*e)/(r+1);return a}return a.domain=function(s){return arguments.length?([e,t]=s,e=+e,t=+t,o()):[e,t]},a.range=function(s){return arguments.length?(r=(i=Array.from(s)).length-1,o()):i.slice()},a.invertExtent=function(s){var l=i.indexOf(s);return l<0?[NaN,NaN]:l<1?[e,A[0]]:l>=r?[A[r-1],t]:[A[l-1],A[l]]},a.unknown=function(s){return arguments.length&&(n=s),a},a.thresholds=function(){return A.slice()},a.copy=function(){return Rh().domain([e,t]).range(i).unknown(n)},be.apply(Qr(a),arguments)}function Oh(){var e=[.5],t=[0,1],r,A=1;function i(n){return n!=null&&n<=n?t[Hr(e,n,0,A)]:r}return i.domain=function(n){return arguments.length?(e=Array.from(n),A=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(n){return arguments.length?(t=Array.from(n),A=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(n){var a=t.indexOf(n);return[e[a-1],e[a]]},i.unknown=function(n){return arguments.length?(r=n,i):r},i.copy=function(){return Oh().domain(e).range(t).unknown(r)},be.apply(i,arguments)}var W0=new Date,G0=new Date;function ee(e,t,r,A){function i(n){return e(n=arguments.length===0?new Date:new Date(+n)),n}return i.floor=n=>(e(n=new Date(+n)),n),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=n=>{let a=i(n),o=i.ceil(n);return n-a<o-n?a:o},i.offset=(n,a)=>(t(n=new Date(+n),a==null?1:Math.floor(a)),n),i.range=(n,a,o)=>{let s=[];if(n=i.ceil(n),o=o==null?1:Math.floor(o),!(n<a)||!(o>0))return s;let l;do s.push(l=new Date(+n)),t(n,o),e(n);while(l<n&&n<a);return s},i.filter=n=>ee(a=>{if(a>=a)for(;e(a),!n(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;t(a,-1),!n(a););else for(;--o>=0;)for(;t(a,1),!n(a););}),r&&(i.count=(n,a)=>(W0.setTime(+n),G0.setTime(+a),e(W0),e(G0),Math.floor(r(W0,G0))),i.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?i.filter(A?a=>A(a)%n===0:a=>i.count(0,a)%n===0):i)),i}var _n=ee(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);_n.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ee(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):_n);var z0=_n.range;var Fr=ee(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*1e3)},(e,t)=>(t-e)/1e3,e=>e.getUTCSeconds()),X0=Fr.range;var Si=ee(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getMinutes()),ZF=Si.range,Sa=ee(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getUTCMinutes()),qF=Sa.range;var ki=ee(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3-e.getMinutes()*6e4)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getHours()),t2=ki.range,La=ee(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getUTCHours()),e2=La.range;var lA=ee(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1),r2=lA.range,xn=ee(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>e.getUTCDate()-1),A2=xn.range,su=ee(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>Math.floor(e/864e5)),i2=su.range;function Ha(e){return ee(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5)}var uA=Ha(0),Ma=Ha(1),Y0=Ha(2),$0=Ha(3),Li=Ha(4),J0=Ha(5),j0=Ha(6),Z0=uA.range,a2=Ma.range,o2=Y0.range,s2=$0.range,l2=Li.range,u2=J0.range,c2=j0.range;function Pa(e){return ee(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/6048e5)}var ri=Pa(0),Ra=Pa(1),q0=Pa(2),tB=Pa(3),Hi=Pa(4),eB=Pa(5),rB=Pa(6),AB=ri.range,f2=Ra.range,h2=q0.range,p2=tB.range,d2=Hi.range,m2=eB.range,g2=rB.range;var Mi=ee(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth()),B2=Mi.range,Oa=ee(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth()),C2=Oa.range;var Cr=ee(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Cr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ee(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});var b2=Cr.range,Nr=ee(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Nr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ee(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});var w2=Nr.range;function v2(e,t,r,A,i,n){let a=[[Fr,1,1e3],[Fr,5,5*1e3],[Fr,15,15*1e3],[Fr,30,30*1e3],[n,1,6e4],[n,5,5*6e4],[n,15,15*6e4],[n,30,30*6e4],[i,1,36e5],[i,3,3*36e5],[i,6,6*36e5],[i,12,12*36e5],[A,1,864e5],[A,2,2*864e5],[r,1,6048e5],[t,1,2592e6],[t,3,3*2592e6],[e,1,31536e6]];function o(l,c,m){let h=c<l;h&&([l,c]=[c,l]);let g=m&&typeof m.range=="function"?m:s(l,c,m),C=g?g.range(l,+c+1):[];return h?C.reverse():C}function s(l,c,m){let h=Math.abs(c-l)/m,g=ce(([,,w])=>w).right(a,h);if(g===a.length)return e.every(zn(l/31536e6,c/31536e6,m));if(g===0)return _n.every(Math.max(zn(l,c,m),1));let[C,b]=a[h/a[g-1][2]<a[g][2]/h?g-1:g];return C.every(b)}return[o,s]}var[Nh,Vh]=v2(Nr,Oa,ri,su,La,Sa),[Wh,Gh]=v2(Cr,Mi,uA,lA,ki,Si);function iB(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function nB(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function lu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Na(e){var t=e.dateTime,r=e.date,A=e.time,i=e.periods,n=e.days,a=e.shortDays,o=e.months,s=e.shortMonths,l=uu(i),c=cu(i),m=uu(n),h=cu(n),g=uu(a),C=cu(a),b=uu(o),w=cu(o),v=uu(s),Q=cu(s),x={a:W,A:J,b:Y,B:At,c:null,d:T2,e:T2,f:p3,g:_3,G:Q3,H:c3,I:f3,j:h3,L:S2,m:d3,M:m3,p:ft,q:mt,Q:D2,s:I2,S:g3,u:B3,U:C3,V:b3,w:w3,W:y3,x:null,X:null,y:v3,Y:x3,Z:F3,"%":K2},_={a:Wt,A:Lt,b:Ft,B:xe,c:null,d:E2,e:E2,f:K3,g:O3,G:V3,H:U3,I:T3,j:E3,L:L2,m:D3,M:I3,p:Ht,q:ve,Q:D2,s:I2,S:S3,u:k3,U:L3,V:H3,w:M3,W:P3,x:null,X:null,y:R3,Y:N3,Z:W3,"%":K2},E={a:M,A:I,b:X,B:V,c:D,d:F2,e:F2,f:o3,g:Q2,G:x2,H:U2,I:U2,j:A3,L:a3,m:r3,M:i3,p:O,q:e3,Q:l3,s:u3,S:n3,u:JP,U:jP,V:ZP,w:$P,W:qP,x:L,X:k,y:Q2,Y:x2,Z:t3,"%":s3};x.x=K(r,x),x.X=K(A,x),x.c=K(t,x),_.x=K(r,_),_.X=K(A,_),_.c=K(t,_);function K(it,yt){return function(Ut){var j=[],fe=-1,zt=0,Ye=it.length,ge,Ct,he;for(Ut instanceof Date||(Ut=new Date(+Ut));++fe<Ye;)it.charCodeAt(fe)===37&&(j.push(it.slice(zt,fe)),(Ct=_2[ge=it.charAt(++fe)])!=null?ge=it.charAt(++fe):Ct=ge==="e"?" ":"0",(he=yt[ge])&&(ge=he(Ut,Ct)),j.push(ge),zt=fe+1);return j.push(it.slice(zt,fe)),j.join("")}}function P(it,yt){return function(Ut){var j=lu(1900,void 0,1),fe=R(j,it,Ut+="",0),zt,Ye;if(fe!=Ut.length)return null;if("Q"in j)return new Date(j.Q);if("s"in j)return new Date(j.s*1e3+("L"in j?j.L:0));if(yt&&!("Z"in j)&&(j.Z=0),"p"in j&&(j.H=j.H%12+j.p*12),j.m===void 0&&(j.m="q"in j?j.q:0),"V"in j){if(j.V<1||j.V>53)return null;"w"in j||(j.w=1),"Z"in j?(zt=nB(lu(j.y,0,1)),Ye=zt.getUTCDay(),zt=Ye>4||Ye===0?Ra.ceil(zt):Ra(zt),zt=xn.offset(zt,(j.V-1)*7),j.y=zt.getUTCFullYear(),j.m=zt.getUTCMonth(),j.d=zt.getUTCDate()+(j.w+6)%7):(zt=iB(lu(j.y,0,1)),Ye=zt.getDay(),zt=Ye>4||Ye===0?Ma.ceil(zt):Ma(zt),zt=lA.offset(zt,(j.V-1)*7),j.y=zt.getFullYear(),j.m=zt.getMonth(),j.d=zt.getDate()+(j.w+6)%7)}else("W"in j||"U"in j)&&("w"in j||(j.w="u"in j?j.u%7:"W"in j?1:0),Ye="Z"in j?nB(lu(j.y,0,1)).getUTCDay():iB(lu(j.y,0,1)).getDay(),j.m=0,j.d="W"in j?(j.w+6)%7+j.W*7-(Ye+5)%7:j.w+j.U*7-(Ye+6)%7);return"Z"in j?(j.H+=j.Z/100|0,j.M+=j.Z%100,nB(j)):iB(j)}}function R(it,yt,Ut,j){for(var fe=0,zt=yt.length,Ye=Ut.length,ge,Ct;fe<zt;){if(j>=Ye)return-1;if(ge=yt.charCodeAt(fe++),ge===37){if(ge=yt.charAt(fe++),Ct=E[ge in _2?yt.charAt(fe++):ge],!Ct||(j=Ct(it,Ut,j))<0)return-1}else if(ge!=Ut.charCodeAt(j++))return-1}return j}function O(it,yt,Ut){var j=l.exec(yt.slice(Ut));return j?(it.p=c.get(j[0].toLowerCase()),Ut+j[0].length):-1}function M(it,yt,Ut){var j=g.exec(yt.slice(Ut));return j?(it.w=C.get(j[0].toLowerCase()),Ut+j[0].length):-1}function I(it,yt,Ut){var j=m.exec(yt.slice(Ut));return j?(it.w=h.get(j[0].toLowerCase()),Ut+j[0].length):-1}function X(it,yt,Ut){var j=v.exec(yt.slice(Ut));return j?(it.m=Q.get(j[0].toLowerCase()),Ut+j[0].length):-1}function V(it,yt,Ut){var j=b.exec(yt.slice(Ut));return j?(it.m=w.get(j[0].toLowerCase()),Ut+j[0].length):-1}function D(it,yt,Ut){return R(it,t,yt,Ut)}function L(it,yt,Ut){return R(it,r,yt,Ut)}function k(it,yt,Ut){return R(it,A,yt,Ut)}function W(it){return a[it.getDay()]}function J(it){return n[it.getDay()]}function Y(it){return s[it.getMonth()]}function At(it){return o[it.getMonth()]}function ft(it){return i[+(it.getHours()>=12)]}function mt(it){return 1+~~(it.getMonth()/3)}function Wt(it){return a[it.getUTCDay()]}function Lt(it){return n[it.getUTCDay()]}function Ft(it){return s[it.getUTCMonth()]}function xe(it){return o[it.getUTCMonth()]}function Ht(it){return i[+(it.getUTCHours()>=12)]}function ve(it){return 1+~~(it.getUTCMonth()/3)}return{format:function(it){var yt=K(it+="",x);return yt.toString=function(){return it},yt},parse:function(it){var yt=P(it+="",!1);return yt.toString=function(){return it},yt},utcFormat:function(it){var yt=K(it+="",_);return yt.toString=function(){return it},yt},utcParse:function(it){var yt=P(it+="",!0);return yt.toString=function(){return it},yt}}}var _2={"-":"",_:" ",0:"0"},tr=/^\s*\d+/,zP=/^%/,XP=/[\\^$*+?|[\]().{}]/g;function $t(e,t,r){var A=e<0?"-":"",i=(A?-e:e)+"",n=i.length;return A+(n<r?new Array(r-n+1).join(t)+i:i)}function YP(e){return e.replace(XP,"\\$&")}function uu(e){return new RegExp("^(?:"+e.map(YP).join("|")+")","i")}function cu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function $P(e,t,r){var A=tr.exec(t.slice(r,r+1));return A?(e.w=+A[0],r+A[0].length):-1}function JP(e,t,r){var A=tr.exec(t.slice(r,r+1));return A?(e.u=+A[0],r+A[0].length):-1}function jP(e,t,r){var A=tr.exec(t.slice(r,r+2));return A?(e.U=+A[0],r+A[0].length):-1}function ZP(e,t,r){var A=tr.exec(t.slice(r,r+2));return A?(e.V=+A[0],r+A[0].length):-1}function qP(e,t,r){var A=tr.exec(t.slice(r,r+2));return A?(e.W=+A[0],r+A[0].length):-1}function x2(e,t,r){var A=tr.exec(t.slice(r,r+4));return A?(e.y=+A[0],r+A[0].length):-1}function Q2(e,t,r){var A=tr.exec(t.slice(r,r+2));return A?(e.y=+A[0]+(+A[0]>68?1900:2e3),r+A[0].length):-1}function t3(e,t,r){var A=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return A?(e.Z=A[1]?0:-(A[2]+(A[3]||"00")),r+A[0].length):-1}function e3(e,t,r){var A=tr.exec(t.slice(r,r+1));return A?(e.q=A[0]*3-3,r+A[0].length):-1}function r3(e,t,r){var A=tr.exec(t.slice(r,r+2));return A?(e.m=A[0]-1,r+A[0].length):-1}function F2(e,t,r){var A=tr.exec(t.slice(r,r+2));return A?(e.d=+A[0],r+A[0].length):-1}function A3(e,t,r){var A=tr.exec(t.slice(r,r+3));return A?(e.m=0,e.d=+A[0],r+A[0].length):-1}function U2(e,t,r){var A=tr.exec(t.slice(r,r+2));return A?(e.H=+A[0],r+A[0].length):-1}function i3(e,t,r){var A=tr.exec(t.slice(r,r+2));return A?(e.M=+A[0],r+A[0].length):-1}function n3(e,t,r){var A=tr.exec(t.slice(r,r+2));return A?(e.S=+A[0],r+A[0].length):-1}function a3(e,t,r){var A=tr.exec(t.slice(r,r+3));return A?(e.L=+A[0],r+A[0].length):-1}function o3(e,t,r){var A=tr.exec(t.slice(r,r+6));return A?(e.L=Math.floor(A[0]/1e3),r+A[0].length):-1}function s3(e,t,r){var A=zP.exec(t.slice(r,r+1));return A?r+A[0].length:-1}function l3(e,t,r){var A=tr.exec(t.slice(r));return A?(e.Q=+A[0],r+A[0].length):-1}function u3(e,t,r){var A=tr.exec(t.slice(r));return A?(e.s=+A[0],r+A[0].length):-1}function T2(e,t){return $t(e.getDate(),t,2)}function c3(e,t){return $t(e.getHours(),t,2)}function f3(e,t){return $t(e.getHours()%12||12,t,2)}function h3(e,t){return $t(1+lA.count(Cr(e),e),t,3)}function S2(e,t){return $t(e.getMilliseconds(),t,3)}function p3(e,t){return S2(e,t)+"000"}function d3(e,t){return $t(e.getMonth()+1,t,2)}function m3(e,t){return $t(e.getMinutes(),t,2)}function g3(e,t){return $t(e.getSeconds(),t,2)}function B3(e){var t=e.getDay();return t===0?7:t}function C3(e,t){return $t(uA.count(Cr(e)-1,e),t,2)}function k2(e){var t=e.getDay();return t>=4||t===0?Li(e):Li.ceil(e)}function b3(e,t){return e=k2(e),$t(Li.count(Cr(e),e)+(Cr(e).getDay()===4),t,2)}function w3(e){return e.getDay()}function y3(e,t){return $t(Ma.count(Cr(e)-1,e),t,2)}function v3(e,t){return $t(e.getFullYear()%100,t,2)}function _3(e,t){return e=k2(e),$t(e.getFullYear()%100,t,2)}function x3(e,t){return $t(e.getFullYear()%1e4,t,4)}function Q3(e,t){var r=e.getDay();return e=r>=4||r===0?Li(e):Li.ceil(e),$t(e.getFullYear()%1e4,t,4)}function F3(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+$t(t/60|0,"0",2)+$t(t%60,"0",2)}function E2(e,t){return $t(e.getUTCDate(),t,2)}function U3(e,t){return $t(e.getUTCHours(),t,2)}function T3(e,t){return $t(e.getUTCHours()%12||12,t,2)}function E3(e,t){return $t(1+xn.count(Nr(e),e),t,3)}function L2(e,t){return $t(e.getUTCMilliseconds(),t,3)}function K3(e,t){return L2(e,t)+"000"}function D3(e,t){return $t(e.getUTCMonth()+1,t,2)}function I3(e,t){return $t(e.getUTCMinutes(),t,2)}function S3(e,t){return $t(e.getUTCSeconds(),t,2)}function k3(e){var t=e.getUTCDay();return t===0?7:t}function L3(e,t){return $t(ri.count(Nr(e)-1,e),t,2)}function H2(e){var t=e.getUTCDay();return t>=4||t===0?Hi(e):Hi.ceil(e)}function H3(e,t){return e=H2(e),$t(Hi.count(Nr(e),e)+(Nr(e).getUTCDay()===4),t,2)}function M3(e){return e.getUTCDay()}function P3(e,t){return $t(Ra.count(Nr(e)-1,e),t,2)}function R3(e,t){return $t(e.getUTCFullYear()%100,t,2)}function O3(e,t){return e=H2(e),$t(e.getUTCFullYear()%100,t,2)}function N3(e,t){return $t(e.getUTCFullYear()%1e4,t,4)}function V3(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Hi(e):Hi.ceil(e),$t(e.getUTCFullYear()%1e4,t,4)}function W3(){return"+0000"}function K2(){return"%"}function D2(e){return+e}function I2(e){return Math.floor(+e/1e3)}var es,fu,aB,Va,hu;zh({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function zh(e){return es=Na(e),fu=es.format,aB=es.parse,Va=es.utcFormat,hu=es.utcParse,es}var oB="%Y-%m-%dT%H:%M:%S.%LZ";function G3(e){return e.toISOString()}var z3=Date.prototype.toISOString?G3:Va(oB),M2=z3;function X3(e){var t=new Date(e);return isNaN(t)?null:t}var Y3=+new Date("2000-01-01T00:00:00.000Z")?X3:hu(oB),P2=Y3;function $3(e){return new Date(e)}function J3(e){return e instanceof Date?+e:+new Date(+e)}function Xh(e,t,r,A,i,n,a,o,s,l){var c=Da(),m=c.invert,h=c.domain,g=l(".%L"),C=l(":%S"),b=l("%I:%M"),w=l("%I %p"),v=l("%a %d"),Q=l("%b %d"),x=l("%B"),_=l("%Y");function E(K){return(s(K)<K?g:o(K)<K?C:a(K)<K?b:n(K)<K?w:A(K)<K?i(K)<K?v:Q:r(K)<K?x:_)(K)}return c.invert=function(K){return new Date(m(K))},c.domain=function(K){return arguments.length?h(Array.from(K,J3)):h().map($3)},c.ticks=function(K){var P=h();return e(P[0],P[P.length-1],K??10)},c.tickFormat=function(K,P){return P==null?E:l(P)},c.nice=function(K){var P=h();return(!K||typeof K.range!="function")&&(K=t(P[0],P[P.length-1],K??10)),K?h(ru(P,K)):c},c.copy=function(){return ti(c,Xh(e,t,r,A,i,n,a,o,s,l))},c}function pu(){return be.apply(Xh(Wh,Gh,Cr,Mi,uA,lA,ki,Si,Fr,fu).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function sB(){return be.apply(Xh(Nh,Vh,Nr,Oa,ri,xn,La,Sa,Fr,Va).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Yh(){var e=0,t=1,r,A,i,n,a=Xe,o=!1,s;function l(m){return m==null||isNaN(m=+m)?s:a(i===0?.5:(m=(n(m)-r)*i,o?Math.max(0,Math.min(1,m)):m))}l.domain=function(m){return arguments.length?([e,t]=m,r=n(e=+e),A=n(t=+t),i=r===A?0:1/(A-r),l):[e,t]},l.clamp=function(m){return arguments.length?(o=!!m,l):o},l.interpolator=function(m){return arguments.length?(a=m,l):a};function c(m){return function(h){var g,C;return arguments.length?([g,C]=h,a=m(g,C),l):[a(0),a(1)]}}return l.range=c(dr),l.rangeRound=c(cn),l.unknown=function(m){return arguments.length?(s=m,l):s},function(m){return n=m,r=m(e),A=m(t),i=r===A?0:1/(A-r),l}}function Pi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function $h(){var e=Qr(Yh()(Xe));return e.copy=function(){return Pi(e,$h())},sA.apply(e,arguments)}function lB(){var e=Au(Yh()).domain([1,10]);return e.copy=function(){return Pi(e,lB()).base(e.base())},sA.apply(e,arguments)}function uB(){var e=iu(Yh());return e.copy=function(){return Pi(e,uB()).constant(e.constant())},sA.apply(e,arguments)}function Jh(){var e=nu(Yh());return e.copy=function(){return Pi(e,Jh()).exponent(e.exponent())},sA.apply(e,arguments)}function R2(){return Jh.apply(null,arguments).exponent(.5)}function jh(){var e=[],t=Xe;function r(A){if(A!=null&&!isNaN(A=+A))return t((Hr(e,A,1)-1)/(e.length-1))}return r.domain=function(A){if(!arguments.length)return e.slice();e=[];for(let i of A)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(St),r},r.interpolator=function(A){return arguments.length?(t=A,r):t},r.range=function(){return e.map((A,i)=>t(i/(e.length-1)))},r.quantiles=function(A){return Array.from({length:A+1},(i,n)=>RA(e,n/A))},r.copy=function(){return jh(t).domain(e)},sA.apply(r,arguments)}function Zh(){var e=0,t=.5,r=1,A=1,i,n,a,o,s,l=Xe,c,m=!1,h;function g(b){return isNaN(b=+b)?h:(b=.5+((b=+c(b))-n)*(A*b<A*n?o:s),l(m?Math.max(0,Math.min(1,b)):b))}g.domain=function(b){return arguments.length?([e,t,r]=b,i=c(e=+e),n=c(t=+t),a=c(r=+r),o=i===n?0:.5/(n-i),s=n===a?0:.5/(a-n),A=n<i?-1:1,g):[e,t,r]},g.clamp=function(b){return arguments.length?(m=!!b,g):m},g.interpolator=function(b){return arguments.length?(l=b,g):l};function C(b){return function(w){var v,Q,x;return arguments.length?([v,Q,x]=w,l=cl(b,[v,Q,x]),g):[l(0),l(.5),l(1)]}}return g.range=C(dr),g.rangeRound=C(cn),g.unknown=function(b){return arguments.length?(h=b,g):h},function(b){return c=b,i=b(e),n=b(t),a=b(r),o=i===n?0:.5/(n-i),s=n===a?0:.5/(a-n),A=n<i?-1:1,g}}function qh(){var e=Qr(Zh()(Xe));return e.copy=function(){return Pi(e,qh())},sA.apply(e,arguments)}function cB(){var e=Au(Zh()).domain([.1,1,10]);return e.copy=function(){return Pi(e,cB()).base(e.base())},sA.apply(e,arguments)}function fB(){var e=iu(Zh());return e.copy=function(){return Pi(e,fB()).constant(e.constant())},sA.apply(e,arguments)}function tp(){var e=nu(Zh());return e.copy=function(){return Pi(e,tp()).exponent(e.exponent())},sA.apply(e,arguments)}function O2(){return tp.apply(null,arguments).exponent(.5)}function rt(e){for(var t=e.length/6|0,r=new Array(t),A=0;A<t;)r[A]="#"+e.slice(A*6,++A*6);return r}var N2=rt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");var V2=rt("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666");var W2=rt("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666");var G2=rt("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0");var z2=rt("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");var X2=rt("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2");var Y2=rt("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc");var $2=rt("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999");var J2=rt("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3");var j2=rt("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");var Z2=rt("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");var Bt=e=>Yc(e[e.length-1]);var hB=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(rt),q2=Bt(hB);var pB=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(rt),tU=Bt(pB);var dB=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(rt),eU=Bt(dB);var mB=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(rt),rU=Bt(mB);var gB=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(rt),AU=Bt(gB);var BB=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(rt),iU=Bt(BB);var CB=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(rt),nU=Bt(CB);var bB=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(rt),aU=Bt(bB);var wB=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(rt),oU=Bt(wB);var yB=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(rt),sU=Bt(yB);var vB=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(rt),lU=Bt(vB);var _B=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(rt),uU=Bt(_B);var xB=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(rt),cU=Bt(xB);var QB=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(rt),fU=Bt(QB);var FB=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(rt),hU=Bt(FB);var UB=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(rt),pU=Bt(UB);var TB=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(rt),dU=Bt(TB);var EB=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(rt),mU=Bt(EB);var KB=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(rt),gU=Bt(KB);var DB=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(rt),BU=Bt(DB);var IB=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(rt),CU=Bt(IB);var SB=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(rt),bU=Bt(SB);var kB=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(rt),wU=Bt(kB);var LB=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(rt),yU=Bt(LB);var HB=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(rt),vU=Bt(HB);var MB=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(rt),_U=Bt(MB);var PB=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(rt),xU=Bt(PB);function QU(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}var FU=na(pr(300,.5,0),pr(-240,.5,1));var UU=na(pr(-100,.75,.35),pr(80,1.5,.8)),TU=na(pr(260,.75,.35),pr(80,1.5,.8)),ep=pr();function EU(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return ep.h=360*e-100,ep.s=1.5-1.5*t,ep.l=.8-.9*t,ep+""}var rp=vi(),j3=Math.PI/3,Z3=Math.PI*2/3;function KU(e){var t;return e=(.5-e)*Math.PI,rp.r=255*(t=Math.sin(e))*t,rp.g=255*(t=Math.sin(e+j3))*t,rp.b=255*(t=Math.sin(e+Z3))*t,rp+""}function DU(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function Ap(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}var IU=Ap(rt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),SU=Ap(rt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),kU=Ap(rt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),LU=Ap(rt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function wt(e){return function(){return e}}var RB=Math.abs,ur=Math.atan2,KA=Math.cos,HU=Math.max,Ai=Math.min,br=Math.sin,Et=Math.sqrt,er=1e-12,DA=Math.PI,du=DA/2,cA=2*DA;function MU(e){return e>1?0:e<-1?DA:Math.acos(e)}function OB(e){return e>=1?du:e<=-1?-du:Math.asin(e)}function ii(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{let A=Math.floor(r);if(!(A>=0))throw new RangeError(`invalid digits: ${r}`);t=A}return e},()=>new Qi(t)}function q3(e){return e.innerRadius}function tR(e){return e.outerRadius}function eR(e){return e.startAngle}function rR(e){return e.endAngle}function AR(e){return e&&e.padAngle}function iR(e,t,r,A,i,n,a,o){var s=r-e,l=A-t,c=a-i,m=o-n,h=m*s-c*l;if(!(h*h<er))return h=(c*(t-n)-m*(e-i))/h,[e+h*s,t+h*l]}function ip(e,t,r,A,i,n,a){var o=e-r,s=t-A,l=(a?n:-n)/Et(o*o+s*s),c=l*s,m=-l*o,h=e+c,g=t+m,C=r+c,b=A+m,w=(h+C)/2,v=(g+b)/2,Q=C-h,x=b-g,_=Q*Q+x*x,E=i-n,K=h*b-C*g,P=(x<0?-1:1)*Et(HU(0,E*E*_-K*K)),R=(K*x-Q*P)/_,O=(-K*Q-x*P)/_,M=(K*x+Q*P)/_,I=(-K*Q+x*P)/_,X=R-w,V=O-v,D=M-w,L=I-v;return X*X+V*V>D*D+L*L&&(R=M,O=I),{cx:R,cy:O,x01:-c,y01:-m,x11:R*(i/E-1),y11:O*(i/E-1)}}function PU(){var e=q3,t=tR,r=wt(0),A=null,i=eR,n=rR,a=AR,o=null,s=ii(l);function l(){var c,m,h=+e.apply(this,arguments),g=+t.apply(this,arguments),C=i.apply(this,arguments)-du,b=n.apply(this,arguments)-du,w=RB(b-C),v=b>C;if(o||(o=c=s()),g<h&&(m=g,g=h,h=m),!(g>er))o.moveTo(0,0);else if(w>cA-er)o.moveTo(g*KA(C),g*br(C)),o.arc(0,0,g,C,b,!v),h>er&&(o.moveTo(h*KA(b),h*br(b)),o.arc(0,0,h,b,C,v));else{var Q=C,x=b,_=C,E=b,K=w,P=w,R=a.apply(this,arguments)/2,O=R>er&&(A?+A.apply(this,arguments):Et(h*h+g*g)),M=Ai(RB(g-h)/2,+r.apply(this,arguments)),I=M,X=M,V,D;if(O>er){var L=OB(O/h*br(R)),k=OB(O/g*br(R));(K-=L*2)>er?(L*=v?1:-1,_+=L,E-=L):(K=0,_=E=(C+b)/2),(P-=k*2)>er?(k*=v?1:-1,Q+=k,x-=k):(P=0,Q=x=(C+b)/2)}var W=g*KA(Q),J=g*br(Q),Y=h*KA(E),At=h*br(E);if(M>er){var ft=g*KA(x),mt=g*br(x),Wt=h*KA(_),Lt=h*br(_),Ft;if(w<DA)if(Ft=iR(W,J,Wt,Lt,ft,mt,Y,At)){var xe=W-Ft[0],Ht=J-Ft[1],ve=ft-Ft[0],it=mt-Ft[1],yt=1/br(MU((xe*ve+Ht*it)/(Et(xe*xe+Ht*Ht)*Et(ve*ve+it*it)))/2),Ut=Et(Ft[0]*Ft[0]+Ft[1]*Ft[1]);I=Ai(M,(h-Ut)/(yt-1)),X=Ai(M,(g-Ut)/(yt+1))}else I=X=0}P>er?X>er?(V=ip(Wt,Lt,W,J,g,X,v),D=ip(ft,mt,Y,At,g,X,v),o.moveTo(V.cx+V.x01,V.cy+V.y01),X<M?o.arc(V.cx,V.cy,X,ur(V.y01,V.x01),ur(D.y01,D.x01),!v):(o.arc(V.cx,V.cy,X,ur(V.y01,V.x01),ur(V.y11,V.x11),!v),o.arc(0,0,g,ur(V.cy+V.y11,V.cx+V.x11),ur(D.cy+D.y11,D.cx+D.x11),!v),o.arc(D.cx,D.cy,X,ur(D.y11,D.x11),ur(D.y01,D.x01),!v))):(o.moveTo(W,J),o.arc(0,0,g,Q,x,!v)):o.moveTo(W,J),!(h>er)||!(K>er)?o.lineTo(Y,At):I>er?(V=ip(Y,At,ft,mt,h,-I,v),D=ip(W,J,Wt,Lt,h,-I,v),o.lineTo(V.cx+V.x01,V.cy+V.y01),I<M?o.arc(V.cx,V.cy,I,ur(V.y01,V.x01),ur(D.y01,D.x01),!v):(o.arc(V.cx,V.cy,I,ur(V.y01,V.x01),ur(V.y11,V.x11),!v),o.arc(0,0,h,ur(V.cy+V.y11,V.cx+V.x11),ur(D.cy+D.y11,D.cx+D.x11),v),o.arc(D.cx,D.cy,I,ur(D.y11,D.x11),ur(D.y01,D.x01),!v))):o.arc(0,0,h,E,_,v)}if(o.closePath(),c)return o=null,c+""||null}return l.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,m=(+i.apply(this,arguments)+ +n.apply(this,arguments))/2-DA/2;return[KA(m)*c,br(m)*c]},l.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:wt(+c),l):e},l.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:wt(+c),l):t},l.cornerRadius=function(c){return arguments.length?(r=typeof c=="function"?c:wt(+c),l):r},l.padRadius=function(c){return arguments.length?(A=c==null?null:typeof c=="function"?c:wt(+c),l):A},l.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:wt(+c),l):i},l.endAngle=function(c){return arguments.length?(n=typeof c=="function"?c:wt(+c),l):n},l.padAngle=function(c){return arguments.length?(a=typeof c=="function"?c:wt(+c),l):a},l.context=function(c){return arguments.length?(o=c??null,l):o},l}var RU=Array.prototype.slice;function Qn(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function OU(e){this._context=e}OU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Fn(e){return new OU(e)}function rs(e){return e[0]}function As(e){return e[1]}function Un(e,t){var r=wt(!0),A=null,i=Fn,n=null,a=ii(o);e=typeof e=="function"?e:e===void 0?rs:wt(e),t=typeof t=="function"?t:t===void 0?As:wt(t);function o(s){var l,c=(s=Qn(s)).length,m,h=!1,g;for(A==null&&(n=i(g=a())),l=0;l<=c;++l)!(l<c&&r(m=s[l],l,s))===h&&((h=!h)?n.lineStart():n.lineEnd()),h&&n.point(+e(m,l,s),+t(m,l,s));if(g)return n=null,g+""||null}return o.x=function(s){return arguments.length?(e=typeof s=="function"?s:wt(+s),o):e},o.y=function(s){return arguments.length?(t=typeof s=="function"?s:wt(+s),o):t},o.defined=function(s){return arguments.length?(r=typeof s=="function"?s:wt(!!s),o):r},o.curve=function(s){return arguments.length?(i=s,A!=null&&(n=i(A)),o):i},o.context=function(s){return arguments.length?(s==null?A=n=null:n=i(A=s),o):A},o}function is(e,t,r){var A=null,i=wt(!0),n=null,a=Fn,o=null,s=ii(l);e=typeof e=="function"?e:e===void 0?rs:wt(+e),t=typeof t=="function"?t:t===void 0?wt(0):wt(+t),r=typeof r=="function"?r:r===void 0?As:wt(+r);function l(m){var h,g,C,b=(m=Qn(m)).length,w,v=!1,Q,x=new Array(b),_=new Array(b);for(n==null&&(o=a(Q=s())),h=0;h<=b;++h){if(!(h<b&&i(w=m[h],h,m))===v)if(v=!v)g=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),C=h-1;C>=g;--C)o.point(x[C],_[C]);o.lineEnd(),o.areaEnd()}v&&(x[h]=+e(w,h,m),_[h]=+t(w,h,m),o.point(A?+A(w,h,m):x[h],r?+r(w,h,m):_[h]))}if(Q)return o=null,Q+""||null}function c(){return Un().defined(i).curve(a).context(n)}return l.x=function(m){return arguments.length?(e=typeof m=="function"?m:wt(+m),A=null,l):e},l.x0=function(m){return arguments.length?(e=typeof m=="function"?m:wt(+m),l):e},l.x1=function(m){return arguments.length?(A=m==null?null:typeof m=="function"?m:wt(+m),l):A},l.y=function(m){return arguments.length?(t=typeof m=="function"?m:wt(+m),r=null,l):t},l.y0=function(m){return arguments.length?(t=typeof m=="function"?m:wt(+m),l):t},l.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:wt(+m),l):r},l.lineX0=l.lineY0=function(){return c().x(e).y(t)},l.lineY1=function(){return c().x(e).y(r)},l.lineX1=function(){return c().x(A).y(t)},l.defined=function(m){return arguments.length?(i=typeof m=="function"?m:wt(!!m),l):i},l.curve=function(m){return arguments.length?(a=m,n!=null&&(o=a(n)),l):a},l.context=function(m){return arguments.length?(m==null?n=o=null:o=a(n=m),l):n},l}function NU(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function VU(e){return e}function WU(){var e=VU,t=NU,r=null,A=wt(0),i=wt(cA),n=wt(0);function a(o){var s,l=(o=Qn(o)).length,c,m,h=0,g=new Array(l),C=new Array(l),b=+A.apply(this,arguments),w=Math.min(cA,Math.max(-cA,i.apply(this,arguments)-b)),v,Q=Math.min(Math.abs(w)/l,n.apply(this,arguments)),x=Q*(w<0?-1:1),_;for(s=0;s<l;++s)(_=C[g[s]=s]=+e(o[s],s,o))>0&&(h+=_);for(t!=null?g.sort(function(E,K){return t(C[E],C[K])}):r!=null&&g.sort(function(E,K){return r(o[E],o[K])}),s=0,m=h?(w-l*x)/h:0;s<l;++s,b=v)c=g[s],_=C[c],v=b+(_>0?_*m:0)+x,C[c]={data:o[c],index:s,value:_,startAngle:b,endAngle:v,padAngle:Q};return C}return a.value=function(o){return arguments.length?(e=typeof o=="function"?o:wt(+o),a):e},a.sortValues=function(o){return arguments.length?(t=o,r=null,a):t},a.sort=function(o){return arguments.length?(r=o,t=null,a):r},a.startAngle=function(o){return arguments.length?(A=typeof o=="function"?o:wt(+o),a):A},a.endAngle=function(o){return arguments.length?(i=typeof o=="function"?o:wt(+o),a):i},a.padAngle=function(o){return arguments.length?(n=typeof o=="function"?o:wt(+o),a):n},a}var np=ns(Fn);function GU(e){this._curve=e}GU.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};function ns(e){function t(r){return new GU(e(r))}return t._curve=e,t}function as(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(r){return arguments.length?t(ns(r)):t()._curve},e}function NB(){return as(Un().curve(np))}function VB(){var e=is().curve(np),t=e.curve,r=e.lineX0,A=e.lineX1,i=e.lineY0,n=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return as(r())},delete e.lineX0,e.lineEndAngle=function(){return as(A())},delete e.lineX1,e.lineInnerRadius=function(){return as(i())},delete e.lineY0,e.lineOuterRadius=function(){return as(n())},delete e.lineY1,e.curve=function(a){return arguments.length?t(ns(a)):t()._curve},e}function Wa(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}var ap=class{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}},WB=class{constructor(t){this._context=t}lineStart(){this._point=0}lineEnd(){}point(t,r){if(t=+t,r=+r,this._point===0)this._point=1;else{let A=Wa(this._x0,this._y0),i=Wa(this._x0,this._y0=(this._y0+r)/2),n=Wa(t,this._y0),a=Wa(t,r);this._context.moveTo(...A),this._context.bezierCurveTo(...i,...n,...a)}this._x0=t,this._y0=r}};function op(e){return new ap(e,!0)}function sp(e){return new ap(e,!1)}function zU(e){return new WB(e)}function nR(e){return e.source}function aR(e){return e.target}function mu(e){let t=nR,r=aR,A=rs,i=As,n=null,a=null,o=ii(s);function s(){let l,c=RU.call(arguments),m=t.apply(this,c),h=r.apply(this,c);if(n==null&&(a=e(l=o())),a.lineStart(),c[0]=m,a.point(+A.apply(this,c),+i.apply(this,c)),c[0]=h,a.point(+A.apply(this,c),+i.apply(this,c)),a.lineEnd(),l)return a=null,l+""||null}return s.source=function(l){return arguments.length?(t=l,s):t},s.target=function(l){return arguments.length?(r=l,s):r},s.x=function(l){return arguments.length?(A=typeof l=="function"?l:wt(+l),s):A},s.y=function(l){return arguments.length?(i=typeof l=="function"?l:wt(+l),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=e(n=l),s):n},s}function XU(){return mu(op)}function YU(){return mu(sp)}function $U(){let e=mu(zU);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}var oR=Et(3),lp={draw(e,t){let r=Et(t+Ai(t/28,.75))*.59436,A=r/2,i=A*oR;e.moveTo(0,r),e.lineTo(0,-r),e.moveTo(-i,-A),e.lineTo(i,A),e.moveTo(-i,A),e.lineTo(i,-A)}};var os={draw(e,t){let r=Et(t/DA);e.moveTo(r,0),e.arc(0,0,r,0,cA)}};var up={draw(e,t){let r=Et(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}};var JU=Et(1/3),sR=JU*2,cp={draw(e,t){let r=Et(t/sR),A=r*JU;e.moveTo(0,-r),e.lineTo(A,0),e.lineTo(0,r),e.lineTo(-A,0),e.closePath()}};var fp={draw(e,t){let r=Et(t)*.62625;e.moveTo(0,-r),e.lineTo(r,0),e.lineTo(0,r),e.lineTo(-r,0),e.closePath()}};var hp={draw(e,t){let r=Et(t-Ai(t/7,2))*.87559;e.moveTo(-r,0),e.lineTo(r,0),e.moveTo(0,r),e.lineTo(0,-r)}};var pp={draw(e,t){let r=Et(t),A=-r/2;e.rect(A,A,r,r)}};var dp={draw(e,t){let r=Et(t)*.4431;e.moveTo(r,r),e.lineTo(r,-r),e.lineTo(-r,-r),e.lineTo(-r,r),e.closePath()}};var lR=.8908130915292852,jU=br(DA/10)/br(7*DA/10),uR=br(cA/10)*jU,cR=-KA(cA/10)*jU,mp={draw(e,t){let r=Et(t*lR),A=uR*r,i=cR*r;e.moveTo(0,-r),e.lineTo(A,i);for(let n=1;n<5;++n){let a=cA*n/5,o=KA(a),s=br(a);e.lineTo(s*r,-o*r),e.lineTo(o*A-s*i,s*A+o*i)}e.closePath()}};var GB=Et(3),gp={draw(e,t){let r=-Et(t/(GB*3));e.moveTo(0,r*2),e.lineTo(-GB*r,-r),e.lineTo(GB*r,-r),e.closePath()}};var fR=Et(3),Bp={draw(e,t){let r=Et(t)*.6824,A=r/2,i=r*fR/2;e.moveTo(0,-r),e.lineTo(i,A),e.lineTo(-i,A),e.closePath()}};var fA=-.5,hA=Et(3)/2,zB=1/Et(12),hR=(zB/2+1)*3,Cp={draw(e,t){let r=Et(t/hR),A=r/2,i=r*zB,n=A,a=r*zB+r,o=-n,s=a;e.moveTo(A,i),e.lineTo(n,a),e.lineTo(o,s),e.lineTo(fA*A-hA*i,hA*A+fA*i),e.lineTo(fA*n-hA*a,hA*n+fA*a),e.lineTo(fA*o-hA*s,hA*o+fA*s),e.lineTo(fA*A+hA*i,fA*i-hA*A),e.lineTo(fA*n+hA*a,fA*a-hA*n),e.lineTo(fA*o+hA*s,fA*s-hA*o),e.closePath()}};var gu={draw(e,t){let r=Et(t-Ai(t/6,1.7))*.6189;e.moveTo(-r,-r),e.lineTo(r,r),e.moveTo(-r,r),e.lineTo(r,-r)}};var XB=[os,up,cp,pp,mp,gp,Cp],ZU=[os,hp,gu,Bp,lp,dp,fp];function Ga(e,t){let r=null,A=ii(i);e=typeof e=="function"?e:wt(e||os),t=typeof t=="function"?t:wt(t===void 0?64:+t);function i(){let n;if(r||(r=n=A()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),n)return r=null,n+""||null}return i.type=function(n){return arguments.length?(e=typeof n=="function"?n:wt(n),i):e},i.size=function(n){return arguments.length?(t=typeof n=="function"?n:wt(+n),i):t},i.context=function(n){return arguments.length?(r=n??null,i):r},i}function pA(){}function ss(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Bu(e){this._context=e}Bu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ss(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ss(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function qU(e){return new Bu(e)}function tT(e){this._context=e}tT.prototype={areaStart:pA,areaEnd:pA,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ss(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function eT(e){return new tT(e)}function rT(e){this._context=e}rT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,A=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,A):this._context.moveTo(r,A);break;case 3:this._point=4;default:ss(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function AT(e){return new rT(e)}function iT(e,t){this._basis=new Bu(e),this._beta=t}iT.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var A=e[0],i=t[0],n=e[r]-A,a=t[r]-i,o=-1,s;++o<=r;)s=o/r,this._basis.point(this._beta*e[o]+(1-this._beta)*(A+s*n),this._beta*t[o]+(1-this._beta)*(i+s*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var nT=function e(t){function r(A){return t===1?new Bu(A):new iT(A,t)}return r.beta=function(A){return e(+A)},r}(.85);function ls(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function bp(e,t){this._context=e,this._k=(1-t)/6}bp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ls(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:ls(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var aT=function e(t){function r(A){return new bp(A,t)}return r.tension=function(A){return e(+A)},r}(0);function wp(e,t){this._context=e,this._k=(1-t)/6}wp.prototype={areaStart:pA,areaEnd:pA,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:ls(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var oT=function e(t){function r(A){return new wp(A,t)}return r.tension=function(A){return e(+A)},r}(0);function yp(e,t){this._context=e,this._k=(1-t)/6}yp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ls(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var sT=function e(t){function r(A){return new yp(A,t)}return r.tension=function(A){return e(+A)},r}(0);function Cu(e,t,r){var A=e._x1,i=e._y1,n=e._x2,a=e._y2;if(e._l01_a>er){var o=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,s=3*e._l01_a*(e._l01_a+e._l12_a);A=(A*o-e._x0*e._l12_2a+e._x2*e._l01_2a)/s,i=(i*o-e._y0*e._l12_2a+e._y2*e._l01_2a)/s}if(e._l23_a>er){var l=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);n=(n*l+e._x1*e._l23_2a-t*e._l12_2a)/c,a=(a*l+e._y1*e._l23_2a-r*e._l12_2a)/c}e._context.bezierCurveTo(A,i,n,a,e._x2,e._y2)}function lT(e,t){this._context=e,this._alpha=t}lT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,A=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+A*A,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Cu(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var uT=function e(t){function r(A){return t?new lT(A,t):new bp(A,0)}return r.alpha=function(A){return e(+A)},r}(.5);function cT(e,t){this._context=e,this._alpha=t}cT.prototype={areaStart:pA,areaEnd:pA,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,A=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+A*A,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Cu(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var fT=function e(t){function r(A){return t?new cT(A,t):new wp(A,0)}return r.alpha=function(A){return e(+A)},r}(.5);function hT(e,t){this._context=e,this._alpha=t}hT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,A=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+A*A,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Cu(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var pT=function e(t){function r(A){return t?new hT(A,t):new yp(A,0)}return r.alpha=function(A){return e(+A)},r}(.5);function dT(e){this._context=e}dT.prototype={areaStart:pA,areaEnd:pA,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function mT(e){return new dT(e)}function gT(e){return e<0?-1:1}function BT(e,t,r){var A=e._x1-e._x0,i=t-e._x1,n=(e._y1-e._y0)/(A||i<0&&-0),a=(r-e._y1)/(i||A<0&&-0),o=(n*i+a*A)/(A+i);return(gT(n)+gT(a))*Math.min(Math.abs(n),Math.abs(a),.5*Math.abs(o))||0}function CT(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function YB(e,t,r){var A=e._x0,i=e._y0,n=e._x1,a=e._y1,o=(n-A)/3;e._context.bezierCurveTo(A+o,i+o*t,n-o,a-o*r,n,a)}function vp(e){this._context=e}vp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:YB(this,this._t0,CT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,YB(this,CT(this,r=BT(this,e,t)),r);break;default:YB(this,this._t0,r=BT(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function bT(e){this._context=new wT(e)}(bT.prototype=Object.create(vp.prototype)).point=function(e,t){vp.prototype.point.call(this,t,e)};function wT(e){this._context=e}wT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,A,i,n){this._context.bezierCurveTo(t,e,A,r,n,i)}};function yT(e){return new vp(e)}function vT(e){return new bT(e)}function xT(e){this._context=e}xT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var A=_T(e),i=_T(t),n=0,a=1;a<r;++n,++a)this._context.bezierCurveTo(A[0][n],i[0][n],A[1][n],i[1][n],e[a],t[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function _T(e){var t,r=e.length-1,A,i=new Array(r),n=new Array(r),a=new Array(r);for(i[0]=0,n[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,n[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,n[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)A=i[t]/n[t-1],n[t]-=A,a[t]-=A*a[t-1];for(i[r-1]=a[r-1]/n[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/n[t];for(n[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)n[t]=2*e[t+1]-i[t+1];return[i,n]}function QT(e){return new xT(e)}function _p(e,t){this._context=e,this._t=t}_p.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function FT(e){return new _p(e,.5)}function UT(e){return new _p(e,0)}function TT(e){return new _p(e,1)}function IA(e,t){if((a=e.length)>1)for(var r=1,A,i,n=e[t[0]],a,o=n.length;r<a;++r)for(i=n,n=e[t[r]],A=0;A<o;++A)n[A][1]+=n[A][0]=isNaN(i[A][1])?i[A][0]:i[A][1]}function SA(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function pR(e,t){return e[t]}function dR(e){let t=[];return t.key=e,t}function ET(){var e=wt([]),t=SA,r=IA,A=pR;function i(n){var a=Array.from(e.apply(this,arguments),dR),o,s=a.length,l=-1,c;for(let m of n)for(o=0,++l;o<s;++o)(a[o][l]=[0,+A(m,a[o].key,l,n)]).data=m;for(o=0,c=Qn(t(a));o<s;++o)a[c[o]].index=o;return r(a,c),a}return i.keys=function(n){return arguments.length?(e=typeof n=="function"?n:wt(Array.from(n)),i):e},i.value=function(n){return arguments.length?(A=typeof n=="function"?n:wt(+n),i):A},i.order=function(n){return arguments.length?(t=n==null?SA:typeof n=="function"?n:wt(Array.from(n)),i):t},i.offset=function(n){return arguments.length?(r=n??IA,i):r},i}function KT(e,t){if((A=e.length)>0){for(var r,A,i=0,n=e[0].length,a;i<n;++i){for(a=r=0;r<A;++r)a+=e[r][i][1]||0;if(a)for(r=0;r<A;++r)e[r][i][1]/=a}IA(e,t)}}function DT(e,t){if((s=e.length)>0)for(var r,A=0,i,n,a,o,s,l=e[t[0]].length;A<l;++A)for(a=o=0,r=0;r<s;++r)(n=(i=e[t[r]][A])[1]-i[0])>0?(i[0]=a,i[1]=a+=n):n<0?(i[1]=o,i[0]=o+=n):(i[0]=0,i[1]=n)}function IT(e,t){if((i=e.length)>0){for(var r=0,A=e[t[0]],i,n=A.length;r<n;++r){for(var a=0,o=0;a<i;++a)o+=e[a][r][1]||0;A[r][1]+=A[r][0]=-o/2}IA(e,t)}}function ST(e,t){if(!(!((a=e.length)>0)||!((n=(i=e[t[0]]).length)>0))){for(var r=0,A=1,i,n,a;A<n;++A){for(var o=0,s=0,l=0;o<a;++o){for(var c=e[t[o]],m=c[A][1]||0,h=c[A-1][1]||0,g=(m-h)/2,C=0;C<o;++C){var b=e[t[C]],w=b[A][1]||0,v=b[A-1][1]||0;g+=w-v}s+=m,l+=g*m}i[A-1][1]+=i[A-1][0]=r,s&&(r-=l/s)}i[A-1][1]+=i[A-1][0]=r,IA(e,t)}}function xp(e){var t=e.map(mR);return SA(e).sort(function(r,A){return t[r]-t[A]})}function mR(e){for(var t=-1,r=0,A=e.length,i,n=-1/0;++t<A;)(i=+e[t][1])>n&&(n=i,r=t);return r}function Qp(e){var t=e.map($B);return SA(e).sort(function(r,A){return t[r]-t[A]})}function $B(e){for(var t=0,r=-1,A=e.length,i;++r<A;)(i=+e[r][1])&&(t+=i);return t}function kT(e){return Qp(e).reverse()}function LT(e){var t=e.length,r,A,i=e.map($B),n=xp(e),a=0,o=0,s=[],l=[];for(r=0;r<t;++r)A=n[r],a<o?(a+=i[A],s.push(A)):(o+=i[A],l.push(A));return l.reverse().concat(s)}function HT(e){return SA(e).reverse()}var bu=e=>()=>e;function JB(e,{sourceEvent:t,target:r,transform:A,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:A,enumerable:!0,configurable:!0},_:{value:i}})}function dA(e,t,r){this.k=e,this.x=t,this.y=r}dA.prototype={constructor:dA,scale:function(e){return e===1?this:new dA(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new dA(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ur=new dA(1,0,0);Fp.prototype=dA.prototype;function Fp(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Ur;return e.__zoom}function Up(e){e.stopImmediatePropagation()}function us(e){e.preventDefault(),e.stopImmediatePropagation()}function gR(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function BR(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function MT(){return this.__zoom||Ur}function CR(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function bR(){return navigator.maxTouchPoints||"ontouchstart"in this}function wR(e,t,r){var A=e.invertX(t[0][0])-r[0][0],i=e.invertX(t[1][0])-r[1][0],n=e.invertY(t[0][1])-r[0][1],a=e.invertY(t[1][1])-r[1][1];return e.translate(i>A?(A+i)/2:Math.min(0,A)||Math.max(0,i),a>n?(n+a)/2:Math.min(0,n)||Math.max(0,a))}function Tp(){var e=gR,t=BR,r=wR,A=CR,i=bR,n=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],o=250,s=rf,l=iA("start","zoom","end"),c,m,h,g=500,C=150,b=0,w=10;function v(D){D.property("__zoom",MT).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",O).on("dblclick.zoom",M).filter(i).on("touchstart.zoom",I).on("touchmove.zoom",X).on("touchend.zoom touchcancel.zoom",V).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(D,L,k,W){var J=D.selection?D.selection():D;J.property("__zoom",MT),D!==J?E(D,L,k,W):J.interrupt().each(function(){K(this,arguments).event(W).start().zoom(null,typeof L=="function"?L.apply(this,arguments):L).end()})},v.scaleBy=function(D,L,k,W){v.scaleTo(D,function(){var J=this.__zoom.k,Y=typeof L=="function"?L.apply(this,arguments):L;return J*Y},k,W)},v.scaleTo=function(D,L,k,W){v.transform(D,function(){var J=t.apply(this,arguments),Y=this.__zoom,At=k==null?_(J):typeof k=="function"?k.apply(this,arguments):k,ft=Y.invert(At),mt=typeof L=="function"?L.apply(this,arguments):L;return r(x(Q(Y,mt),At,ft),J,a)},k,W)},v.translateBy=function(D,L,k,W){v.transform(D,function(){return r(this.__zoom.translate(typeof L=="function"?L.apply(this,arguments):L,typeof k=="function"?k.apply(this,arguments):k),t.apply(this,arguments),a)},null,W)},v.translateTo=function(D,L,k,W,J){v.transform(D,function(){var Y=t.apply(this,arguments),At=this.__zoom,ft=W==null?_(Y):typeof W=="function"?W.apply(this,arguments):W;return r(Ur.translate(ft[0],ft[1]).scale(At.k).translate(typeof L=="function"?-L.apply(this,arguments):-L,typeof k=="function"?-k.apply(this,arguments):-k),Y,a)},W,J)};function Q(D,L){return L=Math.max(n[0],Math.min(n[1],L)),L===D.k?D:new dA(L,D.x,D.y)}function x(D,L,k){var W=L[0]-k[0]*D.k,J=L[1]-k[1]*D.k;return W===D.x&&J===D.y?D:new dA(D.k,W,J)}function _(D){return[(+D[0][0]+ +D[1][0])/2,(+D[0][1]+ +D[1][1])/2]}function E(D,L,k,W){D.on("start.zoom",function(){K(this,arguments).event(W).start()}).on("interrupt.zoom end.zoom",function(){K(this,arguments).event(W).end()}).tween("zoom",function(){var J=this,Y=arguments,At=K(J,Y).event(W),ft=t.apply(J,Y),mt=k==null?_(ft):typeof k=="function"?k.apply(J,Y):k,Wt=Math.max(ft[1][0]-ft[0][0],ft[1][1]-ft[0][1]),Lt=J.__zoom,Ft=typeof L=="function"?L.apply(J,Y):L,xe=s(Lt.invert(mt).concat(Wt/Lt.k),Ft.invert(mt).concat(Wt/Ft.k));return function(Ht){if(Ht===1)Ht=Ft;else{var ve=xe(Ht),it=Wt/ve[2];Ht=new dA(it,mt[0]-ve[0]*it,mt[1]-ve[1]*it)}At.zoom(null,Ht)}})}function K(D,L,k){return!k&&D.__zooming||new P(D,L)}function P(D,L){this.that=D,this.args=L,this.active=0,this.sourceEvent=null,this.extent=t.apply(D,L),this.taps=0}P.prototype={event:function(D){return D&&(this.sourceEvent=D),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(D,L){return this.mouse&&D!=="mouse"&&(this.mouse[1]=L.invert(this.mouse[0])),this.touch0&&D!=="touch"&&(this.touch0[1]=L.invert(this.touch0[0])),this.touch1&&D!=="touch"&&(this.touch1[1]=L.invert(this.touch1[0])),this.that.__zoom=L,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(D){var L=Dt(this.that).datum();l.call(D,this.that,new JB(D,{sourceEvent:this.sourceEvent,target:v,type:D,transform:this.that.__zoom,dispatch:l}),L)}};function R(D,...L){if(!e.apply(this,arguments))return;var k=K(this,L).event(D),W=this.__zoom,J=Math.max(n[0],Math.min(n[1],W.k*Math.pow(2,A.apply(this,arguments)))),Y=He(D);if(k.wheel)(k.mouse[0][0]!==Y[0]||k.mouse[0][1]!==Y[1])&&(k.mouse[1]=W.invert(k.mouse[0]=Y)),clearTimeout(k.wheel);else{if(W.k===J)return;k.mouse=[Y,W.invert(Y)],_A(this),k.start()}us(D),k.wheel=setTimeout(At,C),k.zoom("mouse",r(x(Q(W,J),k.mouse[0],k.mouse[1]),k.extent,a));function At(){k.wheel=null,k.end()}}function O(D,...L){if(h||!e.apply(this,arguments))return;var k=D.currentTarget,W=K(this,L,!0).event(D),J=Dt(D.view).on("mousemove.zoom",mt,!0).on("mouseup.zoom",Wt,!0),Y=He(D,k),At=D.clientX,ft=D.clientY;nn(D.view),Up(D),W.mouse=[Y,this.__zoom.invert(Y)],_A(this),W.start();function mt(Lt){if(us(Lt),!W.moved){var Ft=Lt.clientX-At,xe=Lt.clientY-ft;W.moved=Ft*Ft+xe*xe>b}W.event(Lt).zoom("mouse",r(x(W.that.__zoom,W.mouse[0]=He(Lt,k),W.mouse[1]),W.extent,a))}function Wt(Lt){J.on("mousemove.zoom mouseup.zoom",null),an(Lt.view,W.moved),us(Lt),W.event(Lt).end()}}function M(D,...L){if(e.apply(this,arguments)){var k=this.__zoom,W=He(D.changedTouches?D.changedTouches[0]:D,this),J=k.invert(W),Y=k.k*(D.shiftKey?.5:2),At=r(x(Q(k,Y),W,J),t.apply(this,L),a);us(D),o>0?Dt(this).transition().duration(o).call(E,At,W,D):Dt(this).call(v.transform,At,W,D)}}function I(D,...L){if(e.apply(this,arguments)){var k=D.touches,W=k.length,J=K(this,L,D.changedTouches.length===W).event(D),Y,At,ft,mt;for(Up(D),At=0;At<W;++At)ft=k[At],mt=He(ft,this),mt=[mt,this.__zoom.invert(mt),ft.identifier],J.touch0?!J.touch1&&J.touch0[2]!==mt[2]&&(J.touch1=mt,J.taps=0):(J.touch0=mt,Y=!0,J.taps=1+!!c);c&&(c=clearTimeout(c)),Y&&(J.taps<2&&(m=mt[0],c=setTimeout(function(){c=null},g)),_A(this),J.start())}}function X(D,...L){if(this.__zooming){var k=K(this,L).event(D),W=D.changedTouches,J=W.length,Y,At,ft,mt;for(us(D),Y=0;Y<J;++Y)At=W[Y],ft=He(At,this),k.touch0&&k.touch0[2]===At.identifier?k.touch0[0]=ft:k.touch1&&k.touch1[2]===At.identifier&&(k.touch1[0]=ft);if(At=k.that.__zoom,k.touch1){var Wt=k.touch0[0],Lt=k.touch0[1],Ft=k.touch1[0],xe=k.touch1[1],Ht=(Ht=Ft[0]-Wt[0])*Ht+(Ht=Ft[1]-Wt[1])*Ht,ve=(ve=xe[0]-Lt[0])*ve+(ve=xe[1]-Lt[1])*ve;At=Q(At,Math.sqrt(Ht/ve)),ft=[(Wt[0]+Ft[0])/2,(Wt[1]+Ft[1])/2],mt=[(Lt[0]+xe[0])/2,(Lt[1]+xe[1])/2]}else if(k.touch0)ft=k.touch0[0],mt=k.touch0[1];else return;k.zoom("touch",r(x(At,ft,mt),k.extent,a))}}function V(D,...L){if(this.__zooming){var k=K(this,L).event(D),W=D.changedTouches,J=W.length,Y,At;for(Up(D),h&&clearTimeout(h),h=setTimeout(function(){h=null},g),Y=0;Y<J;++Y)At=W[Y],k.touch0&&k.touch0[2]===At.identifier?delete k.touch0:k.touch1&&k.touch1[2]===At.identifier&&delete k.touch1;if(k.touch1&&!k.touch0&&(k.touch0=k.touch1,delete k.touch1),k.touch0)k.touch0[1]=this.__zoom.invert(k.touch0[0]);else if(k.end(),k.taps===2&&(At=He(At,this),Math.hypot(m[0]-At[0],m[1]-At[1])<w)){var ft=Dt(this).on("dblclick.zoom");ft&&ft.apply(this,arguments)}}}return v.wheelDelta=function(D){return arguments.length?(A=typeof D=="function"?D:bu(+D),v):A},v.filter=function(D){return arguments.length?(e=typeof D=="function"?D:bu(!!D),v):e},v.touchable=function(D){return arguments.length?(i=typeof D=="function"?D:bu(!!D),v):i},v.extent=function(D){return arguments.length?(t=typeof D=="function"?D:bu([[+D[0][0],+D[0][1]],[+D[1][0],+D[1][1]]]),v):t},v.scaleExtent=function(D){return arguments.length?(n[0]=+D[0],n[1]=+D[1],v):[n[0],n[1]]},v.translateExtent=function(D){return arguments.length?(a[0][0]=+D[0][0],a[1][0]=+D[1][0],a[0][1]=+D[0][1],a[1][1]=+D[1][1],v):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},v.constrain=function(D){return arguments.length?(r=D,v):r},v.duration=function(D){return arguments.length?(o=+D,v):o},v.interpolate=function(D){return arguments.length?(s=D,v):s},v.on=function(){var D=l.on.apply(l,arguments);return D===l?v:D},v.clickDistance=function(D){return arguments.length?(b=(D=+D)*D,v):Math.sqrt(b)},v.tapDistance=function(D){return arguments.length?(w=+D,v):w},v}var Vr="var(--color-borders-icons)",za="var(--color-borders-stroke)",we="var(--color-text-contrast)",wu="var(--color-background-main)",Tn="var(--color-borders-icons)",ne="var(--color-logo)";var Ep={type:"time",position:"bottom",ticks:5,fontSize:12,fontFamily:"Tahoma",fontColor:we,name:"x",primary:!0,color:Vr,drawAxisLabel:!0,drawAxisLabelLine:!0,drawAxis:!0},Kp={type:"number",position:"left",ticks:5,fontSize:12,fontFamily:"Tahoma",fontColor:we,name:"y",primary:!1,color:Vr,drawAxisLabel:!0,drawAxisLabelLine:!0,drawAxis:!0},PT=()=>JSON.parse(JSON.stringify(Ep)),RT=()=>JSON.parse(JSON.stringify(Kp));var Tr={showValues:!1,valuesColor:we,valuesFontSizePx:12,valuesFontFamily:"Tahoma",captions:[""],engUnits:[""],animation:!0,durationAnimation:2e3,durationToggleAnimation:500,reRangeThenLegendClick:!0,reRangeThenDataChange:!0,workgroundPadding:{top:5,right:0,left:0,bottom:0},useDefaultCheck:!0,withMinMaxCoef:!1},yR={workgroundPadding:{top:5,right:0,left:0,bottom:0}},vR={workgroundPadding:{top:0,right:5,left:0,bottom:0}},_R={workgroundPadding:{top:5,right:10,left:10,bottom:0}},xR={workgroundPadding:{top:5,right:5,left:2,bottom:5}},Dp={color:ne,barBorderColor:ne,barType:"solidColor",barOpacity:1,barRadius:0,barBorder:!1,fixedBarWidth:!1,showEnumValues:!1,valuePosition:"center",animationType:"growth",tooltipHoverEffect:!1,tooltipHoverColor:ne,enablePreviousData:!0,startInNull:!0,barWidthPercent:80},Ip={barType:"solidColor",barOpacity:1,barsOpacity:[],barRadius:0,barBorder:!1,fixedBarWidth:!1,showEnumValues:!1,valuePosition:"center",animationType:"growth",tooltipHoverEffect:!1,tooltipHoverColor:ne,enablePreviousData:!0,startInNull:!0,barWidthPercent:80,stackWidthPercent:80},Sp={barType:"solidColor",barOpacity:1,barsOpacity:[],barRadius:0,barBorder:!1,fixedBarWidth:!1,showEnumValues:!1,showStackValues:!1,valuePosition:"center",animationType:"growth",tooltipHoverEffect:!1,tooltipHoverColor:ne,enablePreviousData:!0,startInNull:!0,barWidthPercent:80,stackType:"stackBar"},yu=()=>(Tr.workgroundPadding=yR.workgroundPadding,JSON.parse(JSON.stringify(Tr))),OT=()=>(Tr.workgroundPadding=vR.workgroundPadding,JSON.parse(JSON.stringify(Tr))),mA=()=>(Tr.workgroundPadding=_R.workgroundPadding,JSON.parse(JSON.stringify(Tr))),NT=()=>(Tr.workgroundPadding=xR.workgroundPadding,JSON.parse(JSON.stringify(Tr))),ni=()=>JSON.parse(JSON.stringify(Dp)),cs=()=>JSON.parse(JSON.stringify(Ip)),fs=()=>JSON.parse(JSON.stringify(Sp));var kp={toolbar:!0,toolbarPosition:"top",toolbarJustifyContent:"flex-end"},Lp={tooltip:!0,tooltipComponentType:"default",tooltipType:"fullLine",tooltipMarkerType:"line",tooltipMarkerCrossSize:10,tooltipColor:Tn,tooltipWidth:1,chartOrientation:"vertical",tooltipShowMilliseconds:!1,tooltipDateValuePipeFormat:"dd.MM.yyyy HH:mm",tooltipTitleDateValuePipeFormat:"dd.MM.yyyy HH:mm:ss",tooltipNumberValuePipeFormat:"1.0-0",tooltipTitleNumberValuePipeFormat:"1.0-0"},Hp={marginLeft:12,marginRight:12,marginBottom:12,marginTop:12,bgColor:wu,borderColor:Vr,borderRadius:4,smartScrollEnable:!1,smartScrollHeight:42,smartScrollColor:ne,language:"ru",formatFunc:null,setDefIfContainerSizeInvalid:!1,customResize:null,isFixedSize:!1},Mp={legend:!0,legendPosition:"bottom",legendLayer:!1,legendAxis:!1,legendTrend:!0,legendHoverEffect:!0,legendType:"simple-style"},Pp=()=>JSON.parse(JSON.stringify(kp)),Rp=()=>JSON.parse(JSON.stringify(Lp)),Op=()=>JSON.parse(JSON.stringify(Hp)),Np=()=>JSON.parse(JSON.stringify(Mp));var Vp={axis:"x",color:za,drawGrid:!0},Wp={axis:"y",color:za,drawGrid:!0},VT=()=>JSON.parse(JSON.stringify(Vp)),WT=()=>JSON.parse(JSON.stringify(Wp));var Gp={tooltipEnable:!0,tooltipColor:Tn,zoomPrimaryEnable:!0,zoomSecondaryEnable:!1,layerTitle:""},zp=()=>JSON.parse(JSON.stringify(Gp));var Xp={showValues:!1,valuesFontSizePx:12,valuesFontFamily:"Tahoma",captions:[""],engUnits:[""],animation:!0,durationAnimation:2e3,durationToggleAnimation:500,reRangeThenLegendClick:!0,reRangeThenDataChange:!0,workgroundPadding:{top:5,right:10,left:10,bottom:5},useDefaultCheck:!0,withMinMaxCoef:!1},Yp={color:ne,interpolateEnable:!1,extendStep:10,lineType:"line",lineDynamics:"curveLinear",lineOpacity:1,lineWidth:2,dataPointType:"partial",dataPointMarker:"dataPoint",breakPointType:"auto",breakPoint:!0,breakPointSize:4,breakPointStrokeSize:0,breakPointLimit:50,breakPointMarker:"symbolX",endPoint:!0,endPointSize:2,endPointStrokeSize:7},$p=()=>JSON.parse(JSON.stringify(Xp)),Jp=()=>JSON.parse(JSON.stringify(Yp));var GT=["var(--color-logo)","var(--color-index-green)","var(--color-index-red)","var(--color-index-yellow)","var(--color-index-gray)","var(--color-index-blue)","var(--color-additional-1)","var(--color-additional-2)","var(--color-additional-3)","var(--color-additional-4)","var(--color-additional-5)","var(--color-additional-6)","var(--color-additional-7)","var(--color-additional-8)","var(--color-additional-9)","var(--color-additional-10)","var(--color-additional-11)","var(--color-additional-12)","var(--color-additional-13)","var(--color-additional-14)","var(--color-additional-15)","var(--color-additional-16)","var(--color-additional-17)","var(--color-additional-18)","var(--color-additional-19)","var(--color-additional-20)","var(--color-additional-21)"],zT=["var(--color-borders-light)","var(--color-color-12)","var(--color-color-13)","var(--color-color-14)","var(--color-color-15)","var(--color-color-16)","var(--color-color-17)","var(--color-color-18)","var(--color-color-19)"],XT=["var(--color-borders-light)","var(--color-color-8)","var(--color-color-9)","var(--color-color-10)","var(--color-color-11)","var(--color-color-12)","var(--color-color-13)","var(--color-color-14)","var(--color-color-15)"];var YT={dateTime:"%a, %e %b %Y \u0433. %H:%M:%S",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["\u0432\u0441","\u043F\u043D","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043F\u0442","\u0441\u0431"],shortDays:["\u0432\u0441","\u043F\u043D","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043F\u0442","\u0441\u0431"],months:["\u044F\u043D\u0432","\u0444\u0435\u0432","\u043C\u0430\u0440","\u0430\u043F\u0440","\u043C\u0430\u0439","\u0438\u044E\u043D","\u0438\u044E\u043B","\u0430\u0432\u0433","\u0441\u0435\u043D","\u043E\u043A\u0442","\u043D\u043E\u044F","\u0434\u0435\u043A"],shortMonths:["\u044F\u043D\u0432","\u0444\u0435\u0432","\u043C\u0430\u0440","\u0430\u043F\u0440","\u043C\u0430\u0439","\u0438\u044E\u043D","\u0438\u044E\u043B","\u0430\u0432\u0433","\u0441\u0435\u043D","\u043E\u043A\u0442","\u043D\u043E\u044F","\u0434\u0435\u043A"]},QR={dateTime:"%a %b %e %H:%M:%S %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},FR={dateTime:"%a %b %e %H:%M:%S %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["\u06CC\u06A9\u0634\u0646\u0628\u0647","\u062F\u0648\u0634\u0646\u0628\u0647","\u0633\u0647\u0634\u0646\u0628\u0647","\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647","\u067E\u0646\u062C\u0634\u0646\u0628\u0647","\u062C\u0645\u0639\u0647","\u0634\u0646\u0628\u0647"],shortDays:["\u06CC\u06A9\u0634\u0646\u0628\u0647","\u062F\u0648\u0634\u0646\u0628\u0647","\u0633\u0647\u0634\u0646\u0628\u0647","\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647","\u067E\u0646\u062C\u0634\u0646\u0628\u0647","\u062C\u0645\u0639\u0647","\u0634\u0646\u0628\u0647"],months:["\u0698\u0627\u0646\u0648\u06CC\u0647","\u0641\u0648\u0631\u06CC\u0647","\u0645\u0627\u0631\u0633","\u0622\u0648\u0631\u06CC\u0644","\u0645\u0647","\u0698\u0648\u0626\u0646","\u0698\u0648\u0626\u06CC\u0647","\u0627\u0648\u062A","\u0633\u067E\u062A\u0627\u0645\u0628\u0631","\u0627\u06A9\u062A\u0628\u0631","\u0646\u0648\u0627\u0645\u0628\u0631","\u062F\u0633\u0627\u0645\u0628\u0631"],shortMonths:["\u0698\u0627\u0646\u0648\u06CC\u0647","\u0641\u0648\u0631\u06CC\u0647","\u0645\u0627\u0631\u0633","\u0622\u0648\u0631\u06CC\u0644","\u0645\u0647","\u0698\u0648\u0626\u0646","\u0698\u0648\u0626\u06CC\u0647","\u0627\u0648\u062A","\u0633\u067E\u062A\u0627\u0645\u0628\u0631","\u0627\u06A9\u062A\u0628\u0631","\u0646\u0648\u0627\u0645\u0628\u0631","\u062F\u0633\u0627\u0645\u0628\u0631"]};function jB(e,t){let r=YT;switch(t){case"ru":r=YT;break;case"en":r=QR;break;case"fa":r=FR;break}let A=Na(qb(Zb({},r),{periods:["",""]})),i=A.format("%M:%S.%L"),n=A.format("%M:%S"),a=A.format("%H:%M"),o=A.format("%H:%M"),s=A.format("%d %b"),l=A.format("%d %b"),c=A.format("%d %b"),m=A.format("%d %b %Y");return(Fr(e)<e?i:Si(e)<e?n:ki(e)<e?a:lA(e)<e?o:Mi(e)<e?uA(e)<e?s:l:Cr(e)<e?c:m)(e)}var UR=[["dataPoint",{pointMarkers:["symbolCircle"],pointVisible:!0,pointColor:"wrapBg",pointStrokeColor:"auto",pointSize:5,pointStrokeSize:2,pointLimit:500}],["dataFillPoint",{pointMarkers:["symbolCircle"],pointVisible:!0,pointColor:"auto",pointStrokeColor:"auto",pointSize:5,pointStrokeSize:2,pointLimit:500}],["dataPointReWrite",{pointMarkers:["symbolCircle","symbolArrow"],pointVisible:!0,pointColor:"wrapBg",pointStrokeColor:"auto",pointSize:5,pointStrokeSize:1,pointLimit:500}],["dataFillPointReWrite",{pointMarkers:["symbolCircle","symbolArrow"],pointVisible:!0,pointColor:"auto",pointStrokeColor:"auto",pointSize:5,pointStrokeSize:1,pointLimit:500}],["breakPoint",{pointMarkers:["symbolX"],pointVisible:!0,pointColor:"auto",pointStrokeColor:"auto",pointSize:4,pointStrokeSize:0,pointLimit:50}],["breakPointTransparentBg",{pointMarkers:["symbolXTransparentBg"],pointVisible:!0,pointColor:"auto",pointStrokeColor:"auto",pointSize:4,pointStrokeSize:2,pointLimit:50}],["reWritePoint",{pointMarkers:["symbolArrow"],pointVisible:!0,pointColor:"auto",pointStrokeColor:"auto",pointSize:8,pointStrokeSize:1,pointLimit:500}]],$T=()=>JSON.parse(JSON.stringify(UR));var ae=new Le("krui-chart-wrap-token"),hs=new Le("krui-chart-tooltip-provider-token"),ye=new Le("krui-chart-layer-token"),jp=new Le("krui-chart-axis-token"),Zp=new Le("krui-chart-grid-token"),qp=new Le("krui-chart-data-layer-token"),JT=new Le("krui-chart-smart-scroll-token"),td=new Le("krui-chart-toolbar-token"),Re=new Le("krui-chart-palette-provider-token"),jT=new Le("krui-chart-legend-provider-token"),ed=new Le("kruiChartPallete"),rd=new Le("kruiChartAxisPallete"),Ad=new Le("kruiChartGridPallete"),Wr=new Le("krui-chart-stacked-service-token"),id=new Le("krui-chart-popup-service-token"),ZT=new Le("krui-chart-form-create-service-token"),ps=new Le("krui-chart-color-parse-service-token");var nd=class e{title;color;symbol;disabled=!1;eventLabelClick=new pc;isToggled=!1;labelClick(){this.isToggled=!this.isToggled,this.eventLabelClick.emit(this.isToggled)}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=qi({type:e,selectors:[["krui-chart-legend"]],inputs:{title:"title",color:"color",symbol:"symbol",disabled:"disabled"},outputs:{eventLabelClick:"eventLabelClick"},standalone:!1,decls:5,vars:8,consts:[[1,"krui-chart-legend-label",3,"click"]],template:function(r,A){r&1&&(Jt(0,"label",0),hr("click",function(){return A.labelClick()}),Jt(1,"span"),dc(2),Qe(3),mc(),qt(),Qe(4),qt()),r&2&&(ao("krui-chart-legend-label--disabled",A.disabled)("krui-chart-legend-label--inactive",A.isToggled),jt(),CA("color",A.color),jt(2),rA(" ",A.symbol," "),jt(),rA(" ",A.title,`
`))},styles:["[_nghost-%COMP%]{display:inline-block}"],changeDetection:0})};var DR=["toolbarContainer"],IR=["legendContainer"],SR=["simpleLegendContainer"],kR=["customLegendContainer"],LR=["resizeContainer"],HR=[[["krui-chart-legend-directive"]]],MR=["krui-chart-legend-directive"],tE=(e,t)=>t.layerId,eE=(e,t)=>t.layer.id,PR=(e,t)=>t.title+t.color,RR=(e,t)=>t.title;function OR(e,t){if(e&1){let r=Vn();Jt(0,"div",8,1)(2,"svg-icon",9),hr("click",function(){ar(r);let i=gt();return or(i.toolbarDirective.toolbarZoomIn())}),qt(),Jt(3,"div",10),Qe(4),Wn(5,"async"),qt(),Jt(6,"svg-icon",11),hr("click",function(){ar(r);let i=gt();return or(i.toolbarDirective.toolbarZoomOut())}),qt(),Jt(7,"svg-icon",12),hr("click",function(){ar(r);let i=gt();return or(i.toolbarDirective.toggleZoomType("scroll"))}),qt(),Jt(8,"svg-icon",13),hr("click",function(){ar(r);let i=gt();return or(i.toolbarDirective.toggleZoomType("brush"))}),qt(),Jt(9,"svg-icon",14),hr("click",function(){ar(r);let i=gt();return or(i.toolbarDirective.toolbarRefresh())}),qt(),Jt(10,"svg-icon",15),hr("click",function(){ar(r);let i=gt();return or(i.toolbarDirective.print())}),qt(),Jt(11,"svg-icon",16),hr("click",function(){ar(r);let i=gt();return or(i.toolbarDirective.savePng())}),qt()()}if(e&2){let r=gt();CA("order",r.orders.toolbar)("justify-content",r.toolbarDirective==null?null:r.toolbarDirective.toolbarJustifyContent),jt(4),rA(" x",mw(5,9,r.zoomK$)," "),jt(3),ao("krui-chart-toolbar__icon--selected",r.zoomType==="scroll"),jt(),ao("krui-chart-toolbar__icon--selected",r.zoomType==="brush")}}function NR(e,t){if(e&1){let r=Vn();Jt(0,"krui-chart-legend",20),hr("eventLabelClick",function(i){ar(r);let n=gt().$implicit;return gt(2).onInactivityChange("layer",n.layerId,"",i),or(n.inactive=!n.inactive)}),qt()}if(e&2){let r=gt().$implicit;CA("display","flex"),fi("color","var(--color-text-main-and-axis-labels)")("symbol","\x89")("title",r.layerTitle)}}function VR(e,t){if(e&1){let r=Vn();Jt(0,"krui-chart-legend",22),hr("eventLabelClick",function(i){let n=ar(r).$implicit,a=gt(2).$implicit,o=gt(2);return or(o.onInactivityChange("axis",a.layerId,n.name,i))}),qt()}if(e&2){let r=t.$implicit,A=gt(2).$implicit;fi("color",r.fontColor)("disabled",A.inactive)("symbol",r.position==="left"||r.position==="right"?"\u2191":"\u2192")("title",r.name)}}function WR(e,t){if(e&1){let r=Vn();Jt(0,"krui-chart-legend",22),hr("eventLabelClick",function(i){let n=ar(r).$implicit,a=gt(2).$implicit,o=gt(2);return or(o.onInactivityChange("grid",a.layerId,n.axis,i))}),qt()}if(e&2){let r=t.$implicit,A=gt(2).$implicit;fi("color",r.color)("disabled",A.inactive)("symbol","#")("title",r.axis)}}function GR(e,t){if(e&1&&Sr(0,VR,1,4,"krui-chart-legend",21)(1,WR,1,4,"krui-chart-legend",21),e&2){let r=gt().$implicit;fi("ngForOf",r.axis),jt(),fi("ngForOf",r.grid)}}function zR(e,t){if(e&1){let r=Vn();Jt(0,"krui-chart-legend",24),hr("mouseenter",function(){let i=ar(r).$index,n=gt().$implicit,a=gt(4);return or(a.onTrendMouseEnter(n.layer,i,!0))})("mouseleave",function(){let i=ar(r).$index,n=gt().$implicit,a=gt(4);return or(a.onTrendMouseLeave(n.layer,i,!1))})("eventLabelClick",function(i){let n=ar(r),a=n.$implicit,o=n.$index,s=gt().$implicit,l=gt(2),c=l.$implicit,m=l.$index,h=gt(2);return or(h.onTrendInactivityChange(a.type,s.layer,c.layerId,m,o,i))}),qt()}if(e&2){let r=t.$implicit,A=gt(3).$implicit;fi("color",r.color)("disabled",A.inactive||r.disabled)("symbol",r.type==="single"?"\u25AC":"\u25FC")("title",r.title)}}function XR(e,t){if(e&1&&hi(0,zR,1,4,"krui-chart-legend",23,PR),e&2){let r=t.$implicit;pi(r.data)}}function YR(e,t){if(e&1&&hi(0,XR,2,0,null,null,eE),e&2){let r=gt().$implicit;pi(r.dataLayer)}}function $R(e,t){if(e&1&&(Jt(0,"div",18),Sr(1,NR,1,5,"krui-chart-legend",19)(2,GR,2,2)(3,YR,2,0),qt()),e&2){let r=gt(2);jt(),fr(r.legendLayer?1:-1),jt(),fr(r.legendAxis?2:-1),jt(),fr(r.legendTrend?3:-1)}}function JR(e,t){if(e&1&&(Jt(0,"div",17,2),hi(2,$R,4,3,"div",18,tE),qt()),e&2){let r=gt();CA("order",r.orders.legend),jt(2),pi(r.legendGroups)}}function jR(e,t){if(e&1){let r=Vn();Jt(0,"div",27),hr("mouseenter",function(){let i=ar(r).$index,n=gt().$implicit,a=gt(3);return or(a.onTrendMouseEnter(n.layer,i,!0))})("mouseleave",function(){let i=ar(r).$index,n=gt().$implicit,a=gt(3);return or(a.onTrendMouseLeave(n.layer,i,!1))})("click",function(){let i=ar(r),n=i.$implicit,a=i.$index,o=gt().$implicit,s=gt(),l=s.$implicit,c=s.$index,m=gt(2);return or(m.onTrendInactivityChange(n.type,o.layer,l.layerId,c,a,n.inactive=!n.inactive))}),Ls(1,"div",28),Jt(2,"div",29),Qe(3),qt()()}if(e&2){let r=t.$implicit,A=gt(2).$implicit;ao("krui-chart-simple-legend__item--inactive",r.inactive)("krui-chart-simple-legend__item--disabled",A.inactive||r.disabled),jt(),CA("background-color",r.color),jt(2),Hs(r.title)}}function ZR(e,t){if(e&1&&hi(0,jR,4,7,"div",26,RR),e&2){let r=t.$implicit;pi(r.data)}}function qR(e,t){if(e&1&&hi(0,ZR,2,0,null,null,eE),e&2){let r=t.$implicit;pi(r.dataLayer)}}function tO(e,t){if(e&1&&(Jt(0,"div",25,3),hi(2,qR,2,0,null,null,tE),qt()),e&2){let r=gt();CA("order",r.orders.legend),jt(2),pi(r.legendGroups)}}function eO(e,t){e&1&&pw(0,0,["#customLegendContainer",""])}var qT=class e{constructor(t,r,A,i,n,a,o,s){this.CHART_PALETTE=t;this.CHART_AXIS_PALETTE=r;this.CHART_GRID_PALETTE=A;this.wrap=i;this.toolbarDirective=n;this.tooltipDirective=a;this.elementRef=o;this.cdr=s}legend=!0;legendPosition="bottom";legendLayer=!1;legendAxis=!1;legendTrend=!0;legendHoverEffect=!0;legendType="default";legendGroupsEmitter=new pc;legendGroups=[];resizeObserveType="hostListener";zoomType="scroll";useDefaultCheck=!0;toolbarContainer=null;legendGroupDiv=null;simpleLegendGroupDiv=null;customLegendGroupDiv=null;resizer;nextColorId=-1;orders={toolbar:0,legend:1,chart:2,resizeContainer:10};zoomK$=new ks("1");layersList;smartScroll;stateLegendMap=new Map;_zoom=null;_zoomEvent;_brush;unsubscribe$=new Nn;_resize$=new ks(null);_resizeObserver=null;OnResize(){this.resizeObserveType!=="resizeObserver"&&this._resize$.next({width:this.resizer.nativeElement.offsetWidth,height:this.resizer.nativeElement.offsetHeight})}ngOnInit(){this.toolbarDirective.zoomType=this.zoomType,this.toolbarDirective.zoomTypeDefault=this.zoomType,this.toolbarDirective.toolbarPosition==="bottom"&&(this.orders.toolbar=4),this.legendPosition==="bottom"&&(this.orders.legend=3),this.useDefaultCheck&&Object.entries(Np())?.forEach(([t,r])=>{(this[t]===null||this[t]===void 0)&&(this[t]=r)}),this.wrap.reSize$.pipe(fc(t=>!!t),Ji(this.unsubscribe$)).subscribe(t=>{this.tooltipDirective.onGraphMouseLeave(),this._zoom.translateExtent([[-this.wrap.marginLeft,-this.wrap.marginTop],[this.wrap.width+8,this.wrap.height+this.wrap.marginBottom]]),this.layersList.forEach(r=>r.reDraw(this._zoomEvent,!0,!1)),this.wrap.smartScrollEnable&&(this.smartScroll.reDraw(),this.smartScroll.moveScroll=this._zoomEvent)}),this.toolbarDirective.zoom$.pipe(Ji(this.unsubscribe$)).subscribe(t=>{if(!t)return;this.zoomK$.next((t??1).toFixed(1));let r=this._zoomEvent?[this._zoomEvent.transform.x/this._zoomEvent.transform.k,this._zoomEvent.transform.y/this._zoomEvent.transform.k]:[-this.wrap.workGroundWidth/2,-this.wrap.workGroundHeight/2];this.wrap.svg.call(this._zoom.transform,Ur.scale(t).translate(r[0],r[1]))}),this.toolbarDirective.zoomType$.pipe(Ji(this.unsubscribe$)).subscribe(t=>{this.wrap.svg.call(this._zoom.transform,Ur.scale(1).translate(0,0)),this.zoomType=t,this.wrap.createCanvas(),this.drawStart()}),this.cdr.markForCheck()}ngAfterViewInit(){this.initStart(),this.initResizeObserve()}ngOnDestroy(){this._resizeObserver?.unobserve(this.elementRef.nativeElement),this.tooltipDirective.onGraphMouseLeave(),this.unsubscribe$.next(),this.unsubscribe$.complete()}nextColor(){return this.CHART_PALETTE[this.nextColorId=(this.nextColorId+1)%this.CHART_PALETTE.length]}onTrendInactivityChange(t,r,A,i,n,a){if(r.toggleState(n,a),this.legendGroups?.length>1){let o=this.legendGroups[i].dataLayer,s=this.stateLegendMap.get(A);s?.set(r.id,a);let l=[];if(s)for(let c of s.values())c&&l.push(1);Dt(`#${A}`).attr("display",`${l.length===o?.length?"none":"inline"}`)}this.cdr.markForCheck()}onInactivityChange(t,r,A,i){t==="layer"?Dt(`#${r}`).attr("display",`${i?"none":null}`):Dt(`#${r}--${t}-${A}`).attr("display",`${i?"none":null}`),this.cdr.markForCheck()}onTrendMouseEnter(t,r,A){this.legendHoverEffect&&(t.toggleOpacity(r,A),this.layersList.forEach(i=>i.renderOpacity(A)))}onTrendMouseLeave(t,r,A){t.toggleOpacity(r,A),this.layersList.forEach(i=>i.renderOpacity(A))}initStart(){this.legendGroups=[],this.wrap.refreshMarginAxis(),this.layersList.forEach(r=>{this.stateLegendMap.set(r.layerId,new Map),this.legendGroups.push(r.getLegendLabels()),this.wrap.axisLevelMap.set(r.layerId,new Map),r.getAxis().forEach(A=>{if(A.drawAxis)switch(A.position){case"left":this.wrap.axisLevelMap.get(r.layerId)?.set("left",this.wrap.axisCounter.left),this.wrap.axisCounter.left+=1;break;case"right":this.wrap.axisLevelMap.get(r.layerId)?.set("right",this.wrap.axisCounter.right),this.wrap.axisCounter.right+=1;break;case"bottom":this.wrap.axisLevelMap.get(r.layerId)?.set("bottom",this.wrap.axisCounter.bottom),this.wrap.axisCounter.bottom+=1;break;case"top":this.wrap.axisLevelMap.get(r.layerId)?.set("top",this.wrap.axisCounter.top),this.wrap.axisCounter.top+=1;break}})});let t=0;if(this.legend)switch(this.legendType){case"default":t=this.legendGroupDiv?.offsetHeight?this.legendGroupDiv?.offsetHeight:18;break;case"simple-style":t=this.simpleLegendGroupDiv?.offsetHeight?this.simpleLegendGroupDiv?.offsetHeight:18;break;case"custom":t=this.customLegendGroupDiv?.offsetHeight?this.customLegendGroupDiv?.offsetHeight:18;break;default:break}this.toolbarDirective.toolbar&&(this.wrap.toolbarHeight=this.toolbarContainer?.offsetHeight??18),this.wrap.legendHeight=t,this.wrap.createCanvas(),this.legendGroups.forEach((r,A)=>{r.axis.forEach(i=>i.color?null:i.color=this.CHART_AXIS_PALETTE[A]??Vr),r.grid.forEach(i=>i.color?null:i.color=this.CHART_GRID_PALETTE[A]??za)}),this.legendGroupsEmitter.emit(this.legendGroups),this.drawStart(),this.cdr.markForCheck()}drawStart(){this.layersList.forEach(t=>t.draw()),this.tooltipDirective.tooltip&&this.wrap._g.on("mousemove",t=>this.tooltipDirective.onGraphMouseMove(t)).on("mouseenter",()=>this.tooltipDirective.onGraphMouseEnter()).on("mouseleave",()=>this.tooltipDirective.onGraphMouseLeave()),this.tooltipDirective.drawTooltipMarker(),this.setZoom(),setTimeout(()=>this.cdr.markForCheck())}setZoom(){if(this.wrap.svg.select(".brush-container")?.remove(),this._brush=null,this._zoom=null,this._zoom=Tp().scaleExtent([.5,32]).translateExtent([[-this.wrap.marginLeft,-this.wrap.marginTop],[this.wrap.width+this.wrap.marginRight,this.wrap.height+this.wrap.marginBottom]]).on("start",()=>this.tooltipDirective.onGraphMouseLeave()).on("zoom",t=>{t.sourceEvent==="mousemove"&&this.zoomType==="brush"||(this._zoomEvent=t,this.layersList.forEach(r=>r.zoom(t)))}).on("end",t=>{let r=this._zoomEvent?.transform?.k??1;this.toolbarDirective.zoomK=r,this.zoomK$.next(r.toFixed(1)),this.tooltipDirective.onGraphMouseEnter(),this.wrap.smartScrollEnable&&(this.smartScroll.moveScroll=t)}),this.zoomType==="brush"){let t=!1,r=[[this.wrap.offsetMarginLeft,this.wrap.marginTop],[this.wrap.svgWidth,this.wrap.offsetHeight]];this._brush=bf().extent(r).on("start",()=>this.tooltipDirective.onGraphMouseLeave()).on("end",A=>{if(this.tooltipDirective.onGraphMouseEnter(),t)return;t=!0;let i=A?.selection?A.selection:r,n=this.wrap.workGroundWidth/(i[1][0]-i[0][0]);this.wrap.svg.transition().duration(750).call(this._zoom.transform,Ur.scale(n).translate(-i[0][0],-i[0][1])),this.toolbarDirective.zoomK=n,this.zoomK$.next(n.toFixed(1)),this.wrap.svg.select(".brush-container").call(this._brush.move,null),setTimeout(()=>t=!1,500)}),this.wrap.svg.append("g").attr("class","brush-container").call(this._brush)}this.zoomType==="scroll"&&this.wrap.svg.call(this._zoom).transition().duration(750),this.wrap.svg.call(this._zoom.transform,Ur.scale(1).translate(0,0)),this.wrap.smartScrollEnable&&(this.smartScroll.draw(),this.smartScroll.scrollEmitter.pipe(Ji(this.unsubscribe$)).subscribe(t=>{this.wrap.svg.transition().duration(750).call(this._zoom.transform,Ur.scale(this.wrap.workGroundWidth/(t[1]-t[0])).translate(-t[0],0))}))}initResizeObserve(){this.resizeObserveType==="resizeObserver"&&(this._resizeObserver=new ResizeObserver(t=>{t?.[0]?.contentRect&&this._resize$.next({width:t?.[0]?.contentRect.width,height:t?.[0]?.contentRect.height})}),this._resizeObserver.observe(this.resizer.nativeElement)),this._resize$.pipe(aw(300),Ji(this.unsubscribe$)).subscribe(t=>{!t?.height||!t.width||this.wrap.onResize(t)})}static \u0275fac=function(r){return new(r||e)(at(ed),at(rd),at(Ad),at(ae,1),at(td,1),at(hs,1),at(Zi),at(gw))};static \u0275cmp=qi({type:e,selectors:[["krui-chart"]],contentQueries:function(r,A,i){if(r&1&&(di(i,JT,5),di(i,ye,4)),r&2){let n;kr(n=Lr())&&(A.smartScroll=n.first),kr(n=Lr())&&(A.layersList=n)}},viewQuery:function(r,A){if(r&1&&(oo(DR,5),oo(IR,5),oo(SR,5),oo(kR,5),oo(LR,7)),r&2){let i;kr(i=Lr())&&(A.toolbarContainer=i.first),kr(i=Lr())&&(A.legendGroupDiv=i.first),kr(i=Lr())&&(A.simpleLegendGroupDiv=i.first),kr(i=Lr())&&(A.customLegendGroupDiv=i.first),kr(i=Lr())&&(A.resizer=i.first)}},hostBindings:function(r,A){r&1&&hr("resize",function(n){return A.OnResize(n)},!1,lw)},inputs:{legend:"legend",legendPosition:"legendPosition",legendLayer:"legendLayer",legendAxis:"legendAxis",legendTrend:"legendTrend",legendHoverEffect:"legendHoverEffect",legendType:"legendType",resizeObserveType:"resizeObserveType",zoomType:"zoomType",useDefaultCheck:"useDefaultCheck"},outputs:{legendGroupsEmitter:"legendGroupsEmitter"},standalone:!1,features:[Ot([{provide:Re,useExisting:e},{provide:jT,useExisting:e}])],ngContentSelectors:MR,decls:6,vars:4,consts:[["resizeContainer",""],["toolbarContainer",""],["legendContainer",""],["simpleLegendContainer",""],[1,"krui-chart-toolbar",3,"order","justify-content"],[1,"krui-chart-legend",3,"order"],[1,"krui-chart-simple-legend",3,"order"],[1,"resize-container"],[1,"krui-chart-toolbar"],["src","kruiIconPlusAddCircle",1,"krui-chart-toolbar__icon",3,"click"],[1,"krui-chart-toolbar__zoom-timer"],["src","kruiIconPlusMinusCircle",1,"krui-chart-toolbar__icon",3,"click"],["src","kruiIconSearchPlus",1,"krui-chart-toolbar__icon",3,"click"],["src","kruiIconSelectAreaAimTarget",1,"krui-chart-toolbar__icon",3,"click"],["src","kruiIconReturnCircle",1,"krui-chart-toolbar__icon",3,"click"],["src","kruiIconPrint",1,"krui-chart-toolbar__icon",3,"click"],["src","kruiIconPictureX3",1,"krui-chart-toolbar__icon",3,"click"],[1,"krui-chart-legend"],[1,"legend-group"],[3,"color","display","symbol","title"],[3,"eventLabelClick","color","symbol","title"],[3,"color","disabled","symbol","title","eventLabelClick",4,"ngFor","ngForOf"],[3,"eventLabelClick","color","disabled","symbol","title"],[3,"color","disabled","symbol","title"],[3,"mouseenter","mouseleave","eventLabelClick","color","disabled","symbol","title"],[1,"krui-chart-simple-legend"],[1,"krui-chart-simple-legend__item",3,"krui-chart-simple-legend__item--inactive","krui-chart-simple-legend__item--disabled"],[1,"krui-chart-simple-legend__item",3,"mouseenter","mouseleave","click"],[1,"krui-chart-simple-legend__icon"],[1,"krui-chart-simple-legend__title"]],template:function(r,A){r&1&&(hw(HR),Sr(0,OR,12,11,"div",4)(1,JR,4,2,"div",5)(2,tO,4,2,"div",6)(3,eO,1,0),Ls(4,"div",7,0)),r&2&&(fr(A.toolbarDirective.toolbar?0:-1),jt(),fr(A.legend&&A.legendType==="default"?1:A.legend&&A.legendType==="simple-style"?2:3),jt(3),CA("order",A.orders.resizeContainer))},dependencies:[gc,Qw,nd,Cw],styles:["[_nghost-%COMP%]{position:relative;display:flex;flex-direction:column;width:100%;height:100%;justify-content:flex-end}.legend-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}  .krui-chart-print-background{background:var(--color-background-popup-widgets);width:100%!important;height:100%!important}.resize-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:-10}@media print{.krui-chart-toolbar[_ngcontent-%COMP%]{display:none}}"],changeDetection:0})};var ad=class{};var Oe=class{},Ne=class{},Ve=class{},Ue=class{},Te=class{},We=class{},Ee=class{};var od=class{};var sd=class{static nextId},ld=class{},ud=class{},cd=class{},fd=class{};var hd=class{};var pd=class{};var rE=class e{type="number";position;min;max;ticks;fontSize=10;fontFamily="Tahoma";fontColor="";name;primary=!1;color="";drawAxisLabel=!0;drawAxisLabelLine=!0;drawAxis=!0;static \u0275fac=function(r){return new(r||e)};static \u0275dir=Kt({type:e,selectors:[["krui-chart-axis"]],inputs:{type:"type",position:"position",min:"min",max:"max",ticks:"ticks",fontSize:"fontSize",fontFamily:"fontFamily",fontColor:"fontColor",name:"name",primary:"primary",color:"color",drawAxisLabel:"drawAxisLabel",drawAxisLabelLine:"drawAxisLabelLine",drawAxis:"drawAxis"},exportAs:["kruiChartAxis"],standalone:!1,features:[Ot([{provide:ad,useExisting:e},{provide:jp,useExisting:e}])]})};var AE=class e{constructor(t,r,A){this.dataProvider=t;this.dataRenderer=r;this.dataTooltipProvider=A}static nextId=0;state=new Map;opacityState=new Map;id=`krui-chart-data-layer-${++e.nextId}`;getDomain(t){return this.dataProvider.getDomain(t)}getRange(){return this.dataProvider.getRange()}getWorkgroundPadding(t){return this.dataProvider.getWorkgroundPadding(t)}getLegendData(){return this.dataProvider.getLegendData()}getTooltipData(t,r,A){return this.dataTooltipProvider.getTooltipData(t,r,A)}getBandWidth(){return this.dataTooltipProvider.getBandWidth()}getTooltipTitleEnum(){return this.dataTooltipProvider.getTooltipTitleEnum()}getTooltipDataEnum(t){return this.dataTooltipProvider.getTooltipDataEnum(t)}toggleState(t,r,A){this.dataRenderer.toggleState(t,r,A)}toggleOpacity(t,r){this.dataRenderer.toggleOpacity(t,r)}renderOpacity(t){this.dataRenderer.renderOpacity(t)}render(t,r){this.dataRenderer.render(t,r,this.id)}reScale(t,r,A,i,n,a){this.dataRenderer.reScale(t,r,A,i,n,a)}static \u0275fac=function(r){return new(r||e)(at(Ue,2),at(Te,2),at(Ee,2))};static \u0275dir=Kt({type:e,selectors:[["krui-chart-data-layer"]],standalone:!1,features:[Ot([{provide:qp,useClass:e}])]})};var iE=class e{axis;color="";drawGrid=!0;static \u0275fac=function(r){return new(r||e)};static \u0275dir=Kt({type:e,selectors:[["krui-chart-grid"]],inputs:{axis:"axis",color:"color",drawGrid:"drawGrid"},exportAs:["kruiChartGrid"],standalone:!1,features:[Ot([{provide:od,useExisting:e},{provide:Zp,useExisting:e}])]})};var z=e=>e??0,tt=(e,t)=>t==="enum",nE=(e,t)=>{let r=Number.POSITIVE_INFINITY,A=Number.NEGATIVE_INFINITY;for(let i of t){let n=[];e.primary?n=i.getDomain(e.type):n=i.getRange(),r=Math.min(r,...n),A=Math.max(A,...n)}return[e.min??r,e.max??A]},aE=(e,t)=>{let r=new Set([]);for(let A of t)e.primary?A.getDomain(e.type)?.map(i=>r.add(i.toString())):A.getRange()?.map(i=>r.add(i.toString()));return Array.from(r)},oE=(e,t)=>{let r=Number.POSITIVE_INFINITY,A=Number.NEGATIVE_INFINITY;for(let i of t){let n=[];e.primary?n=i.getDomain(e.type).map(a=>+a):n=i.getRange().map(a=>+a),r=Math.min(r,...n),A=Math.max(A,...n)}return[e.min??new Date(r),e.max??new Date(A)]},qB=(e,t)=>{let r={top:0,bottom:0,left:0,right:0};for(let A of e){let i=A.getWorkgroundPadding(t);r.top=i.top>=r.top?i.top:r.top,r.right=i.right>=r.right?i.right:r.right,r.bottom=i.bottom>=r.bottom?i.bottom:r.bottom,r.left=i.left>=r.left?i.left:r.left}return r};var sE=class e{constructor(t,r){this.wrap=t;this.tooltipDirective=r;this.layerId=`${this.wrap.id}--layer-${++e.nextId}`}static nextId=0;layerTitle="";tooltipEnable=!0;tooltipColor=Tn;zoomPrimaryEnable=!0;zoomSecondaryEnable=!1;useDefaultCheck=!0;layerId;layerLabels=null;_scales=new Map;_axis=new Map;_layerSelection;_zoomEvent;axisList;gridList;dataLayerList;_isFirstZoom=!0;ngOnInit(){this.useDefaultCheck&&Object.entries(zp())?.forEach(([t,r])=>{(this[t]===null||this[t]===void 0)&&(this[t]=r)})}ngAfterViewInit(){this.createLegendLabels()}toggleAll(t){this.dataLayerList.forEach((r,A)=>r.toggleState(A,t))}renderOpacity(t){this.dataLayerList.forEach((r,A)=>r.renderOpacity(t))}getAxis(){return this.axisList}getLegendLabels(){return this.layerLabels?this.layerLabels:this.createLegendLabels()}createLegendLabels(){this.layerLabels={inactive:!1,layerId:this.layerId,layerTitle:this.layerTitle,dataLayer:[],axis:this.axisList,grid:this.gridList};for(let t of this.dataLayerList)this.layerLabels.dataLayer.push({layer:t,data:t.getLegendData()});return this.layerLabels}draw(){this.createScales(),this.createAxis(),this.drawLayer(),this.drawAxis(),this.drawGrid(),this.drawData()}createScales(){for(let t of this.axisList){let r;t.type==="number"?r=ts().nice().domain(nE(t,this.dataLayerList)):t.type==="enum"?r=Ea().domain(aE(t,this.dataLayerList)):r=pu().nice().domain(oE(t,this.dataLayerList));let A=qB(this.dataLayerList,t.type);t.position==="bottom"?r.range([A.left,this.wrap.workGroundWidth-A.right]):t.position==="top"?r.range([A.left,this.wrap.workGroundWidth-A.right]):t.position==="left"?r.range([this.wrap.workGroundHeight-A.bottom,A.top]):r.range([this.wrap.workGroundHeight-A.bottom,A.top]),this._scales.set(t.name,r)}}createAxis(){for(let t of this.axisList){let r=this._scales.get(t.name),A;t.position==="bottom"?A=tl(r):t.position==="top"?A=Zs(r):t.position==="left"?A=el(r):A=qs(r),this._axis.set(t.name,A.ticks(t.ticks))}}drawLayer(){this._layerSelection&&this._layerSelection.remove(),this._layerSelection=Dt(this.wrap.canvas).append("g").attr("id",`${this.layerId}`).attr("class","krui-chart-layer")}drawAxis(){for(let t of this.axisList?.filter(r=>r.drawAxisLabel)){if(!t.drawAxis)return;let r=this._axis.get(t.name),A=this._layerSelection.append("g").attr("id",`${this.layerId}--axis-${t.name}`).attr("class","krui-chart-axis").attr("color",t?.color?t.color:Vr),i=A.append("clipPath").attr("id",`${this.layerId}--clipPath-axis--${t.name}`).append("rect").attr("id",`${this.layerId}--clipPath-axis--${t.name}-rect`);if(t.position==="bottom"){let a=(this.wrap.axisLevelMap.get(this.layerId)?.get("bottom")??0)*20;A.attr("transform",`translate(0, ${this.wrap.workGroundHeight+a})`),i.attr("x",0).attr("y",0).attr("width",this.wrap.workGroundWidth).attr("height",20)}else if(t.position==="top"){let a=(this.wrap.axisLevelMap.get(this.layerId)?.get("top")??0)*20;A.attr("transform",`translate(0, -${a})`),i.attr("x",0).attr("y",-20).attr("width",this.wrap.workGroundWidth).attr("height",20)}else if(t.position==="left"){let a=(this.wrap.axisLevelMap.get(this.layerId)?.get("left")??0)*40;A.attr("transform",`translate(-${a}, 0)`),i.attr("x",-(a+40)).attr("y",-8).attr("width",40).attr("height",this.wrap.workGroundHeight+8*2)}else{let a=(this.wrap.axisLevelMap.get(this.layerId)?.get("right")??0)*40;A.attr("transform",`translate(${this.wrap.workGroundWidth+a}, 0)`),i.attr("x",0).attr("y",-8).attr("width",40).attr("height",this.wrap.workGroundHeight+8*2)}let n=null;t.type==="time"?n=A.call(r.tickFormat(a=>this.wrap.formatFunc?this.wrap?.formatFunc(a,this.wrap.language):jB(a,this.wrap.language))):n=A.call(r),n.selectAll("text").attr("width","50%").attr("color",t?.fontColor?t.fontColor:we).style("font-size",t.fontSize).style("font-family",t.fontFamily),n.select("path").attr("color",t?.color?t.color:Vr),A.attr("clip-path",()=>`url(#${this.layerId}--clipPath-axis--${t.name})`),t.drawAxisLabelLine||(n.selectAll("line").remove(),n.selectAll("path").remove())}}drawGrid(){for(let t of this.gridList?.filter(r=>r.drawGrid)){let r=this.axisList.find(o=>o.name===t.axis);if(!r)continue;let A=this._axis.get(t.axis),i=r.position==="left"||r.position==="right"?-this.wrap.workGroundWidth:-this.wrap.workGroundHeight,n=this._layerSelection.append("g").attr("id",`${this.layerId}--grid-${r.name}`).attr("class","krui-chart-grid").attr("color",t?.color?t.color:za),a=n.append("clipPath").attr("id",`${this.layerId}--clipPath-grid--${r.name}`).append("rect").attr("id",`${this.layerId}--clipPath-grid--${r.name}-rect`).attr("x",0).attr("y",0).attr("width",this.wrap.workGroundWidth).attr("height",this.wrap.workGroundHeight);r.position==="bottom"?(n.attr("transform",`translate(0, ${this.wrap.workGroundHeight})`),a.attr("y",-this.wrap.workGroundHeight)):r.position==="top"||r.position==="left"?n.attr("transform","translate(0, 0)"):(n.attr("transform",`translate(${this.wrap.workGroundWidth}, 0)`),a.attr("x",-this.wrap.workGroundWidth)),n.attr("clip-path",()=>`url(#${this.layerId}--clipPath-grid--${r.name})`),n.call(A.tickFormat(()=>"").tickSizeInner(i)).select("path").remove()}}drawData(){if(this.axisList.find(r=>r.primary))for(let r of this.dataLayerList){let A=this._layerSelection.append("g").attr("x",0).attr("y",0).attr("width",this.wrap.workGroundWidth).attr("height",this.wrap.workGroundHeight).attr("id",`${this.layerId}--${r.id}`).attr("class","krui-chart-data-layer"),i=this.getContext();i&&r.render(A,i)}}reDraw(t=null,r=!1,A=!1){this._scales.clear(),this.createScales(),t&&(this._zoomEvent=t),this.zoomAxis(this._zoomEvent,r),this.zoomLayer(this._zoomEvent,A)}getContext(){let t=this.axisList.find(A=>A.primary),r=this.axisList.find(A=>!A.primary);return t&&r?{canvasWidth:this.wrap.workGroundWidth,canvasHeight:this.wrap.workGroundHeight,primaryAxis:{name:t.name,type:t.type,position:t.position,d3Scale:this._scales.get(t.name),d3Axis:this._axis.get(t.name)},secondaryAxis:{name:r.name,type:r.type,position:r.position,d3Scale:this._scales.get(r.name),d3Axis:this._axis.get(r.name)}}:null}zoom(t){if((this.zoomPrimaryEnable||this.zoomSecondaryEnable)&&t){if(this._zoomEvent=t,this._isFirstZoom){this._isFirstZoom=!1;return}this.zoomAxis(t),this.zoomLayer(t)}}zoomAxis(t,r=!1){let i=this.axisList.find(n=>n.primary)?.type??"number";for(let n of this.axisList){let a=Dt(this.wrap.canvas).select(`#${this.layerId}--axis-${n.name}`),o=Dt(`#${this.layerId}--clipPath-axis--${n.name}-rect`),s=Dt(this.wrap.canvas).select(`#${this.layerId}--grid-${n.name}`),l=Dt(`#${this.layerId}--clipPath-grid--${n.name}-rect`).attr("width",this.wrap.workGroundWidth).attr("height",this.wrap.workGroundHeight),c=n.position==="left"||n.position==="right"?-this.wrap.workGroundWidth:-this.wrap.workGroundHeight,m=this._scales.get(n.name),h;(i==="number"||n.type==="time")&&(this.zoomPrimaryEnable&&n.primary&&(m=this.tooltipDirective.chartOrientation==="vertical"?t.transform?.rescaleX(m):t.transform?.rescaleY(m)),this.zoomSecondaryEnable&&!n.primary&&(m=this.tooltipDirective.chartOrientation==="vertical"?t.transform?.rescaleY(m):t.transform?.rescaleX(m)));let g=qB(this.dataLayerList,n.type);if(n.position==="bottom"){if(i==="enum"&&m.range([g.left,this.wrap.workGroundWidth-g.right].map(b=>t.transform.applyX(b))),r){let b=(this.wrap.axisLevelMap.get(this.layerId)?.get("bottom")??0)*20;a.attr("transform",`translate(0, ${this.wrap.workGroundHeight+b})`),o.attr("width",this.wrap.workGroundWidth),s.attr("transform",`translate(0, ${this.wrap.workGroundHeight})`),l.attr("y",-this.wrap.workGroundHeight)}h=tl(m)}else if(n.position==="top"){if(i==="enum"&&m.range([g.left,this.wrap.workGroundWidth-g.right].map(b=>t.transform.applyX(b))),r){let b=(this.wrap.axisLevelMap.get(this.layerId)?.get("top")??0)*20;a.attr("transform",`translate(0, -${b})`),o.attr("width",this.wrap.workGroundWidth),s.attr("transform","translate(0, 0)")}h=Zs(m)}else if(n.position==="left"){if(i==="enum"&&m.range([this.wrap.workGroundHeight-g.bottom,g.top].map(b=>t.transform.applyY(b))),r){let b=(this.wrap.axisLevelMap.get(this.layerId)?.get("left")??0)*40;a.attr("transform",`translate(-${b}, 0)`),o.attr("x",-(b+40)).attr("height",this.wrap.workGroundHeight+8*2),s.attr("transform","translate(0, 0)")}h=el(m)}else{if(i==="enum"&&m.range([this.wrap.workGroundHeight-g.bottom,g.top].map(b=>t.transform.applyY(b))),r){let b=(this.wrap.axisLevelMap.get(this.layerId)?.get("right")??0)*40;a.attr("transform",`translate(${this.wrap.workGroundWidth+b}, 0)`),o.attr("height",this.wrap.workGroundHeight+8*2),s.attr("transform",`translate(${this.wrap.workGroundWidth}, 0)`),l.attr("x",-this.wrap.workGroundWidth)}h=qs(m)}let C=null;n.type==="time"?C=a.call(h.ticks(n.ticks).tickFormat(b=>this.wrap?.formatFunc?this.wrap.formatFunc(b,this.wrap.language):jB(b,this.wrap.language))):C=a.call(h.ticks(n.ticks)),C.selectAll("text").attr("color",n?.fontColor?n.fontColor:we),C.select("path").attr("color",n?.color?n.color:Vr),n.drawAxisLabelLine||(C.selectAll("line").remove(),C.selectAll("path").remove()),s.call(h.tickFormat(()=>"").tickSizeInner(c)).select("path").remove()}}zoomLayer(t,r=!1){if(this.axisList.find(i=>i.primary))for(let i of this.dataLayerList){let n=this._layerSelection.select(`#${this.layerId}--${i.id}`),a=this.getContext();a&&i.reScale(n,a,t.transform,this.zoomPrimaryEnable,this.zoomSecondaryEnable,r)}}getTooltipData(t,r,A){let i=this.axisList.find(n=>n.primary);return i?i.type==="enum"?this.getTooltipDataEnum(this.tooltipDirective.chartOrientation==="vertical"?t[0]:t[1],r,i,A):this.getTooltipDataNumberAndDate(this.tooltipDirective.chartOrientation==="vertical"?t[0]:t[1],r,i,A):null}getTooltipDataEnum(t,r,A,i){let n=this._scales.get(A.name),a=this.dataLayerList.last?.getTooltipTitleEnum()??null,o=this.dataLayerList.last?.getBandWidth()??0;if(!a?.length)for(let c of this.dataLayerList){let m=c.getTooltipTitleEnum();if(m?.length){a=m,o=this.dataLayerList.last.getBandWidth()??0;break}}if(!a)return null;let s=[];this.dataLayerList.forEach(c=>{s.push(...c.getTooltipDataEnum(a))});let l=[];return s.forEach(c=>{c.hidden&&l.push(!0)}),{tooltip:{rows:s,title:this.layerTitle,value:a,hidden:l.length===s.length,index:i},pos:n(a)===void 0?t:n(a)+o/2}}getTooltipDataNumberAndDate(t,r,A,i){let n="",a=0,o=null,s=null;(A.type==="time"||A.type==="number")&&(o=this._scales.get(A.name),s=this._zoomEvent?this.tooltipDirective.chartOrientation==="vertical"?this._zoomEvent?.transform?.rescaleX(o):this._zoomEvent?.transform?.rescaleY(o):o,a=s.invert(t));let l=null;for(let h of this.dataLayerList){let g=h.getTooltipData(a,r,A.type);for(let C of g)C.valueTitle&&(l=C);if(g?.[0]?.valueTitle){l=g?.[0];break}}if(this.layerLabels?.inactive)return{tooltip:{rows:[],title:this.layerTitle,value:"",hidden:!0,index:i},pos:s?s(Number(l?.valueTitle)):t};A.type==="time"?n=new Date(l?.valueTitle):n=l?.valueTitle?.toString();let c=[];this.dataLayerList.forEach(h=>{c.push(...h.getTooltipData(a,r,A.type))});let m=[];return c.forEach(h=>{h.hidden&&m.push(!0)}),{tooltip:{rows:c,title:this.layerTitle,value:n,hidden:m.length===c.length,index:1},pos:s?s(Number(l?.valueTitle)):t}}static \u0275fac=function(r){return new(r||e)(at(ae,1),at(hs,1))};static \u0275dir=Kt({type:e,selectors:[["krui-chart-layer"]],contentQueries:function(r,A,i){if(r&1&&(di(i,jp,4),di(i,Zp,4),di(i,qp,4)),r&2){let n;kr(n=Lr())&&(A.axisList=n),kr(n=Lr())&&(A.gridList=n),kr(n=Lr())&&(A.dataLayerList=n)}},inputs:{layerTitle:"layerTitle",tooltipEnable:"tooltipEnable",tooltipColor:"tooltipColor",zoomPrimaryEnable:"zoomPrimaryEnable",zoomSecondaryEnable:"zoomSecondaryEnable",useDefaultCheck:"useDefaultCheck"},standalone:!1,features:[Ot([{provide:ud,useExisting:e},{provide:sd,useExisting:e},{provide:ld,useExisting:e},{provide:fd,useExisting:e},{provide:cd,useExisting:e},{provide:ye,useExisting:e}])]})};var lE=class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=Kt({type:e,selectors:[["krui-chart-legend-directive"]],standalone:!1})};var dd=class e{data=[];engUnits="";delimiterSymbol=": ";tooltipShowMilliseconds=!1;tooltipDateValuePipeFormat="dd.MM.yyyy HH:mm";tooltipTitleDateValuePipeFormat="dd.MM.yyyy HH:mm:ss";tooltipNumberValuePipeFormat="1.0-0";tooltipTitleNumberValuePipeFormat="1.0-0";popup=!0;getValueType(t){switch(Object.prototype.toString.call(t)){case"[object Date]":return"date";case"[object Number]":return"number";case"[object String]":return"string";default:return"other"}}getDateWithMilliseconds(t){return new Date(t)?.toLocaleString("ru-RU")+" ."+new Date(t)?.getMilliseconds()}getNumberValue(t){return t}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Kt({type:e,selectors:[["krui-chart-tooltip-directive"]],hostVars:1,hostBindings:function(r,A){r&2&&fw("@popup",A.popup)},inputs:{data:"data",engUnits:"engUnits",delimiterSymbol:"delimiterSymbol",tooltipShowMilliseconds:"tooltipShowMilliseconds",tooltipDateValuePipeFormat:"tooltipDateValuePipeFormat",tooltipTitleDateValuePipeFormat:"tooltipTitleDateValuePipeFormat",tooltipNumberValuePipeFormat:"tooltipNumberValuePipeFormat",tooltipTitleNumberValuePipeFormat:"tooltipTitleNumberValuePipeFormat"},standalone:!1})};var me=(e,t)=>{let r=Math.trunc(e),A=Math.abs(e-r);if(A===0)return r;r+=".";let i=0;for(;A!==0&&i<t;){A*=10;let n=Math.floor(A);r+=n,A-=n,n!==0&&i++}return r},kt=e=>{if(!e)return"";switch(Object.prototype.toString.call(e)){case"[object Date]":return e.toLocaleDateString();case"[object String]":return e;case"[object Number]":return e.toString();default:return""}};var En=(e,t,r,A)=>{let i=z(r(A));if(e==="top")return i<0?t:i+t;if(e==="bottom"){let n=r.range()[0]-t;return i>n?i:n}else if(e==="over"){let n=i-t/2;return n>t?n:t}else{let n=r.range()[0];return n-(n-i)/2}},Kn=(e,t,r,A)=>{let i=z(r(A));if(e==="top"){let n=r.range()[1]-t;return i<n?i-t:n}else{if(e==="bottom")return i>0?t:i+t;if(e==="over"){let n=r.range()[1]-t;return i<n?i+t:n}else{let n=r.range()[0];return n-(n-i)/2}}},Dn=(e,t,r,A)=>e==="top"?z(r(A[1]))+t:e==="bottom"?z(r(A[0]))-t:e==="over"?z(r(A[1])):(z(r(A[0]))-z(r(A[1])))/2+z(r(A[1])),In=(e,t,r,A)=>e==="top"?z(r(A[1]))-t:e==="bottom"?z(r(A[0]))+t:e==="over"?z(r(A[1])):(z(r(A[0]))-z(r(A[1])))/2+z(r(A[1]));var uE=class e{constructor(t,r,A){this.paletteProvider=t;this.wrap=r;this.layerDirective=A;this._defaultColor=this.paletteProvider.nextColor()}_defaultColor;showValues=!1;valuesColor=we;valuesFontSizePx=12;valuesFontFamily="Tahoma";captions=[""];engUnits=[""];durationAnimation=2e3;durationToggleAnimation=500;animation=!0;state=new Map;opacityState=new Map;reRangeThenLegendClick=!0;reRangeThenDataChange=!1;workgroundPadding={top:5,right:0,left:0,bottom:0};useDefaultCheck=!0;withMinMaxCoef=!1;_minValue=0;_maxValueCurrent=0;_maxValueAbsolute=0;_target;_context;_id;_zoomK=1;_hoveredTooltipEnumBar=null;_enumTooltipTimeout;_bandwidth;barType="solidColor";barOpacity=1;barRadius=0;barBorder=!1;barBorderColor;fixedBarWidth=!1;showEnumValues=!1;valuePosition="center";animationType="growth";tooltipHoverEffect=!1;tooltipHoverColor=ne;enablePreviousData=!0;startInNull=!0;_tempDurationAnimation=0;_data;_initialData;_previousData;_color;get color(){return this._color}set color(t){t?this._color=t:this._color=this._defaultColor}_colors;get colors(){return this._colors}set colors(t){t?this._colors=t:this._colors=[this._defaultColor]}set inputData(t){if(!t?.length){this._data=[],this._initialData=[];return}switch(Object.prototype.toString.call(t[0]?.[0])){case"[object Date]":t=t.map(r=>[r[0].getTime(),r[1],r[2]??null]),t.sort();break;case"[object String]":t=t.map(r=>[new Date(r[0]).getTime(),r[1],r[2]??null]),t.sort();break;case"[object Number]":t.sort((r,A)=>r[0]-A[0]);break}this.enablePreviousData&&this._data?.length&&(this._previousData=[...this._data]),this._data=t,this._initialData=t,this._getMin(),this._getMaxAbsolute()}_barWidthPercent=80;get barWidthPercent(){return this._barWidthPercent}set barWidthPercent(t){t&&(this._barWidthPercent=t,t<0?this._barWidthPercent=0:t>100&&(this._barWidthPercent=100))}ngOnInit(){this._color||(this.color=null),this._colors||(this.colors=null),this.valuesColor||(this.valuesColor=this.color),this.barBorderColor||(this.barBorderColor=this.color),this.useDefaultCheck&&(Object.entries(yu())?.forEach(([t,r])=>{(this[t]===null||this[t]===void 0)&&(this[t]=r)}),Object.entries(ni())?.forEach(([t,r])=>{(this[t]===null||this[t]===void 0)&&(this[t]=r)}))}ngOnChanges({inputData:t}){t?.isFirstChange()||this.layerDirective.reDraw(null,!1,!0),this._tempDurationAnimation=this.durationAnimation}getColor(t=0){return this.barType==="gradient"?this.colors?.[t]??this.color:this.color}getDomain(t){return t&&t==="enum"?this._data?.map(r=>r[2]):this._data?.map(r=>z(r[0]))}getRange(){return[this.startInNull?0:this._minValue,this.reRangeThenLegendClick||this.reRangeThenDataChange?this._maxValueCurrent:this._maxValueAbsolute]}_getMin(){let t=Number.POSITIVE_INFINITY;this._data?.forEach(([r,A])=>{A!=null&&(t=Math.min(t,A))}),t===0?this._minValue=.001:this.withMinMaxCoef?this._minValue=t-t*.001:this._minValue=t}_getMaxAbsolute(){let t=Number.NEGATIVE_INFINITY;this._data?.forEach(([,r],A)=>{r!=null?t=Math.max(t,r):t=Math.max(t,this._minValue)}),this.withMinMaxCoef?(this._maxValueAbsolute=t+t*.001,this._maxValueCurrent=t+t*.001):(this._maxValueAbsolute=t,this._maxValueCurrent=t)}_getMaxCurrent(){if(this.state.get(0)){this._maxValueCurrent=this._minValue;return}let t=Number.NEGATIVE_INFINITY;this._data?.forEach(([,r],A)=>{r!=null?t=Math.max(t,r):t=Math.max(t,this._minValue)}),this.withMinMaxCoef?this._maxValueCurrent=t+t*.001:this._maxValueCurrent=t}getWorkgroundPadding(t){if(this._initialData?.length){let r=t==="enum"?0:this.wrap.workGroundWidth/(this._data?.length??10)/2;return{top:this.workgroundPadding.top,right:this.workgroundPadding.right+r,bottom:this.workgroundPadding.bottom,left:this.workgroundPadding.left+r}}return this.workgroundPadding}getLegendData(){return[{title:kt(this.captions[0]),color:this.getColor(),inactive:this.state.get(0)??!1,type:"single",disabled:!this._initialData?.length,hovered:this.opacityState.get(0)??!1}]}toggleState(t,r,A=this.durationToggleAnimation){this.state.set(t,r),this._hoveredTooltipEnumBar=null;let i=this._context.primaryAxis.type,n=this._context.primaryAxis.d3Scale,a=this._context.secondaryAxis.d3Scale,o=this.getBarsConfigs(i,n,a);r?(this._target.selectAll(".krui-chart-data-bar").transition().duration(A).attr("y",a.range()[0]),this._target.selectAll(".krui-chart-stack-text").transition().duration(A).attr("y",a.range()[0]).attr("display","none")):(this._target.selectAll(".krui-chart-stack-text").attr("display","visible"),this.scaleBars(o,!1,!0,A))}toggleOpacity(t,r){this.opacityState.set(t,r)}renderOpacity(t){this.opacityState.get(0)||!this._target||(t?this._target.attr("class","krui-chart-data-layer krui-chart-data-layer--opacity"):this._target.attr("class","krui-chart-data-layer"))}render(t,r,A){if(!this._initialData?.length)return;this._context=r,this._target=t,this._id=A;let i=r.primaryAxis.d3Scale,n=r.secondaryAxis.d3Scale;this.renderBars(t,r,i,n)}reScale(t,r,A,i,n,a){if(!this._initialData?.length)return;A.k!==this._zoomK&&(this._zoomK=A.k);let o=r.primaryAxis.d3Scale,s=r.secondaryAxis.d3Scale;(r.primaryAxis.type==="time"||r.primaryAxis.type==="number")&&(i&&(o=A.rescaleX(o)),n&&(s=A.rescaleY(s))),a?this.renderBars(t,r,o,s):this.reScaleBars(t,r,o,s)}getTooltipData(t,r,A){let i=[{valueTitle:"",color:"",hidden:!0,index:0,title:"",value:null,engUnits:"",type:"bar"}];if(!this._initialData?.length)return i;let n=this._initialData,a=ce(s=>s[0]).center,o=a(n,t);if(o==null)return i;if(r!=="dataPoint"){let s=n[o]?.[0],l=n[o+1]?.[0],c=0;if(l?c=(t-l)/(l-s):c=t/s,c>1.2||c<-2.5||isNaN(c))return i}return[{value:n[o]?.[1],valueTitle:n[o]?.[0],title:kt(this.captions[0]),color:this.getColor(),hidden:this.state.get(0)??!1,index:o,engUnits:this.engUnits[0],type:"bar"}]}getTooltipTitleEnum(){return this.state.get(0)?null:this._hoveredTooltipEnumBar?.getAttribute("tooltipData")??null}getTooltipDataEnum(t){let r=[{valueTitle:"",color:"",hidden:!0,index:0,title:"",value:null,engUnits:"",type:"bar"}];if(!this._initialData?.length)return r;let A=this._initialData,i=this._data.findIndex(n=>n[2]===t);return i==null||i===-1?r:[{value:A[i]?.[1],valueTitle:A[i]?.[2],title:kt(this.captions[0]),color:this.getColor(),hidden:this.state.get(0)??!1,index:i,engUnits:this.engUnits[0],type:"bar"}]}triggerEnumTooltipTimeout(){this._enumTooltipTimeout&&clearTimeout(this._enumTooltipTimeout),this._enumTooltipTimeout=setTimeout(()=>{this._hoveredTooltipEnumBar=null,this._enumTooltipTimeout=null})}getBandWidth(){return this._bandwidth??0}renderBars(t,r,A,i){if(!this._initialData?.length)return;t.selectAll(".krui-chart-stack").remove();let n=r.primaryAxis.type,a=this.getBarsConfigs(n,A,i);if(this.barType==="gradient"){let s=this.colors.length,l=s>1?this.colors.map((c,m)=>({color:c,offset:100/(s-1)*m+"%",stopOpacity:1})):[{offset:"0%",color:this.colors[0],stopOpacity:1},{offset:"100%",color:this.colors[0],stopOpacity:1}];t.append("linearGradient").attr("id",`${this._id}--area-filling`).attr("x1",0).attr("x2",0).attr("y1",0).attr("y2","100%").selectAll("stop").data(l).enter().append("stop").attr("offset",c=>c.offset).attr("stop-color",c=>c.color).attr("stop-opacity",c=>c.stopOpacity)}let o=t.attr("clip-path",`url(#${this.wrap.workgroundClipPathId}`).selectAll(".krui-chart-stack").data(this._data).enter().append("g").attr("class","krui-chart-stack").attr("tooltipData",s=>tt(A,n)?s[2]:s[0]).attr("transform",s=>`translate(${tt(A,n)?A(s[2]):A(s[0])-(this.fixedBarWidth?a.barWidthCalculated:a.barWidthCalculated*this._zoomK)}, 0)`).on("mouseover",s=>this._hoveredTooltipEnumBar=s.target.parentElement);if(o.append("rect").attr("class","krui-chart-data-bar").attr("x",()=>tt(A,n)?a.barPadding/2:this.fixedBarWidth?a.barWidthCalculated/2:a.barWidthCalculated/2*this._zoomK).attr("y",(s,l)=>this._previousData?.length&&this._previousData[l]?z(i(this._previousData[l][1])):i.range()[0]).attr("height",(s,l)=>{if(this._previousData?.length&&this._previousData[l]){let c=i.range()[0]-z(i(this._previousData[l][1]));return c>0?c:z(i(this._previousData[l][1]))}return 0}).attr("width",()=>tt(A,n)||this.fixedBarWidth?a.barWidthCalculated:a.barWidthCalculated*this._zoomK).attr("rx",`${this.barRadius}px`).attr("ry",`${this.barRadius}px`).attr("fill",this.barType==="solidColor"?this.color:`url(#${this._id}--area-filling)`).attr("stroke",this.barBorder?this.barBorderColor:"none").attr("opacity",s=>s[1]?this.barOpacity:0),n==="enum"||this.tooltipHoverEffect){let s=o.append("rect").attr("class","krui-chart-tooltip-bar").attr("id",(l,c)=>`krui-chart-tooltip-bar-${c}`).attr("x",()=>tt(A,n)?a.barPadding/2:this.fixedBarWidth?a.barWidthCalculated/2:a.barWidthCalculated/2*this._zoomK).attr("y",0).attr("height",i.range()[0]).attr("width",()=>tt(A,n)||this.fixedBarWidth?a.barWidthCalculated:a.barWidthCalculated*this._zoomK).attr("opacity","0.1").attr("fill","transparent");this.tooltipHoverEffect&&s.on("mouseenter",l=>{t.select(`#${l.target.id}`).attr("fill",this.tooltipHoverColor)}).on("mouseleave",l=>{t.select(`#${l.target.id}`).attr("fill","transparent")}),this.wrap.svg.select(`#${this.layerDirective.layerId}`).on("mouseleave",()=>this.triggerEnumTooltipTimeout())}o.select("rect").transition().duration(this.animationType==="none"?0:this._tempDurationAnimation).attr("y",s=>z(i(s[1]))).attr("height",s=>{if(!s[1])return 0;let l=i.range()[0]-z(i(s[1]));return l>0?l:z(i(s[1]))}),this.showValues&&o.append("text").attr("class","krui-chart-stack-text").attr("x",()=>tt(A,n)?(a.barWidthCalculated+a.barPadding)/2:this.fixedBarWidth?a.barWidthCalculated:a.barWidthCalculated*this._zoomK).attr("y",(s,l)=>this._previousData?.length&&this._previousData[l]?En(this.valuePosition,this.valuesFontSizePx,a.secondaryAxis,this._previousData[l][1]):i.range()[0]).text(s=>isNaN(s[1])||s[1]===null?null:this.showEnumValues&&tt(A,n)?s[2]:me(s[1],2)).attr("fill",this.valuesColor).style("font-size",`${this.valuesFontSizePx}px`).style("font-family",this.valuesFontFamily).attr("text-anchor","middle").style("alignment-baseline","middle").transition().duration(this.animationType==="none"?0:this._tempDurationAnimation).attr("y",s=>En(this.valuePosition,this.valuesFontSizePx,i,s[1])),this.state.get(0)&&this.toggleState(0,!0,0)}reScaleBars(t,r,A,i){this._context=r,this._target=t;let n=r.primaryAxis.type,a=this.getBarsConfigs(n,A,i);t.selectAll(".krui-chart-stack").attr("transform",o=>`translate(${tt(A,n)?A(o[2]):A(o[0])-(this.fixedBarWidth?a.barWidthCalculated:a.barWidthCalculated*this._zoomK)}, 0)`),this.scaleBars(a,!0,!0,0)}scaleBars(t,r,A,i){r&&this._target.selectAll(".krui-chart-data-bar").transition().duration(i).attr("x",()=>t.type==="enum"?t.barPadding/2:this.fixedBarWidth?t.barWidthCalculated/2:t.barWidthCalculated/2*this._zoomK).attr("width",()=>t.type==="enum"||this.fixedBarWidth?t.barWidthCalculated:t.barWidthCalculated*this._zoomK),A&&this._target.selectAll(".krui-chart-data-bar").transition().duration(i).attr("y",n=>z(t.secondaryAxis(n[1]))).attr("height",n=>{if(!n[1])return 0;let a=t.secondaryAxis.range()[0]-z(t.secondaryAxis(n[1]));return a>0?a:z(t.secondaryAxis(n[1]))}),(t.type==="enum"||this.tooltipHoverEffect)&&(this._target.selectAll(".krui-chart-tooltip-bar").attr("x",()=>tt(t.primaryAxis,t.type)?t.barPadding/2:this.fixedBarWidth?t.barWidthCalculated/2:t.barWidthCalculated/2*this._zoomK).attr("width",()=>tt(t.primaryAxis,t.type)||this.fixedBarWidth?t.barWidthCalculated:t.barWidthCalculated*this._zoomK).attr("height",t.secondaryAxis.range()[0]),this.triggerEnumTooltipTimeout()),this.showValues&&this._target.selectAll(".krui-chart-stack-text").transition().duration(i).attr("x",()=>t.type==="enum"?(t.barWidthCalculated+t.barPadding)/2:this.fixedBarWidth?t.barWidthCalculated:t.barWidthCalculated*this._zoomK).attr("y",n=>En(this.valuePosition,this.valuesFontSizePx,t.secondaryAxis,n[1]))}getBarsConfigs(t,r,A){let i,n,a;return t==="enum"?(i=this.state.get(0)?0:r.bandwidth(),n=i*this._barWidthPercent/100,a=i*(1-this._barWidthPercent/100)):(i=this.state.get(0)?0:this._context.canvasWidth/this._data.length,n=i*this._barWidthPercent/100,a=i*(1-this._barWidthPercent/100)/2),this._bandwidth=i,{type:t,barWidth:i,barWidthCalculated:n,barPadding:a,primaryAxis:r,secondaryAxis:A}}static \u0275fac=function(r){return new(r||e)(at(Re,1),at(ae,1),at(ye,1))};static \u0275dir=Kt({type:e,selectors:[["","kruiChartBar",""]],inputs:{showValues:"showValues",valuesColor:"valuesColor",valuesFontSizePx:"valuesFontSizePx",valuesFontFamily:"valuesFontFamily",captions:"captions",engUnits:"engUnits",durationAnimation:"durationAnimation",durationToggleAnimation:"durationToggleAnimation",animation:"animation",reRangeThenLegendClick:"reRangeThenLegendClick",reRangeThenDataChange:"reRangeThenDataChange",workgroundPadding:"workgroundPadding",useDefaultCheck:"useDefaultCheck",withMinMaxCoef:"withMinMaxCoef",barType:"barType",barOpacity:"barOpacity",barRadius:"barRadius",barBorder:"barBorder",barBorderColor:"barBorderColor",fixedBarWidth:"fixedBarWidth",showEnumValues:"showEnumValues",valuePosition:"valuePosition",animationType:"animationType",tooltipHoverEffect:"tooltipHoverEffect",tooltipHoverColor:"tooltipHoverColor",enablePreviousData:"enablePreviousData",startInNull:"startInNull",color:"color",colors:"colors",inputData:[0,"data","inputData"],barWidthPercent:"barWidthPercent"},exportAs:["kruiChartBar"],standalone:!1,features:[Ot([{provide:Oe,useExisting:e},{provide:Ne,useExisting:e},{provide:Ve,useExisting:e},{provide:Ue,useExisting:e},{provide:We,useExisting:e},{provide:Te,useExisting:e},{provide:Ee,useExisting:e}]),Je]})};var cE=class e{constructor(t,r,A,i){this.paletteProvider=t;this.wrap=r;this.layerDirective=A;this.stackedService=i;this._defaultColor=this.paletteProvider.nextColor()}_defaultColor;showValues=!1;valuesColor=we;valuesFontSizePx=12;valuesFontFamily="Tahoma";captions=[""];engUnits=[""];durationAnimation=2e3;durationToggleAnimation=500;animation=!0;state=new Map;opacityState=new Map;reRangeThenLegendClick=!0;reRangeThenDataChange=!1;workgroundPadding={top:5,right:10,left:10,bottom:0};useDefaultCheck=!0;withMinMaxCoef=!1;_minValue=0;_maxValueCurrent=0;_maxValueAbsolute=0;_target;_context;_id;_zoomK=1;_hoveredTooltipEnumBar=null;_enumTooltipTimeout;_bandwidth;barType="solidColor";barOpacity=1;barsOpacity=[];barRadius=0;barBorder=!1;barBorderColors=[];fixedBarWidth=!1;showEnumValues=!0;valuePosition="center";animationType="growth";tooltipHoverEffect=!0;tooltipHoverColor=ne;enablePreviousData=!0;startInNull=!0;_tempDurationAnimation=0;_data;_initialData;_stackedData;_previousData;_maxDataLength=0;_groupSize=0;_color;get color(){return this._color}set color(t){t?this._color=t:this._color=this._defaultColor}_colors;get colors(){return this._colors}set colors(t){if(t)this._colors=t;else for(let r=0;r<this._groupSize;r++)this._colors.push(this.paletteProvider.nextColor())}set inputData(t){if(!t?.length){this._data=[],this._initialData=[];return}switch(Object.prototype.toString.call(t[0]?.[0]?.[0])){case"[object Date]":t=t.map(r=>r.map(A=>[A[0].getTime(),A[1],A[2]??null]).sort((A,i)=>A[0]-i[0]));break;case"[object String]":t=t.map(r=>r.map(A=>[new Date(A[0]).getTime(),A[1],A[2]??null]).sort((A,i)=>A[0]-i[0]));break;case"[object Number]":t.map(r=>r.sort((A,i)=>A[0]-i[0]));break}this.enablePreviousData&&this._stackedData?.length&&(this._previousData=[...this._stackedData]),this._data=t,this._initialData=t,this._groupSize=this._data?.length??0,this._maxDataLength=this.getMaxDataLength(),this._stackedData=this.stackedService.getStackDataFromArray(this._data),this._getMin(),this._getMaxAbsolute()}set inputStackData(t){if(!t?.length){this._data=[],this._initialData=[];return}switch(Object.prototype.toString.call(t[0]?.[0])){case"[object Date]":t=t.map(A=>[A[0].getTime(),A[1],A[2]??null]),t.sort();break;case"[object String]":t=t.map(A=>[new Date(A[0]).getTime(),A[1],A[2]??null]),t.sort();break;case"[object Number]":t.sort((A,i)=>A[0]-i[0]);break}this.enablePreviousData&&this._stackedData?.length&&(this._previousData=[...this._stackedData]);let r=this.stackedService.getArrayDataFromStack(t);this._data=r,this._initialData=r,this._groupSize=this._data?.length??0,this._stackedData=t,this._maxDataLength=this.getMaxDataLength(),this._getMin(),this._getMaxAbsolute()}_stackWidthPercent=80;get stackWidthPercent(){return this._stackWidthPercent}set stackWidthPercent(t){t&&(this._stackWidthPercent=t,t<0?this._stackWidthPercent=0:t>100&&(this._stackWidthPercent=100))}_barWidthPercent=80;get barWidthPercent(){return this._barWidthPercent}set barWidthPercent(t){t&&(this._barWidthPercent=t,t<0?this._barWidthPercent=0:t>100&&(this._barWidthPercent=100))}ngOnInit(){if(this._color||(this.color=null),this._colors||(this._colors=[]),this._colors?.length<this._groupSize){let t=this._colors?.length;for(;t<this._groupSize&&!(t>20);)this._colors.push(this.paletteProvider.nextColor()),t++}if(this.valuesColor||(this.valuesColor=this.color),this.barBorderColors||(this.barBorderColors=[]),this.barBorderColors.length<this._groupSize){let t=this.barBorderColors.length;for(;this.barBorderColors?.length<this._groupSize&&!(t>20);)this.barBorderColors.push(this._colors[t]),t++}this.useDefaultCheck&&(Object.entries(mA())?.forEach(([t,r])=>{(this[t]===null||this[t]===void 0)&&(this[t]=r)}),Object.entries(ni())?.forEach(([t,r])=>{(this[t]===null||this[t]===void 0)&&(this[t]=r)}))}ngOnChanges({inputData:t,inputStackData:r}){!t?.isFirstChange()&&!r?.isFirstChange()&&this.layerDirective.reDraw(null,!1,!0),this._tempDurationAnimation=this.durationAnimation}getColor(t){return this.colors?.[t]??this.color}getDomain(t){return t&&t==="enum"?this._data?.map(r=>r.map(A=>A[2])).flat():this._data?.map(r=>r.map(A=>z(A[0]))).flat()}getRange(){return[this.startInNull?0:this._minValue,this.reRangeThenLegendClick||this.reRangeThenDataChange?this._maxValueCurrent:this._maxValueAbsolute]}_getMin(){let t=Number.POSITIVE_INFINITY;this._data?.forEach(r=>r.forEach(([A,i])=>{i!=null&&(t=Math.min(t,i))})),t===0?this._minValue=.001:this.withMinMaxCoef?this._minValue=t-t*.001:this._minValue=t}_getMaxAbsolute(){let t=Number.NEGATIVE_INFINITY;this._stackedData?.map(([,r])=>{r!=null?t=Math.max(t,...r.map(A=>A)):t=Math.max(t,this._minValue)}),this.withMinMaxCoef?(this._maxValueAbsolute=t+t*.001,this._maxValueCurrent=t+t*.001):(this._maxValueAbsolute=t,this._maxValueCurrent=t)}_getMaxCurrent(){let t=Number.NEGATIVE_INFINITY;this._stackedData?.forEach(r=>r.forEach(([,A])=>{A!=null?t=Math.max(t,...A.map(i=>i)):t=Math.max(t,this._minValue)})),this.withMinMaxCoef?this._maxValueCurrent=t+t*.001:this._maxValueCurrent=t}getWorkgroundPadding(t){if(this._initialData?.length){let r=this._data?.[0]?.length,A=this._data?.length,i=t==="enum"?0:this.wrap.workGroundWidth/(r??10)/A;return{top:this.workgroundPadding.top,right:this.workgroundPadding.right+i,bottom:this.workgroundPadding.bottom,left:this.workgroundPadding.left+i}}return this.workgroundPadding}getLegendData(){return this._data.map((t,r)=>({title:kt(this.captions[r]),color:this.getColor(r),inactive:this.state.get(r)??!1,type:"stack",disabled:!this._initialData?.length,hovered:this.opacityState.get(r)??!1}))}toggleState(t,r,A=this.durationToggleAnimation){this.state.set(t,r),this._hoveredTooltipEnumBar=null;let i=this._context.primaryAxis.type,n=this._context.primaryAxis.d3Scale,a=this._context.secondaryAxis.d3Scale,o=this.getBarsConfigs(i,n,a);r?(this._target.selectAll(`#krui-chart-data-bar-${t}`).attr("class","krui-chart-data-bar--hidden").transition().duration(A).attr("width",0),this._target.selectAll(`#krui-chart-stack-text-${t}`).attr("class","krui-chart-stack-text--hidden").attr("display","none")):(this._target.selectAll(`#krui-chart-data-bar-${t}`).attr("class","krui-chart-data-bar"),this._target.selectAll(`#krui-chart-stack-text-${t}`).attr("class","krui-chart-stack-text").attr("display","visible")),this.scaleBars(o,!0,!1,A)}toggleOpacity(t,r){this.opacityState.set(t,r)}renderOpacity(t){if(this._target)for(let r=0;r<this._groupSize;r++)!this.opacityState.get(r)&&!this.state.get(r)&&(this._target.selectAll(`#krui-chart-data-bar-${r}`).attr("class",t?"krui-chart-data-bar krui-chart-data-bar--opacity":"krui-chart-data-bar"),this._target.selectAll(`#krui-chart-stack-text-${r}`).attr("class",t?"krui-chart-stack-text krui-chart-stack-text--opacity":"krui-chart-stack-text"))}render(t,r,A){if(!this._initialData?.length)return;this._context=r,this._target=t,this._id=A;let i=r.primaryAxis.d3Scale,n=r.secondaryAxis.d3Scale;this.renderBars(t,r,i,n)}reScale(t,r,A,i,n,a){if(!this._initialData?.length)return;A.k!==this._zoomK&&(this._zoomK=A.k);let o=r.primaryAxis.d3Scale,s=r.secondaryAxis.d3Scale;(r.primaryAxis.type==="time"||r.primaryAxis.type==="number")&&(i&&(o=A.rescaleX(o)),n&&(s=A.rescaleY(s))),a?this.renderBars(t,r,o,s):this.reScaleBars(t,r,o,s)}getTooltipData(t,r,A){let i=[{valueTitle:"",color:"",hidden:!0,index:0,title:"",value:null,engUnits:"",type:"bar"}];if(!this._initialData?.length)return i;let n=this._stackedData,a=ce(l=>l[0]).center,o=a(n,t);if(o==null)return i;if(r!=="dataPoint"){let l=n[o]?.[0],c=n[o+1]?.[0],m=0;if(c?m=(t-c)/(c-l):m=t/l,m>1.2||m<-2.5||isNaN(m))return i}let s=[];return n[o]?.[1]?.forEach((l,c)=>{s.push({value:l,valueTitle:n[o]?.[0],title:kt(this.captions[c]),color:this.getColor(c),hidden:this.state.get(c)??!1,index:o,engUnits:this.engUnits?.[c]??"",type:"bar"})}),s.reverse(),s}getTooltipTitleEnum(){return this.state.get(0)?null:this._hoveredTooltipEnumBar?.getAttribute("tooltipData")??null}getTooltipDataEnum(t){let r=[{valueTitle:"",color:"",hidden:!0,index:0,title:"",value:null,engUnits:"",type:"bar"}];if(!this._initialData?.length)return r;let A=this._stackedData,i=this._stackedData.findIndex(a=>a[2]===t);if(i==null||i===-1)return r;let n=[];return A[i]?.[1]?.forEach((a,o)=>{n.push({value:a,valueTitle:A[i]?.[2],title:kt(this.captions[o]),color:this.getColor(o),hidden:this.state.get(o)??!1,index:i,engUnits:this.engUnits?.[o]??"",type:"bar"})}),n.reverse(),n}triggerEnumTooltipTimeout(){this._enumTooltipTimeout&&clearTimeout(this._enumTooltipTimeout),this._enumTooltipTimeout=setTimeout(()=>{this._hoveredTooltipEnumBar=null,this._enumTooltipTimeout=null})}getBandWidth(){return this._bandwidth??0}renderBars(t,r,A,i){if(!this._initialData?.length)return;t.selectAll(".krui-chart-stack").remove();let n=r.primaryAxis.type,a=this.getBarsConfigs(n,A,i);if(this.barType==="gradient"){let m=this.colors.length,h=m>1?this.colors.map((g,C)=>({color:g,offset:100/(m-1)*C+"%",stopOpacity:1})):[{offset:"0%",color:this.colors[0],stopOpacity:1},{offset:"100%",color:this.colors[0],stopOpacity:1}];t.append("linearGradient").attr("id",`${this._id}--area-filling`).attr("x1",0).attr("x2",0).attr("y1",0).attr("y2","100%").selectAll("stop").data(h).enter().append("stop").attr("offset",g=>g.offset).attr("stop-color",g=>g.color).attr("stop-opacity",g=>g.stopOpacity)}let o=t.attr("clip-path",`url(#${this.wrap.workgroundClipPathId}`).selectAll(".krui-chart-stack").data(this._stackedData).enter().append("g").attr("class","krui-chart-stack").attr("tooltipData",m=>tt(A,n)?m[2]:m[0]).attr("transform",m=>`translate(${tt(A,n)?A(m[2]):A(m[0])-(this.fixedBarWidth?a.stackWidth:a.stackWidth*this._zoomK)/2}, 0)`).on("mouseover",m=>this._hoveredTooltipEnumBar=m.target.parentElement),s=o.selectAll("rect").data(m=>[...m[1]]).enter(),l=-1,c=-1;if(s.append("rect").attr("class","krui-chart-data-bar").attr("id",(m,h)=>`krui-chart-data-bar-${h}`).attr("x",(m,h)=>{let g=(a.barWidthCalculated+2*a.barPadding)*h+a.barPadding+a.stackPadding;return tt(A,n)||this.fixedBarWidth?g:g*this._zoomK}).attr("y",(m,h)=>(h===0&&l++,l===a.activeCount&&(l=0),this._previousData?.length&&this._previousData[l]?.[1]?z(i(this._previousData[l][1][h])):i.range()[0])).attr("height",(m,h)=>{if(h===0&&c++,c===a.activeCount&&(c=0),this._previousData?.length&&this._previousData[c]?.[1]){let g=i.range()[0]-z(i(this._previousData[c][1][h]));return g>0?g:z(i(this._previousData[c][1][h]))}return 0}).attr("width",()=>tt(A,n)||this.fixedBarWidth?a.barWidthCalculated:a.barWidthCalculated*this._zoomK).attr("rx",`${this.barRadius}px`).attr("ry",`${this.barRadius}px`).attr("fill",(m,h)=>this.barType==="solidColor"?this.colors[h]:`url(#${this._id}--area-filling)`).attr("stroke",(m,h)=>this.barBorder?this.barBorderColors[h]:"none").attr("opacity",(m,h)=>m?this.barsOpacity[h]?this.barsOpacity[h]:this.barOpacity:0),n==="enum"||this.tooltipHoverEffect){let m=o.append("rect").attr("class","krui-chart-tooltip-bar").attr("id",(h,g)=>`krui-chart-tooltip-bar-${g}`).attr("x",0).attr("y",0).attr("height",i.range()[0]).attr("width",a.stackWidth*this._zoomK).attr("opacity","0.1").attr("fill","transparent");this.tooltipHoverEffect&&m.on("mouseenter",h=>{t.select(`#${h.target.id}`).attr("fill",this.tooltipHoverColor)}).on("mouseleave",h=>{t.select(`#${h.target.id}`).attr("fill","transparent")}),this.wrap.svg.select(`#${this.layerDirective.layerId}`).on("mouseleave",()=>this.triggerEnumTooltipTimeout())}if(s.selectAll("rect.krui-chart-data-bar").transition().duration(this.animationType==="none"?0:this._tempDurationAnimation).attr("y",m=>z(i(m))).attr("height",m=>{if(!m)return 0;let h=i.range()[0]-z(i(m));return h>0?h:z(i(m))}),this.showValues){let m=-1;s.append("text").attr("class","krui-chart-stack-text").attr("id",(h,g)=>`krui-chart-stack-text-${g}`).attr("x",(h,g)=>{let C=(a.barWidthCalculated+2*a.barPadding)*g+a.barWidthCalculated/2+a.barPadding+a.stackPadding;return tt(A,n)||this.fixedBarWidth?C:C*this._zoomK}).attr("y",(h,g)=>(g===0&&m++,m===a.activeCount&&(m=0),this._previousData?.length&&this._previousData[m]?.[1]?En(this.valuePosition,this.valuesFontSizePx,i,this._previousData[m][1][g]):i.range()[0])).text(h=>isNaN(h)||h===null?null:this.showEnumValues&&tt(A,n)?h:me(h,2)).attr("fill",this.valuesColor).style("font-size",`${this.valuesFontSizePx}px`).style("font-family",this.valuesFontFamily).attr("text-anchor","middle").style("alignment-baseline","middle").transition().duration(this.animationType==="none"?0:this._tempDurationAnimation).attr("y",h=>En(this.valuePosition,this.valuesFontSizePx,i,h))}this._data?.forEach((m,h)=>{this.state.get(h)&&this.toggleState(h,!0,0)})}reScaleBars(t,r,A,i){this._context=r,this._target=t;let n=r.primaryAxis.type,a=this.getBarsConfigs(n,A,i);t.selectAll(".krui-chart-stack").attr("transform",o=>`translate(${tt(A,n)?A(o[2]):A(o[0])-(this.fixedBarWidth?a.stackWidth:a.stackWidth*this._zoomK)/2}, 0)`),this.scaleBars(a,!0,!0,0)}scaleBars(t,r,A,i){r&&this._target.selectAll(".krui-chart-stack").selectAll(".krui-chart-data-bar").transition().duration(i).attr("x",(n,a)=>{let o=(t.barWidthCalculated+2*t.barPadding)*a+t.barPadding+t.stackPadding;return t.type==="enum"||this.fixedBarWidth?o:o*this._zoomK}).attr("width",()=>t.type==="enum"||this.fixedBarWidth?t.barWidthCalculated:t.barWidthCalculated*this._zoomK),A&&this._target.selectAll(".krui-chart-data-bar").transition().duration(i).attr("y",n=>z(t.secondaryAxis(n))).attr("height",n=>{if(!n)return 0;let a=t.secondaryAxis.range()[0]-z(t.secondaryAxis(n));return a>0?a:z(t.secondaryAxis(n))}),(t.type==="enum"||this.tooltipHoverEffect)&&(this._target.selectAll(".krui-chart-tooltip-bar").attr("height",t.secondaryAxis.range()[0]).attr("width",()=>tt(t.primaryAxis,t.type)||this.fixedBarWidth?t.stackWidth:t.stackWidth*this._zoomK),this.triggerEnumTooltipTimeout()),this.showValues&&this._target.selectAll(".krui-chart-stack").selectAll(".krui-chart-stack-text").transition().duration(i).attr("x",(n,a)=>{let o=(t.barWidthCalculated+2*t.barPadding)*a+t.barWidthCalculated/2+t.barPadding+t.stackPadding;return t.type==="enum"||this.fixedBarWidth?o:o*this._zoomK}).attr("y",n=>En(this.valuePosition,this.valuesFontSizePx,t.secondaryAxis,n))}getBarsConfigs(t,r,A){let i=this.getActiveCount(),n=this.getGroupSize(),a,o,s,l,c,m;return t==="enum"?(a=r.bandwidth(),o=a*this._stackWidthPercent/100,s=(a-o)/2,l=o/n,c=l*this._barWidthPercent/100,m=(l-c)/2):(a=this._context.canvasWidth/this._maxDataLength,o=a*this._stackWidthPercent/100,s=(a-o)/2,l=o/n,c=l*this._barWidthPercent/100,m=(l-c)/2),this._bandwidth=a,{type:t,activeCount:i,groupSize:n,stackWidth:a,stackWidthCalculated:o,stackPadding:s,barWidth:l,barWidthCalculated:c,barPadding:m,primaryAxis:r,secondaryAxis:A}}getMaxDataLength(){return Math.max(...this._data?.map(t=>t.length))}getGroupSize(){let t=0;return this._data.forEach((r,A)=>{this.state.get(A)||t++}),t}getActiveCount(){return this._stackedData?.length}static \u0275fac=function(r){return new(r||e)(at(Re,1),at(ae,1),at(ye,1),at(Wr))};static \u0275dir=Kt({type:e,selectors:[["","kruiChartComboBar",""]],inputs:{showValues:"showValues",valuesColor:"valuesColor",valuesFontSizePx:"valuesFontSizePx",valuesFontFamily:"valuesFontFamily",captions:"captions",engUnits:"engUnits",durationAnimation:"durationAnimation",durationToggleAnimation:"durationToggleAnimation",animation:"animation",reRangeThenLegendClick:"reRangeThenLegendClick",reRangeThenDataChange:"reRangeThenDataChange",workgroundPadding:"workgroundPadding",useDefaultCheck:"useDefaultCheck",withMinMaxCoef:"withMinMaxCoef",barType:"barType",barOpacity:"barOpacity",barsOpacity:"barsOpacity",barRadius:"barRadius",barBorder:"barBorder",barBorderColors:"barBorderColors",fixedBarWidth:"fixedBarWidth",showEnumValues:"showEnumValues",valuePosition:"valuePosition",animationType:"animationType",tooltipHoverEffect:"tooltipHoverEffect",tooltipHoverColor:"tooltipHoverColor",enablePreviousData:"enablePreviousData",startInNull:"startInNull",color:"color",colors:"colors",inputData:[0,"data","inputData"],inputStackData:[0,"dataStack","inputStackData"],stackWidthPercent:"stackWidthPercent",barWidthPercent:"barWidthPercent"},exportAs:["kruiChartComboBar"],standalone:!1,features:[Ot([{provide:Oe,useExisting:e},{provide:Ne,useExisting:e},{provide:Ve,useExisting:e},{provide:Ue,useExisting:e},{provide:We,useExisting:e},{provide:Te,useExisting:e},{provide:Ee,useExisting:e}]),Je]})};var fE=class e{constructor(t,r,A){this.paletteProvider=t;this.wrap=r;this.layerDirective=A;this._defaultColor=this.paletteProvider.nextColor()}_defaultColor;showValues=!1;valuesColor=we;valuesFontSizePx=12;valuesFontFamily="Tahoma";captions=[""];engUnits=[""];durationAnimation=2e3;durationToggleAnimation=500;animation=!0;state=new Map;opacityState=new Map;reRangeThenLegendClick=!0;reRangeThenDataChange=!1;workgroundPadding={top:0,right:5,left:0,bottom:0};useDefaultCheck=!0;withMinMaxCoef=!1;_minValue=0;_maxValueCurrent=0;_maxValueAbsolute=0;_target;_context;_id;_zoomK=1;_hoveredTooltipEnumBar=null;_enumTooltipTimeout;_bandwidth;barType="solidColor";barOpacity=1;barRadius=0;barBorder=!1;barBorderColor;fixedBarWidth=!1;showEnumValues=!1;valuePosition="center";animationType="growth";tooltipHoverEffect=!1;tooltipHoverColor=ne;enablePreviousData=!0;startInNull=!0;_tempDurationAnimation=0;_data;_initialData;_previousData;_color;get color(){return this._color}set color(t){t?this._color=t:this._color=this._defaultColor}_colors;get colors(){return this._colors}set colors(t){t?this._colors=t:this._colors=[this._defaultColor]}set inputData(t){if(!t?.length){this._data=[],this._initialData=[];return}switch(Object.prototype.toString.call(t[0]?.[0])){case"[object Date]":t=t.map(r=>[r[0].getTime(),r[1],r[2]??null]),t.sort();break;case"[object String]":t=t.map(r=>[new Date(r[0]).getTime(),r[1],r[2]??null]),t.sort();break;case"[object Number]":t.sort((r,A)=>r[0]-A[0]);break}this.enablePreviousData&&this._data?.length&&(this._previousData=[...this._data]),this._data=t,this._initialData=t,this._getMin(),this._getMaxAbsolute()}_barWidthPercent=80;get barWidthPercent(){return this._barWidthPercent}set barWidthPercent(t){t&&(this._barWidthPercent=t,t<0?this._barWidthPercent=0:t>100&&(this._barWidthPercent=100))}ngOnInit(){this._color||(this.color=null),this._colors||(this.colors=null),this.valuesColor||(this.valuesColor=this.color),this.barBorderColor||(this.barBorderColor=this.color),this.useDefaultCheck&&(Object.entries(OT())?.forEach(([t,r])=>{(this[t]===null||this[t]===void 0)&&(this[t]=r)}),Object.entries(ni())?.forEach(([t,r])=>{(this[t]===null||this[t]===void 0)&&(this[t]=r)}))}ngOnChanges({inputData:t}){t?.isFirstChange()||this.layerDirective.reDraw(null,!1,!0),this._tempDurationAnimation=this.durationAnimation}getColor(t=0){return this.barType==="gradient"?this.colors?.[t]??this.color:this.color}getDomain(t){return t&&t==="enum"?this._data?.map(r=>r[2]):this._data?.map(r=>z(r[0]))}getRange(){return[this.startInNull?0:this._minValue,this.reRangeThenLegendClick||this.reRangeThenDataChange?this._maxValueCurrent:this._maxValueAbsolute]}_getMin(){let t=Number.POSITIVE_INFINITY;this._data?.forEach(([r,A])=>{A!=null&&(t=Math.min(t,A))}),t===0?this._minValue=.001:this.withMinMaxCoef?this._minValue=t-t*.001:this._minValue=t}_getMaxAbsolute(){let t=Number.NEGATIVE_INFINITY;this._data?.forEach(([,r],A)=>{r!=null?t=Math.max(t,r):t=Math.max(t,this._minValue)}),this.withMinMaxCoef?(this._maxValueAbsolute=t+t*.001,this._maxValueCurrent=t+t*.001):(this._maxValueAbsolute=t,this._maxValueCurrent=t)}_getMaxCurrent(){if(this.state.get(0)){this._maxValueCurrent=this._minValue;return}let t=Number.NEGATIVE_INFINITY;this._data?.forEach(([,r],A)=>{r!=null?t=Math.max(t,r):t=Math.max(t,this._minValue)}),this.withMinMaxCoef?this._maxValueCurrent=t+t*.001:this._maxValueCurrent=t}getWorkgroundPadding(t){if(this._initialData?.length){let r=t==="enum"?0:this.wrap.workGroundHeight/(this._data?.length??10)/2;return{top:this.workgroundPadding.top+r,right:this.workgroundPadding.right,bottom:this.workgroundPadding.bottom+r,left:this.workgroundPadding.left}}return this.workgroundPadding}getLegendData(){return[{title:kt(this.captions[0]),color:this.getColor(),inactive:this.state.get(0)??!1,type:"single",disabled:!this._initialData?.length,hovered:this.opacityState.get(0)??!1}]}toggleState(t,r,A=this.durationToggleAnimation){this.state.set(t,r),this._hoveredTooltipEnumBar=null;let i=this._context.primaryAxis.type,n=this._context.primaryAxis.d3Scale,a=this._context.secondaryAxis.d3Scale,o=this.getBarsConfigs(i,n,a);r?(this._target.selectAll(".krui-chart-data-bar").transition().duration(A).attr("width",a.range()[0]),this._target.selectAll(".krui-chart-stack-text").transition().duration(A).attr("x",a.range()[0]).attr("display","none")):(this._target.selectAll(".krui-chart-stack-text").attr("display","visible"),this.scaleBars(o,!1,!0,A))}toggleOpacity(t,r){this.opacityState.set(t,r)}renderOpacity(t){this.opacityState.get(0)||(t?this._target.attr("class","krui-chart-data-layer krui-chart-data-layer--opacity"):this._target.attr("class","krui-chart-data-layer"))}render(t,r,A){if(!this._initialData?.length)return;this._context=r,this._target=t,this._id=A;let i=r.primaryAxis.d3Scale,n=r.secondaryAxis.d3Scale;this.renderBars(t,r,i,n)}reScale(t,r,A,i,n,a){if(!this._initialData?.length)return;A.k!==this._zoomK&&(this._zoomK=A.k);let o=r.primaryAxis.d3Scale,s=r.secondaryAxis.d3Scale;(r.primaryAxis.type==="time"||r.primaryAxis.type==="number")&&(i&&(o=A.rescaleY(o)),n&&(s=A.rescaleX(s))),a?this.renderBars(t,r,o,s):this.reScaleBars(t,r,o,s)}getTooltipData(t,r,A){let i=[{valueTitle:"",color:"",hidden:!0,index:0,title:"",value:null,engUnits:"",type:"bar"}];if(!this._initialData?.length)return i;let n=this._initialData,a=ce(s=>s[0]).center,o=a(n,t);if(o==null)return i;if(r!=="dataPoint"){let s=n[o]?.[0],l=n[o+1]?.[0],c=0;if(l?c=(t-l)/(l-s):c=t/s,c>1.2||c<-2.5||isNaN(c))return i}return[{value:n[o]?.[1],valueTitle:n[o]?.[0],title:kt(this.captions[0]),color:this.getColor(),hidden:this.state.get(0)??!1,index:o,engUnits:this.engUnits[0],type:"bar"}]}getTooltipTitleEnum(){return this.state.get(0)?null:this._hoveredTooltipEnumBar?.getAttribute("tooltipData")??null}getTooltipDataEnum(t){let r=[{valueTitle:"",color:"",hidden:!0,index:0,title:"",value:null,engUnits:"",type:"bar"}];if(!this._initialData?.length)return r;let A=this._initialData,i=this._data.findIndex(n=>n[2]===t);return i==null||i===-1?r:[{value:A[i]?.[1],valueTitle:A[i]?.[2],title:kt(this.captions[0]),color:this.getColor(),hidden:this.state.get(0)??!1,index:i,engUnits:this.engUnits[0],type:"bar"}]}triggerEnumTooltipTimeout(){this._enumTooltipTimeout&&clearTimeout(this._enumTooltipTimeout),this._enumTooltipTimeout=setTimeout(()=>{this._hoveredTooltipEnumBar=null,this._enumTooltipTimeout=null})}getBandWidth(){return this._bandwidth??0}renderBars(t,r,A,i){if(!this._initialData?.length)return;t.selectAll(".krui-chart-stack").remove();let n=r.primaryAxis.type,a=this.getBarsConfigs(n,A,i);if(this.barType==="gradient"){let s=this.colors.length,l=s>1?this.colors.map((c,m)=>({color:c,offset:100/(s-1)*m+"%",stopOpacity:1})):[{offset:"0%",color:this.colors[0],stopOpacity:1},{offset:"100%",color:this.colors[0],stopOpacity:1}];t.append("linearGradient").attr("id",`${this._id}--area-filling`).attr("x1",0).attr("x2",0).attr("y1",0).attr("y2","100%").selectAll("stop").data(l).enter().append("stop").attr("offset",c=>c.offset).attr("stop-color",c=>c.color).attr("stop-opacity",c=>c.stopOpacity)}let o=t.attr("clip-path",`url(#${this.wrap.workgroundClipPathId}`).selectAll(".krui-chart-stack").data(this._data).enter().append("g").attr("class","krui-chart-stack").attr("tooltipData",s=>tt(A,n)?s[2]:s[0]).attr("transform",s=>`translate(0, ${tt(A,n)?A(s[2]):A(s[0])-(this.fixedBarWidth?a.barWidthCalculated:a.barWidthCalculated*this._zoomK)})`).on("mouseover",s=>this._hoveredTooltipEnumBar=s.target.parentElement);if(o.append("rect").attr("class","krui-chart-data-bar").attr("x",0).attr("y",()=>tt(A,n)?a.barPadding/2:this.fixedBarWidth?a.barWidthCalculated/2:a.barWidthCalculated/2*this._zoomK).attr("height",()=>tt(A,n)||this.fixedBarWidth?a.barWidthCalculated:a.barWidthCalculated*this._zoomK).attr("width",(s,l)=>{if(this._previousData?.length&&this._previousData[l]){let c=i.range()[0]-z(i(this._previousData[l][1]));return c>0?c:z(i(this._previousData[l][1]))}return 0}).attr("rx",`${this.barRadius}px`).attr("ry",`${this.barRadius}px`).attr("fill",this.barType==="solidColor"?this.color:`url(#${this._id}--area-filling)`).attr("stroke",this.barBorder?this.barBorderColor:"none").attr("opacity",s=>s[1]?this.barOpacity:0),n==="enum"||this.tooltipHoverEffect){let s=o.append("rect").attr("class","krui-chart-tooltip-bar").attr("id",(l,c)=>`krui-chart-tooltip-bar-${c}`).attr("x",0).attr("y",()=>tt(A,n)?a.barPadding/2:this.fixedBarWidth?a.barWidthCalculated/2:a.barWidthCalculated/2*this._zoomK).attr("height",()=>tt(A,n)||this.fixedBarWidth?a.barWidthCalculated:a.barWidthCalculated*this._zoomK).attr("width",i.range()[1]).attr("opacity","0.1").attr("fill","transparent");this.tooltipHoverEffect&&s.on("mouseenter",l=>{t.select(`#${l.target.id}`).attr("fill",this.tooltipHoverColor)}).on("mouseleave",l=>{t.select(`#${l.target.id}`).attr("fill","transparent")}),this.wrap.svg.select(`#${this.layerDirective.layerId}`).on("mouseleave",()=>this.triggerEnumTooltipTimeout())}o.select("rect.krui-chart-data-bar").transition().duration(this.animationType==="none"?0:this._tempDurationAnimation).attr("x",i.range()[0]).attr("width",s=>{if(!s[1])return 0;let l=i.range()[0]-z(i(s[1]));return l>0?l:z(i(s[1]))}),this.showValues&&o.append("text").attr("class","krui-chart-stack-text").attr("x",(s,l)=>this._previousData?.length&&this._previousData[l]?Kn(this.valuePosition,this.valuesFontSizePx,i,this._previousData[l][1]):-this.valuesFontSizePx).attr("y",()=>tt(i,n)?(a.barWidthCalculated+a.barPadding)/2:this.fixedBarWidth?a.barWidthCalculated:a.barWidthCalculated*this._zoomK).text(s=>isNaN(s[1])||s[1]===null?null:this.showEnumValues&&tt(i,n)?s[2]:me(s[1],2)).attr("fill",this.valuesColor).style("font-size",`${this.valuesFontSizePx}px`).style("font-family",this.valuesFontFamily).attr("text-anchor","middle").style("alignment-baseline","middle").transition().duration(this.animationType==="none"?0:this._tempDurationAnimation).attr("x",s=>Kn(this.valuePosition,this.valuesFontSizePx,i,s[1])),this.state.get(0)&&this.toggleState(0,!0,0)}reScaleBars(t,r,A,i){this._context=r,this._target=t;let n=r.primaryAxis.type,a=this.getBarsConfigs(n,A,i);t.selectAll(".krui-chart-stack").attr("transform",o=>`translate(0, ${tt(A,n)?A(o[2]):A(o[0])-(this.fixedBarWidth?a.barWidthCalculated:a.barWidthCalculated*this._zoomK)})`),this.scaleBars(a,!0,!0,0)}scaleBars(t,r,A,i){r&&this._target.selectAll(".krui-chart-data-bar").transition().duration(i).attr("y",()=>t.type==="enum"?t.barPadding/2:this.fixedBarWidth?t.barWidthCalculated/2:t.barWidthCalculated/2*this._zoomK).attr("height",()=>t.type==="enum"||this.fixedBarWidth?t.barWidthCalculated:t.barWidthCalculated*this._zoomK),A&&this._target.selectAll(".krui-chart-data-bar").transition().duration(i).attr("x",t.secondaryAxis.range()[0]).attr("width",n=>{if(!n[1])return 0;let a=z(t.secondaryAxis(n[1]))-t.secondaryAxis.range()[0];return a>0?a:0}),(t.type==="enum"||this.tooltipHoverEffect)&&(this._target.selectAll(".krui-chart-tooltip-bar").attr("x",t.secondaryAxis.range()[0]).attr("y",()=>tt(t.primaryAxis,t.type)?t.barPadding/2:this.fixedBarWidth?t.barWidthCalculated/2:t.barWidthCalculated/2*this._zoomK).attr("height",()=>tt(t.primaryAxis,t.type)||this.fixedBarWidth?t.barWidthCalculated:t.barWidthCalculated*this._zoomK).attr("width",t.secondaryAxis.range()[1]),this.triggerEnumTooltipTimeout()),this.showValues&&this._target.selectAll(".krui-chart-stack-text").transition().duration(i).attr("x",n=>Kn(this.valuePosition,this.valuesFontSizePx,t.secondaryAxis,n[1])).attr("y",()=>t.type==="enum"?(t.barWidthCalculated+t.barPadding)/2:this.fixedBarWidth?t.barWidthCalculated:t.barWidthCalculated*this._zoomK)}getBarsConfigs(t,r,A){let i,n,a;return t==="enum"?(i=this.state.get(0)?0:r.bandwidth(),n=i*this._barWidthPercent/100,a=i*(1-this._barWidthPercent/100)):(i=this.state.get(0)?0:this._context.canvasHeight/this._data.length,n=i*this._barWidthPercent/100,a=i*(1-this._barWidthPercent/100)/2),this._bandwidth=i,{type:t,barWidth:i,barWidthCalculated:n,barPadding:a,primaryAxis:r,secondaryAxis:A}}static \u0275fac=function(r){return new(r||e)(at(Re,1),at(ae,1),at(ye,1))};static \u0275dir=Kt({type:e,selectors:[["","kruiChartHorizontalBar",""]],inputs:{showValues:"showValues",valuesColor:"valuesColor",valuesFontSizePx:"valuesFontSizePx",valuesFontFamily:"valuesFontFamily",captions:"captions",engUnits:"engUnits",durationAnimation:"durationAnimation",durationToggleAnimation:"durationToggleAnimation",animation:"animation",reRangeThenLegendClick:"reRangeThenLegendClick",reRangeThenDataChange:"reRangeThenDataChange",workgroundPadding:"workgroundPadding",useDefaultCheck:"useDefaultCheck",withMinMaxCoef:"withMinMaxCoef",barType:"barType",barOpacity:"barOpacity",barRadius:"barRadius",barBorder:"barBorder",barBorderColor:"barBorderColor",fixedBarWidth:"fixedBarWidth",showEnumValues:"showEnumValues",valuePosition:"valuePosition",animationType:"animationType",tooltipHoverEffect:"tooltipHoverEffect",tooltipHoverColor:"tooltipHoverColor",enablePreviousData:"enablePreviousData",startInNull:"startInNull",color:"color",colors:"colors",inputData:[0,"data","inputData"],barWidthPercent:"barWidthPercent"},exportAs:["kruiChartHorizontalBar"],standalone:!1,features:[Ot([{provide:Oe,useExisting:e},{provide:Ne,useExisting:e},{provide:Ve,useExisting:e},{provide:Ue,useExisting:e},{provide:We,useExisting:e},{provide:Te,useExisting:e},{provide:Ee,useExisting:e}]),Je]})};var hE=class e{constructor(t,r,A,i){this.paletteProvider=t;this.wrap=r;this.layerDirective=A;this.stackedService=i;this._defaultColor=this.paletteProvider.nextColor()}_defaultColor;showValues=!1;valuesColor=we;valuesFontSizePx=12;valuesFontFamily="Tahoma";captions=[""];engUnits=[""];durationAnimation=2e3;durationToggleAnimation=500;animation=!0;state=new Map;opacityState=new Map;reRangeThenLegendClick=!0;reRangeThenDataChange=!1;workgroundPadding={top:5,right:5,left:2,bottom:5};useDefaultCheck=!0;withMinMaxCoef=!1;_minValue=0;_maxValueCurrent=0;_maxValueAbsolute=0;_target;_context;_id;_zoomK=1;_hoveredTooltipEnumBar=null;_enumTooltipTimeout;_bandwidth;barType="solidColor";barOpacity=1;barsOpacity=[];barRadius=0;barBorder=!1;barBorderColors=[];fixedBarWidth=!1;showEnumValues=!1;valuePosition="center";animationType="growth";tooltipHoverEffect=!0;tooltipHoverColor=ne;enablePreviousData=!0;startInNull=!0;_tempDurationAnimation=0;_data;_initialData;_stackedData;_previousData;_maxDataLength=0;_groupSize=0;_color;get color(){return this._color}set color(t){t?this._color=t:this._color=this._defaultColor}_colors;get colors(){return this._colors}set colors(t){if(t)this._colors=t;else for(let r=0;r<this._groupSize;r++)this._colors.push(this.paletteProvider.nextColor())}set inputData(t){if(!t?.length){this._data=[],this._initialData=[];return}switch(Object.prototype.toString.call(t[0]?.[0]?.[0])){case"[object Date]":t=t.map(r=>r.map(A=>[A[0].getTime(),A[1],A[2]??null]).sort((A,i)=>A[0]-i[0]));break;case"[object String]":t=t.map(r=>r.map(A=>[new Date(A[0]).getTime(),A[1],A[2]??null]).sort((A,i)=>A[0]-i[0]));break;case"[object Number]":t.map(r=>r.sort((A,i)=>A[0]-i[0]));break}this.enablePreviousData&&this._stackedData?.length&&(this._previousData=[...this._stackedData]),this._data=t,this._initialData=t,this._groupSize=this._data?.length??0,this._maxDataLength=this.getMaxDataLength(),this._stackedData=this.stackedService.getStackDataFromArray(this._data),this._getMin(),this._getMaxAbsolute()}set inputStackData(t){if(!t?.length){this._data=[],this._initialData=[];return}switch(Object.prototype.toString.call(t[0]?.[0])){case"[object Date]":t=t.map(A=>[A[0].getTime(),A[1],A[2]??null]),t.sort();break;case"[object String]":t=t.map(A=>[new Date(A[0]).getTime(),A[1],A[2]??null]),t.sort();break;case"[object Number]":t.sort((A,i)=>A[0]-i[0]);break}this.enablePreviousData&&this._stackedData?.length&&(this._previousData=[...this._stackedData]);let r=this.stackedService.getArrayDataFromStack(t);this._data=r,this._initialData=r,this._groupSize=this._data?.length??0,this._maxDataLength=this.getMaxDataLength(),this._stackedData=t,this._getMin(),this._getMaxAbsolute()}_stackWidthPercent=80;get stackWidthPercent(){return this._stackWidthPercent}set stackWidthPercent(t){t&&(this._stackWidthPercent=t,t<0?this._stackWidthPercent=0:t>100&&(this._stackWidthPercent=100))}_barWidthPercent=80;get barWidthPercent(){return this._barWidthPercent}set barWidthPercent(t){t&&(this._barWidthPercent=t,t<0?this._barWidthPercent=0:t>100&&(this._barWidthPercent=100))}ngOnInit(){if(this._color||(this.color=null),this._colors||(this._colors=[]),this._colors?.length<this._groupSize){let t=this._colors?.length;for(;t<this._groupSize&&!(t>20);)this._colors.push(this.paletteProvider.nextColor()),t++}if(this.valuesColor||(this.valuesColor=this.color),this.barBorderColors||(this.barBorderColors=[]),this.barBorderColors.length<this._groupSize){let t=this.barBorderColors.length;for(;this.barBorderColors?.length<this._groupSize&&!(t>20);)this.barBorderColors.push(this._colors[t]),t++}this.useDefaultCheck&&(Object.entries(NT())?.forEach(([t,r])=>{(this[t]===null||this[t]===void 0)&&(this[t]=r)}),Object.entries(ni())?.forEach(([t,r])=>{(this[t]===null||this[t]===void 0)&&(this[t]=r)}))}ngOnChanges({inputData:t,inputStackData:r}){!t?.isFirstChange()&&!r?.isFirstChange()&&this.layerDirective.reDraw(null,!1,!0),this._tempDurationAnimation=this.durationAnimation}getColor(t){return this.colors?.[t]??this.color}getDomain(t){return t&&t==="enum"?this._data?.map(r=>r.map(A=>z(A[2]))).flat():this._data?.map(r=>r.map(A=>z(A[0]))).flat()}getRange(){return[this.startInNull?0:this._minValue,this.reRangeThenLegendClick||this.reRangeThenDataChange?this._maxValueCurrent:this._maxValueAbsolute]}_getMin(){let t=Number.POSITIVE_INFINITY;this._data?.forEach(r=>r.forEach(([A,i])=>{i!=null&&(t=Math.min(t,i))})),t===0?this._minValue=.001:this.withMinMaxCoef?this._minValue=t-t*.001:this._minValue=t}_getMaxAbsolute(){let t=Number.NEGATIVE_INFINITY;this._stackedData?.map(([,r])=>{r!=null?t=Math.max(t,...r.map(A=>A)):t=Math.max(t,this._minValue)}),this.withMinMaxCoef?(this._maxValueAbsolute=t+t*.001,this._maxValueCurrent=t+t*.001):(this._maxValueAbsolute=t,this._maxValueCurrent=t)}_getMaxCurrent(){let t=Number.NEGATIVE_INFINITY;this._stackedData?.forEach(r=>r.forEach(([,A])=>{A!=null?t=Math.max(t,...A.map(i=>i)):t=Math.max(t,this._minValue)})),this.withMinMaxCoef?this._maxValueCurrent=t+t*.001:this._maxValueCurrent=t}getWorkgroundPadding(t){if(this._initialData?.length){let r=this._data?.[0]?.length,A=this._data?.length,i=t==="enum"?0:this.wrap.workGroundHeight/(r??10)/A;return{top:this.workgroundPadding.top+i,right:this.workgroundPadding.right,bottom:this.workgroundPadding.bottom+i,left:this.workgroundPadding.left}}return this.workgroundPadding}getLegendData(){return this._data.map((t,r)=>({title:kt(this.captions[r]),color:this.getColor(r),inactive:this.state.get(r)??!1,type:"stack",disabled:!this._initialData?.length,hovered:this.opacityState.get(r)??!1}))}toggleState(t,r,A=this.durationToggleAnimation){this.state.set(t,r),this._hoveredTooltipEnumBar=null;let i=this._context.primaryAxis.type,n=this._context.primaryAxis.d3Scale,a=this._context.secondaryAxis.d3Scale,o=this.getBarsConfigs(i,n,a);r?(this._target.selectAll(`#krui-chart-data-bar-${t}`).attr("class","krui-chart-data-bar--hidden").transition().duration(A).attr("height",0),this._target.selectAll(`#krui-chart-stack-text-${t}`).attr("class","krui-chart-stack-text--hidden").attr("x",a.range()[0]).attr("display","none"),this.scaleBars(o,!0,!1,A)):(this._target.selectAll(`#krui-chart-data-bar-${t}`).attr("class","krui-chart-data-bar"),this._target.selectAll(`#krui-chart-stack-text-${t}`).attr("class","krui-chart-stack-text").attr("display","visible"),this.scaleBars(o,!0,!1,A))}toggleOpacity(t,r){this.opacityState.set(t,r)}renderOpacity(t){if(this._target)for(let r=0;r<this._groupSize;r++)!this.opacityState.get(r)&&!this.state.get(r)&&(this._target.selectAll(`#krui-chart-data-bar-${r}`).attr("class",t?"krui-chart-data-bar krui-chart-data-bar--opacity":"krui-chart-data-bar"),this._target.selectAll(`#krui-chart-stack-text-${r}`).attr("class",t?"krui-chart-stack-text krui-chart-stack-text--opacity":"krui-chart-stack-text"))}render(t,r,A){if(!this._initialData?.length)return;this._context=r,this._target=t,this._id=A;let i=r.primaryAxis.d3Scale,n=r.secondaryAxis.d3Scale;this.renderBars(t,r,i,n)}reScale(t,r,A,i,n,a){if(!this._initialData?.length)return;A.k!==this._zoomK&&(this._zoomK=A.k);let o=r.primaryAxis.d3Scale,s=r.secondaryAxis.d3Scale;(r.primaryAxis.type==="time"||r.primaryAxis.type==="number")&&(i&&(o=A.rescaleY(o)),n&&(s=A.rescaleX(s))),a?this.renderBars(t,r,o,s):this.reScaleBars(t,r,o,s)}getTooltipData(t,r,A){let i=[{valueTitle:"",color:"",hidden:!0,index:0,title:"",value:null,engUnits:"",type:"bar"}];if(!this._initialData?.length)return i;let n=this._stackedData,a=ce(l=>l[0]).center,o=a(n,t);if(o==null)return i;if(r!=="dataPoint"){let l=n[o]?.[0],c=n[o+1]?.[0],m=0;if(c?m=(t-c)/(c-l):m=t/l,m>1.2||m<-2.5||isNaN(m))return i}let s=[];return n[o]?.[1]?.forEach((l,c)=>{s.push({value:l,valueTitle:n[o]?.[0],title:kt(this.captions[c]),color:this.getColor(c),hidden:this.state.get(c)??!1,index:o,engUnits:this.engUnits?.[c]??"",type:"bar"})}),s.reverse(),s}getTooltipTitleEnum(){return this.state.get(0)?null:this._hoveredTooltipEnumBar?.getAttribute("tooltipData")??null}getTooltipDataEnum(t){let r=[{valueTitle:"",color:"",hidden:!0,index:0,title:"",value:null,engUnits:"",type:"bar"}];if(!this._initialData?.length)return r;let A=this._stackedData,i=this._stackedData.findIndex(a=>a[2]===t);if(i==null||i===-1)return r;let n=[];return A[i]?.[1]?.forEach((a,o)=>{n.push({value:a,valueTitle:A[i]?.[2],title:kt(this.captions[o]),color:this.getColor(o),hidden:this.state.get(o)??!1,index:i,engUnits:this.engUnits?.[o]??"",type:"bar"})}),n.reverse(),n}triggerEnumTooltipTimeout(){this._enumTooltipTimeout&&clearTimeout(this._enumTooltipTimeout),this._enumTooltipTimeout=setTimeout(()=>{this._hoveredTooltipEnumBar=null,this._enumTooltipTimeout=null})}getBandWidth(){return this._bandwidth??0}renderBars(t,r,A,i){if(!this._initialData?.length)return;t.selectAll(".krui-chart-stack").remove();let n=r.primaryAxis.type,a=this.getBarsConfigs(n,A,i);if(this.barType==="gradient"){let c=this.colors.length,m=c>1?this.colors.map((h,g)=>({color:h,offset:100/(c-1)*g+"%",stopOpacity:1})):[{offset:"0%",color:this.colors[0],stopOpacity:1},{offset:"100%",color:this.colors[0],stopOpacity:1}];t.append("linearGradient").attr("id",`${this._id}--area-filling`).attr("x1",0).attr("x2",0).attr("y1",0).attr("y2","100%").selectAll("stop").data(m).enter().append("stop").attr("offset",h=>h.offset).attr("stop-color",h=>h.color).attr("stop-opacity",h=>h.stopOpacity)}let o=t.attr("clip-path",`url(#${this.wrap.workgroundClipPathId}`).selectAll(".krui-chart-stack").data(this._stackedData).enter().append("g").attr("class","krui-chart-stack").attr("tooltipData",c=>tt(A,n)?c[2]:c[0]).attr("transform",c=>`translate(0, ${tt(A,n)?A(c[2]):A(c[0])-(this.fixedBarWidth?a.stackWidth:a.stackWidth*this._zoomK)/2})`).on("mouseover",c=>this._hoveredTooltipEnumBar=c.target.parentElement),s=o.selectAll("rect").data(c=>[...c[1]]).enter(),l=-1;if(s.append("rect").attr("class","krui-chart-data-bar").attr("id",(c,m)=>`krui-chart-data-bar-${m}`).attr("x",0).attr("y",(c,m)=>{let h=(a.barWidthCalculated+2*a.barPadding)*m+a.barPadding+a.stackPadding;return tt(A,n)||this.fixedBarWidth?h:h*this._zoomK}).attr("height",()=>tt(A,n)||this.fixedBarWidth?a.barWidthCalculated:a.barWidthCalculated*this._zoomK).attr("width",(c,m)=>{if(m===0&&l++,l===a.activeCount&&(l=0),this._previousData?.length&&this._previousData[l]?.[1]){let h=i.range()[0]-z(i(this._previousData[l][1][m]));return h>0?h:z(i(this._previousData[l][1][m]))}return 0}).attr("rx",`${this.barRadius}px`).attr("ry",`${this.barRadius}px`).attr("fill",(c,m)=>this.barType==="solidColor"?this.colors[m]:`url(#${this._id}--area-filling)`).attr("stroke",(c,m)=>this.barBorder?this.barBorderColors[m]:"none").attr("opacity",(c,m)=>c?this.barsOpacity[m]?this.barsOpacity[m]:this.barOpacity:0),n==="enum"||this.tooltipHoverEffect){let c=o.append("rect").attr("class","krui-chart-tooltip-bar").attr("id",(m,h)=>`krui-chart-tooltip-bar-${h}`).attr("x",0).attr("y",0).attr("height",a.stackWidth*this._zoomK).attr("width",i.range()[1]+this.workgroundPadding.right).attr("opacity","0.1").attr("fill","transparent");this.tooltipHoverEffect&&c.on("mouseenter",m=>{t.select(`#${m.target.id}`).attr("fill",this.tooltipHoverColor)}).on("mouseleave",m=>{t.select(`#${m.target.id}`).attr("fill","transparent")}),this.wrap.svg.select(`#${this.layerDirective.layerId}`).on("mouseleave",()=>this.triggerEnumTooltipTimeout())}if(s.selectAll("rect.krui-chart-data-bar").transition().duration(this.animationType==="none"?0:this._tempDurationAnimation).attr("x",i.range()[0]).attr("width",c=>{if(!c)return 0;let m=i.range()[0]-z(i(c));return m>0?m:z(i(c))}),this.showValues){let c=-1;s.append("text").attr("class","krui-chart-stack-text").attr("id",(m,h)=>`krui-chart-stack-text-${h}`).attr("x",(m,h)=>(h===0&&c++,c===a.activeCount&&(c=0),this._previousData?.length&&this._previousData[c]?.[1]?Kn(this.valuePosition,this.valuesFontSizePx,i,this._previousData[c][1][h]):i.range()[0])).attr("y",(m,h)=>{let g=(a.barWidthCalculated+2*a.barPadding)*h+a.barWidthCalculated/2+a.barPadding+a.stackPadding;return tt(A,n)||this.fixedBarWidth?g:g*this._zoomK}).text(m=>isNaN(m)||m===null?null:this.showEnumValues&&tt(A,n)?m:me(m,2)).attr("fill",this.valuesColor).style("font-size",`${this.valuesFontSizePx}px`).style("font-family",this.valuesFontFamily).attr("text-anchor","middle").style("alignment-baseline","middle").transition().duration(this.animationType==="none"?0:this._tempDurationAnimation).attr("x",m=>Kn(this.valuePosition,this.valuesFontSizePx,i,m))}this._data?.forEach((c,m)=>{this.state.get(m)&&this.toggleState(m,!0,0)})}reScaleBars(t,r,A,i){this._context=r,this._target=t;let n=r.primaryAxis.type,a=this.getBarsConfigs(n,A,i);t.selectAll(".krui-chart-stack").attr("transform",o=>`translate(0, ${tt(A,n)?A(o[2]):A(o[0])-(this.fixedBarWidth?a.stackWidth:a.stackWidth*this._zoomK)/2})`),this.scaleBars(a,!0,!0,0)}scaleBars(t,r,A,i){if(r){let n=0;this._target.selectAll(".krui-chart-data-bar").transition().duration(i).attr("y",(a,o)=>{let s=(t.barWidthCalculated+2*t.barPadding)*n+t.barPadding+t.stackPadding;return n++,n===t.groupSize&&(n=0),t.type==="enum"||this.fixedBarWidth?s:s*this._zoomK}).attr("height",(a,o)=>t.type==="enum"||this.fixedBarWidth?t.barWidthCalculated:t.barWidthCalculated*this._zoomK)}A&&this._target.selectAll(".krui-chart-data-bar").transition().duration(i).attr("x",n=>t.secondaryAxis.range()[0]).attr("width",n=>{if(!n)return 0;let a=z(t.secondaryAxis(n))-t.secondaryAxis.range()[0];return a>0?a:z(t.secondaryAxis(n))}),(t.type==="enum"||this.tooltipHoverEffect)&&(this._target.selectAll(".krui-chart-tooltip-bar").attr("x",()=>t.secondaryAxis.range()[0]).attr("height",()=>tt(t.primaryAxis,t.type)||this.fixedBarWidth?t.stackWidth:t.stackWidth*this._zoomK).attr("width",t.secondaryAxis.range()[1]+this.workgroundPadding.right),this.triggerEnumTooltipTimeout()),this.showValues&&this._target.selectAll(".krui-chart-stack").selectAll(".krui-chart-stack-text").transition().duration(i).attr("x",n=>Kn(this.valuePosition,this.valuesFontSizePx,t.secondaryAxis,n)).attr("y",(n,a)=>{let o=(t.barWidthCalculated+2*t.barPadding)*a+t.barWidthCalculated/2+t.barPadding+t.stackPadding;return t.type==="enum"||this.fixedBarWidth?o:o*this._zoomK})}getBarsConfigs(t,r,A){let i=this.getActiveCount(),n=this.getGroupSize(),a,o,s,l,c,m;return t==="enum"?(a=r.bandwidth(),o=a*this._stackWidthPercent/100,s=(a-o)/2,l=o/n,c=l*this._barWidthPercent/100,m=(l-c)/2):(a=this._context.canvasHeight/this._maxDataLength,o=a*this._stackWidthPercent/100,s=(a-o)/2,l=o/n,c=l*this._barWidthPercent/100,m=(l-c)/2),this._bandwidth=a,{type:t,activeCount:i,groupSize:n,stackWidth:a,stackWidthCalculated:o,stackPadding:s,barWidth:l,barWidthCalculated:c,barPadding:m,primaryAxis:r,secondaryAxis:A}}getMaxDataLength(){return Math.max(...this._data?.map(t=>t.length))}getGroupSize(){let t=0;return this._data.forEach((r,A)=>{this.state.get(A)||t++}),t}getActiveCount(){return this._stackedData?.length}static \u0275fac=function(r){return new(r||e)(at(Re,1),at(ae,1),at(ye,1),at(Wr))};static \u0275dir=Kt({type:e,selectors:[["","kruiChartHorizontalComboBar",""]],inputs:{showValues:"showValues",valuesColor:"valuesColor",valuesFontSizePx:"valuesFontSizePx",valuesFontFamily:"valuesFontFamily",captions:"captions",engUnits:"engUnits",durationAnimation:"durationAnimation",durationToggleAnimation:"durationToggleAnimation",animation:"animation",reRangeThenLegendClick:"reRangeThenLegendClick",reRangeThenDataChange:"reRangeThenDataChange",workgroundPadding:"workgroundPadding",useDefaultCheck:"useDefaultCheck",withMinMaxCoef:"withMinMaxCoef",barType:"barType",barOpacity:"barOpacity",barsOpacity:"barsOpacity",barRadius:"barRadius",barBorder:"barBorder",barBorderColors:"barBorderColors",fixedBarWidth:"fixedBarWidth",showEnumValues:"showEnumValues",valuePosition:"valuePosition",animationType:"animationType",tooltipHoverEffect:"tooltipHoverEffect",tooltipHoverColor:"tooltipHoverColor",enablePreviousData:"enablePreviousData",startInNull:"startInNull",color:"color",colors:"colors",inputData:[0,"data","inputData"],inputStackData:[0,"dataStack","inputStackData"],stackWidthPercent:"stackWidthPercent",barWidthPercent:"barWidthPercent"},exportAs:["kruiChartHorizontalComboBar"],standalone:!1,features:[Ot([{provide:Oe,useExisting:e},{provide:Ne,useExisting:e},{provide:Ve,useExisting:e},{provide:Ue,useExisting:e},{provide:We,useExisting:e},{provide:Te,useExisting:e},{provide:Ee,useExisting:e}]),Je]})};var tC={draw:function(e,t){e.moveTo(-t,t),e.lineTo(t,-t),e.moveTo(t,t),e.lineTo(-t,-t),e.closePath()}};var pE=class e{constructor(t,r,A){this.paletteProvider=t;this.wrap=r;this.layerDirective=A;this._defaultColor=this.paletteProvider.nextColor()}_defaultColor;showValues=!1;valuesColor;valuesFontSizePx=12;valuesFontFamily="Tahoma";captions=[""];engUnits=[""];animation=!0;durationAnimation=2e3;durationToggleAnimation=500;state=new Map;opacityState=new Map;reRangeThenLegendClick=!0;reRangeThenDataChange=!0;workgroundPadding={top:5,right:10,left:10,bottom:5};useDefaultCheck=!0;withMinMaxCoef=!1;_minValue=0;_maxValueCurrent=0;_maxValueAbsolute=0;_target;_context;_id;_zoomK=1;_zoomTransform=Ur;interpolateEnable=!1;extendStep=10;_pointMap=new Map;_pointMapSettings=new Map($T());_pointData=[];dataPointType="partial";dataPointColor;dataPointStrokeColor;dataPointMarker="dataPoint";breakPointType="auto";breakPoint=!0;breakPointColor;breakPointStrokeColor;breakPointSize=4;breakPointStrokeSize=0;breakPointLimit=50;breakPointMarker="symbolX";endPoint=!0;endPointSize=2;endPointStrokeSize=7;_hoveredTooltipEnumBar=null;_enumTooltipTimeout;_bandwidth;lineType="line";lineDynamics="curveLinear";lineOpacity=1;lineWidth=2;_tempDurationAnimation=0;_data;_initialData;_extendedData=[];_d3PathLine;_d3PathArea;set setPointMapSettings(t){t?.length&&t.forEach(r=>this._pointMapSettings.set(r.key,Object.assign({},r.opt)))}_color;get color(){return this._color}set color(t){t?this._color=t:this._color=this._defaultColor}_colors;get colors(){return this._colors}set colors(t){t?this._colors=t:this._colors=[this._defaultColor]}set inputData(t){if(!t?.length){this._data=[],this._extendedData=[],this._initialData=[],this._pointData=[];return}let r=[];switch(Object.prototype.toString.call(t[0]?.[0])){case"[object Date]":r=t.map(A=>[A[0].getTime(),A[1],A[2]??null,A[3]??null])?.sort(),this._initialData=t.map(A=>[A[0].getTime(),A[1],A[2]??null,A[3]??null])?.sort(),this._pointData=t.map(A=>[A[0].getTime(),A[1],A[2]??null,A[3]??null]),this._pointData?.sort();break;case"[object String]":r=t.map(A=>[new Date(A[0]).getTime(),A[1],A[2]??null,A[3]??null])?.sort((A,i)=>A[0]-i[0]>=0?1:0),this._initialData=t.map(A=>[new Date(A[0]).getTime(),A[1],A[2]??null,A[3]??null])?.sort((A,i)=>A[0]-i[0]>=0?1:0),this._pointData=t.map(A=>[new Date(A[0]).getTime(),A[1],A[2]??null,A[3]??null]),this._pointData?.sort((A,i)=>A[0]-i[0]>=0?1:0);break;case"[object Number]":r=t.map(A=>[A[0],A[1],A[2]??null,A[3]??null])?.sort((A,i)=>A[0]-i[0]>=0?1:0),this._initialData=t.map(A=>[A[0],A[1],A[2]??null,A[3]??null])?.sort((A,i)=>A[0]-i[0]>=0?1:0),this._pointData=t.map(A=>[A[0],A[1],A[2]??null,A[3]??null]),this._pointData?.sort((A,i)=>A[0]-i[0]>=0?1:0);break}this._data=r.slice(0),r?.length<1e4?(this._extendedData=[],r?.forEach((A,i,n)=>{if(!n[i+1])return;let a,o,s=n[i][1],l=n[i+1][1];a=n[i][0],o=n[i+1][0];let c=(o-a)/this.extendStep,m=(l-s)/this.extendStep,h=c,g=m;for(;h<=o-a&&!(h===0&&o-a===0);)s===null||l===null?this._extendedData.push([a+h,null,A[2]??null,A[3]??null]):this._extendedData.push([a+h,s+g,A[2]??null,A[3]??null]),h=+(h+c).toFixed(2),g=g+m})):this._extendedData=r.slice(),this._getMin(),this._getMaxAbsolute()}ngOnInit(){this._color||(this.color=null),this._colors||(this.colors=null),this.valuesColor||(this.valuesColor=this.color);let t=this.getColor();this.breakPointColor||(this.breakPointColor=t),this.breakPointStrokeColor||(this.breakPointStrokeColor=t),this.useDefaultCheck&&(Object.entries($p())?.forEach(([r,A])=>{(this[r]===null||this[r]===void 0)&&(this[r]=A)}),Object.entries(Jp())?.forEach(([r,A])=>{(this[r]===null||this[r]===void 0)&&(this[r]=A)}));for(let[r,A]of this._pointMapSettings.entries())(!A?.pointColor||A?.pointColor=="auto")&&(A.pointColor=t),(!A?.pointStrokeColor||A?.pointStrokeColor=="auto")&&(A.pointStrokeColor=t),A?.pointColor=="wrapBg"&&(A.pointColor=this.wrap.bgColor),A?.pointStrokeColor=="wrapBg"&&(A.pointStrokeColor=this.wrap.bgColor),(r==="dataPoint"||r==="dataFillPoint"||r==="dataPointReWrite"||r==="dataFillPointReWrite")&&(this.dataPointColor&&(A.pointColor=this.dataPointColor),this.dataPointStrokeColor&&(A.pointStrokeColor=this.dataPointStrokeColor));this._d3PathLine=Un().curve(rr[this.lineDynamics]).x(([r])=>r).y(([,r])=>r).defined((r,A)=>r[0]!=this._minValue&&r[1]!=this._minValue),this.lineType==="area"&&(this._d3PathArea=is().curve(rr[this.lineDynamics]).x(([r])=>r).y0(()=>this._context.secondaryAxis.d3Scale.range()[0]).y1(([,r])=>r).defined((r,A)=>r[0]!=this._minValue&&r[1]!=this._minValue))}ngOnChanges({inputData:t}){t?.isFirstChange()||this.layerDirective.reDraw(null,!1,!0);let r=this.getColor();for(let[A,i]of this._pointMapSettings.entries())(!i?.pointColor||i?.pointColor=="auto")&&(i.pointColor=r),(!i?.pointStrokeColor||i?.pointStrokeColor=="auto")&&(i.pointStrokeColor=r),i?.pointColor=="wrapBg"&&(i.pointColor=this.wrap.bgColor),i?.pointStrokeColor=="wrapBg"&&(i.pointStrokeColor=this.wrap.bgColor);this._tempDurationAnimation=this.durationAnimation}getColor(t=0){return this.lineType==="area"?this.colors?.[t]??this.color:this.color}getDomain(t){return t&&t==="enum"?this._data?.map(r=>r[3]??r[0]?.toString()):this._data?.map(r=>z(r[0]))}getRange(){return[this._minValue,this.reRangeThenLegendClick||this.reRangeThenDataChange?this._maxValueCurrent:this._maxValueAbsolute]}_getMin(){let t=Number.POSITIVE_INFINITY;this._data?.forEach(([r,A])=>{A!=null&&(t=Math.min(t,A))}),t===0?this._minValue=.001:this.withMinMaxCoef?this._minValue=t>0?this.getCoefficient(t,"0")*t:this.getCoefficient(t,"1")*t:this._minValue=t}_getMaxAbsolute(){let t=Number.NEGATIVE_INFINITY;this._data?.forEach(([,r],A)=>{r!=null?t=Math.max(t,r):t=Math.max(t,this._minValue)}),this.withMinMaxCoef?(this._maxValueAbsolute=t>0?this.getCoefficient(t,"1")*t:this.getCoefficient(t,"0")*t,this._maxValueCurrent=t>0?this.getCoefficient(t,"1")*t:this.getCoefficient(t,"0")*t):(this._maxValueAbsolute=t,this._maxValueCurrent=t)}_getMaxCurrent(){if(this.state.get(0)){this._maxValueCurrent=this._minValue;return}let t=Number.NEGATIVE_INFINITY;this._data?.forEach(([,r],A)=>{r!=null?t=Math.max(t,r):t=Math.max(t,this._minValue)}),this.withMinMaxCoef?this._maxValueCurrent=t>0?this.getCoefficient(t,"1")*t:this.getCoefficient(t,"0")*t:this._maxValueCurrent=t}getWorkgroundPadding(){return this.workgroundPadding}getLegendData(){return[{title:kt(this.captions[0]),color:this.getColor(),inactive:this.state.get(0)??!1,type:"single",disabled:!this._initialData?.length,hovered:this.opacityState.get(0)??!1}]}toggleState(t,r,A){if(this.state.set(t,r),this._hoveredTooltipEnumBar=null,this._getMaxCurrent(),A=this.animation?this.durationToggleAnimation:0,r){let i=this.wrap.height,n=[[this._context.primaryAxis.d3Scale.range()[0],this._context.secondaryAxis.d3Scale.range()[0],null,null]];this._target.select(`#${this._id}--points-container`).transition().duration(A).attr("transform",`translate(0, ${i})`),this._target.select(`#${this._id}--labels-container`).transition().duration(A).attr("transform",`translate(0, ${i})`),this._target.select(`#${this._id}--line`).transition().duration(A).attr("d",this._d3PathLine(n)).attr("opacity",0),this.lineType==="area"&&this._target.select(`#${this._id}--line-area`).transition().duration(A).attr("d",this._d3PathArea(n))}else this._target.select(`#${this._id}--line`).attr("opacity",1),this.reScale(this._target,this._context,this._zoomTransform,!0,!0,!0)}toggleOpacity(t,r){this.opacityState.set(t,r)}renderOpacity(t){this.opacityState.get(0)||!this._target||this.opacityState.get(0)||(t?this._target.attr("class","krui-chart-data-layer krui-chart-data-layer--opacity"):this._target.attr("class","krui-chart-data-layer"))}render(t,r,A){if(!this._initialData?.length)return;this._context=r,this._target=t,this._id=A;let i=r.primaryAxis.d3Scale,n=r.secondaryAxis.d3Scale;this.renderPath(t,r,i,n)}reScale(t,r,A,i,n,a){if(!this._initialData?.length||(this._context=r,this._target=t,this._zoomTransform=A,A.k!==this._zoomK&&(this._zoomK=A.k),this.state.get(0)))return;this.interpolateEnable&&this.interpolateData(A.k);let o=r.primaryAxis.type,s=r.primaryAxis.d3Scale,l=r.secondaryAxis.d3Scale;o==="time"||o==="number"?(i&&(s=A.rescaleX(s)),n&&(l=A.rescaleY(l))):o==="enum"&&(this._bandwidth=s?.bandwidth());let c=a?this.durationToggleAnimation:0,m=this.getPoints(s,l,[],tt(s,o));this.getTypesPoints(s,l),t.select(`#${this._id}--line`).transition().duration(c).attr("d",this._d3PathLine(m)),this.lineType==="area"&&t.select(`#${this._id}--line-area`).transition().duration(c).attr("d",this._d3PathArea(m)),o==="enum"&&t.selectAll(".krui-chart-tooltip-bar").attr("width",()=>z(this._bandwidth)).attr("transform",h=>`translate(${z(s(h[3]))}, 0)`),m.length&&this.drawPoints(t,m),this.showValues&&this.drawValues(t,m)}getTooltipData(t,r,A){let i=[{valueTitle:"",color:"",hidden:!0,index:0,title:"",value:null,engUnits:"",type:this.lineType}];if(!this._initialData?.length)return i;let n=r==="dataPoint"?this._initialData:this._extendedData,a=ce(s=>s[0]).center,o=a(n,t);if(o==null)return i;if(r==="fullLine"){if(n.length===0)return i;let s=(t-(n[o+1]?.[0]??n[o]?.[0]))/((n[o+1]?.[0]??n[o]?.[0]+.1)-n[o]?.[0]);if(s>1||s<-2.5||isNaN(s))return i}return[{value:n[o]?.[1],valueTitle:n[o]?.[0],title:kt(this.captions[0]),color:this.getColor(),hidden:this.state.get(0)??!1,index:o,engUnits:this.engUnits[0],type:this.lineType}]}getTooltipTitleEnum(){return this.state.get(0)?null:this._hoveredTooltipEnumBar?.getAttribute("tooltipData")??null}getTooltipDataEnum(t){let r=[{valueTitle:"",color:"",hidden:!0,index:0,title:"",value:null,engUnits:"",type:this.lineType}];if(!this._initialData?.length)return r;let A=this._initialData,i=this._data.findIndex(n=>n[3]===t);return i==null||i===-1?r:[{value:A[i]?.[1],valueTitle:A[i]?.[3],title:kt(this.captions[0]),color:this.getColor(),hidden:this.state.get(0)??!1,index:i,engUnits:this.engUnits[0],type:this.lineType}]}triggerEnumTooltipTimeout(){this._enumTooltipTimeout&&clearTimeout(this._enumTooltipTimeout),this._enumTooltipTimeout=setTimeout(()=>{this._hoveredTooltipEnumBar=null,this._enumTooltipTimeout=null},500)}getBandWidth(){return this._bandwidth??0}renderPath(t,r,A,i){if(!this._initialData?.length)return;let n=r.primaryAxis.type;(this.interpolateEnable||n==="enum")&&setTimeout(()=>this.reScale(t,this._context,Ur,!0,!1,!1));let a=this.getPoints(A,i,[],tt(A,n));this.getTypesPoints(A,i);let o=t.append("clipPath").attr("id",`${this._id}--clipPath-gradient-animation`).append("rect").attr("x",0).attr("y",0).attr("width",0).attr("height",this.wrap.workGroundHeight);if(t.append("path").attr("class","krui-chart-line").attr("id",`${this._id}--line`).attr("stroke",this.color).attr("stroke-width",`${this.lineWidth}px`).attr("opacity",this.lineOpacity).attr("fill","none").attr("d",this._d3PathLine(a)).attr("clip-path",`url(#${this._id}--clipPath-gradient-animation)`),this.lineType==="area"){let s=this.colors.length,l=s>1?this.colors.map((c,m)=>({color:c,offset:100/(s-1)*m+"%",stopOpacity:1})):[{offset:"0%",color:this.colors[0],stopOpacity:1},{offset:"100%",color:this.colors[0],stopOpacity:1}];t.append("linearGradient").attr("id",`${this._id}--area-filling`).attr("x1",0).attr("x2",0).attr("y1",0).attr("y2","100%").selectAll("stop").data(l).enter().append("stop").attr("offset",c=>c.offset).attr("stop-color",c=>c.color).attr("stop-opacity",c=>c.stopOpacity),t.append("path").attr("class","krui-chart-line-area").attr("id",`${this._id}--line-area`).attr("clip-path",`url(#${this._id}--clipPath-gradient-animation)`).attr("fill",`url(#${this._id}--area-filling)`).attr("d",this._d3PathArea(a))}this.showValues&&this.drawValues(t,a),n==="enum"&&(this._bandwidth=A?.bandwidth()*this._zoomK,t.selectAll("tooltip-bars").data(this._data).enter().append("rect").attr("class","krui-chart-tooltip-bar").attr("tooltipData",s=>tt(A,n)?s[3]:s[0]).attr("x",0).attr("y",0).attr("height",z(i(this._minValue))).attr("width",z(this._bandwidth)).attr("fill","transparent").on("mouseover",s=>this._hoveredTooltipEnumBar=s.target),this.wrap.svg.select(`#${this.layerDirective.layerId}`).on("mouseleave",()=>this.triggerEnumTooltipTimeout())),a.length&&this.drawPoints(t,a),o.transition().duration(this.animation?this._tempDurationAnimation:0).attr("width",this.wrap.workGroundWidth).ease(pf).on("start",()=>{t.select(`#${this._id}--labels-container`).attr("clip-path",`url(#${this._id}--clipPath-gradient-animation)`),t.select(`#${this._id}--points-container`).attr("clip-path",`url(#${this._id}--clipPath-gradient-animation)`)}).on("end",()=>{t.select(`#${this._id}--line`).attr("clip-path",`url(#${this.wrap.workgroundClipPathId})`),t.select(`#${this._id}--line-area`).attr("clip-path",`url(#${this.wrap.workgroundClipPathId})`),t.select(`#${this._id}--labels-container`).attr("clip-path",this.wrap.borderColor==="transparent"?`url(#${this.wrap.workgroundClipPathOffsetId})`:`url(#${this.wrap.workgroundClipPathId})`),t.select(`#${this._id}--points-container`).attr("clip-path",`url(#${this.wrap.workgroundClipPathId})`)})}drawValues(t,r){t.select(`#${this._id}--labels-container`).remove(),t.append("g").attr("id",`${this._id}--labels-container`).attr("class","krui-chart-labels-container").attr("clip-path",this.wrap.borderColor==="transparent"?`url(#${this.wrap.workgroundClipPathOffsetId})`:`url(#${this.wrap.workgroundClipPathId})`).selectAll(".krui-chart-label").data(r).enter().append("text").attr("class","krui-chart-label").attr("x",i=>i[0]).attr("y",i=>i[1]-15).text((i,n)=>me(this._data[Math.floor(n/2)][1],1)).style("fill",this.valuesColor).style("font-size",`${this.valuesFontSizePx}px`).style("font-family",this.valuesFontFamily).style("text-anchor","middle").style("alignment-baseline","middle")}drawPoints(t,r){t.select(`#${this._id}--points-container`).remove();let A=t.append("g").attr("id",`${this._id}--points-container`).attr("class","krui-chart-points-container").attr("clip-path",`url(#${this.wrap.workgroundClipPathId})`);if(this.breakPointType==="auto"&&this.drawBreakPoint(r,A),this.dataPointType==="all"){let i=this._pointMapSettings.get(this.dataPointMarker);this.drawPointFromConfig(r.slice(0,-2).map(n=>[n[0],n[1]]),A,this.dataPointMarker,i.pointMarkers,i.pointVisible,i.pointColor,i.pointStrokeColor,i.pointSize,i.pointStrokeSize,i.pointLimit)}this.endPoint&&this.drawEndPoint(r[r.length-1],A);for(let[i,n]of this._pointMapSettings.entries())i==="breakPoint"&&this.breakPointType==="auto"||this.drawPointFromConfig(this._pointMap.get(i)??[],A,i,n.pointMarkers,n.pointVisible,n.pointColor,n.pointStrokeColor,n.pointSize,n.pointStrokeSize,n.pointLimit)}drawPointFromConfig(t,r,A,i,n,a,o,s,l,c){!n||t?.length>c||t.forEach((m,h,g)=>{m[1]!=this._minValue&&this.drawSymbol(m,r,i,s,a,o,l,A)})}drawEndPoint([t,r,A,i],n){this.drawSymbol([t,r],n,["symbolCircle"],this.endPointSize,this.color,"none",0,"end"),this.drawSymbol([t,r],n,["symbolCircle"],this.endPointStrokeSize,"none",this.color,1,"end")}drawBreakPoint(t,r){if(!this.breakPoint||this.breakPointMarker==="none")return;let A=[];t.forEach(([i,n],a,o)=>{(i==this._minValue||n==this._minValue)&&(o[a-1]&&o[a-1][1]!=this._minValue&&A.push([o[a-1][0],o[a-1][1]]),o[a+1]&&o[a+1][1]!=this._minValue&&A.push([o[a+1][0],o[a+1][1]]))}),!(A.length>this.breakPointLimit)&&A.forEach(i=>{this.drawSymbol(i,r,[this.breakPointMarker],this.breakPointSize,this.breakPointColor,this.breakPointStrokeColor,this.breakPointStrokeSize,"break")})}drawSymbol(t,r,A,i,n,a,o,s){A.forEach(l=>{switch(l){case"symbolX":r.append("rect").attr("x",t[0]-i*2).attr("y",t[1]-i*2).attr("width",i*4).attr("height",i*4).attr("class",`krui-chart-${s}-point-bg`).attr("fill",this.wrap.bgColor),r.append("path").attr("d",Ga().type(tC).size(i)).attr("class",`krui-chart-${s}-point`).attr("transform",`translate(${t[0]}, ${t[1]})`).attr("stroke",a).attr("opacity",-.5).transition().duration(this.animation?this._tempDurationAnimation:0).attr("opacity",1);break;case"symbolXTransparentBg":r.append("path").attr("d",Ga().type(tC).size(i)).attr("class",`krui-chart-${s}-point`).attr("transform",`translate(${t[0]}, ${t[1]})`).attr("stroke",a).attr("stroke-width",o);break;case"symbolArrow":r.append("path").attr("d",()=>t[1]<i*3?"M -5 -1 C -3.8 0.2 -2.4 1.1 -0.7 1.4 C 1.5 1.6 3.7 0.7 5 -1 L 4 -1 C 3 0 2 1 0 1 C -2 1 -3 0 -4 -1 L -5 -1 M 5.5 2.5 V -1.5 L 1.5 -1.5 L 2 -1 L 5 -1 V 2 L 5.5 2.5 M 0 1":"M -5 1 C -3.8 -0.2 -2.4 -1.1 -0.7 -1.4 C 1.5 -1.6 3.7 -0.7 5 1 L 4 1 C 3 0 2 -1 0 -1 C -2 -1 -3 0 -4 1 L -5 1 M 5.5 -2.5 V 1.5 L 1.5 1.5 L 2 1 L 5 1 V -2 L 5.5 -2.5 M 0 -1").attr("class",`krui-chart-${s}-point`).attr("transform",()=>t[1]<i*3?`translate(${t[0]},${t[1]+2*i})`:`translate(${t[0]},${t[1]-2*i})`).attr("stroke",this.wrap.bgColor).attr("stroke-width",o+3),r.append("path").attr("d",()=>t[1]<i*3?"M -5 -1 C -3.8 0.2 -2.4 1.1 -0.7 1.4 C 1.5 1.6 3.7 0.7 5 -1 L 4 -1 C 3 0 2 1 0 1 C -2 1 -3 0 -4 -1 L -5 -1 M 5.5 2.5 V -1.5 L 1.5 -1.5 L 2 -1 L 5 -1 V 2 L 5.5 2.5 M 0 1":"M -5 1 C -3.8 -0.2 -2.4 -1.1 -0.7 -1.4 C 1.5 -1.6 3.7 -0.7 5 1 L 4 1 C 3 0 2 -1 0 -1 C -2 -1 -3 0 -4 1 L -5 1 M 5.5 -2.5 V 1.5 L 1.5 1.5 L 2 1 L 5 1 V -2 L 5.5 -2.5 M 0 -1").attr("class",`krui-chart-${s}-point`).attr("transform",()=>t[1]<i*3?`translate(${t[0]},${t[1]+2*i})`:`translate(${t[0]},${t[1]-2*i})`).attr("stroke",a).attr("stroke-width",o);break;default:r.append("path").attr("class",`krui-chart-${s}-point`).attr("d",Ga().type(rr[l]).size(i*10)).attr("transform",`translate(${t[0]},${t[1]})`).attr("fill",n).attr("stroke",a).attr("stroke-width",o);break}})}getPoints(t,r,A=[],i=!1){let[n,a]=A;return this._data.slice(n,a).map(([o,s,l,c])=>i?(c===null||s===null)&&this.breakPoint?[[z(t(c))+(this._bandwidth??0)/2,this._minValue,l,c]]:[[z(t(c))+(this._bandwidth??0)/2,z(r(s)),l,c],[z(t(c))+(this._bandwidth??0)/2,z(r(s)),l,c]]:(o===null||s===null)&&this.breakPoint?[[z(t(o)),this._minValue,l,c]]:[[z(t(o)),z(r(s)),l,c],[z(t(o)),z(r(s)),l,c]]).flat()}getTypesPoints(t,r){this._pointMap.clear(),this._pointData.forEach(([A,i,n,a],o)=>{if(n){if(i===null)this._pointData[o][1]=z(r(this._minValue));else{let s=this._pointMap.get(n)??[];s.push([z(t(A)),z(r(i))]),this._pointMap.set(n,s)}n==="breakPoint"&&this.breakPointType==="config"&&(this._data[o][1]=null)}})}getCoefficient(t,r="1"){let A=t.toString().split(".")[0].length;return+`${r}.${"".padStart(A-2,"0")}2`}interpolateData(t){if(this._initialData?.length<2e3)return;let r=1;if(t<2?r=16:t<4?r=8:t<8?r=4:t<16?r=2:r=1,r==1){this._data=this._initialData.slice(0).map(i=>[i[0],i[1],i[2],i[3]]);return}let A=[];this._initialData.forEach((i,n)=>{n%r==1&&A.push([i[0],i[1],i[2],i[3]])}),this._data=A}static \u0275fac=function(r){return new(r||e)(at(Re,1),at(ae,1),at(ye,1))};static \u0275dir=Kt({type:e,selectors:[["","kruiChartLine",""]],inputs:{showValues:"showValues",valuesColor:"valuesColor",valuesFontSizePx:"valuesFontSizePx",valuesFontFamily:"valuesFontFamily",captions:"captions",engUnits:"engUnits",animation:"animation",durationAnimation:"durationAnimation",durationToggleAnimation:"durationToggleAnimation",reRangeThenLegendClick:"reRangeThenLegendClick",reRangeThenDataChange:"reRangeThenDataChange",workgroundPadding:"workgroundPadding",useDefaultCheck:"useDefaultCheck",withMinMaxCoef:"withMinMaxCoef",interpolateEnable:"interpolateEnable",extendStep:"extendStep",dataPointType:"dataPointType",dataPointColor:"dataPointColor",dataPointStrokeColor:"dataPointStrokeColor",dataPointMarker:"dataPointMarker",breakPointType:"breakPointType",breakPoint:"breakPoint",breakPointColor:"breakPointColor",breakPointStrokeColor:"breakPointStrokeColor",breakPointSize:"breakPointSize",breakPointStrokeSize:"breakPointStrokeSize",breakPointLimit:"breakPointLimit",breakPointMarker:"breakPointMarker",endPoint:"endPoint",endPointSize:"endPointSize",endPointStrokeSize:"endPointStrokeSize",lineType:"lineType",lineDynamics:"lineDynamics",lineOpacity:"lineOpacity",lineWidth:"lineWidth",setPointMapSettings:"setPointMapSettings",color:"color",colors:"colors",inputData:[0,"data","inputData"]},exportAs:["kruiChartLine"],standalone:!1,features:[Ot([{provide:Oe,useExisting:e},{provide:Ne,useExisting:e},{provide:Ve,useExisting:e},{provide:Ue,useExisting:e},{provide:We,useExisting:e},{provide:Te,useExisting:e},{provide:Ee,useExisting:e}]),Je]})};var dE=(e=>(e["var(--color-text-contrast)"]="#ffffff",e["var(--color-background-main)"]="#22262f",e["var(--color-borders-light)"]="#3e4859",e["var(--color-borders-stroke)"]="#2c333d",e["var(--color-borders-icons)"]="#a0b0c9",e["var(--color-color-12)"]="#d6dbe5",e["var(--color-logo)"]="#5A72FF",e))(dE||{}),mE=(e=>(e["var(--color-text-contrast)"]="#181d25",e["var(--color-background-main)"]="#f9fafb",e["var(--color-borders-light)"]="#e5e9f2",e["var(--color-borders-stroke)"]="#d3d9e4",e["var(--color-borders-icons)"]="#b5c1d0",e["var(--color-color-12)"]="#98a6ba",e["var(--color-logo)"]="#5A72FF",e))(mE||{}),md=class e{darkColors=this.parseEnum(dE);lightColors=this.parseEnum(mE);setNewColorPair(t){if(!(t?.cssColor&&t?.darkValue&&t?.lightValue))return;let r=this.darkColors.findIndex(i=>i.name===t.cssColor),A=this.lightColors.findIndex(i=>i.name===t.cssColor);r!==-1?this.darkColors[r]={name:t.cssColor,value:t.darkValue}:this.darkColors.push({name:t.cssColor,value:t.darkValue}),A!==-1?this.lightColors[r]={name:t.cssColor,value:t.lightValue}:this.lightColors.push({name:t.cssColor,value:t.lightValue})}getEnumKeyByValue(t,r){let A=Object.values(t).indexOf(r);return Object.keys(t)[A]}parseEnum(t){return Object.values(t).map(r=>({name:this.getEnumKeyByValue(t,r),value:r}))}changeColor(t,r=!0){let A=r?this.darkColors:this.lightColors,i=this.lightColors.findIndex(n=>n.name===t);return i!==-1?A[i].value:A[0].value}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ji({token:e,factory:e.\u0275fac})};var gd=class e{constructor(t,r){this.chartColorParseService=t;this.formBuilder=r}optionsForm;createDefaultData(){return{toolbar:Pp(),tooltip:Rp(),wrapper:Op(),legend:Np(),resizeObserveType:"hostListener",zoomType:"scroll",axisX:PT(),axisY:RT(),gridX:VT(),gridY:WT(),layer:zp(),lineLayer:{config:Jp(),common:$p()},barLayer:{config:ni(),common:yu()},comboBarLayer:{config:cs(),common:mA()},stackBarLayer:{config:fs(),common:yu()}}}createSettingFormDefault(){return this.createSettingForm(this.createDefaultData())}createSettingForm(t){return this.optionsForm=this.formBuilder.group({toolbar:this.formBuilder.group(this.createFormObject(t?.toolbar,kp)),tooltip:this.formBuilder.group(this.createFormObject(t?.tooltip,Lp)),wrapper:this.formBuilder.group(this.createFormObject(t?.wrapper,Hp)),legend:this.formBuilder.group(this.createFormObject(t?.legend,Mp)),resizeObserveType:t?.resizeObserveType??"hostListener",zoomType:t?.zoomType??"scroll",axisX:this.formBuilder.group(this.createFormObject(t?.axisX,Ep)),axisY:this.formBuilder.group(this.createFormObject(t?.axisY,Kp)),gridX:this.formBuilder.group(this.createFormObject(t?.gridX,Vp)),gridY:this.formBuilder.group(this.createFormObject(t?.gridY,Wp)),layer:this.formBuilder.group(this.createFormObject(t?.layer,Gp)),lineLayer:this.formBuilder.group({config:this.formBuilder.group(this.createFormObject(t?.lineLayer?.config,Yp)),common:this.formBuilder.group(this.createFormObject(t?.lineLayer?.common,Xp))}),barLayer:this.formBuilder.group({config:this.formBuilder.group(this.createFormObject(t?.barLayer?.config,Dp)),common:this.formBuilder.group(this.createFormObject(t?.barLayer?.common,Tr))}),comboBarLayer:this.formBuilder.group({config:this.formBuilder.group(this.createFormObject(t?.comboBarLayer?.config,Ip)),common:this.formBuilder.group(this.createFormObject(t?.comboBarLayer?.common,Tr))}),stackBarLayer:this.formBuilder.group({config:this.formBuilder.group(this.createFormObject(t?.stackBarLayer?.config,Sp)),common:this.formBuilder.group(this.createFormObject(t?.stackBarLayer?.common,Tr))})}),this.optionsForm}patchSettingForm(t){return this.optionsForm?.patchValue(this.createFormObjects(t)),this.getSettingForm()}getSettingForm(){return this.optionsForm?this.optionsForm:this.createSettingFormDefault()}compareAndDeleteKey(t,r=!0){let A=this.createDefaultData(),i=(n,a)=>{if(!(n==null||a===null||a===void 0))for(let o in n){let s=n[o],l=a[o];typeof s=="object"?i(s,l):typeof s!="object"&&(l===null&&l===void 0&&delete a[o],(s===l||/var(.*)/i.test(s)&&this.chartColorParseService.changeColor(s,r)===l)&&delete a[o]),typeof a[o]=="object"&&a[o]&&Object.keys(a[o]).length===0&&delete a[o]}};return i(A,t),t}createFormObjects(t){return{toolbar:this.createFormObject(t?.toolbar,kp),tooltip:this.createFormObject(t?.tooltip,Lp),wrapper:this.createFormObject(t?.wrapper,Hp),legend:this.createFormObject(t?.legend,Mp),resizeObserveType:t?.resizeObserveType??"hostListener",zoomType:t?.zoomType??"scroll",axisX:this.createFormObject(t?.axisX,Ep),axisY:this.createFormObject(t?.axisY,Kp),gridX:this.createFormObject(t?.gridX,Vp),gridY:this.createFormObject(t?.gridY,Wp),layer:this.createFormObject(t?.layer,Gp),lineLayer:{config:this.createFormObject(t?.lineLayer?.config,Yp),common:this.createFormObject(t?.lineLayer?.common,Xp)},barLayer:{config:this.createFormObject(t?.barLayer?.config,Dp),common:this.createFormObject(t?.barLayer?.common,Tr)},comboBarLayer:{config:this.createFormObject(t?.comboBarLayer?.config,Ip),common:this.createFormObject(t?.comboBarLayer?.common,Tr)},stackBarLayer:{config:this.createFormObject(t?.stackBarLayer?.config,Sp),common:this.createFormObject(t?.stackBarLayer?.common,Tr)}}}createFormObject(t,r){if(t==null)return r;let A={};for(let i in r)t?.[i]===null||t?.[i]===void 0?A[i]=r[i]:A[i]=t[i];return A}static \u0275fac=function(r){return new(r||e)(no(ps),no(Tw))};static \u0275prov=ji({token:e,factory:e.\u0275fac})};var Bd=class e{getStackDataFromArray(t){let r=new Map;return t.forEach(A=>{A.forEach((i,n)=>{let a=r.get(n);a?a[1].push(i[1]):r.set(n,[i[0],[i[1]],i[2]??n+1])})}),Array.from(r.values())}getArrayDataFromStack(t){let r=new Map;return t?.[0]?.[1]?.forEach((A,i)=>r.set(i,[])),t?.forEach((A,i)=>{A[1].forEach((n,a)=>{r.get(a)?.push([A[0],n,A[2]])})}),Array.from(r.values())}getCalculatedStack(t,r,A,i){let n=r[1].reduce((l,c)=>l+c),a=r[1].map(l=>+me(l*100/n,2)),s=+(100-a.reduce((l,c)=>l+c)).toFixed(2);return{initial:r[1],calculated:t==="stackBar"?this.stackValues(r[1],A):this.stackNormValues(r[1],A,i),normalized:a,calculatedNormalized:t==="stackBar"?this.stackValues(a,A):this.stackNormValues(a,A,i),delta:s,isSetted:!1,enum:r?.[2]?r[2]:""}}stackValues(t,r){let A=[],i=0;for(let n of t)A.push([i,i+=n,r]);return A}stackNormValues(t,r,A){let i=t.reduce((a,o)=>a+o,0),n=me(A/(i===0?A:i),2);return t.map(a=>a*n).reduce((a,o,s)=>[...a,s?[a[s-1][1],o+a[s-1][1],r]:[0,o,r]],[])}checkValueOrder(t){return t[0]>t[1]?t.reverse():t}checkValueOrderStack(t){return t.map(r=>this.checkValueOrder(r))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ji({token:e,factory:e.\u0275fac})};var eC=new Le("KRUI_CHART_POPUP_DIALOG_DATA"),Cd=class{constructor(t){this.overlayRef=t}closeBroadcast$=new Nn;close(t){this.overlayRef.dispose(),this.closeBroadcast$.next(t)}afterClosed(){return this.closeBroadcast$.asObservable()}},bd=class e{constructor(t,r){this.overlay=t;this.injector=r}open(t,r,A={}){let i=this.createOverlay(A),n=new Cd(i);return this.attachDialogContainer(i,t,r,n),nw(iw(document,"keydown").pipe(Ji(n.afterClosed()),fc(a=>a.keyCode===27)),i.backdropClick()).subscribe(()=>n.close(null)),{popupRef:n,overlayRef:i}}createOverlay(t){let r=this.getOverlayConfig(t);return this.overlay.create(r)}attachDialogContainer(t,r,A,i){let n=hc.create({providers:[{provide:Cd,useValue:i},{provide:eC,useValue:A}],parent:this.injector}),a=new Bc(r,null,n);return t.attach(a).instance}getOverlayConfig({width:t,height:r,panelClass:A}){let i=this.overlay.scrollStrategies.reposition(),n=this.overlay.position().global().centerHorizontally().centerVertically();return new vw({panelClass:A??["krui-chart-print-background"],hasBackdrop:!0,backdropClass:"cdk-overlay-transparent-backdrop",height:r??"auto",width:t??"auto",scrollStrategy:i,positionStrategy:n})}static \u0275fac=function(r){return new(r||e)(no(Cc),no(hc))};static \u0275prov=ji({token:e,factory:e.\u0275fac})};var bE=ew(gE()),wE=ew(BE());var iO=bc("popup",[lo("void",so({transform:"scale3d(0.75, 0.75, 0.75)",opacity:0})),lo("enter",so({transform:"scale3d(1.0, 1.0, 1.0)",opacity:1})),yc("* => *",wc("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))]),wd=class e{constructor(t,r){this.elementRef=t;this.data=r;this.elementRef.nativeElement.innerHTML=r.html}static \u0275fac=function(r){return new(r||e)(at(Zi),at(eC))};static \u0275cmp=qi({type:e,selectors:[["krui-chart-print"]],standalone:!1,decls:0,vars:0,template:function(r,A){},styles:["[_nghost-%COMP%]{width:100%;height:100%}"],data:{animation:[iO]}})};var CE=class e{constructor(t,r,A,i){this.popupService=t;this.wrap=r;this.document=A;this.elementRef=i}toolbar=!0;toolbarPosition="top";toolbarJustifyContent="flex-end";useDefaultCheck=!0;zoomK=1;zoomArr=[.5,1,2,4,8,16,32];zoom$=new Nn;zoomType;zoomTypeDefault;zoomType$=new Nn;ngOnInit(){this.useDefaultCheck&&Object.entries(Pp())?.forEach(([t,r])=>{(this[t]===null||this[t]===void 0)&&(this[t]=r)})}toolbarZoomIn(){this.zoomK=this.findNearest(this.zoomK)*2,this.zoomK>32&&(this.zoomK=.5),this.zoom$.next(this.zoomK)}toolbarZoomOut(){this.zoomK=this.findNearest(this.zoomK)/2,this.zoomK<.5&&(this.zoomK=32),this.zoom$.next(this.zoomK)}toggleZoomType(t){t!==this.zoomType?this.zoomType=t:this.zoomType="none",this.zoomType$.next(this.zoomType)}toolbarRefresh(){this.zoomK=1,this.zoomType=this.zoomTypeDefault,this.zoomType$.next(this.zoomType)}print(){let t=this.popupService.open(wd,{html:this.elementRef.nativeElement.innerHTML},{width:this.document.defaultView.innerWidth,height:this.document.defaultView.innerHeight,positions:[{originX:"center",originY:"center",overlayX:"center",overlayY:"center"}],hasBackdrop:!0,panelClass:"krui-chart-print-background"});t.popupRef.afterClosed().subscribe(),window.print(),t.popupRef.close(t)}savePng(){return rw(this,null,function*(){let t="#e0e4eb";this.document.querySelector("body")?.className.includes("theme-dark")&&(t="#29303d");let r=yield(0,wE.default)(this.elementRef.nativeElement,{foreignObjectRendering:!1,backgroundColor:t,scale:4}),A=`\u0413\u0440\u0430\u0444\u0438\u043A-${new Date().toLocaleString("ru")}.png`,i=r.toDataURL("image/jpeg",1),n=this.dataURLtoFile(i,A);(0,bE.saveAs)(n,A)})}dataURLtoFile=(t,r)=>{let A=t.split(","),i=A[0].match(/:(.*?);/)[1],n=atob(A[1]),a=n.length,o=new Uint8Array(a);for(;a--;)o[a]=n.charCodeAt(a);return new File([o],r,{type:i})};findNearest(t){return this.zoomArr.reduce((r,A)=>Math.abs(A-t)>Math.abs(r-t)?r:A,0)}static \u0275fac=function(r){return new(r||e)(at(id),at(ae,1),at(Bw),at(Zi))};static \u0275dir=Kt({type:e,selectors:[["krui-chart"]],inputs:{toolbar:"toolbar",toolbarPosition:"toolbarPosition",toolbarJustifyContent:"toolbarJustifyContent",useDefaultCheck:"useDefaultCheck"},standalone:!1,features:[Ot([{provide:td,useExisting:e},{provide:pd,useExisting:e}])]})};var nO=(e,t)=>t==null?null:t.index;function aO(e,t){if(e&1&&(Jt(0,"div",1),Qe(1),qt()),e&2){let r=gt(2).$implicit;jt(),Hs(r.title)}}function oO(e,t){if(e&1&&(Qe(0),Wn(1,"date")),e&2){let r=gt(4).$implicit,A=gt();rA(" ",A.tooltipShowMilliseconds?A.getDateWithMilliseconds(r.value):Ms(1,1,r.value,A.tooltipTitleDateValuePipeFormat)," ")}}function sO(e,t){if(e&1&&(Qe(0),Wn(1,"number")),e&2){let r=gt(4).$implicit,A=gt();rA(" ",Ms(1,1,A.getNumberValue(r.value),A.tooltipNumberValuePipeFormat)," ")}}function lO(e,t){if(e&1&&Qe(0),e&2){let r=gt(4).$implicit;rA(" ",r.value," ")}}function uO(e,t){if(e&1&&Sr(0,oO,2,4)(1,sO,2,4)(2,lO,1,1),e&2){let r;fr((r=t)==="date"?0:r==="number"?1:2)}}function cO(e,t){if(e&1&&(Jt(0,"div",1),Sr(1,uO,3,1),qt()),e&2){let r,A=gt(2).$implicit,i=gt();jt(),fr((r=i.getValueType(A.value))?1:-1,r)}}function fO(e,t){e&1&&Qe(0," \u25AC ")}function hO(e,t){e&1&&Qe(0," \u2509 ")}function pO(e,t){e&1&&Qe(0," \u25FC ")}function dO(e,t){e&1&&Qe(0," \u25FC ")}function mO(e,t){e&1&&Qe(0," \u25A4 ")}function gO(e,t){e&1&&Qe(0," \u25A4 ")}function BO(e,t){if(e&1&&(Qe(0),Wn(1,"date")),e&2){let r=gt(3).$implicit,A=gt(3);rA(" ",Ms(1,1,r.value,A.tooltipDateValuePipeFormat)," ")}}function CO(e,t){if(e&1&&(Qe(0),Wn(1,"number")),e&2){let r=gt(3).$implicit,A=gt(3);rA(" ",Ms(1,1,r.value,A.tooltipNumberValuePipeFormat)," ")}}function bO(e,t){if(e&1&&Qe(0),e&2){let r=gt(3).$implicit;rA(" ",r.value," ")}}function wO(e,t){if(e&1&&Sr(0,BO,2,4)(1,CO,2,4)(2,bO,1,1),e&2){let r;fr((r=t)==="date"?0:r==="number"?1:2)}}function yO(e,t){if(e&1&&(Jt(0,"tr")(1,"td",4),Ls(2,"div",5),qt()(),Jt(3,"tr",6)(4,"td",7)(5,"span"),Sr(6,fO,1,0)(7,hO,1,0)(8,pO,1,0)(9,dO,1,0)(10,mO,1,0)(11,gO,1,0),qt()(),Jt(12,"td",8)(13,"span"),Qe(14),qt()(),Jt(15,"td",7),Sr(16,wO,3,1),Jt(17,"span"),Qe(18),qt()()()),e&2){let r,A,i=gt().$implicit,n=gt(3);jt(5),CA("color",i.color),jt(),fr((r=i.type)==="line"?6:r==="area"?7:r==="gradientArea"?8:r==="bar"?9:r==="stackBar"?10:r==="fullStackBar"?11:-1),jt(8),dw("",i==null?null:i.title,"",n.delimiterSymbol,""),jt(2),fr((A=n.getValueType(i.value))?16:-1,A),jt(2),Hs(i==null?null:i.engUnits)}}function vO(e,t){if(e&1&&(dc(0),Sr(1,yO,19,7),mc()),e&2){let r=t.$implicit;jt(),fr(!(r!=null&&r.hidden)&&(r==null?null:r.value)!==null?1:-1)}}function _O(e,t){if(e&1&&(Sr(0,aO,2,1,"div",1)(1,cO,2,1,"div",1),Jt(2,"table",2),Sr(3,vO,2,1,"ng-container",3),qt()),e&2){let r=gt().$implicit;fr(r!=null&&r.title?0:-1),jt(),fr(r!=null&&r.value?1:-1),jt(2),fi("ngForOf",r==null?null:r.rows)}}function xO(e,t){if(e&1&&(Jt(0,"div",0),Sr(1,_O,4,3),qt()),e&2){let r=t.$implicit;jt(),fr(r!=null&&r.hidden?-1:1)}}var yd=class e extends dd{getTitle(t){return t?.length>24?t.slice(0,24)+"...":t}static \u0275fac=(()=>{let t;return function(A){return(t||(t=sw(e)))(A||e)}})();static \u0275cmp=qi({type:e,selectors:[["krui-chart-tooltip"]],standalone:!1,features:[cw],decls:2,vars:0,consts:[[1,"krui-chart-tooltip"],[1,"krui-chart-tooltip__header"],[1,"krui-chart-tooltip__list"],[4,"ngFor","ngForOf"],["colspan","3"],[1,"krui-chart-tooltip__delimeter"],[1,"krui-chart-tooltip__list-item"],[1,"krui-chart-tooltip__value"],[1,"krui-chart-tooltip__label"]],template:function(r,A){r&1&&hi(0,xO,2,1,"div",0,nO),r&2&&pi(A.data)},dependencies:[gc,ww,bw],styles:["[_nghost-%COMP%]{padding-left:20px;padding-right:10px}"],data:{animation:[bc("popup",[lo("void",so({opacity:0})),lo("enter",so({opacity:1})),yc("* => *",wc("200ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])]}})};var yE=(e="left")=>e==="left"?[new Xr({originX:"start",originY:"center"},{overlayX:"end",overlayY:"center"}),new Xr({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),new Xr({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),new Xr({originX:"end",originY:"center"},{overlayX:"start",overlayY:"center"})]:e==="right"?[new Xr({originX:"end",originY:"center"},{overlayX:"start",overlayY:"center"}),new Xr({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),new Xr({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),new Xr({originX:"start",originY:"center"},{overlayX:"end",overlayY:"center"})]:[new Xr({originX:"start",originY:"center"},{overlayX:"end",overlayY:"center"}),new Xr({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),new Xr({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),new Xr({originX:"end",originY:"center"},{overlayX:"start",overlayY:"center"})];var vE=class e{constructor(t,r,A){this.wrap=t;this.overlayPositionBuilder=r;this.overlay=A}tooltip=!0;tooltipComponentType="default";tooltipComponent;tooltipType="fullLine";tooltipMarkerType="line";tooltipMarkerCrossSize=10;tooltipColor=Tn;tooltipWidth=1;chartOrientation="vertical";tooltipShowMilliseconds=!1;tooltipDateValuePipeFormat="dd.MM.yyyy HH:mm";tooltipTitleDateValuePipeFormat="dd.MM.yyyy HH:mm:ss";tooltipNumberValuePipeFormat="1.0-0";tooltipTitleNumberValuePipeFormat="1.0-0";useDefaultCheck=!0;_tooltipAttachPoint;_tooltipMarker;_tooltipPositionStrategy;_tooltipOverlayRef;_tooltipRef;_tooltipPortal;_tooltipChartPart="left";_tooltipMouseEventValue=0;layersList;ngOnInit(){this.useDefaultCheck&&Object.entries(Rp())?.forEach(([t,r])=>{(this[t]===null||this[t]===void 0)&&(this[t]=r)})}onGraphMouseEnter(){this.onGraphMouseLeave(),this._tooltipPositionStrategy=this.overlayPositionBuilder.flexibleConnectedTo(this._tooltipAttachPoint?.node()).withPush(!0).withFlexibleDimensions(!1).withPositions(yE(this._tooltipChartPart)),this._tooltipOverlayRef=this.overlay.create({positionStrategy:this._tooltipPositionStrategy,hasBackdrop:!1}),this._tooltipPortal=new Bc(this.tooltipComponentType==="default"?yd:this.tooltipComponent),this._tooltipRef=this._tooltipOverlayRef.attach(this._tooltipPortal),this._tooltipRef.instance.tooltipShowMilliseconds=this.tooltipShowMilliseconds,this._tooltipRef.instance.tooltipDateValuePipeFormat=this.tooltipDateValuePipeFormat,this._tooltipRef.instance.tooltipTitleDateValuePipeFormat=this.tooltipTitleDateValuePipeFormat,this._tooltipRef.instance.tooltipNumberValuePipeFormat=this.tooltipNumberValuePipeFormat,this._tooltipRef.instance.tooltipTitleNumberValuePipeFormat=this.tooltipTitleNumberValuePipeFormat}onGraphMouseMove(t){let r=He(t);t.offsetX||(r=[t.layerX,t.layerY]),this.tooltipType==="fullLine"&&this.highlightTooltipMarker(r[0],r[1],r[0],r[1],this.tooltipColor);let A=[];this.layersList.forEach((o,s)=>{let l=o.getTooltipData(r,this.tooltipType,s);A.push(l?.tooltip),s===0&&this.tooltipType==="dataPoint"&&(this.chartOrientation==="vertical"?this.highlightTooltipMarker(l?.pos,r[1],r[0],r[1],this.tooltipColor):this.highlightTooltipMarker(r[0],l?.pos,r[0],r[1],this.tooltipColor))});let n=t.offsetX/this.wrap.width>.5?"right":"left",a=t.offsetX>=this._tooltipMouseEventValue?"right":"left";a==="left"&&n==="left"?this._tooltipChartPart="right":a==="right"&&n==="left"?this._tooltipChartPart="left":a==="left"&&n==="right"?this._tooltipChartPart="right":a==="right"&&n==="right"&&(this._tooltipChartPart="left"),this._tooltipMouseEventValue=t.offsetX,this._tooltipRef.instance.data=A,this._tooltipOverlayRef?.updatePosition()}onGraphMouseLeave(){this._tooltipRef?.destroy(),this._tooltipOverlayRef?.detach(),this.highlightTooltipMarker(0,0,0,0)}drawTooltipMarker(){let t=[this.wrap.workGroundHeight,0],r=[0,this.wrap.workGroundWidth];this._tooltipAttachPoint=this.wrap.g.append("circle").attr("id",`${this.wrap.id}--tooltip-point`).attr("class","krui-tooltip-point").attr("cx",0).attr("cy",0).attr("r",2).attr("fill","transparent").attr("stroke","transparent").attr("clip-path",`url(#${this.wrap.workgroundClipPathId})`),this.tooltipMarkerType!=="none"&&(this._tooltipMarker=[Dt(`#${this.wrap.id}`).append("line").attr("id",`${this.wrap.id}--tooltip-marker-x`).attr("class","krui-tooltip-line").attr("x1",0).attr("x2",0).attr("y1",0).attr("y2",0).attr("fill","transparent").attr("stroke","transparent").attr("stroke-width",this.tooltipWidth).attr("clip-path",`url(#${this.wrap.workgroundClipPathId})`),Dt(`#${this.wrap.id}`).append("line").attr("id",`${this.wrap.id}--tooltip-marker-y`).attr("class","krui-tooltip-line").attr("x1",0).attr("x2",0).attr("y1",0).attr("y2",0).attr("fill","transparent").attr("stroke","transparent").attr("stroke-width",this.tooltipWidth).attr("clip-path",`url(#${this.wrap.id}-clipPath)`)],this.tooltipMarkerType==="line"&&this._tooltipMarker[0].attr("y1",t[0]).attr("y2",t[1]),this.tooltipMarkerType==="fullscreenCross"&&this._tooltipMarker[1].attr("x1",r[0]).attr("x2",r[1]))}highlightTooltipMarker(t=0,r=0,A,i,n="transparent"){let a=[this.wrap.workGroundHeight,0],o=[0,this.wrap.workGroundWidth];switch(this._tooltipAttachPoint.attr("cx",A).attr("cy",i-5),this.tooltipMarkerType){case"line":this._tooltipMarker[0].attr("x1",t).attr("x2",t).attr("y1",a[0]).attr("y2",a[1]).attr("stroke",n);break;case"horizontal-line":this._tooltipMarker[1].attr("x1",o[0]).attr("x2",o[1]).attr("y1",r).attr("y2",r).attr("stroke",n);break;case"smallCross":this._tooltipMarker[0].attr("x1",t-this.tooltipMarkerCrossSize).attr("x2",t+this.tooltipMarkerCrossSize).attr("y1",r).attr("y2",r).attr("stroke",n),this._tooltipMarker[1].attr("x1",t).attr("x2",t).attr("y1",r-this.tooltipMarkerCrossSize).attr("y2",r+this.tooltipMarkerCrossSize).attr("stroke",n);break;case"fullscreenCross":this._tooltipMarker[0].attr("x1",t).attr("x2",t).attr("y1",a[0]).attr("y2",a[1]).attr("stroke",n),this._tooltipMarker[1].attr("y1",o[0]).attr("y2",o[1]).attr("y1",r).attr("y2",r).attr("stroke",n);break}}static \u0275fac=function(r){return new(r||e)(at(ae,1),at(_w),at(Cc))};static \u0275dir=Kt({type:e,selectors:[["krui-chart"]],contentQueries:function(r,A,i){if(r&1&&di(i,ye,4),r&2){let n;kr(n=Lr())&&(A.layersList=n)}},inputs:{tooltip:"tooltip",tooltipComponentType:"tooltipComponentType",tooltipComponent:"tooltipComponent",tooltipType:"tooltipType",tooltipMarkerType:"tooltipMarkerType",tooltipMarkerCrossSize:"tooltipMarkerCrossSize",tooltipColor:"tooltipColor",tooltipWidth:"tooltipWidth",chartOrientation:"chartOrientation",tooltipShowMilliseconds:"tooltipShowMilliseconds",tooltipDateValuePipeFormat:"tooltipDateValuePipeFormat",tooltipTitleDateValuePipeFormat:"tooltipTitleDateValuePipeFormat",tooltipNumberValuePipeFormat:"tooltipNumberValuePipeFormat",tooltipTitleNumberValuePipeFormat:"tooltipTitleNumberValuePipeFormat",useDefaultCheck:"useDefaultCheck"},standalone:!1,features:[Ot([{provide:hd,useExisting:e},{provide:hs,useExisting:e}])]})};var _E=class e{constructor(t){this.el=t}marginLeft=12;marginRight=12;marginBottom=12;marginTop=12;bgColor=wu;borderColor=Vr;borderRadius=4;smartScrollEnable=!1;smartScrollHeight=42;smartScrollColor=ne;language="ru";formatFunc=null;setDefIfContainerSizeInvalid=!1;useDefaultCheck=!0;legendHeight=18;toolbarHeight=0;reSize$=new ks(null);axisCounter={left:0,right:0,top:0,bottom:0};axisLevelMap=new Map;isFixedSize=!1;_canvas=null;get canvas(){return this._canvas}_svg;get svg(){return this._svg}_g;get g(){return this._g}_id="krui-chart-"+Date.now();get id(){return this._id}_width;get width(){return this._width}set width(t){this._width=t}_height;get height(){return this._height}set height(t){this._height=t-this.legendHeight-this.toolbarHeight}set _isFixedSize(t){this.isFixedSize=t,t&&(this._width||(this.width=800),this._height||(this.height=600))}get svgWidth(){return this._width}get svgHeight(){return this._height-this.legendHeight}get offsetWidth(){return this.svgWidth-this.marginLeft-this.marginRight}get offsetHeight(){return this.svgHeight-this.marginBottom-this.marginTop}get workGroundWidth(){return this.svgWidth-this.marginLeft-this.marginRight-(this.axisCounter.left+this.axisCounter.right)*40}get workGroundHeight(){return this.svgHeight-this.marginBottom-this.marginTop-(this.axisCounter.bottom+this.axisCounter.top)*20}get offsetMarginTop(){return this.marginTop+this.axisCounter.top*20}get offsetMarginRight(){return this.marginRight+this.axisCounter.right*40}get offsetMarginBottom(){return this.marginBottom+this.axisCounter.bottom*20}get offsetMarginLeft(){return this.marginLeft+this.axisCounter.left*40}set customResize(t){!t?.width||!t?.height||this.onResize(t)}get workgroundClipPathId(){return`${this._id}--clipPath-workground`}get workgroundClipPathOffsetId(){return`${this._id}--clipPath-workground-offset`}get clipPathOffsetId(){return`${this._id}--clipPath--offset`}ngOnInit(){this.useDefaultCheck&&Object.entries(Op())?.forEach(([t,r])=>{(this[t]===null||this[t]===void 0)&&(this[t]=r)})}onResize(t){this.isFixedSize||(this.width=t?.width,this.height=t?.height,this._height<=0&&this.setDefIfContainerSizeInvalid&&(this._height=600),this._width<=0&&this.setDefIfContainerSizeInvalid&&(this._width=800),this.resizeTrigger())}refreshMarginAxis(){this.axisCounter={left:0,right:0,top:0,bottom:0},this.axisLevelMap=new Map}createCanvas(){this._canvas&&this._svg.remove();let t=this.el.nativeElement;this._width||(this.width=this.el.nativeElement.offsetWidth),this._height||(this.height=this.el.nativeElement.offsetHeight),this.height<=0&&this.setDefIfContainerSizeInvalid&&(this._height=600),this.width<=0&&this.setDefIfContainerSizeInvalid&&(this._width=800),this._svg=Dt(t).append("svg"),this.isFixedSize?this._svg.attr("id",`${this._id}--svg`).attr("width",this.svgWidth).attr("height",this.svgHeight+(this.smartScrollEnable?this.smartScrollHeight:0)).attr("preserveAspectRatio","xMidYMid meet").attr("viewBox",`0 0 ${this.svgWidth} ${this.svgHeight}`):this._svg.attr("id",`${this._id}--svg`).attr("width","100%").attr("height","100%").attr("viewBox",`0 0 ${this.svgWidth} ${this.svgHeight}`),this._g=this._svg.attr("order",2).style("order",2).append("g").attr("id",`${this._id}`).attr("transform",`translate(${this.offsetMarginLeft}, ${this.offsetMarginTop})`),this._g.append("clipPath").attr("id",`${this._id}--clipPath-workground`).append("rect").attr("id",`${this._id}--clipPath-workground-rect`).attr("x",0).attr("y",0).attr("width",this.workGroundWidth).attr("height",this.workGroundHeight),this._g.append("clipPath").attr("id",`${this._id}--clipPath-workground-offset`).append("rect").attr("id",`${this._id}--clipPath-workground-offset-rect`).attr("x",-8).attr("y",-8).attr("width",this.workGroundWidth+8*2).attr("height",this.workGroundHeight+8*2),this._g.append("clipPath").attr("id",`${this._id}--clipPath-offset`).append("rect").attr("id",`${this._id}--clipPath-offset-rect`).attr("x",-this.axisCounter.left*40).attr("y",-this.axisCounter.top*20).attr("width",this.offsetWidth).attr("height",this.offsetHeight),this._g.append("rect").attr("id",`${this._id}--bg-rect`).attr("width",this.workGroundWidth).attr("height",this.workGroundHeight).attr("class","krui-chart-background").attr("rx",this.borderRadius).attr("ry",this.borderRadius).attr("fill",this.bgColor??wu).attr("stroke",this.borderColor??Vr).attr("stroke-width","1px"),this._canvas=this._g.node()}resizeTrigger(){this._svg.attr("viewBox",`0 0 ${this.svgWidth} ${this.svgHeight}`),this._svg.select(`#${this._id}--clipPath-workground-rect`).attr("width",this.workGroundWidth).attr("height",this.workGroundHeight),this._svg.select(`#${this._id}--clipPath-workground-offset-rect`).attr("width",this.workGroundWidth+8*2).attr("height",this.workGroundHeight+8*2),this._svg.select(`#${this._id}--clipPath-offset-rect`).attr("width",this.offsetWidth).attr("height",this.offsetHeight),this._svg.select(`#${this._id}--bg-rect`).attr("width",this.workGroundWidth).attr("height",this.workGroundHeight),this.reSize$.next(!0)}static \u0275fac=function(r){return new(r||e)(at(Zi))};static \u0275dir=Kt({type:e,selectors:[["krui-chart"]],inputs:{marginLeft:"marginLeft",marginRight:"marginRight",marginBottom:"marginBottom",marginTop:"marginTop",bgColor:"bgColor",borderColor:"borderColor",borderRadius:"borderRadius",smartScrollEnable:"smartScrollEnable",smartScrollHeight:"smartScrollHeight",smartScrollColor:"smartScrollColor",language:"language",formatFunc:"formatFunc",setDefIfContainerSizeInvalid:"setDefIfContainerSizeInvalid",useDefaultCheck:"useDefaultCheck",width:"width",height:"height",_isFixedSize:[0,"isFixedSize","_isFixedSize"],customResize:"customResize"},standalone:!1,features:[Ot([{provide:ae,useExisting:e}])]})};var xE=class e{constructor(t,r,A,i){this.paletteProvider=t;this.wrap=r;this.layerDirective=A;this.stackedService=i;this._defaultColor=this.paletteProvider.nextColor()}_defaultColor;showValues=!1;valuesColor=we;valuesFontSizePx=12;valuesFontFamily="Tahoma";captions=[""];engUnits=[""];durationAnimation=1e3;durationToggleAnimation=500;animation=!0;state=new Map;opacityState=new Map;reRangeThenLegendClick=!0;reRangeThenDataChange=!1;workgroundPadding={top:5,right:10,left:10,bottom:0};useDefaultCheck=!0;withMinMaxCoef=!1;_minValue=0;_maxValueCurrent=0;_maxValueAbsolute=0;_target;_context;_id;_zoomK=1;_hoveredTooltipEnumBar=null;_enumTooltipTimeout;_bandwidth;barType="solidColor";barOpacity=1;barsOpacity=[];barRadius=0;barBorder=!1;barBorderColors=[];fixedBarWidth=!1;showEnumValues=!1;showStackValues=!1;valuePosition="center";animationType="growth";tooltipHoverEffect=!0;tooltipHoverColor=ne;enablePreviousData=!0;startInNull=!0;stackType="stackBar";_tempDurationAnimation=0;_data;_initialData;_stackedData;_previousStackedData;_maxDataLength=0;_groupSize=0;_dataValueMap=new Map;_color;get color(){return this._color}set color(t){t?this._color=t:this._color=this._defaultColor}_colors;get colors(){return this._colors}set colors(t){if(t)this._colors=t;else for(let r=0;r<this._groupSize;r++)this._colors.push(this.paletteProvider.nextColor())}set inputData(t){if(!t?.length){this._data=[],this._initialData=[];return}switch(Object.prototype.toString.call(t[0]?.[0]?.[0])){case"[object Date]":t=t.map(r=>r.map(A=>[A[0].getTime(),A[1],A[2]??null]).sort((A,i)=>A[0]-i[0]));break;case"[object String]":t=t.map(r=>r.map(A=>[new Date(A[0]).getTime(),A[1],A[2]??null]).sort((A,i)=>A[0]-i[0]));break;case"[object Number]":t.map(r=>r.sort((A,i)=>A[0]-i[0]));break}this.enablePreviousData&&this._stackedData?.length&&(this._previousStackedData=[...this._stackedData]),this._data=t,this._initialData=t,this._groupSize=this._data?.length??0,this._maxDataLength=this.getMaxDataLength(),this._stackedData=this.stackedService.getStackDataFromArray(this._data),this._getMin(),this._getMaxAbsolute()}set inputStackData(t){if(!t?.length){this._data=[],this._initialData=[];return}switch(Object.prototype.toString.call(t[0]?.[0])){case"[object Date]":t=t.map(A=>[A[0].getTime(),A[1],A[2]??null]),t.sort();break;case"[object String]":t=t.map(A=>[new Date(A[0]).getTime(),A[1],A[2]??null]),t.sort();break;case"[object Number]":t.sort((A,i)=>A[0]-i[0]);break}this.enablePreviousData&&this._stackedData?.length&&(this._previousStackedData=[...this._stackedData]);let r=this.stackedService.getArrayDataFromStack(t);this._data=r,this._initialData=r,this._groupSize=this._data?.length??0,this._stackedData=t,this._maxDataLength=this.getMaxDataLength(),this._getMin(),this._getMaxAbsolute()}_barWidthPercent=80;get barWidthPercent(){return this._barWidthPercent}set barWidthPercent(t){t&&(this._barWidthPercent=t,t<0?this._barWidthPercent=0:t>100&&(this._barWidthPercent=100))}ngOnInit(){if(this._color||(this.color=null),this._colors||(this._colors=[]),this._colors?.length<this._groupSize){let t=this._colors?.length;for(;t<this._groupSize&&!(t>20);)this._colors.push(this.paletteProvider.nextColor()),t++}if(this.valuesColor||(this.valuesColor=this.color),this.barBorderColors||(this.barBorderColors=[]),this.barBorderColors.length<this._groupSize){let t=this.barBorderColors.length;for(;this.barBorderColors?.length<this._groupSize&&!(t>20);)this.barBorderColors.push(this._colors[t]),t++}this.useDefaultCheck&&(Object.entries(mA())?.forEach(([t,r])=>{(this[t]===null||this[t]===void 0)&&(this[t]=r)}),Object.entries(fs())?.forEach(([t,r])=>{(this[t]===null||this[t]===void 0)&&(this[t]=r)}))}ngOnChanges({inputData:t,inputStackData:r}){!t?.isFirstChange()&&!r?.isFirstChange()&&this.layerDirective.reDraw(null,!1,!0),this._tempDurationAnimation=this.durationAnimation}getColor(t){return this.colors?.[t]??this.color}getDomain(t){return t&&t==="enum"?this._data?.map(r=>r.map(A=>A[2])).flat():this._data?.map(r=>r.map(A=>z(A[0]))).flat()}getRange(){return[this.startInNull?0:this._minValue,this.reRangeThenLegendClick||this.reRangeThenDataChange?this._maxValueCurrent:this._maxValueAbsolute]}_getMin(){let t=Number.POSITIVE_INFINITY;this._data?.forEach(r=>r.forEach(([A,i])=>{i!=null&&(t=Math.min(t,i))})),t===0?this._minValue=.001:this.withMinMaxCoef?this._minValue=t-t*.001:this._minValue=t}_getMaxAbsolute(){let t=Number.NEGATIVE_INFINITY;this._stackedData?.map(([,r])=>{r!=null?t=Math.max(t,r.reduce((A,i,n)=>A+i,0)):t=Math.max(t,this._minValue)}),this.withMinMaxCoef?(this._maxValueAbsolute=t+t*.001,this._maxValueCurrent=t+t*.001):(this._maxValueAbsolute=t,this._maxValueCurrent=t)}_getMaxCurrent(){let t=Number.NEGATIVE_INFINITY;this._stackedData?.forEach(r=>r.forEach(([,A])=>{A!=null?t=Math.max(t,A.reduce((i,n,a)=>this.state.get(a)?i:i+n,0)):t=Math.max(t,this._minValue)})),this.withMinMaxCoef?this._maxValueCurrent=t+t*.001:this._maxValueCurrent=t}getWorkgroundPadding(t){if(this._initialData?.length){let r=this._data?.[0]?.length,A=this._data?.length,i=t==="enum"?0:this.wrap.workGroundWidth/(r??10)/A;return{top:this.workgroundPadding.top,right:this.workgroundPadding.right+i,bottom:this.workgroundPadding.bottom,left:this.workgroundPadding.left+i}}else return this.workgroundPadding}getLegendData(){return this._data.map((t,r)=>({title:kt(this.captions[r]),color:this.getColor(r),inactive:this.state.get(r)??!1,type:"stack",disabled:!this._initialData?.length,hovered:this.opacityState.get(r)??!1}))}toggleState(t,r,A=this.durationToggleAnimation){this.state.set(t,r),this._hoveredTooltipEnumBar=null,r?(this._target.selectAll(`#krui-chart-data-bar-${t}`).attr("class","krui-chart-data-bar--hidden").transition().duration(A).attr("width",0),this._target.selectAll(`#krui-chart-stack-text-${t}`).attr("class","krui-chart-stack-text--hidden").attr("display","none")):(this._target.selectAll(`#krui-chart-data-bar-${t}`).attr("class","krui-chart-data-bar"),this._target.selectAll(`#krui-chart-stack-text-${t}`).attr("class","krui-chart-stack-text").attr("display","visible")),this.enablePreviousData&&(this._previousStackedData=[...this._stackedData],this._stackedData.forEach((i,n)=>{let a=this._dataValueMap.get(n);a&&this._dataValueMap.set(-n-1,a)})),this.layerDirective.reDraw(null,!1,!0)}toggleOpacity(t,r){this.opacityState.set(t,r)}renderOpacity(t){if(this._target)for(let r=0;r<this._groupSize;r++)!this.opacityState.get(r)&&!this.state.get(r)&&(this._target.selectAll(`#krui-chart-data-bar-${r}`).attr("class",t?"krui-chart-data-bar krui-chart-data-bar--opacity":"krui-chart-data-bar"),this._target.selectAll(`#krui-chart-stack-text-${r}`).attr("class",t?"krui-chart-stack-text krui-chart-stack-text--opacity":"krui-chart-stack-text"))}render(t,r,A){if(!this._initialData?.length)return;this._context=r,this._target=t,this._id=A;let i=r.primaryAxis.d3Scale,n=r.secondaryAxis.d3Scale;this.renderBars(t,r,i,n)}reScale(t,r,A,i,n,a){if(!this._initialData?.length)return;A.k!==this._zoomK&&(this._zoomK=A.k);let o=r.primaryAxis.d3Scale,s=r.secondaryAxis.d3Scale;(r.primaryAxis.type==="time"||r.primaryAxis.type==="number")&&(i&&(o=A.rescaleX(o)),n&&(s=A.rescaleY(s))),a?this.renderBars(t,r,o,s):this.reScaleBars(t,r,o,s)}getTooltipData(t,r,A){let i=[{valueTitle:"",color:"",hidden:!0,index:0,title:"",value:null,engUnits:"",type:"bar"}];if(!this._initialData?.length)return i;let n=this._stackedData,a=ce(l=>l[0]).center,o=a(n,t);if(o==null)return i;if(r!=="dataPoint"){let l=n[o]?.[0],c=n[o+1]?.[0],m=0;if(c?m=(t-c)/(c-l):m=t/l,m>1.2||m<-2.5||isNaN(m))return i}let s=[];return n[o]?.[1]?.forEach((l,c)=>{s.push({value:l,valueTitle:n[o]?.[0],title:kt(this.captions[c]),color:this.getColor(c),hidden:this.state.get(c)??!1,index:o,engUnits:this.engUnits?.[c]??"",type:"bar"})}),s.reverse(),s}getTooltipTitleEnum(){return this.state.get(0)?null:this._hoveredTooltipEnumBar?.getAttribute("tooltipData")??null}getTooltipDataEnum(t){let r=[{valueTitle:"",color:"",hidden:!0,index:0,title:"",value:null,engUnits:"",type:"bar"}];if(!this._initialData?.length)return r;let A=this._stackedData,i=this._stackedData.findIndex(a=>a[2]===t);if(i==null||i===-1)return r;let n=[];return A[i]?.[1]?.forEach((a,o)=>{n.push({value:a,valueTitle:A[i]?.[2],title:kt(this.captions[o]),color:this.getColor(o),hidden:this.state.get(o)??!1,index:i,engUnits:this.engUnits?.[o]??"",type:"bar"})}),n.reverse(),n}triggerEnumTooltipTimeout(){this._enumTooltipTimeout&&clearTimeout(this._enumTooltipTimeout),this._enumTooltipTimeout=setTimeout(()=>{this._hoveredTooltipEnumBar=null,this._enumTooltipTimeout=null})}getBandWidth(){return this._bandwidth??0}renderBars(t,r,A,i){if(!this._initialData?.length)return;t.selectAll(".krui-chart-stack").remove();let n=r.primaryAxis.type,a=this.getBarsConfigs(n,A,i),o=this._stackedData.map(([h,g,C])=>[h,g.map((b,w)=>this.state.get(w)?0:b),C]);if(this.barType==="gradient"){let h=this.colors.length,g=h>1?this.colors.map((C,b)=>({color:C,offset:100/(h-1)*b+"%",stopOpacity:1})):[{offset:"0%",color:this.colors[0],stopOpacity:1},{offset:"100%",color:this.colors[0],stopOpacity:1}];t.append("linearGradient").attr("id",`${this._id}--area-filling`).attr("x1",0).attr("x2",0).attr("y1",0).attr("y2","100%").selectAll("stop").data(g).enter().append("stop").attr("offset",C=>C.offset).attr("stop-color",C=>C.color).attr("stop-opacity",C=>C.stopOpacity)}let s=t.attr("clip-path",`url(#${this.wrap.workgroundClipPathId}`).selectAll(".krui-chart-stack").data(o).enter().append("g").attr("class","krui-chart-stack").attr("tooltipData",h=>tt(A,n)?h[2]:h[0]).attr("transform",h=>`translate(${tt(A,n)?A(h[2]):A(h[0])-(this.fixedBarWidth?a.barWidthCalculated:a.barWidthCalculated*this._zoomK)}, 0)`).on("mouseover",h=>this._hoveredTooltipEnumBar=h.target.parentElement),l=s.selectAll("rect").data((h,g)=>{if(this.enablePreviousData){let b=this._dataValueMap.get(g);b&&this._dataValueMap.set(-g-1,b)}let C=this.stackedService.getCalculatedStack(this.stackType,h,g,this._maxValueCurrent);return this._dataValueMap.set(g,C),C.calculated}).enter(),c=-1,m=-1;if(l.append("rect").attr("class","krui-chart-data-bar").attr("id",(h,g)=>`krui-chart-data-bar-${g}`).attr("x",()=>tt(A,n)?a.barPadding/2:this.fixedBarWidth?a.barWidthCalculated/2:a.barWidthCalculated/2*this._zoomK).attr("y",(h,g)=>{g===0&&c++,c===a.activeCount&&(c=0);let C=this._dataValueMap.get(-c-1)?.calculated[g];return this._previousStackedData?.length&&C?z(i(C[1])):i.range()[0]}).attr("height",(h,g)=>{g===0&&m++,m===a.activeCount&&(m=0);let C=this._dataValueMap.get(-m-1)?.calculated[g];if(this._previousStackedData?.length&&C?.length){let b=z(i(C[0]))-z(i(C[1]));return b>0?b:0}return 0}).attr("width",()=>tt(A,n)||this.fixedBarWidth?a.barWidthCalculated:a.barWidthCalculated*this._zoomK).attr("rx",`${this.barRadius}px`).attr("ry",`${this.barRadius}px`).attr("fill",(h,g)=>this.barType==="solidColor"?this.colors[g]:`url(#${this._id}--area-filling)`).attr("stroke",(h,g)=>this.barBorder?this.barBorderColors[g]:"none").attr("opacity",(h,g)=>h?this.barsOpacity[g]?this.barsOpacity[g]:this.barOpacity:0),n==="enum"||this.tooltipHoverEffect){let h=s.append("rect").attr("class","krui-chart-tooltip-bar").attr("id",(g,C)=>`krui-chart-tooltip-bar-${C}`).attr("x",()=>{if(tt(A,n))return a.barPadding/2;let g=a.barWidthCalculated/2;return this.fixedBarWidth?g:g*this._zoomK}).attr("y",0).attr("height",i.range()[0]).attr("width",()=>tt(A,n)||this.fixedBarWidth?a.barWidthCalculated:a.barWidthCalculated*this._zoomK).attr("opacity","0.1").attr("fill","transparent");this.tooltipHoverEffect&&h.on("mouseenter",g=>{t.select(`#${g.target.id}`).attr("fill",this.tooltipHoverColor)}).on("mouseleave",g=>{t.select(`#${g.target.id}`).attr("fill","transparent")}),this.wrap.svg.select(`#${this.layerDirective.layerId}`).on("mouseleave",()=>this.triggerEnumTooltipTimeout())}if(l.selectAll("rect.krui-chart-data-bar").transition().duration(this.animationType==="none"?0:this._tempDurationAnimation).attr("y",h=>z(i(h[1]))).attr("height",h=>{let g=z(i(h[0]))-z(i(h[1]));return g>0?g:0}),this.showValues){let h=-1,g=-1;l.append("text").attr("class","krui-chart-stack-text").attr("id",(C,b)=>`krui-chart-stack-text-${b}`).attr("x",()=>tt(A,n)?(a.barWidthCalculated+a.barPadding)/2:this.fixedBarWidth?a.barWidthCalculated:a.barWidthCalculated*this._zoomK).attr("y",(C,b)=>{b===0&&h++,h===a.activeCount&&(h=0);let w=this._dataValueMap.get(-h-1)?.calculated[b];return this._previousStackedData?.length&&w?Dn(this.valuePosition,this.valuesFontSizePx,i,w):i.range()[0]}).text((C,b)=>{b===0&&g++;let w=this._dataValueMap.get(g);if(isNaN(C[1])||C===null)return null;if(this.showEnumValues&&tt(A,n))return w?.enum;if(this.stackType==="stackBar"){let v=this.showStackValues?me(C[1],2):me(w?.initial?.[b]??0,2);return isNaN(v)||v===0?null:v}if(this.stackType==="fullStackBar"){if(this.showStackValues)return me(w?.normalized?.[b]??0,1);let v=w?.normalized?.[b]??0;return v!==0&&w&&!w?.isSetted&&(v=+(v+w.delta).toFixed(2),w.isSetted=!0),isNaN(v)||v===0?null:v+"%"}return C[1]}).attr("fill",this.valuesColor).style("font-size",`${this.valuesFontSizePx}px`).style("font-family",this.valuesFontFamily).attr("text-anchor","middle").style("alignment-baseline","middle").transition().duration(this.animationType==="none"?0:this._tempDurationAnimation).attr("y",C=>Dn(this.valuePosition,this.valuesFontSizePx,i,C))}}reScaleBars(t,r,A,i){this._context=r,this._target=t;let n=r.primaryAxis.type,a=this.getBarsConfigs(n,A,i);t.selectAll(".krui-chart-stack").attr("transform",o=>`translate(${tt(A,n)?A(o[2]):A(o[0])-(this.fixedBarWidth?a.barWidthCalculated:a.barWidthCalculated*this._zoomK)}, 0)`),this.scaleBars(a,!0,!0,0)}scaleBars(t,r,A,i){r&&this._target.selectAll(".krui-chart-data-bar").transition().duration(i).attr("x",()=>t.type==="enum"?t.barPadding/2:this.fixedBarWidth?t.barWidthCalculated/2:t.barWidthCalculated/2*this._zoomK).attr("width",()=>t.type==="enum"||this.fixedBarWidth?t.barWidthCalculated:t.barWidthCalculated*this._zoomK),A&&this._target.selectAll(".krui-chart-data-bar").transition().duration(i).attr("y",n=>z(t.secondaryAxis(n[1]))).attr("height",n=>{let a=z(t.secondaryAxis(n[0]))-z(t.secondaryAxis(n[1]));return a>0?a:0}),(t.type==="enum"||this.tooltipHoverEffect)&&(this._target.selectAll(".krui-chart-tooltip-bar").attr("x",()=>tt(t.primaryAxis,t.type)?t.barPadding/2:this.fixedBarWidth?t.barWidthCalculated/2:t.barWidthCalculated/2*this._zoomK).attr("width",()=>tt(t.primaryAxis,t.type)||this.fixedBarWidth?t.barWidthCalculated:t.barWidthCalculated*this._zoomK).attr("height",t.secondaryAxis.range()[0]),this.triggerEnumTooltipTimeout()),this.showValues&&this._target.selectAll(".krui-chart-stack-text").transition().duration(i).attr("x",()=>t.type==="enum"?(t.barWidthCalculated+t.barPadding)/2:this.fixedBarWidth?t.barWidthCalculated:t.barWidthCalculated*this._zoomK).attr("y",n=>Dn(this.valuePosition,this.valuesFontSizePx,t.secondaryAxis,n))}getBarsConfigs(t,r,A){let i=this.getActiveCount(),n=this.getGroupSize(),a,o,s;return t==="enum"?(a=n>0?r.bandwidth():0,o=a*this._barWidthPercent/100,s=a*(1-this._barWidthPercent/100)/2):(a=n>0?this._context.canvasWidth/this._maxDataLength:0,o=a*this._barWidthPercent/100,s=a*(1-this._barWidthPercent/100)/2),this._bandwidth=a,{type:t,activeCount:i,groupSize:n,barWidth:a,barWidthCalculated:o,barPadding:s,primaryAxis:r,secondaryAxis:A}}getMaxDataLength(){return Math.max(...this._data?.map(t=>t.length))}getGroupSize(){let t=0;return this._data.forEach((r,A)=>{this.state.get(A)||t++}),t}getActiveCount(){return this._stackedData?.length}static \u0275fac=function(r){return new(r||e)(at(Re,1),at(ae,1),at(ye,1),at(Wr))};static \u0275dir=Kt({type:e,selectors:[["","kruiChartStackBar",""]],inputs:{showValues:"showValues",valuesColor:"valuesColor",valuesFontSizePx:"valuesFontSizePx",valuesFontFamily:"valuesFontFamily",captions:"captions",engUnits:"engUnits",durationAnimation:"durationAnimation",durationToggleAnimation:"durationToggleAnimation",animation:"animation",reRangeThenLegendClick:"reRangeThenLegendClick",reRangeThenDataChange:"reRangeThenDataChange",workgroundPadding:"workgroundPadding",useDefaultCheck:"useDefaultCheck",withMinMaxCoef:"withMinMaxCoef",barType:"barType",barOpacity:"barOpacity",barsOpacity:"barsOpacity",barRadius:"barRadius",barBorder:"barBorder",barBorderColors:"barBorderColors",fixedBarWidth:"fixedBarWidth",showEnumValues:"showEnumValues",showStackValues:"showStackValues",valuePosition:"valuePosition",animationType:"animationType",tooltipHoverEffect:"tooltipHoverEffect",tooltipHoverColor:"tooltipHoverColor",enablePreviousData:"enablePreviousData",startInNull:"startInNull",stackType:"stackType",color:"color",colors:"colors",inputData:[0,"data","inputData"],inputStackData:[0,"dataStack","inputStackData"],barWidthPercent:"barWidthPercent"},exportAs:["kruiChartStackBar"],standalone:!1,features:[Ot([{provide:Oe,useExisting:e},{provide:Ne,useExisting:e},{provide:Ve,useExisting:e},{provide:Ue,useExisting:e},{provide:We,useExisting:e},{provide:Te,useExisting:e},{provide:Ee,useExisting:e}]),Je]})};var QE=class e{constructor(t,r){this.ngControl=t;this.chartColorParseService=r}isDarkTheme=!0;ngOnInit(){let t=this.ngControl?.value;/var(.*)/i.test(t)&&this.ngControl.control.patchValue(this.chartColorParseService.changeColor(t,this.isDarkTheme),{emitEvents:!1,onlySelf:!0})}static \u0275fac=function(r){return new(r||e)(at(Uw,10),at(ps))};static \u0275dir=Kt({type:e,selectors:[["","kruiChartInputColorWrapper",""]],inputs:{isDarkTheme:"isDarkTheme"},standalone:!1})};var FE=class e{constructor(t,r,A,i){this.paletteProvider=t;this.wrap=r;this.layerDirective=A;this.stackedService=i;this._defaultColor=this.paletteProvider.nextColor()}_defaultColor;showValues=!1;valuesColor=we;valuesFontSizePx=12;valuesFontFamily="Tahoma";captions=[""];engUnits=[""];durationAnimation=2e3;durationToggleAnimation=500;animation=!0;state=new Map;opacityState=new Map;reRangeThenLegendClick=!0;reRangeThenDataChange=!1;workgroundPadding={top:5,right:10,left:10,bottom:0};useDefaultCheck=!0;withMinMaxCoef=!1;_minValue=0;_maxValueCurrent=0;_maxValueAbsolute=0;_target;_context;_id;_zoomK=1;_hoveredTooltipEnumBar=null;_enumTooltipTimeout;_bandwidth;barType="solidColor";barOpacity=1;barRadius=0;barsOpacity=[];barBorder=!1;barBorderColors=[];fixedBarWidth=!1;showEnumValues=!0;valuePosition="center";animationType="growth";tooltipHoverEffect=!0;tooltipHoverColor=ne;enablePreviousData=!0;startInNull=!0;_tempDurationAnimation=0;_data;_initialData;_stackedData;_previousData;_maxDataLength=0;_groupSize=0;_color;get color(){return this._color}set color(t){t?this._color=t:this._color=this._defaultColor}_colors;get colors(){return this._colors}set colors(t){if(t)this._colors=t;else for(let r=0;r<this._groupSize;r++)this._colors.push(this.paletteProvider.nextColor())}set inputData(t){if(!t?.length){this._data=[],this._initialData=[];return}switch(Object.prototype.toString.call(t[0]?.[0]?.[0])){case"[object Date]":t=t.map(r=>r.map(A=>[A[0].getTime(),this.stackedService.checkValueOrder(A[1]),A[2]??null]).sort((A,i)=>A[0]-i[0]));break;case"[object String]":t=t.map(r=>r.map(A=>[new Date(A[0]).getTime(),this.stackedService.checkValueOrder(A[1]),A[2]??null]).sort((A,i)=>A[0]-i[0]));break;case"[object Number]":t.map(r=>r.map(A=>[A[0],this.stackedService.checkValueOrder(A[1]),A[2]??null]).sort((A,i)=>A[0]-i[0]));break}this.enablePreviousData&&this._stackedData?.length&&(this._previousData=[...this._stackedData]),this._data=t,this._initialData=t,this._groupSize=this._data?.length??0,this._stackedData=this.stackedService.getStackDataFromArray(this._data),this._maxDataLength=this.getMaxDataLength(),this._getMin(),this._getMaxAbsolute()}set inputStackData(t){if(!t?.length){this._data=[],this._initialData=[];return}switch(Object.prototype.toString.call(t[0]?.[0])){case"[object Date]":t=t.map(A=>[A[0].getTime(),this.stackedService.checkValueOrderStack(A[1]),A[2]??null]),t.sort();break;case"[object String]":t=t.map(A=>[new Date(A[0]).getTime(),this.stackedService.checkValueOrderStack(A[1]),A[2]??null]),t.sort();break;case"[object Number]":t=t.map(A=>[A[0],this.stackedService.checkValueOrderStack(A[1]),A[2]??null]),t.sort((A,i)=>A[0]-i[0]);break}this.enablePreviousData&&this._stackedData?.length&&(this._previousData=[...this._stackedData]);let r=this.stackedService.getArrayDataFromStack(t);this._data=r,this._initialData=r,this._groupSize=this._data?.length??0,this._stackedData=t,this._maxDataLength=this.getMaxDataLength(),this._getMin(),this._getMaxAbsolute()}_stackWidthPercent=80;get stackWidthPercent(){return this._stackWidthPercent}set stackWidthPercent(t){t&&(this._stackWidthPercent=t,t<0?this._stackWidthPercent=0:t>100&&(this._stackWidthPercent=100))}_barWidthPercent=80;get barWidthPercent(){return this._barWidthPercent}set barWidthPercent(t){t&&(this._barWidthPercent=t,t<0?this._barWidthPercent=0:t>100&&(this._barWidthPercent=100))}ngOnInit(){if(this._color||(this.color=null),this._colors||(this._colors=[]),this._colors?.length<this._groupSize){let t=this._colors?.length;for(;t<this._groupSize&&!(t>20);)this._colors.push(this.paletteProvider.nextColor()),t++}if(this.valuesColor||(this.valuesColor=this.color),this.barBorderColors||(this.barBorderColors=[]),this.barBorderColors.length<this._groupSize){let t=this.barBorderColors.length;for(;this.barBorderColors?.length<this._groupSize&&!(t>20);)this.barBorderColors.push(this._colors[t]),t++}this.useDefaultCheck&&(Object.entries(mA())?.forEach(([t,r])=>{(this[t]===null||this[t]===void 0)&&(this[t]=r)}),Object.entries(cs())?.forEach(([t,r])=>{(this[t]===null||this[t]===void 0)&&(this[t]=r)}))}ngOnChanges({inputData:t,inputStackData:r}){!t?.isFirstChange()&&!r?.isFirstChange()&&this.layerDirective.reDraw(null,!1,!0),this._tempDurationAnimation=this.durationAnimation}getColor(t){return this.colors?.[t]??this.color}getDomain(t){return t&&t==="enum"?this._data?.map(r=>r.map(A=>A[2])).flat():this._data?.map(r=>r.map(A=>z(A[0]))).flat()}getRange(){return[this.startInNull?0:this._minValue,this.reRangeThenLegendClick||this.reRangeThenDataChange?this._maxValueCurrent:this._maxValueAbsolute]}_getMin(){let t=Number.POSITIVE_INFINITY;this._data?.forEach(r=>{r?.forEach(([A,i,n])=>{i==null||(i[0]!=null&&i[1]!=null?t=Math.min(t,...i.flat(1)):i[0]==null&&i[1]!=null?t=Math.min(t,i[1]):i[0]!=null&&i[1]==null&&(t=Math.min(t,i[0])))})}),t===0?this._minValue=.001:this.withMinMaxCoef?this._minValue=t-t*.001:this._minValue=t}_getMaxAbsolute(){let t=Number.NEGATIVE_INFINITY;this._data?.forEach(r=>{r?.forEach(([A,i,n])=>{i==null?t=Math.max(t,this._minValue):i[0]!=null&&i[1]!=null?t=Math.max(t,...i.flat(1)):i[0]==null&&i[1]!=null?t=Math.max(t,i[1]):i[0]!=null&&i[1]==null?t=Math.max(t,i[0]):t=Math.max(t,this._minValue)})}),this.withMinMaxCoef?(this._maxValueAbsolute=t+t*.001,this._maxValueCurrent=t+t*.001):(this._maxValueAbsolute=t,this._maxValueCurrent=t)}_getMaxCurrent(){let t=Number.NEGATIVE_INFINITY;this._data?.forEach((r,A)=>{this.state.get(A)&&r?.forEach(([i,n,a])=>{n==null?t=Math.max(t,this._minValue):n[0]!=null&&n[1]!=null?t=Math.max(t,...n.flat(1)):n[0]==null&&n[1]!=null?t=Math.max(t,n[1]):n[0]!=null&&n[1]==null?t=Math.max(t,n[0]):t=Math.max(t,this._minValue)})}),this.withMinMaxCoef?this._maxValueCurrent=t+t*.001:this._maxValueCurrent=t}getWorkgroundPadding(t){if(this._initialData?.length){let r=this._data?.[0]?.length,A=this._data?.length,i=t==="enum"?0:this.wrap.workGroundWidth/(r??10)/A;return{top:this.workgroundPadding.top,right:this.workgroundPadding.right+i,bottom:this.workgroundPadding.bottom,left:this.workgroundPadding.left+i}}return this.workgroundPadding}getLegendData(){return this._data.map((t,r)=>({title:kt(this.captions[r]),color:this.getColor(r),inactive:this.state.get(r)??!1,type:"stack",disabled:!this._initialData?.length,hovered:this.opacityState.get(r)??!1}))}toggleState(t,r,A=this.durationToggleAnimation){this.state.set(t,r),this._hoveredTooltipEnumBar=null;let i=this._context.primaryAxis.type,n=this._context.primaryAxis.d3Scale,a=this._context.secondaryAxis.d3Scale,o=this.getBarsConfigs(i,n,a);r?(this._target.selectAll(`#krui-chart-data-bar-${t}`).attr("class","krui-chart-data-bar--hidden").transition().duration(A).attr("width",0),this._target.selectAll(`#krui-chart-stack-text-${t}`).attr("class","krui-chart-stack-text--hidden").attr("display","none")):(this._target.selectAll(`#krui-chart-data-bar-${t}`).attr("class","krui-chart-data-bar"),this._target.selectAll(`#krui-chart-stack-text-${t}`).attr("class","krui-chart-stack-text").attr("display","visible")),this.scaleBars(o,!0,!1,A)}toggleOpacity(t,r){this.opacityState.set(t,r)}renderOpacity(t){if(this._target)for(let r=0;r<this._groupSize;r++)!this.opacityState.get(r)&&!this.state.get(r)&&(this._target.selectAll(`#krui-chart-data-bar-${r}`).attr("class",t?"krui-chart-data-bar krui-chart-data-bar--opacity":"krui-chart-data-bar"),this._target.selectAll(`#krui-chart-stack-text-${r}`).attr("class",t?"krui-chart-stack-text krui-chart-stack-text--opacity":"krui-chart-stack-text"))}render(t,r,A){if(!this._initialData?.length)return;this._context=r,this._target=t,this._id=A;let i=r.primaryAxis.d3Scale,n=r.secondaryAxis.d3Scale;this.renderBars(t,r,i,n)}reScale(t,r,A,i,n,a){if(!this._initialData?.length)return;A.k!==this._zoomK&&(this._zoomK=A.k);let o=r.primaryAxis.d3Scale,s=r.secondaryAxis.d3Scale;(r.primaryAxis.type==="time"||r.primaryAxis.type==="number")&&(i&&(o=A.rescaleX(o)),n&&(s=A.rescaleY(s))),a?this.renderBars(t,r,o,s):this.reScaleBars(t,r,o,s)}getTooltipData(t,r,A){let i=[{valueTitle:"",color:"",hidden:!0,index:0,title:"",value:null,engUnits:"",type:"bar"}];if(!this._initialData?.length)return i;let n=this._stackedData,a=ce(l=>l[0]).center,o=a(n,t);if(o==null)return i;if(r!=="dataPoint"){let l=n[o]?.[0],c=n[o+1]?.[0],m=0;if(c?m=(t-c)/(c-l):m=t/l,m>1.2||m<-2.5||isNaN(m))return i}let s=[];return n[o]?.[1]?.forEach((l,c)=>{s.push({value:l,valueTitle:n[o]?.[0],title:kt(this.captions[c]),color:this.getColor(c),hidden:this.state.get(c)??!1,index:o,engUnits:this.engUnits?.[c]??"",type:"bar"})}),s.reverse(),s}getTooltipTitleEnum(){return this.state.get(0)?null:this._hoveredTooltipEnumBar?.getAttribute("tooltipData")??null}getTooltipDataEnum(t){let r=[{valueTitle:"",color:"",hidden:!0,index:0,title:"",value:null,engUnits:"",type:"bar"}];if(!this._initialData?.length)return r;let A=this._stackedData,i=this._stackedData.findIndex(a=>a[2]===t);if(i==null||i===-1)return r;let n=[];return A[i]?.[1]?.forEach((a,o)=>{n.push({value:a,valueTitle:A[i]?.[2],title:kt(this.captions[o]),color:this.getColor(o),hidden:this.state.get(o)??!1,index:i,engUnits:this.engUnits?.[o]??"",type:"bar"})}),n.reverse(),n}triggerEnumTooltipTimeout(){this._enumTooltipTimeout&&clearTimeout(this._enumTooltipTimeout),this._enumTooltipTimeout=setTimeout(()=>{this._hoveredTooltipEnumBar=null,this._enumTooltipTimeout=null})}getBandWidth(){return this._bandwidth??0}renderBars(t,r,A,i){if(!this._initialData?.length)return;t.selectAll(".krui-chart-stack").remove();let n=r.primaryAxis.type,a=this.getBarsConfigs(n,A,i);if(this.barType==="gradient"){let m=this.colors.length,h=m>1?this.colors.map((g,C)=>({color:g,offset:100/(m-1)*C+"%",stopOpacity:1})):[{offset:"0%",color:this.colors[0],stopOpacity:1},{offset:"100%",color:this.colors[0],stopOpacity:1}];t.append("linearGradient").attr("id",`${this._id}--area-filling`).attr("x1",0).attr("x2",0).attr("y1",0).attr("y2","100%").selectAll("stop").data(h).enter().append("stop").attr("offset",g=>g.offset).attr("stop-color",g=>g.color).attr("stop-opacity",g=>g.stopOpacity)}let o=t.attr("clip-path",`url(#${this.wrap.workgroundClipPathId}`).selectAll(".krui-chart-stack").data(this._stackedData).enter().append("g").attr("class","krui-chart-stack").attr("tooltipData",m=>tt(A,n)?m[2]:m[0]).attr("transform",m=>`translate(${tt(A,n)?A(m[2]):A(m[0])-(this.fixedBarWidth?a.stackWidth:a.stackWidth*this._zoomK)/2}, 0)`).on("mouseover",m=>this._hoveredTooltipEnumBar=m.target.parentElement),s=o.selectAll("rect").data(m=>[...m[1]]).enter(),l=-1,c=-1;if(s.append("rect").attr("class","krui-chart-data-bar").attr("id",(m,h)=>`krui-chart-data-bar-${h}`).attr("x",(m,h)=>{let g=(a.barWidthCalculated+2*a.barPadding)*h+a.barPadding+a.stackPadding;return tt(A,n)||this.fixedBarWidth?g:g*this._zoomK}).attr("y",(m,h)=>(h===0&&l++,l===a.activeCount&&(l=0),this._previousData?.length&&this._previousData[l]?.[1]?z(i(this._previousData[l][1][h][1])):i.range()[0])).attr("height",(m,h)=>{if(h===0&&c++,c===a.activeCount&&(c=0),this._previousData?.length&&this._previousData[c]?.[1]){let g=z(i(this._previousData[c][1][h][0]))-z(i(this._previousData[c][1][h][1]));return g>0?g:z(i(this._previousData[c][1][h][0]))}return 0}).attr("width",()=>tt(A,n)||this.fixedBarWidth?a.barWidthCalculated:a.barWidthCalculated*this._zoomK).attr("rx",`${this.barRadius}px`).attr("ry",`${this.barRadius}px`).attr("fill",(m,h)=>this.barType==="solidColor"?this.colors[h]:`url(#${this._id}--area-filling)`).attr("stroke",(m,h)=>this.barBorder?this.barBorderColors[h]:"none").attr("opacity",(m,h)=>m?this.barsOpacity[h]?this.barsOpacity[h]:this.barOpacity:0),n==="enum"||this.tooltipHoverEffect){let m=o.append("rect").attr("class","krui-chart-tooltip-bar").attr("id",(h,g)=>`krui-chart-tooltip-bar-${g}`).attr("x",0).attr("y",0).attr("height",i.range()[0]).attr("width",a.stackWidth*this._zoomK).attr("opacity","0.1").attr("fill","transparent");this.tooltipHoverEffect&&m.on("mouseenter",h=>{t.select(`#${h.target.id}`).attr("fill",this.tooltipHoverColor)}).on("mouseleave",h=>{t.select(`#${h.target.id}`).attr("fill","transparent")}),this.wrap.svg.select(`#${this.layerDirective.layerId}`).on("mouseleave",()=>this.triggerEnumTooltipTimeout())}if(s.selectAll("rect.krui-chart-data-bar").transition().duration(this.animationType==="none"?0:this._tempDurationAnimation).attr("y",m=>z(i(m[1]))).attr("height",m=>{if(!m)return 0;let h=z(i(m[0]))-z(i(m[1]));return h>0?h:z(i(m[1]))}),this.showValues){let m=-1;s.append("text").attr("class","krui-chart-stack-text").attr("id",(h,g)=>`krui-chart-stack-text-${g}`).attr("x",(h,g)=>{let C=(a.barWidthCalculated+2*a.barPadding)*g+a.barWidthCalculated/2+a.barPadding+a.stackPadding;return tt(A,n)||this.fixedBarWidth?C:C*this._zoomK}).attr("y",(h,g)=>(g===0&&m++,m===a.activeCount&&(m=0),this._previousData?.length&&this._previousData[m]?.[1]?Dn(this.valuePosition,this.valuesFontSizePx,i,this._previousData[m][1][g]):i.range()[0])).text(h=>isNaN(h[0])||isNaN(h[1])||h===null?null:this.showEnumValues&&tt(A,n)?h:me(h[1],2)).attr("fill",this.valuesColor).style("font-size",`${this.valuesFontSizePx}px`).style("font-family",this.valuesFontFamily).attr("text-anchor","middle").style("alignment-baseline","middle").transition().duration(this.animationType==="none"?0:this._tempDurationAnimation).attr("y",h=>Dn(this.valuePosition,this.valuesFontSizePx,i,h))}this._data?.forEach((m,h)=>{this.state.get(h)&&this.toggleState(h,!0,0)})}reScaleBars(t,r,A,i){this._context=r,this._target=t;let n=r.primaryAxis.type,a=this.getBarsConfigs(n,A,i);t.selectAll(".krui-chart-stack").attr("transform",o=>`translate(${tt(A,n)?A(o[2]):A(o[0])-(this.fixedBarWidth?a.stackWidth:a.stackWidth*this._zoomK)/2}, 0)`),this.scaleBars(a,!0,!0,0)}scaleBars(t,r,A,i){r&&this._target.selectAll(".krui-chart-stack").selectAll(".krui-chart-data-bar").transition().duration(i).attr("x",(n,a)=>{let o=(t.barWidthCalculated+2*t.barPadding)*a+t.barPadding+t.stackPadding;return t.type==="enum"||this.fixedBarWidth?o:o*this._zoomK}).attr("width",()=>t.type==="enum"||this.fixedBarWidth?t.barWidthCalculated:t.barWidthCalculated*this._zoomK),A&&this._target.selectAll(".krui-chart-data-bar").transition().duration(i).attr("y",n=>z(t.secondaryAxis(n[1]))).attr("height",n=>{if(!n)return 0;let a=z(t.secondaryAxis(n[0]))-z(t.secondaryAxis(n[1]));return a>0?a:z(t.secondaryAxis(n[1]))}),(t.type==="enum"||this.tooltipHoverEffect)&&(this._target.selectAll(".krui-chart-tooltip-bar").attr("height",t.secondaryAxis.range()[0]).attr("width",()=>tt(t.primaryAxis,t.type)||this.fixedBarWidth?t.stackWidth:t.stackWidth*this._zoomK),this.triggerEnumTooltipTimeout()),this.showValues&&this._target.selectAll(".krui-chart-stack").selectAll(".krui-chart-stack-text").transition().duration(i).attr("x",(n,a)=>{let o=(t.barWidthCalculated+2*t.barPadding)*a+t.barWidthCalculated/2+t.barPadding+t.stackPadding;return t.type==="enum"||this.fixedBarWidth?o:o*this._zoomK}).attr("y",n=>Dn(this.valuePosition,this.valuesFontSizePx,t.secondaryAxis,n))}getBarsConfigs(t,r,A){let i=this.getActiveCount(),n=this.getGroupSize(),a,o,s,l,c,m;return t==="enum"?(a=r.bandwidth(),o=a*this._stackWidthPercent/100,s=(a-o)/2,l=o/n,c=l*this._barWidthPercent/100,m=(l-c)/2):(a=this._context.canvasWidth/this._maxDataLength,o=a*this._stackWidthPercent/100,s=(a-o)/2,l=o/n,c=l*this._barWidthPercent/100,m=(l-c)/2),this._bandwidth=a,{type:t,activeCount:i,groupSize:n,stackWidth:a,stackWidthCalculated:o,stackPadding:s,barWidth:l,barWidthCalculated:c,barPadding:m,primaryAxis:r,secondaryAxis:A}}getMaxDataLength(){return Math.max(...this._data?.map(t=>t.length))}getGroupSize(){let t=0;return this._data.forEach((r,A)=>{this.state.get(A)||t++}),t}getActiveCount(){return this._stackedData?.length}static \u0275fac=function(r){return new(r||e)(at(Re,1),at(ae,1),at(ye,1),at(Wr))};static \u0275dir=Kt({type:e,selectors:[["","kruiChartRangeBar",""]],inputs:{showValues:"showValues",valuesColor:"valuesColor",valuesFontSizePx:"valuesFontSizePx",valuesFontFamily:"valuesFontFamily",captions:"captions",engUnits:"engUnits",durationAnimation:"durationAnimation",durationToggleAnimation:"durationToggleAnimation",animation:"animation",reRangeThenLegendClick:"reRangeThenLegendClick",reRangeThenDataChange:"reRangeThenDataChange",workgroundPadding:"workgroundPadding",useDefaultCheck:"useDefaultCheck",withMinMaxCoef:"withMinMaxCoef",barType:"barType",barOpacity:"barOpacity",barRadius:"barRadius",barsOpacity:"barsOpacity",barBorder:"barBorder",barBorderColors:"barBorderColors",fixedBarWidth:"fixedBarWidth",showEnumValues:"showEnumValues",valuePosition:"valuePosition",animationType:"animationType",tooltipHoverEffect:"tooltipHoverEffect",tooltipHoverColor:"tooltipHoverColor",enablePreviousData:"enablePreviousData",startInNull:"startInNull",color:"color",colors:"colors",inputData:[0,"data","inputData"],inputStackData:[0,"dataStack","inputStackData"],stackWidthPercent:"stackWidthPercent",barWidthPercent:"barWidthPercent"},exportAs:["kruiChartRangeBar"],standalone:!1,features:[Ot([{provide:Oe,useExisting:e},{provide:Ne,useExisting:e},{provide:Ve,useExisting:e},{provide:Ue,useExisting:e},{provide:We,useExisting:e},{provide:Te,useExisting:e},{provide:Ee,useExisting:e}]),Je]})};var UE=class e{constructor(t,r,A,i){this.paletteProvider=t;this.wrap=r;this.layerDirective=A;this.stackedService=i;this._defaultColor=this.paletteProvider.nextColor()}_defaultColor;showValues=!1;valuesColor=we;valuesFontSizePx=12;valuesFontFamily="Tahoma";captions=[""];engUnits=[""];durationAnimation=2e3;durationToggleAnimation=500;animation=!0;state=new Map;opacityState=new Map;reRangeThenLegendClick=!0;reRangeThenDataChange=!1;workgroundPadding={top:5,right:5,left:2,bottom:5};useDefaultCheck=!0;withMinMaxCoef=!1;_minValue=0;_maxValueCurrent=0;_maxValueAbsolute=0;_target;_context;_id;_zoomK=1;_hoveredTooltipEnumBar=null;_enumTooltipTimeout;_bandwidth;barType="solidColor";barOpacity=1;barRadius=0;barsOpacity=[];barBorder=!1;barBorderColors=[];fixedBarWidth=!1;showEnumValues=!0;valuePosition="center";animationType="growth";tooltipHoverEffect=!0;tooltipHoverColor=ne;enablePreviousData=!0;startInNull=!0;_tempDurationAnimation=0;_data;_initialData;_stackedData;_previousData;_maxDataLength=0;_groupSize=0;_color;get color(){return this._color}set color(t){t?this._color=t:this._color=this._defaultColor}_colors;get colors(){return this._colors}set colors(t){if(t)this._colors=t;else for(let r=0;r<this._groupSize;r++)this._colors.push(this.paletteProvider.nextColor())}set inputData(t){if(!t?.length){this._data=[],this._initialData=[];return}switch(Object.prototype.toString.call(t[0]?.[0]?.[0])){case"[object Date]":t=t.map(r=>r.map(A=>[A[0].getTime(),this.stackedService.checkValueOrder(A[1]),A[2]??null]).sort((A,i)=>A[0]-i[0]));break;case"[object String]":t=t.map(r=>r.map(A=>[new Date(A[0]).getTime(),this.stackedService.checkValueOrder(A[1]),A[2]??null]).sort((A,i)=>A[0]-i[0]));break;case"[object Number]":t.map(r=>r.map(A=>[A[0],this.stackedService.checkValueOrder(A[1]),A[2]??null]).sort((A,i)=>A[0]-i[0]));break}this.enablePreviousData&&this._stackedData?.length&&(this._previousData=[...this._stackedData]),this._data=t,this._initialData=t,this._groupSize=this._data?.length??0,this._stackedData=this.stackedService.getStackDataFromArray(this._data),this._maxDataLength=this.getMaxDataLength(),this._getMin(),this._getMaxAbsolute()}set inputStackData(t){if(!t?.length){this._data=[],this._initialData=[];return}switch(Object.prototype.toString.call(t[0]?.[0])){case"[object Date]":t=t.map(A=>[A[0].getTime(),this.stackedService.checkValueOrderStack(A[1]),A[2]??null]),t.sort();break;case"[object String]":t=t.map(A=>[new Date(A[0]).getTime(),this.stackedService.checkValueOrderStack(A[1]),A[2]??null]),t.sort();break;case"[object Number]":t=t.map(A=>[A[0],this.stackedService.checkValueOrderStack(A[1]),A[2]??null]),t.sort((A,i)=>A[0]-i[0]);break}this.enablePreviousData&&this._stackedData?.length&&(this._previousData=[...this._stackedData]);let r=this.stackedService.getArrayDataFromStack(t);this._data=r,this._initialData=r,this._groupSize=this._data?.length??0,this._stackedData=t,this._maxDataLength=this.getMaxDataLength(),this._getMin(),this._getMaxAbsolute()}_stackWidthPercent=80;get stackWidthPercent(){return this._stackWidthPercent}set stackWidthPercent(t){t&&(this._stackWidthPercent=t,t<0?this._stackWidthPercent=0:t>100&&(this._stackWidthPercent=100))}_barWidthPercent=80;get barWidthPercent(){return this._barWidthPercent}set barWidthPercent(t){t&&(this._barWidthPercent=t,t<0?this._barWidthPercent=0:t>100&&(this._barWidthPercent=100))}ngOnInit(){if(this._color||(this.color=null),this._colors||(this._colors=[]),this._colors?.length<this._groupSize){let t=this._colors?.length;for(;t<this._groupSize&&!(t>20);)this._colors.push(this.paletteProvider.nextColor()),t++}if(this.valuesColor||(this.valuesColor=this.color),this.barBorderColors||(this.barBorderColors=[]),this.barBorderColors.length<this._groupSize){let t=this.barBorderColors.length;for(;this.barBorderColors?.length<this._groupSize&&!(t>20);)this.barBorderColors.push(this._colors[t]),t++}this.useDefaultCheck&&(Object.entries(mA())?.forEach(([t,r])=>{(this[t]===null||this[t]===void 0)&&(this[t]=r)}),Object.entries(cs())?.forEach(([t,r])=>{(this[t]===null||this[t]===void 0)&&(this[t]=r)}))}ngOnChanges({inputData:t,inputStackData:r}){!t?.isFirstChange()&&!r?.isFirstChange()&&this.layerDirective.reDraw(null,!1,!0),this._tempDurationAnimation=this.durationAnimation}getColor(t){return this.colors?.[t]??this.color}getDomain(t){return t&&t==="enum"?this._data?.map(r=>r.map(A=>A[2])).flat():this._data?.map(r=>r.map(A=>z(A[0]))).flat()}getRange(){return[this.startInNull?0:this._minValue,this.reRangeThenLegendClick||this.reRangeThenDataChange?this._maxValueCurrent:this._maxValueAbsolute]}_getMin(){let t=Number.POSITIVE_INFINITY;this._data?.forEach(r=>{r?.forEach(([A,i,n])=>{i==null||(i[0]!=null&&i[1]!=null?t=Math.min(t,...i.flat(1)):i[0]==null&&i[1]!=null?t=Math.min(t,i[1]):i[0]!=null&&i[1]==null&&(t=Math.min(t,i[0])))})}),t===0?this._minValue=.001:this.withMinMaxCoef?this._minValue=t-t*.001:this._minValue=t}_getMaxAbsolute(){let t=Number.NEGATIVE_INFINITY;this._data?.forEach(r=>{r?.forEach(([A,i,n])=>{i==null?t=Math.max(t,this._minValue):i[0]!=null&&i[1]!=null?t=Math.max(t,...i.flat(1)):i[0]==null&&i[1]!=null?t=Math.max(t,i[1]):i[0]!=null&&i[1]==null?t=Math.max(t,i[0]):t=Math.max(t,this._minValue)})}),this.withMinMaxCoef?(this._maxValueAbsolute=t+t*.001,this._maxValueCurrent=t+t*.001):(this._maxValueAbsolute=t,this._maxValueCurrent=t)}_getMaxCurrent(){let t=Number.NEGATIVE_INFINITY;this._data?.forEach((r,A)=>{this.state.get(A)&&r?.forEach(([i,n,a])=>{n==null?t=Math.max(t,this._minValue):n[0]!=null&&n[1]!=null?t=Math.max(t,...n.flat(1)):n[0]==null&&n[1]!=null?t=Math.max(t,n[1]):n[0]!=null&&n[1]==null?t=Math.max(t,n[0]):t=Math.max(t,this._minValue)})}),this.withMinMaxCoef?this._maxValueCurrent=t+t*.001:this._maxValueCurrent=t}getWorkgroundPadding(t){if(this._initialData?.length){let r=this._data?.[0]?.length,A=this._data?.length,i=t==="enum"?0:this.wrap.workGroundHeight/(r??10)/A;return{top:this.workgroundPadding.top+i,right:this.workgroundPadding.right,bottom:this.workgroundPadding.bottom+i,left:this.workgroundPadding.left}}return this.workgroundPadding}getLegendData(){return this._data.map((t,r)=>({title:kt(this.captions[r]),color:this.getColor(r),inactive:this.state.get(r)??!1,type:"stack",disabled:!this._initialData?.length,hovered:this.opacityState.get(r)??!1}))}toggleState(t,r,A=this.durationToggleAnimation){this.state.set(t,r),this._hoveredTooltipEnumBar=null;let i=this._context.primaryAxis.type,n=this._context.primaryAxis.d3Scale,a=this._context.secondaryAxis.d3Scale,o=this.getBarsConfigs(i,n,a);r?(this._target.selectAll(`#krui-chart-data-bar-${t}`).attr("class","krui-chart-data-bar--hidden").transition().duration(A).attr("height",0),this._target.selectAll(`#krui-chart-stack-text-${t}`).attr("class","krui-chart-stack-text--hidden").attr("display","none")):(this._target.selectAll(`#krui-chart-data-bar-${t}`).attr("class","krui-chart-data-bar"),this._target.selectAll(`#krui-chart-stack-text-${t}`).attr("class","krui-chart-stack-text").attr("display","visible")),this.scaleBars(o,!0,!1,A)}toggleOpacity(t,r){this.opacityState.set(t,r)}renderOpacity(t){if(this._target)for(let r=0;r<this._groupSize;r++)!this.opacityState.get(r)&&!this.state.get(r)&&(this._target.selectAll(`#krui-chart-data-bar-${r}`).attr("class",t?"krui-chart-data-bar krui-chart-data-bar--opacity":"krui-chart-data-bar"),this._target.selectAll(`#krui-chart-stack-text-${r}`).attr("class",t?"krui-chart-stack-text krui-chart-stack-text--opacity":"krui-chart-stack-text"))}render(t,r,A){if(!this._initialData?.length)return;this._context=r,this._target=t,this._id=A;let i=r.primaryAxis.d3Scale,n=r.secondaryAxis.d3Scale;this.renderBars(t,r,i,n)}reScale(t,r,A,i,n,a){if(!this._initialData?.length)return;A.k!==this._zoomK&&(this._zoomK=A.k);let o=r.primaryAxis.d3Scale,s=r.secondaryAxis.d3Scale;(r.primaryAxis.type==="time"||r.primaryAxis.type==="number")&&(i&&(o=A.rescaleY(o)),n&&(s=A.rescaleX(s))),a?this.renderBars(t,r,o,s):this.reScaleBars(t,r,o,s)}getTooltipData(t,r,A){let i=[{valueTitle:"",color:"",hidden:!0,index:0,title:"",value:null,engUnits:"",type:"bar"}];if(!this._initialData?.length)return i;let n=this._stackedData,a=ce(l=>l[0]).center,o=a(n,t);if(o==null)return i;if(r!=="dataPoint"){let l=n[o]?.[0],c=n[o+1]?.[0],m=0;if(c?m=(t-c)/(c-l):m=t/l,m>1.2||m<-2.5||isNaN(m))return i}let s=[];return n[o]?.[1]?.forEach((l,c)=>{s.push({value:l,valueTitle:n[o]?.[0],title:kt(this.captions[c]),color:this.getColor(c),hidden:this.state.get(c)??!1,index:o,engUnits:this.engUnits?.[c]??"",type:"bar"})}),s.reverse(),s}getTooltipTitleEnum(){return this.state.get(0)?null:this._hoveredTooltipEnumBar?.getAttribute("tooltipData")??null}getTooltipDataEnum(t){let r=[{valueTitle:"",color:"",hidden:!0,index:0,title:"",value:null,engUnits:"",type:"bar"}];if(!this._initialData?.length)return r;let A=this._stackedData,i=this._stackedData.findIndex(a=>a[2]===t);if(i==null||i===-1)return r;let n=[];return A[i]?.[1]?.forEach((a,o)=>{n.push({value:a,valueTitle:A[i]?.[2],title:kt(this.captions[o]),color:this.getColor(o),hidden:this.state.get(o)??!1,index:i,engUnits:this.engUnits?.[o]??"",type:"bar"})}),n.reverse(),n}triggerEnumTooltipTimeout(){this._enumTooltipTimeout&&clearTimeout(this._enumTooltipTimeout),this._enumTooltipTimeout=setTimeout(()=>{this._hoveredTooltipEnumBar=null,this._enumTooltipTimeout=null})}getBandWidth(){return this._bandwidth??0}renderBars(t,r,A,i){if(!this._initialData?.length)return;t.selectAll(".krui-chart-stack").remove();let n=r.primaryAxis.type,a=this.getBarsConfigs(n,A,i);if(this.barType==="gradient"){let m=this.colors.length,h=m>1?this.colors.map((g,C)=>({color:g,offset:100/(m-1)*C+"%",stopOpacity:1})):[{offset:"0%",color:this.colors[0],stopOpacity:1},{offset:"100%",color:this.colors[0],stopOpacity:1}];t.append("linearGradient").attr("id",`${this._id}--area-filling`).attr("x1",0).attr("x2",0).attr("y1",0).attr("y2","100%").selectAll("stop").data(h).enter().append("stop").attr("offset",g=>g.offset).attr("stop-color",g=>g.color).attr("stop-opacity",g=>g.stopOpacity)}let o=t.attr("clip-path",`url(#${this.wrap.workgroundClipPathId}`).selectAll(".krui-chart-stack").data(this._stackedData).enter().append("g").attr("class","krui-chart-stack").attr("tooltipData",m=>tt(A,n)?m[2]:m[0]).attr("transform",m=>`translate(0, ${tt(A,n)?A(m[2]):A(m[0])-(this.fixedBarWidth?a.stackWidth:a.stackWidth*this._zoomK)/2})`).on("mouseover",m=>this._hoveredTooltipEnumBar=m.target.parentElement),s=o.selectAll("rect").data(m=>[...m[1]]).enter(),l=-1,c=-1;if(s.append("rect").attr("class","krui-chart-data-bar").attr("id",(m,h)=>`krui-chart-data-bar-${h}`).attr("x",(m,h)=>(h===0&&l++,l===a.activeCount&&(l=0),this._previousData?.length&&this._previousData[l]?.[1]?z(i(this._previousData[l][1][h][0])):i.range()[0])).attr("y",(m,h)=>{let g=(a.barWidthCalculated+2*a.barPadding)*h+a.barPadding+a.stackPadding;return tt(A,n)||this.fixedBarWidth?g:g*this._zoomK}).attr("height",()=>tt(A,n)||this.fixedBarWidth?a.barWidthCalculated:a.barWidthCalculated*this._zoomK).attr("width",(m,h)=>{if(h===0&&c++,c===a.activeCount&&(c=0),this._previousData?.length&&this._previousData[c]?.[1]){let g=z(i(this._previousData[c][1][h][1]))-z(i(this._previousData[c][1][h][0]));return g>0?g:z(i(this._previousData[c][1][h][1]))}return 0}).attr("rx",`${this.barRadius}px`).attr("ry",`${this.barRadius}px`).attr("fill",(m,h)=>this.barType==="solidColor"?this.colors[h]:`url(#${this._id}--area-filling)`).attr("stroke",(m,h)=>this.barBorder?this.barBorderColors[h]:"none").attr("opacity",(m,h)=>m?this.barsOpacity[h]?this.barsOpacity[h]:this.barOpacity:0),n==="enum"||this.tooltipHoverEffect){let m=o.append("rect").attr("class","krui-chart-tooltip-bar").attr("id",(h,g)=>`krui-chart-tooltip-bar-${g}`).attr("x",0).attr("y",0).attr("height",a.stackWidth*this._zoomK).attr("width",i.range()[1]).attr("opacity","0.1").attr("fill","transparent");this.tooltipHoverEffect&&m.on("mouseenter",h=>{t.select(`#${h.target.id}`).attr("fill",this.tooltipHoverColor)}).on("mouseleave",h=>{t.select(`#${h.target.id}`).attr("fill","transparent")}),this.wrap.svg.select(`#${this.layerDirective.layerId}`).on("mouseleave",()=>this.triggerEnumTooltipTimeout())}if(s.selectAll("rect.krui-chart-data-bar").transition().duration(this.animationType==="none"?0:this._tempDurationAnimation).attr("x",m=>z(i(m[0]))).attr("width",m=>{if(!m)return 0;let h=z(i(m[1]))-z(i(m[0]));return h>0?h:z(i(m[0]))}),this.showValues){let m=-1;s.append("text").attr("class","krui-chart-stack-text").attr("id",(h,g)=>`krui-chart-stack-text-${g}`).attr("x",(h,g)=>(g===0&&m++,m===a.activeCount&&(m=0),this._previousData?.length&&this._previousData[m]?.[1]?In(this.valuePosition,this.valuesFontSizePx,i,this._previousData[m][1][g]):i.range()[0])).attr("y",(h,g)=>{let C=(a.barWidthCalculated+2*a.barPadding)*g+a.barWidthCalculated/2+a.barPadding+a.stackPadding;return tt(A,n)||this.fixedBarWidth?C:C*this._zoomK}).text(h=>isNaN(h[0])||isNaN(h[1])||h===null?null:this.showEnumValues&&tt(A,n)?h:me(h[1],2)).attr("fill",this.valuesColor).style("font-size",`${this.valuesFontSizePx}px`).style("font-family",this.valuesFontFamily).attr("text-anchor","middle").style("alignment-baseline","middle").transition().duration(this.animationType==="none"?0:this._tempDurationAnimation).attr("x",h=>In(this.valuePosition,this.valuesFontSizePx,i,h))}this._data?.forEach((m,h)=>{this.state.get(h)&&this.toggleState(h,!0,0)})}reScaleBars(t,r,A,i){this._context=r,this._target=t;let n=r.primaryAxis.type,a=this.getBarsConfigs(n,A,i);t.selectAll(".krui-chart-stack").attr("transform",o=>`translate(0, ${tt(A,n)?A(o[2]):A(o[0])-(this.fixedBarWidth?a.stackWidth:a.stackWidth*this._zoomK)/2})`),this.scaleBars(a,!0,!0,0)}scaleBars(t,r,A,i){r&&this._target.selectAll(".krui-chart-stack").selectAll(".krui-chart-data-bar").transition().duration(i).attr("y",(n,a)=>{let o=(t.barWidthCalculated+2*t.barPadding)*a+t.barPadding+t.stackPadding;return t.type==="enum"||this.fixedBarWidth?o:o*this._zoomK}).attr("height",()=>t.type==="enum"||this.fixedBarWidth?t.barWidthCalculated:t.barWidthCalculated*this._zoomK),A&&this._target.selectAll(".krui-chart-data-bar").transition().duration(i).attr("x",n=>z(t.secondaryAxis(n[0]))).attr("width",n=>{if(!n)return 0;let a=z(t.secondaryAxis(n[1]))-z(t.secondaryAxis(n[0]));return a>0?a:z(t.secondaryAxis(n[1]))}),(t.type==="enum"||this.tooltipHoverEffect)&&(this._target.selectAll(".krui-chart-tooltip-bar").attr("width",t.secondaryAxis.range()[1]).attr("height",()=>tt(t.primaryAxis,t.type)||this.fixedBarWidth?t.stackWidth:t.stackWidth*this._zoomK),this.triggerEnumTooltipTimeout()),this.showValues&&this._target.selectAll(".krui-chart-stack").selectAll(".krui-chart-stack-text").transition().duration(i).attr("y",(n,a)=>{let o=(t.barWidthCalculated+2*t.barPadding)*a+t.barWidthCalculated/2+t.barPadding+t.stackPadding;return t.type==="enum"||this.fixedBarWidth?o:o*this._zoomK}).attr("x",n=>In(this.valuePosition,this.valuesFontSizePx,t.secondaryAxis,n))}getBarsConfigs(t,r,A){let i=this.getActiveCount(),n=this.getGroupSize(),a,o,s,l,c,m;return t==="enum"?(a=r.bandwidth(),o=a*this._stackWidthPercent/100,s=(a-o)/2,l=o/n,c=l*this._barWidthPercent/100,m=(l-c)/2):(a=this._context.canvasHeight/this._maxDataLength,o=a*this._stackWidthPercent/100,s=(a-o)/2,l=o/n,c=l*this._barWidthPercent/100,m=(l-c)/2),this._bandwidth=a,{type:t,activeCount:i,groupSize:n,stackWidth:a,stackWidthCalculated:o,stackPadding:s,barWidth:l,barWidthCalculated:c,barPadding:m,primaryAxis:r,secondaryAxis:A}}getMaxDataLength(){return Math.max(...this._data?.map(t=>t.length))}getGroupSize(){let t=0;return this._data.forEach((r,A)=>{this.state.get(A)||t++}),t}getActiveCount(){return this._stackedData?.length}static \u0275fac=function(r){return new(r||e)(at(Re,1),at(ae,1),at(ye,1),at(Wr))};static \u0275dir=Kt({type:e,selectors:[["","kruiChartHorizontalRangeBar",""]],inputs:{showValues:"showValues",valuesColor:"valuesColor",valuesFontSizePx:"valuesFontSizePx",valuesFontFamily:"valuesFontFamily",captions:"captions",engUnits:"engUnits",durationAnimation:"durationAnimation",durationToggleAnimation:"durationToggleAnimation",animation:"animation",reRangeThenLegendClick:"reRangeThenLegendClick",reRangeThenDataChange:"reRangeThenDataChange",workgroundPadding:"workgroundPadding",useDefaultCheck:"useDefaultCheck",withMinMaxCoef:"withMinMaxCoef",barType:"barType",barOpacity:"barOpacity",barRadius:"barRadius",barsOpacity:"barsOpacity",barBorder:"barBorder",barBorderColors:"barBorderColors",fixedBarWidth:"fixedBarWidth",showEnumValues:"showEnumValues",valuePosition:"valuePosition",animationType:"animationType",tooltipHoverEffect:"tooltipHoverEffect",tooltipHoverColor:"tooltipHoverColor",enablePreviousData:"enablePreviousData",startInNull:"startInNull",color:"color",colors:"colors",inputData:[0,"data","inputData"],inputStackData:[0,"dataStack","inputStackData"],stackWidthPercent:"stackWidthPercent",barWidthPercent:"barWidthPercent"},exportAs:["kruiChartHorizontalRangeBar"],standalone:!1,features:[Ot([{provide:Oe,useExisting:e},{provide:Ne,useExisting:e},{provide:Ve,useExisting:e},{provide:Ue,useExisting:e},{provide:We,useExisting:e},{provide:Te,useExisting:e},{provide:Ee,useExisting:e}]),Je]})};var TE=class e{constructor(t,r,A,i){this.paletteProvider=t;this.wrap=r;this.layerDirective=A;this.stackedService=i;this._defaultColor=this.paletteProvider.nextColor()}_defaultColor;showValues=!1;valuesColor=we;valuesFontSizePx=12;valuesFontFamily="Tahoma";captions=[""];engUnits=[""];durationAnimation=1e3;durationToggleAnimation=500;animation=!0;state=new Map;opacityState=new Map;reRangeThenLegendClick=!0;reRangeThenDataChange=!1;workgroundPadding={top:10,right:5,left:2,bottom:10};useDefaultCheck=!0;withMinMaxCoef=!1;_minValue=0;_maxValueCurrent=0;_maxValueAbsolute=0;_target;_context;_id;_zoomK=1;_hoveredTooltipEnumBar=null;_enumTooltipTimeout;_bandwidth;barType="solidColor";barOpacity=1;barsOpacity=[];barRadius=0;barBorder=!1;barBorderColors=[];fixedBarWidth=!1;showEnumValues=!1;showStackValues=!1;valuePosition="center";animationType="growth";tooltipHoverEffect=!0;tooltipHoverColor=ne;enablePreviousData=!0;startInNull=!0;stackType="stackBar";_tempDurationAnimation=0;_data;_initialData;_stackedData;_previousStackedData;_maxDataLength=0;_groupSize=0;_dataValueMap=new Map;_color;get color(){return this._color}set color(t){t?this._color=t:this._color=this._defaultColor}_colors;get colors(){return this._colors}set colors(t){if(t)this._colors=t;else for(let r=0;r<this._groupSize;r++)this._colors.push(this.paletteProvider.nextColor())}set inputData(t){if(!t?.length){this._data=[],this._initialData=[];return}switch(Object.prototype.toString.call(t[0]?.[0]?.[0])){case"[object Date]":t=t.map(r=>r.map(A=>[A[0].getTime(),A[1],A[2]??null]).sort((A,i)=>A[0]-i[0]));break;case"[object String]":t=t.map(r=>r.map(A=>[new Date(A[0]).getTime(),A[1],A[2]??null]).sort((A,i)=>A[0]-i[0]));break;case"[object Number]":t.map(r=>r.sort((A,i)=>A[0]-i[0]));break}this.enablePreviousData&&this._stackedData?.length&&(this._previousStackedData=[...this._stackedData]),this._data=t,this._initialData=t,this._groupSize=this._data?.length??0,this._stackedData=this.stackedService.getStackDataFromArray(this._data),this._maxDataLength=this.getMaxDataLength(),this._getMin(),this._getMaxAbsolute()}set inputStackData(t){if(!t?.length){this._data=[],this._initialData=[];return}switch(Object.prototype.toString.call(t[0]?.[0])){case"[object Date]":t=t.map(A=>[A[0].getTime(),A[1],A[2]??null]),t.sort();break;case"[object String]":t=t.map(A=>[new Date(A[0]).getTime(),A[1],A[2]??null]),t.sort();break;case"[object Number]":t.sort((A,i)=>A[0]-i[0]);break}this.enablePreviousData&&this._stackedData?.length&&(this._previousStackedData=[...this._stackedData]);let r=this.stackedService.getArrayDataFromStack(t);this._data=r,this._initialData=r,this._groupSize=this._data?.length??0,this._stackedData=t,this._maxDataLength=this.getMaxDataLength(),this._getMin(),this._getMaxAbsolute()}_barWidthPercent=80;get barWidthPercent(){return this._barWidthPercent}set barWidthPercent(t){t&&(this._barWidthPercent=t,t<0?this._barWidthPercent=0:t>100&&(this._barWidthPercent=100))}ngOnInit(){if(this._color||(this.color=null),this._colors||(this._colors=[]),this._colors?.length<this._groupSize){let t=this._colors?.length;for(;t<this._groupSize&&!(t>20);)this._colors.push(this.paletteProvider.nextColor()),t++}if(this.valuesColor||(this.valuesColor=this.color),this.barBorderColors||(this.barBorderColors=[]),this.barBorderColors.length<this._groupSize){let t=this.barBorderColors.length;for(;this.barBorderColors?.length<this._groupSize&&!(t>20);)this.barBorderColors.push(this._colors[t]),t++}this.useDefaultCheck&&(Object.entries(mA())?.forEach(([t,r])=>{(this[t]===null||this[t]===void 0)&&(this[t]=r)}),Object.entries(fs())?.forEach(([t,r])=>{(this[t]===null||this[t]===void 0)&&(this[t]=r)}))}ngOnChanges({inputData:t,inputStackData:r}){!t?.isFirstChange()&&!r?.isFirstChange()&&this.layerDirective.reDraw(null,!1,!0),this._tempDurationAnimation=this.durationAnimation}getColor(t){return this.colors?.[t]??this.color}getDomain(t){return t&&t==="enum"?this._data?.map(r=>r.map(A=>A[2])).flat():this._data?.map(r=>r.map(A=>z(A[0]))).flat()}getRange(){return[this.startInNull?0:this._minValue,this.reRangeThenLegendClick||this.reRangeThenDataChange?this._maxValueCurrent:this._maxValueAbsolute]}_getMin(){let t=Number.POSITIVE_INFINITY;this._data?.forEach(r=>r.forEach(([A,i])=>{i!=null&&(t=Math.min(t,i))})),t===0?this._minValue=.001:this.withMinMaxCoef?this._minValue=t-t*.001:this._minValue=t}_getMaxAbsolute(){let t=Number.NEGATIVE_INFINITY;this._stackedData?.map(([,r])=>{r!=null?t=Math.max(t,r.reduce((A,i,n)=>A+i,0)):t=Math.max(t,this._minValue)}),this.withMinMaxCoef?(this._maxValueAbsolute=t+t*.001,this._maxValueCurrent=t+t*.001):(this._maxValueAbsolute=t,this._maxValueCurrent=t)}_getMaxCurrent(){let t=Number.NEGATIVE_INFINITY;this._stackedData?.forEach(r=>r.forEach(([,A])=>{A!=null?t=Math.max(t,A.reduce((i,n,a)=>this.state.get(a)?i:i+n,0)):t=Math.max(t,this._minValue)})),this.withMinMaxCoef?this._maxValueCurrent=t+t*.001:this._maxValueCurrent=t}getWorkgroundPadding(t){if(this._initialData?.length){let r=this._data?.[0]?.length,A=this._data?.length,i=t==="enum"?0:this.wrap.workGroundHeight/(r??10)/A;return{top:this.workgroundPadding.top+i,right:this.workgroundPadding.right,bottom:this.workgroundPadding.bottom+i,left:this.workgroundPadding.left}}else return this.workgroundPadding}getLegendData(){return this._data.map((t,r)=>({title:kt(this.captions[r]),color:this.getColor(r),inactive:this.state.get(r)??!1,type:"stack",disabled:!this._initialData?.length,hovered:this.opacityState.get(r)??!1}))}toggleState(t,r,A=this.durationToggleAnimation){this.state.set(t,r),this._hoveredTooltipEnumBar=null,r?(this._target.selectAll(`#krui-chart-data-bar-${t}`).attr("class","krui-chart-data-bar--hidden").transition().duration(A).attr("height",0),this._target.selectAll(`#krui-chart-stack-text-${t}`).attr("class","krui-chart-stack-text--hidden").attr("display","none")):(this._target.selectAll(`#krui-chart-data-bar-${t}`).attr("class","krui-chart-data-bar"),this._target.selectAll(`#krui-chart-stack-text-${t}`).attr("class","krui-chart-stack-text").attr("display","visible")),this.enablePreviousData&&(this._previousStackedData=[...this._stackedData],this._stackedData.forEach((i,n)=>{let a=this._dataValueMap.get(n);a&&this._dataValueMap.set(-n-1,a)})),this.layerDirective.reDraw(null,!1,!0)}toggleOpacity(t,r){this.opacityState.set(t,r)}renderOpacity(t){if(this._target)for(let r=0;r<this._groupSize;r++)!this.opacityState.get(r)&&!this.state.get(r)&&(this._target.selectAll(`#krui-chart-data-bar-${r}`).attr("class",t?"krui-chart-data-bar krui-chart-data-bar--opacity":"krui-chart-data-bar"),this._target.selectAll(`#krui-chart-stack-text-${r}`).attr("class",t?"krui-chart-stack-text krui-chart-stack-text--opacity":"krui-chart-stack-text"))}render(t,r,A){if(!this._initialData?.length)return;this._context=r,this._target=t,this._id=A;let i=r.primaryAxis.d3Scale,n=r.secondaryAxis.d3Scale;this.renderBars(t,r,i,n)}reScale(t,r,A,i,n,a){if(!this._initialData?.length)return;A.k!==this._zoomK&&(this._zoomK=A.k);let o=r.primaryAxis.d3Scale,s=r.secondaryAxis.d3Scale;(r.primaryAxis.type==="time"||r.primaryAxis.type==="number")&&(i&&(o=A.rescaleY(o)),n&&(s=A.rescaleX(s))),a?this.renderBars(t,r,o,s):this.reScaleBars(t,r,o,s)}getTooltipData(t,r,A){let i=[{valueTitle:"",color:"",hidden:!0,index:0,title:"",value:null,engUnits:"",type:"bar"}];if(!this._initialData?.length)return i;let n=this._stackedData,a=ce(l=>l[0]).center,o=a(n,t);if(o==null)return i;if(r!=="dataPoint"){let l=n[o]?.[0],c=n[o+1]?.[0],m=0;if(c?m=(t-c)/(c-l):m=t/l,m>1.2||m<-2.5||isNaN(m))return i}let s=[];return n[o]?.[1]?.forEach((l,c)=>{s.push({value:l,valueTitle:n[o]?.[0],title:kt(this.captions[c]),color:this.getColor(c),hidden:this.state.get(c)??!1,index:o,engUnits:this.engUnits?.[c]??"",type:"bar"})}),s.reverse(),s}getTooltipTitleEnum(){return this.state.get(0)?null:this._hoveredTooltipEnumBar?.getAttribute("tooltipData")??null}getTooltipDataEnum(t){let r=[{valueTitle:"",color:"",hidden:!0,index:0,title:"",value:null,engUnits:"",type:"bar"}];if(!this._initialData?.length)return r;let A=this._stackedData,i=this._stackedData.findIndex(a=>a[2]===t);if(i==null||i===-1)return r;let n=[];return A[i]?.[1]?.forEach((a,o)=>{n.push({value:a,valueTitle:A[i]?.[2],title:kt(this.captions[o]),color:this.getColor(o),hidden:this.state.get(o)??!1,index:i,engUnits:this.engUnits?.[o]??"",type:"bar"})}),n.reverse(),n}triggerEnumTooltipTimeout(){this._enumTooltipTimeout&&clearTimeout(this._enumTooltipTimeout),this._enumTooltipTimeout=setTimeout(()=>{this._hoveredTooltipEnumBar=null,this._enumTooltipTimeout=null})}getBandWidth(){return this._bandwidth??0}renderBars(t,r,A,i){if(!this._initialData?.length)return;t.selectAll(".krui-chart-stack").remove();let n=r.primaryAxis.type,a=this.getBarsConfigs(n,A,i),o=this._stackedData.map(([h,g,C])=>[h,g.map((b,w)=>this.state.get(w)?0:b),C]);if(this.barType==="gradient"){let h=this.colors.length,g=h>1?this.colors.map((C,b)=>({color:C,offset:100/(h-1)*b+"%",stopOpacity:1})):[{offset:"0%",color:this.colors[0],stopOpacity:1},{offset:"100%",color:this.colors[0],stopOpacity:1}];t.append("linearGradient").attr("id",`${this._id}--area-filling`).attr("x1",0).attr("x2",0).attr("y1",0).attr("y2","100%").selectAll("stop").data(g).enter().append("stop").attr("offset",C=>C.offset).attr("stop-color",C=>C.color).attr("stop-opacity",C=>C.stopOpacity)}let s=t.attr("clip-path",`url(#${this.wrap.workgroundClipPathId}`).selectAll(".krui-chart-stack").data(o).enter().append("g").attr("class","krui-chart-stack").attr("tooltipData",h=>tt(A,n)?h[2]:h[0]).attr("transform",h=>`translate(0, ${tt(A,n)?A(h[2]):A(h[0])-(this.fixedBarWidth?a.barWidthCalculated:a.barWidthCalculated*this._zoomK)})`).on("mouseover",h=>this._hoveredTooltipEnumBar=h.target.parentElement),l=s.selectAll("rect").data((h,g)=>{if(this.enablePreviousData){let b=this._dataValueMap.get(g);b&&this._dataValueMap.set(-g-1,b)}let C=this.stackedService.getCalculatedStack(this.stackType,h,g,this._maxValueCurrent);return this._dataValueMap.set(g,C),C.calculated}).enter(),c=-1,m=-1;if(l.append("rect").attr("class","krui-chart-data-bar").attr("id",(h,g)=>`krui-chart-data-bar-${g}`).attr("x",(h,g)=>{g===0&&c++,c===a.activeCount&&(c=0);let C=this._dataValueMap.get(-c-1)?.calculated[g];return this._previousStackedData?.length&&C?z(i(C[0])):i.range()[0]}).attr("y",()=>tt(A,n)?a.barPadding/2:this.fixedBarWidth?a.barWidthCalculated/2:a.barWidthCalculated/2*this._zoomK).attr("width",(h,g)=>{g===0&&m++,m===a.activeCount&&(m=0);let C=this._dataValueMap.get(-m-1)?.calculated[g];if(this._previousStackedData?.length&&C?.length){let b=z(i(C[0]))-z(i(C[1]));return b>0?b:0}return 0}).attr("height",()=>tt(A,n)||this.fixedBarWidth?a.barWidthCalculated:a.barWidthCalculated*this._zoomK).attr("rx",`${this.barRadius}px`).attr("ry",`${this.barRadius}px`).attr("fill",(h,g)=>this.barType==="solidColor"?this.colors[g]:`url(#${this._id}--area-filling)`).attr("stroke",(h,g)=>this.barBorder?this.barBorderColors[g]:"none").attr("opacity",(h,g)=>h?this.barsOpacity[g]?this.barsOpacity[g]:this.barOpacity:0),n==="enum"||this.tooltipHoverEffect){let h=s.append("rect").attr("class","krui-chart-tooltip-bar").attr("id",(g,C)=>`krui-chart-tooltip-bar-${C}`).attr("x",0).attr("y",()=>{if(tt(A,n))return a.barPadding/2;let g=a.barWidthCalculated/2;return this.fixedBarWidth?g:g*this._zoomK}).attr("height",()=>tt(A,n)||this.fixedBarWidth?a.barWidthCalculated:a.barWidthCalculated*this._zoomK).attr("width",i.range()[1]).attr("opacity","0.1").attr("fill","transparent");this.tooltipHoverEffect&&h.on("mouseenter",g=>{t.select(`#${g.target.id}`).attr("fill",this.tooltipHoverColor)}).on("mouseleave",g=>{t.select(`#${g.target.id}`).attr("fill","transparent")}),this.wrap.svg.select(`#${this.layerDirective.layerId}`).on("mouseleave",()=>this.triggerEnumTooltipTimeout())}if(l.selectAll("rect.krui-chart-data-bar").transition().duration(this.animationType==="none"?0:this._tempDurationAnimation).attr("x",h=>z(i(h[0]))).attr("width",h=>{let g=z(i(h[1]))-z(i(h[0]));return g>0?g:0}),this.showValues){let h=-1,g=-1;l.append("text").attr("class","krui-chart-stack-text").attr("id",(C,b)=>`krui-chart-stack-text-${b}`).attr("x",(C,b)=>{b===0&&h++,h===a.activeCount&&(h=0);let w=this._dataValueMap.get(-h-1)?.calculated[b];return this._previousStackedData?.length&&w?In(this.valuePosition,this.valuesFontSizePx,i,[w[1],w[0],w[2]]):i.range()[0]}).attr("y",()=>tt(A,n)?(a.barWidthCalculated+a.barPadding)/2:this.fixedBarWidth?a.barWidthCalculated:a.barWidthCalculated*this._zoomK).text((C,b)=>{b===0&&g++;let w=this._dataValueMap.get(g);if(isNaN(C[1])||C===null)return null;if(this.showEnumValues&&tt(A,n))return w?.enum;if(this.stackType==="stackBar"){let v=this.showStackValues?me(C[1],2):me(w?.initial?.[b]??0,2);return isNaN(v)||v===0?null:v}if(this.stackType==="fullStackBar"){if(this.showStackValues)return me(w?.normalized?.[b]??0,1);let v=w?.normalized?.[b]??0;return v!==0&&w&&!w?.isSetted&&(v=+(v+w.delta).toFixed(2),w.isSetted=!0),isNaN(v)||v===0?null:v+"%"}return C[1]}).attr("fill",this.valuesColor).style("font-size",`${this.valuesFontSizePx}px`).style("font-family",this.valuesFontFamily).attr("text-anchor","middle").style("alignment-baseline","middle").transition().duration(this.animationType==="none"?0:this._tempDurationAnimation).attr("x",C=>In(this.valuePosition,this.valuesFontSizePx,i,C))}}reScaleBars(t,r,A,i){this._context=r,this._target=t;let n=r.primaryAxis.type,a=this.getBarsConfigs(n,A,i);t.selectAll(".krui-chart-stack").attr("transform",o=>`translate(0, ${tt(A,n)?A(o[2]):A(o[0])-(this.fixedBarWidth?a.barWidthCalculated:a.barWidthCalculated*this._zoomK)})`),this.scaleBars(a,!0,!0,0)}scaleBars(t,r,A,i){r&&this._target.selectAll(".krui-chart-data-bar").transition().duration(i).attr("y",()=>t.type==="enum"?t.barPadding/2:this.fixedBarWidth?t.barWidthCalculated/2:t.barWidthCalculated/2*this._zoomK).attr("height",()=>t.type==="enum"||this.fixedBarWidth?t.barWidthCalculated:t.barWidthCalculated*this._zoomK),A&&this._target.selectAll(".krui-chart-data-bar").transition().duration(i).attr("x",n=>z(t.secondaryAxis(n[0]))).attr("width",n=>{let a=z(t.secondaryAxis(n[1]))-z(t.secondaryAxis(n[0]));return a>0?a:0}),(t.type==="enum"||this.tooltipHoverEffect)&&(this._target.selectAll(".krui-chart-tooltip-bar").attr("y",()=>tt(t.primaryAxis,t.type)?t.barPadding/2:this.fixedBarWidth?t.barWidthCalculated/2:t.barWidthCalculated/2*this._zoomK).attr("height",()=>tt(t.primaryAxis,t.type)||this.fixedBarWidth?t.barWidthCalculated:t.barWidthCalculated*this._zoomK).attr("width",t.secondaryAxis.range()[1]),this.triggerEnumTooltipTimeout()),this.showValues&&this._target.selectAll(".krui-chart-stack-text").transition().duration(i).attr("x",n=>In(this.valuePosition,this.valuesFontSizePx,t.secondaryAxis,n)).attr("y",()=>t.type==="enum"?(t.barWidthCalculated+t.barPadding)/2:this.fixedBarWidth?t.barWidthCalculated:t.barWidthCalculated*this._zoomK)}getBarsConfigs(t,r,A){let i=this.getActiveCount(),n=this.getGroupSize(),a,o,s;return t==="enum"?(a=n>0?r.bandwidth():0,o=a*this._barWidthPercent/100,s=a*(1-this._barWidthPercent/100)/2):(a=n>0?this._context.canvasHeight/this._maxDataLength:0,o=a*this._barWidthPercent/100,s=a*(1-this._barWidthPercent/100)/2),this._bandwidth=a,{type:t,activeCount:i,groupSize:n,barWidth:a,barWidthCalculated:o,barPadding:s,primaryAxis:r,secondaryAxis:A}}getMaxDataLength(){return Math.max(...this._data?.map(t=>t.length))}getGroupSize(){let t=0;return this._data.forEach((r,A)=>{this.state.get(A)||t++}),t}getActiveCount(){return this._stackedData?.length}static \u0275fac=function(r){return new(r||e)(at(Re,1),at(ae,1),at(ye,1),at(Wr))};static \u0275dir=Kt({type:e,selectors:[["","kruiChartHorizontalStackBar",""]],inputs:{showValues:"showValues",valuesColor:"valuesColor",valuesFontSizePx:"valuesFontSizePx",valuesFontFamily:"valuesFontFamily",captions:"captions",engUnits:"engUnits",durationAnimation:"durationAnimation",durationToggleAnimation:"durationToggleAnimation",animation:"animation",reRangeThenLegendClick:"reRangeThenLegendClick",reRangeThenDataChange:"reRangeThenDataChange",workgroundPadding:"workgroundPadding",useDefaultCheck:"useDefaultCheck",withMinMaxCoef:"withMinMaxCoef",barType:"barType",barOpacity:"barOpacity",barsOpacity:"barsOpacity",barRadius:"barRadius",barBorder:"barBorder",barBorderColors:"barBorderColors",fixedBarWidth:"fixedBarWidth",showEnumValues:"showEnumValues",showStackValues:"showStackValues",valuePosition:"valuePosition",animationType:"animationType",tooltipHoverEffect:"tooltipHoverEffect",tooltipHoverColor:"tooltipHoverColor",enablePreviousData:"enablePreviousData",startInNull:"startInNull",stackType:"stackType",color:"color",colors:"colors",inputData:[0,"data","inputData"],inputStackData:[0,"dataStack","inputStackData"],barWidthPercent:"barWidthPercent"},exportAs:["kruiChartHorizontalStackBar"],standalone:!1,features:[Ot([{provide:Oe,useExisting:e},{provide:Ne,useExisting:e},{provide:Ve,useExisting:e},{provide:Ue,useExisting:e},{provide:We,useExisting:e},{provide:Te,useExisting:e},{provide:Ee,useExisting:e}]),Je]})};var EE=class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=uw({type:e});static \u0275inj=ow({providers:[{provide:ed,useValue:GT},{provide:rd,useValue:zT},{provide:Ad,useValue:XT},{provide:Wr,useClass:Bd},{provide:id,useClass:bd},{provide:ZT,useClass:gd},{provide:ps,useClass:md}],imports:[yw,xw,Ew,Fw]})};export{Fr as a,Si as b,ki as c,lA as d,uA as e,Mi as f,Cr as g,Na as h,YT as i,ZT as j,qT as k,dd as l,rE as m,AE as n,iE as o,sE as p,lE as q,uE as r,cE as s,fE as t,hE as u,UE as v,TE as w,pE as x,FE as y,xE as z,QE as A,CE as B,vE as C,_E as D,EE as E};
