(self.webpackChunkkr_app=self.webpackChunkkr_app||[]).push([[134],{5134:(IA,Yt,$)=>{"use strict";$.d(Yt,{_:()=>ue});var H=$(6969),Ct=$(177),yt=$(9417),Bt=($(4412),$(1413),$(9172),$(1986),$(4438));$(2750);const st=["var(--color-logo)","var(--color-index-green)","var(--color-index-red)","var(--color-index-yellow)","var(--color-index-gray)","var(--color-index-blue)","var(--color-additional-1)","var(--color-additional-2)","var(--color-additional-3)","var(--color-additional-4)","var(--color-additional-5)","var(--color-additional-6)","var(--color-additional-7)","var(--color-additional-8)","var(--color-additional-9)","var(--color-additional-10)","var(--color-additional-11)","var(--color-additional-12)","var(--color-additional-13)","var(--color-additional-14)","var(--color-additional-15)","var(--color-additional-16)","var(--color-additional-17)","var(--color-additional-18)","var(--color-additional-19)","var(--color-additional-20)","var(--color-additional-21)"],Ot=["var(--color-borders-light)","var(--color-color-12)","var(--color-color-13)","var(--color-color-14)","var(--color-color-15)","var(--color-color-16)","var(--color-color-17)","var(--color-color-18)","var(--color-color-19)"],o=["var(--color-borders-light)","var(--color-color-8)","var(--color-color-9)","var(--color-color-10)","var(--color-color-11)","var(--color-color-12)","var(--color-color-13)","var(--color-color-14)","var(--color-color-15)"];$(4705),$(2784),$(6936),$(7846),$(7345),$(7751),$(7240),$(1299),$(2395),$(6048),$(3845);var ct=$(7592),Tt=$(3249);let oA=(()=>{class Zt{getStackDataFromArray(vt){const $t=new Map;return vt.forEach(cA=>{cA.forEach((xA,$A)=>{const MA=$t.get($A);MA?MA[1].push(xA[1]):$t.set($A,[xA[0],[xA[1]],xA[2]??$A+1])})}),Array.from($t.values())}getArrayDataFromStack(vt){const $t=new Map;return vt?.[0]?.[1]?.forEach((cA,xA)=>$t.set(xA,[])),vt?.forEach((cA,xA)=>{cA[1].forEach(($A,MA)=>{$t.get(MA)?.push([cA[0],$A,cA[2]])})}),Array.from($t.values())}getCalculatedStack(vt,$t,cA,xA){const $A=$t[1].reduce((Pe,Je)=>Pe+Je);let MA=$t[1].map(Pe=>+(0,Tt.h)(100*Pe/$A,2));const pe=+(100-MA.reduce((Pe,Je)=>Pe+Je)).toFixed(2);return{initial:$t[1],calculated:"stackBar"===vt?this.stackValues($t[1],cA):this.stackNormValues($t[1],cA,xA),normalized:MA,calculatedNormalized:"stackBar"===vt?this.stackValues(MA,cA):this.stackNormValues(MA,cA,xA),delta:pe,isSetted:!1,enum:$t?.[2]?$t[2]:""}}stackValues(vt,$t){const cA=[];let xA=0;for(let $A of vt)cA.push([xA,xA+=$A,$t]);return cA}stackNormValues(vt,$t,cA){const xA=vt.reduce((MA,ae)=>MA+ae,0),$A=(0,Tt.h)(cA/(0===xA?cA:xA),2);return vt.map(MA=>MA*$A).reduce((MA,ae,pe)=>[...MA,pe?[MA[pe-1][1],ae+MA[pe-1][1],$t]:[0,ae,$t]],[])}checkValueOrder(vt){return vt[0]>vt[1]?vt.reverse():vt}checkValueOrderStack(vt){return vt.map($t=>this.checkValueOrder($t))}static \u0275fac=function($t){return new($t||Zt)};static \u0275prov=Bt.jDH({token:Zt,factory:Zt.\u0275fac})}return Zt})();var dA=$(3194),gA=$(1305),mA=$(1648);const XA={type:"time",position:"bottom",ticks:5,fontSize:12,fontFamily:"Tahoma",fontColor:mA.lM,name:"x",primary:!0,color:mA.Di,drawAxisLabel:!0,drawAxisLabelLine:!0,drawAxis:!0},br={type:"number",position:"left",ticks:5,fontSize:12,fontFamily:"Tahoma",fontColor:mA.lM,name:"y",primary:!1,color:mA.Di,drawAxisLabel:!0,drawAxisLabelLine:!0,drawAxis:!0},Ve={axis:"x",color:mA.ur,drawGrid:!0},zt={axis:"y",color:mA.ur,drawGrid:!0};var aA=$(7452),QA=$(925),Rt=$(4460);let pA=(()=>{class Zt{chartColorParseService;formBuilder;optionsForm;constructor(vt,$t){this.chartColorParseService=vt,this.formBuilder=$t}createDefaultData(){return{toolbar:(0,gA.B_)(),tooltip:(0,gA.Fe)(),wrapper:(0,gA.Zs)(),legend:(0,gA.Zr)(),resizeObserveType:"hostListener",zoomType:"scroll",axisX:JSON.parse(JSON.stringify(XA)),axisY:JSON.parse(JSON.stringify(br)),gridX:JSON.parse(JSON.stringify(Ve)),gridY:JSON.parse(JSON.stringify(zt)),layer:(0,aA.Z)(),lineLayer:{config:(0,QA.$U)(),common:(0,QA.Ti)()},barLayer:{config:(0,Rt.Nb)(),common:(0,Rt.fk)()},comboBarLayer:{config:(0,Rt.TE)(),common:(0,Rt.xy)()},stackBarLayer:{config:(0,Rt.Ju)(),common:(0,Rt.fk)()}}}createSettingFormDefault(){return this.createSettingForm(this.createDefaultData())}createSettingForm(vt){return this.optionsForm=this.formBuilder.group({toolbar:this.formBuilder.group(this.createFormObject(vt?.toolbar,gA.AL)),tooltip:this.formBuilder.group(this.createFormObject(vt?.tooltip,gA.Gy)),wrapper:this.formBuilder.group(this.createFormObject(vt?.wrapper,gA.of)),legend:this.formBuilder.group(this.createFormObject(vt?.legend,gA.Cq)),resizeObserveType:vt?.resizeObserveType??"hostListener",zoomType:vt?.zoomType??"scroll",axisX:this.formBuilder.group(this.createFormObject(vt?.axisX,XA)),axisY:this.formBuilder.group(this.createFormObject(vt?.axisY,br)),gridX:this.formBuilder.group(this.createFormObject(vt?.gridX,Ve)),gridY:this.formBuilder.group(this.createFormObject(vt?.gridY,zt)),layer:this.formBuilder.group(this.createFormObject(vt?.layer,aA.C)),lineLayer:this.formBuilder.group({config:this.formBuilder.group(this.createFormObject(vt?.lineLayer?.config,QA.nd)),common:this.formBuilder.group(this.createFormObject(vt?.lineLayer?.common,QA.RO))}),barLayer:this.formBuilder.group({config:this.formBuilder.group(this.createFormObject(vt?.barLayer?.config,Rt._Z)),common:this.formBuilder.group(this.createFormObject(vt?.barLayer?.common,Rt.ez))}),comboBarLayer:this.formBuilder.group({config:this.formBuilder.group(this.createFormObject(vt?.comboBarLayer?.config,Rt.qQ)),common:this.formBuilder.group(this.createFormObject(vt?.comboBarLayer?.common,Rt.ez))}),stackBarLayer:this.formBuilder.group({config:this.formBuilder.group(this.createFormObject(vt?.stackBarLayer?.config,Rt.so)),common:this.formBuilder.group(this.createFormObject(vt?.stackBarLayer?.common,Rt.ez))})}),this.optionsForm}patchSettingForm(vt){return this.optionsForm?.patchValue(this.createFormObjects(vt)),this.getSettingForm()}getSettingForm(){return this.optionsForm?this.optionsForm:this.createSettingFormDefault()}compareAndDeleteKey(vt,$t=!0){const cA=this.createDefaultData(),xA=($A,MA)=>{if(null!=$A&&null!=MA)for(const ae in $A){const pe=$A[ae],Pe=MA[ae];"object"==typeof pe?xA(pe,Pe):"object"!=typeof pe&&(null===Pe&&void 0===Pe&&delete MA[ae],(pe===Pe||/var(.*)/i.test(pe)&&this.chartColorParseService.changeColor(pe,$t)===Pe)&&delete MA[ae]),"object"==typeof MA[ae]&&MA[ae]&&0===Object.keys(MA[ae]).length&&delete MA[ae]}};return xA(cA,vt),vt}createFormObjects(vt){return{toolbar:this.createFormObject(vt?.toolbar,gA.AL),tooltip:this.createFormObject(vt?.tooltip,gA.Gy),wrapper:this.createFormObject(vt?.wrapper,gA.of),legend:this.createFormObject(vt?.legend,gA.Cq),resizeObserveType:vt?.resizeObserveType??"hostListener",zoomType:vt?.zoomType??"scroll",axisX:this.createFormObject(vt?.axisX,XA),axisY:this.createFormObject(vt?.axisY,br),gridX:this.createFormObject(vt?.gridX,Ve),gridY:this.createFormObject(vt?.gridY,zt),layer:this.createFormObject(vt?.layer,aA.C),lineLayer:{config:this.createFormObject(vt?.lineLayer?.config,QA.nd),common:this.createFormObject(vt?.lineLayer?.common,QA.RO)},barLayer:{config:this.createFormObject(vt?.barLayer?.config,Rt._Z),common:this.createFormObject(vt?.barLayer?.common,Rt.ez)},comboBarLayer:{config:this.createFormObject(vt?.comboBarLayer?.config,Rt.qQ),common:this.createFormObject(vt?.comboBarLayer?.common,Rt.ez)},stackBarLayer:{config:this.createFormObject(vt?.stackBarLayer?.config,Rt.so),common:this.createFormObject(vt?.stackBarLayer?.common,Rt.ez)}}}createFormObject(vt,$t){if(null==vt)return $t;const cA={};for(const xA in $t)cA[xA]=null==vt?.[xA]?$t[xA]:vt[xA];return cA}static \u0275fac=function($t){return new($t||Zt)(Bt.KVO(ct.x6),Bt.KVO(yt.ok))};static \u0275prov=Bt.jDH({token:Zt,factory:Zt.\u0275fac})}return Zt})();var Qt=function(Zt){return Zt["var(--color-text-contrast)"]="#ffffff",Zt["var(--color-background-main)"]="#22262f",Zt["var(--color-borders-light)"]="#3e4859",Zt["var(--color-borders-stroke)"]="#2c333d",Zt["var(--color-borders-icons)"]="#a0b0c9",Zt["var(--color-color-12)"]="#d6dbe5",Zt["var(--color-logo)"]="#5A72FF",Zt}(Qt||{}),Pt=function(Zt){return Zt["var(--color-text-contrast)"]="#181d25",Zt["var(--color-background-main)"]="#f9fafb",Zt["var(--color-borders-light)"]="#e5e9f2",Zt["var(--color-borders-stroke)"]="#d3d9e4",Zt["var(--color-borders-icons)"]="#b5c1d0",Zt["var(--color-color-12)"]="#98a6ba",Zt["var(--color-logo)"]="#5A72FF",Zt}(Pt||{});let Wt=(()=>{class Zt{darkColors=this.parseEnum(Qt);lightColors=this.parseEnum(Pt);setNewColorPair(vt){if(!(vt?.cssColor&&vt?.darkValue&&vt?.lightValue))return;const $t=this.darkColors.findIndex(xA=>xA.name===vt.cssColor),cA=this.lightColors.findIndex(xA=>xA.name===vt.cssColor);-1!==$t?this.darkColors[$t]={name:vt.cssColor,value:vt.darkValue}:this.darkColors.push({name:vt.cssColor,value:vt.darkValue}),-1!==cA?this.lightColors[$t]={name:vt.cssColor,value:vt.lightValue}:this.lightColors.push({name:vt.cssColor,value:vt.lightValue})}getEnumKeyByValue(vt,$t){const cA=Object.values(vt).indexOf($t);return Object.keys(vt)[cA]}parseEnum(vt){return Object.values(vt).map($t=>({name:this.getEnumKeyByValue(vt,$t),value:$t}))}changeColor(vt,$t=!0){const cA=$t?this.darkColors:this.lightColors,xA=this.lightColors.findIndex($A=>$A.name===vt);return-1!==xA?cA[xA].value:cA[0].value}static \u0275fac=function($t){return new($t||Zt)};static \u0275prov=Bt.jDH({token:Zt,factory:Zt.\u0275fac})}return Zt})();$(6712),$(6183),$(3666),$(8461),$(9357),$(6521),$(9507),$(2336),$(6691),$(5170);var qn=$(8606);let ue=(()=>{class Zt{static \u0275fac=function($t){return new($t||Zt)};static \u0275mod=Bt.$C({type:Zt});static \u0275inj=Bt.G2t({providers:[{provide:ct.p8,useValue:st},{provide:ct.Fz,useValue:Ot},{provide:ct.at,useValue:o},{provide:ct.zI,useClass:oA},{provide:ct.ek,useClass:dA.Z9},{provide:ct.FE,useClass:pA},{provide:ct.x6,useClass:Wt}],imports:[Ct.MD,H.z_,yt.YN,qn.iu]})}return Zt})()},2750:(IA,Yt,$)=>{"use strict";$.d(Yt,{R:()=>QA});var H=$(4438),Ct=$(6712),yt=$(4412),Mt=$(1413),L=$(5964),xt=$(6977),dt=$(152),Bt=$(1305),gt=$(1648),ft=$(7592),st=$(177),Ot=$(8606);let o=(()=>{class Rt{title;color;symbol;disabled=!1;eventLabelClick=new H.bkB;isToggled=!1;labelClick(){this.isToggled=!this.isToggled,this.eventLabelClick.emit(this.isToggled)}static \u0275fac=function(Pt){return new(Pt||Rt)};static \u0275cmp=H.VBU({type:Rt,selectors:[["krui-chart-legend"]],inputs:{title:"title",color:"color",symbol:"symbol",disabled:"disabled"},outputs:{eventLabelClick:"eventLabelClick"},standalone:!1,decls:5,vars:8,consts:[[1,"krui-chart-legend-label",3,"click"]],template:function(Pt,Wt){1&Pt&&(H.j41(0,"label",0),H.bIt("click",function(){return Wt.labelClick()}),H.j41(1,"span"),H.qex(2),H.EFF(3),H.bVm(),H.k0s(),H.EFF(4),H.k0s()),2&Pt&&(H.AVh("krui-chart-legend-label--disabled",Wt.disabled)("krui-chart-legend-label--inactive",Wt.isToggled),H.R7$(),H.xc7("color",Wt.color),H.R7$(2),H.SpI(" ",Wt.symbol," "),H.R7$(),H.SpI(" ",Wt.title,"\n"))},styles:["[_nghost-%COMP%]{display:inline-block}"],changeDetection:0})}return Rt})();const m=["toolbarContainer"],C=["legendContainer"],_=["simpleLegendContainer"],U=["customLegendContainer"],E=["resizeContainer"],S=[[["krui-chart-legend-directive"]]],V=["krui-chart-legend-directive"],rt=(Rt,pA)=>pA.layerId,nt=(Rt,pA)=>pA.layer.id,j=(Rt,pA)=>pA.title+pA.color,At=(Rt,pA)=>pA.title;function ct(Rt,pA){if(1&Rt){const Qt=H.RV6();H.j41(0,"div",8,1)(2,"svg-icon",9),H.bIt("click",function(){H.eBV(Qt);const Wt=H.XpG();return H.Njj(Wt.toolbarDirective.toolbarZoomIn())}),H.k0s(),H.j41(3,"div",10),H.EFF(4),H.nI1(5,"async"),H.k0s(),H.j41(6,"svg-icon",11),H.bIt("click",function(){H.eBV(Qt);const Wt=H.XpG();return H.Njj(Wt.toolbarDirective.toolbarZoomOut())}),H.k0s(),H.j41(7,"svg-icon",12),H.bIt("click",function(){H.eBV(Qt);const Wt=H.XpG();return H.Njj(Wt.toolbarDirective.toggleZoomType("scroll"))}),H.k0s(),H.j41(8,"svg-icon",13),H.bIt("click",function(){H.eBV(Qt);const Wt=H.XpG();return H.Njj(Wt.toolbarDirective.toggleZoomType("brush"))}),H.k0s(),H.j41(9,"svg-icon",14),H.bIt("click",function(){H.eBV(Qt);const Wt=H.XpG();return H.Njj(Wt.toolbarDirective.toolbarRefresh())}),H.k0s(),H.j41(10,"svg-icon",15),H.bIt("click",function(){H.eBV(Qt);const Wt=H.XpG();return H.Njj(Wt.toolbarDirective.print())}),H.k0s(),H.j41(11,"svg-icon",16),H.bIt("click",function(){H.eBV(Qt);const Wt=H.XpG();return H.Njj(Wt.toolbarDirective.savePng())}),H.k0s()()}if(2&Rt){const Qt=H.XpG();H.xc7("order",Qt.orders.toolbar)("justify-content",null==Qt.toolbarDirective?null:Qt.toolbarDirective.toolbarJustifyContent),H.R7$(4),H.SpI(" x",H.bMT(5,9,Qt.zoomK$)," "),H.R7$(3),H.AVh("krui-chart-toolbar__icon--selected","scroll"===Qt.zoomType),H.R7$(),H.AVh("krui-chart-toolbar__icon--selected","brush"===Qt.zoomType)}}function Tt(Rt,pA){if(1&Rt){const Qt=H.RV6();H.j41(0,"krui-chart-legend",20),H.bIt("eventLabelClick",function(Wt){H.eBV(Qt);const Jt=H.XpG().$implicit;return H.XpG(2).onInactivityChange("layer",Jt.layerId,"",Wt),H.Njj(Jt.inactive=!Jt.inactive)}),H.k0s()}if(2&Rt){const Qt=H.XpG().$implicit;H.xc7("display","flex"),H.Y8G("color","var(--color-text-main-and-axis-labels)")("symbol","\x89")("title",Qt.layerTitle)}}function oA(Rt,pA){if(1&Rt){const Qt=H.RV6();H.j41(0,"krui-chart-legend",22),H.bIt("eventLabelClick",function(Wt){const Jt=H.eBV(Qt).$implicit,EA=H.XpG(2).$implicit,Qe=H.XpG(2);return H.Njj(Qe.onInactivityChange("axis",EA.layerId,Jt.name,Wt))}),H.k0s()}if(2&Rt){const Qt=pA.$implicit,Pt=H.XpG(2).$implicit;H.Y8G("color",Qt.fontColor)("disabled",Pt.inactive)("symbol","left"===Qt.position||"right"===Qt.position?"\u2191":"\u2192")("title",Qt.name)}}function dA(Rt,pA){if(1&Rt){const Qt=H.RV6();H.j41(0,"krui-chart-legend",22),H.bIt("eventLabelClick",function(Wt){const Jt=H.eBV(Qt).$implicit,EA=H.XpG(2).$implicit,Qe=H.XpG(2);return H.Njj(Qe.onInactivityChange("grid",EA.layerId,Jt.axis,Wt))}),H.k0s()}if(2&Rt){const Qt=pA.$implicit,Pt=H.XpG(2).$implicit;H.Y8G("color",Qt.color)("disabled",Pt.inactive)("symbol","#")("title",Qt.axis)}}function gA(Rt,pA){if(1&Rt&&H.DNE(0,oA,1,4,"krui-chart-legend",21)(1,dA,1,4,"krui-chart-legend",21),2&Rt){const Qt=H.XpG().$implicit;H.Y8G("ngForOf",Qt.axis),H.R7$(),H.Y8G("ngForOf",Qt.grid)}}function mA(Rt,pA){if(1&Rt){const Qt=H.RV6();H.j41(0,"krui-chart-legend",24),H.bIt("mouseenter",function(){const Wt=H.eBV(Qt).$index,Jt=H.XpG().$implicit,EA=H.XpG(4);return H.Njj(EA.onTrendMouseEnter(Jt.layer,Wt,!0))})("mouseleave",function(){const Wt=H.eBV(Qt).$index,Jt=H.XpG().$implicit,EA=H.XpG(4);return H.Njj(EA.onTrendMouseLeave(Jt.layer,Wt,!1))})("eventLabelClick",function(Wt){const Jt=H.eBV(Qt),EA=Jt.$implicit,Qe=Jt.$index,Ye=H.XpG().$implicit,Se=H.XpG(2),Ae=Se.$implicit,pr=Se.$index,nn=H.XpG(2);return H.Njj(nn.onTrendInactivityChange(EA.type,Ye.layer,Ae.layerId,pr,Qe,Wt))}),H.k0s()}if(2&Rt){const Qt=pA.$implicit,Pt=H.XpG(3).$implicit;H.Y8G("color",Qt.color)("disabled",Pt.inactive||Qt.disabled)("symbol","single"===Qt.type?"\u25ac":"\u25fc")("title",Qt.title)}}function XA(Rt,pA){1&Rt&&H.Z7z(0,mA,1,4,"krui-chart-legend",23,j),2&Rt&&H.Dyx(pA.$implicit.data)}function br(Rt,pA){if(1&Rt&&H.Z7z(0,XA,2,0,null,null,nt),2&Rt){const Qt=H.XpG().$implicit;H.Dyx(Qt.dataLayer)}}function Jn(Rt,pA){if(1&Rt&&(H.j41(0,"div",18),H.DNE(1,Tt,1,5,"krui-chart-legend",19)(2,gA,2,2)(3,br,2,0),H.k0s()),2&Rt){const Qt=H.XpG(2);H.R7$(),H.vxM(Qt.legendLayer?1:-1),H.R7$(),H.vxM(Qt.legendAxis?2:-1),H.R7$(),H.vxM(Qt.legendTrend?3:-1)}}function gr(Rt,pA){if(1&Rt&&(H.j41(0,"div",17,2),H.Z7z(2,Jn,4,3,"div",18,rt),H.k0s()),2&Rt){const Qt=H.XpG();H.xc7("order",Qt.orders.legend),H.R7$(2),H.Dyx(Qt.legendGroups)}}function Ve(Rt,pA){if(1&Rt){const Qt=H.RV6();H.j41(0,"div",27),H.bIt("mouseenter",function(){const Wt=H.eBV(Qt).$index,Jt=H.XpG().$implicit,EA=H.XpG(3);return H.Njj(EA.onTrendMouseEnter(Jt.layer,Wt,!0))})("mouseleave",function(){const Wt=H.eBV(Qt).$index,Jt=H.XpG().$implicit,EA=H.XpG(3);return H.Njj(EA.onTrendMouseLeave(Jt.layer,Wt,!1))})("click",function(){const Wt=H.eBV(Qt),Jt=Wt.$implicit,EA=Wt.$index,Qe=H.XpG().$implicit,Ye=H.XpG(),Se=Ye.$implicit,Ae=Ye.$index,pr=H.XpG(2);return H.Njj(pr.onTrendInactivityChange(Jt.type,Qe.layer,Se.layerId,Ae,EA,Jt.inactive=!Jt.inactive))}),H.nrm(1,"div",28),H.j41(2,"div",29),H.EFF(3),H.k0s()()}if(2&Rt){const Qt=pA.$implicit,Pt=H.XpG(2).$implicit;H.AVh("krui-chart-simple-legend__item--inactive",Qt.inactive)("krui-chart-simple-legend__item--disabled",Pt.inactive||Qt.disabled),H.R7$(),H.xc7("background-color",Qt.color),H.R7$(2),H.JRh(Qt.title)}}function zt(Rt,pA){1&Rt&&H.Z7z(0,Ve,4,7,"div",26,At),2&Rt&&H.Dyx(pA.$implicit.data)}function PA(Rt,pA){1&Rt&&H.Z7z(0,zt,2,0,null,null,nt),2&Rt&&H.Dyx(pA.$implicit.dataLayer)}function Kt(Rt,pA){if(1&Rt&&(H.j41(0,"div",25,3),H.Z7z(2,PA,2,0,null,null,rt),H.k0s()),2&Rt){const Qt=H.XpG();H.xc7("order",Qt.orders.legend),H.R7$(2),H.Dyx(Qt.legendGroups)}}function aA(Rt,pA){1&Rt&&H.SdG(0,0,["#customLegendContainer",""])}let QA=(()=>{class Rt{CHART_PALETTE;CHART_AXIS_PALETTE;CHART_GRID_PALETTE;wrap;toolbarDirective;tooltipDirective;elementRef;cdr;legend=!0;legendPosition="bottom";legendLayer=!1;legendAxis=!1;legendTrend=!0;legendHoverEffect=!0;legendType="default";legendGroupsEmitter=new H.bkB;legendGroups=[];resizeObserveType="hostListener";zoomType="scroll";useDefaultCheck=!0;toolbarContainer=null;legendGroupDiv=null;simpleLegendGroupDiv=null;customLegendGroupDiv=null;resizer;nextColorId=-1;orders={toolbar:0,legend:1,chart:2,resizeContainer:10};zoomK$=new yt.t("1");layersList;smartScroll;stateLegendMap=new Map;_zoom=null;_zoomEvent;_brush;unsubscribe$=new Mt.B;_resize$=new yt.t(null);_resizeObserver=null;constructor(Qt,Pt,Wt,Jt,EA,Qe,Ye,Se){this.CHART_PALETTE=Qt,this.CHART_AXIS_PALETTE=Pt,this.CHART_GRID_PALETTE=Wt,this.wrap=Jt,this.toolbarDirective=EA,this.tooltipDirective=Qe,this.elementRef=Ye,this.cdr=Se}OnResize(){"resizeObserver"!==this.resizeObserveType&&this._resize$.next({width:this.resizer.nativeElement.offsetWidth,height:this.resizer.nativeElement.offsetHeight})}ngOnInit(){this.toolbarDirective.zoomType=this.zoomType,this.toolbarDirective.zoomTypeDefault=this.zoomType,"bottom"===this.toolbarDirective.toolbarPosition&&(this.orders.toolbar=4),"bottom"===this.legendPosition&&(this.orders.legend=3),this.useDefaultCheck&&Object.entries((0,Bt.Zr)())?.forEach(([Qt,Pt])=>{null==this[Qt]&&(this[Qt]=Pt)}),this.wrap.reSize$.pipe((0,L.p)(Qt=>!!Qt),(0,xt.Q)(this.unsubscribe$)).subscribe(Qt=>{this.tooltipDirective.onGraphMouseLeave(),this._zoom.translateExtent([[-this.wrap.marginLeft,-this.wrap.marginTop],[this.wrap.width+8,this.wrap.height+this.wrap.marginBottom]]),this.layersList.forEach(Pt=>Pt.reDraw(this._zoomEvent,!0,!1)),this.wrap.smartScrollEnable&&(this.smartScroll.reDraw(),this.smartScroll.moveScroll=this._zoomEvent)}),this.toolbarDirective.zoom$.pipe((0,xt.Q)(this.unsubscribe$)).subscribe(Qt=>{if(!Qt)return;this.zoomK$.next((Qt??1).toFixed(1));const Pt=this._zoomEvent?[this._zoomEvent.transform.x/this._zoomEvent.transform.k,this._zoomEvent.transform.y/this._zoomEvent.transform.k]:[-this.wrap.workGroundWidth/2,-this.wrap.workGroundHeight/2];this.wrap.svg.call(this._zoom.transform,Ct.zoomIdentity.scale(Qt).translate(Pt[0],Pt[1]))}),this.toolbarDirective.zoomType$.pipe((0,xt.Q)(this.unsubscribe$)).subscribe(Qt=>{this.wrap.svg.call(this._zoom.transform,Ct.zoomIdentity.scale(1).translate(0,0)),this.zoomType=Qt,this.wrap.createCanvas(),this.drawStart()}),this.cdr.markForCheck()}ngAfterViewInit(){this.initStart(),this.initResizeObserve()}ngOnDestroy(){this._resizeObserver?.unobserve(this.elementRef.nativeElement),this.tooltipDirective.onGraphMouseLeave(),this.unsubscribe$.next(),this.unsubscribe$.complete()}nextColor(){return this.CHART_PALETTE[this.nextColorId=(this.nextColorId+1)%this.CHART_PALETTE.length]}onTrendInactivityChange(Qt,Pt,Wt,Jt,EA,Qe){if(Pt.toggleState(EA,Qe),this.legendGroups?.length>1){const Ye=this.legendGroups[Jt].dataLayer,Se=this.stateLegendMap.get(Wt);Se?.set(Pt.id,Qe);const Ae=[];if(Se)for(let pr of Se.values())pr&&Ae.push(1);Ct.select(`#${Wt}`).attr("display",Ae.length===Ye?.length?"none":"inline")}this.cdr.markForCheck()}onInactivityChange(Qt,Pt,Wt,Jt){"layer"===Qt?Ct.select(`#${Pt}`).attr("display",`${Jt?"none":null}`):Ct.select(`#${Pt}--${Qt}-${Wt}`).attr("display",`${Jt?"none":null}`),this.cdr.markForCheck()}onTrendMouseEnter(Qt,Pt,Wt){this.legendHoverEffect&&(Qt.toggleOpacity(Pt,Wt),this.layersList.forEach(Jt=>Jt.renderOpacity(Wt)))}onTrendMouseLeave(Qt,Pt,Wt){Qt.toggleOpacity(Pt,Wt),this.layersList.forEach(Jt=>Jt.renderOpacity(Wt))}initStart(){this.legendGroups=[],this.wrap.refreshMarginAxis(),this.layersList.forEach(Pt=>{this.stateLegendMap.set(Pt.layerId,new Map),this.legendGroups.push(Pt.getLegendLabels()),this.wrap.axisLevelMap.set(Pt.layerId,new Map),Pt.getAxis().forEach(Wt=>{if(Wt.drawAxis)switch(Wt.position){case"left":this.wrap.axisLevelMap.get(Pt.layerId)?.set("left",this.wrap.axisCounter.left),this.wrap.axisCounter.left+=1;break;case"right":this.wrap.axisLevelMap.get(Pt.layerId)?.set("right",this.wrap.axisCounter.right),this.wrap.axisCounter.right+=1;break;case"bottom":this.wrap.axisLevelMap.get(Pt.layerId)?.set("bottom",this.wrap.axisCounter.bottom),this.wrap.axisCounter.bottom+=1;break;case"top":this.wrap.axisLevelMap.get(Pt.layerId)?.set("top",this.wrap.axisCounter.top),this.wrap.axisCounter.top+=1}})});let Qt=0;if(this.legend)switch(this.legendType){case"default":Qt=this.legendGroupDiv?.offsetHeight?this.legendGroupDiv?.offsetHeight:gt.Lb;break;case"simple-style":Qt=this.simpleLegendGroupDiv?.offsetHeight?this.simpleLegendGroupDiv?.offsetHeight:gt.Lb;break;case"custom":Qt=this.customLegendGroupDiv?.offsetHeight?this.customLegendGroupDiv?.offsetHeight:gt.Lb}this.toolbarDirective.toolbar&&(this.wrap.toolbarHeight=this.toolbarContainer?.offsetHeight??gt.jw),this.wrap.legendHeight=Qt,this.wrap.createCanvas(),this.legendGroups.forEach((Pt,Wt)=>{Pt.axis.forEach(Jt=>Jt.color?null:Jt.color=this.CHART_AXIS_PALETTE[Wt]??gt.Di),Pt.grid.forEach(Jt=>Jt.color?null:Jt.color=this.CHART_GRID_PALETTE[Wt]??gt.ur)}),this.legendGroupsEmitter.emit(this.legendGroups),this.drawStart(),this.cdr.markForCheck()}drawStart(){this.layersList.forEach(Qt=>Qt.draw()),this.tooltipDirective.tooltip&&this.wrap._g.on("mousemove",Qt=>this.tooltipDirective.onGraphMouseMove(Qt)).on("mouseenter",()=>this.tooltipDirective.onGraphMouseEnter()).on("mouseleave",()=>this.tooltipDirective.onGraphMouseLeave()),this.tooltipDirective.drawTooltipMarker(),this.setZoom(),setTimeout(()=>this.cdr.markForCheck())}setZoom(){if(this.wrap.svg.select(".brush-container")?.remove(),this._brush=null,this._zoom=null,this._zoom=Ct.zoom().scaleExtent([.5,32]).translateExtent([[-this.wrap.marginLeft,-this.wrap.marginTop],[this.wrap.width+this.wrap.marginRight,this.wrap.height+this.wrap.marginBottom]]).on("start",()=>this.tooltipDirective.onGraphMouseLeave()).on("zoom",Qt=>{"mousemove"===Qt.sourceEvent&&"brush"===this.zoomType||(this._zoomEvent=Qt,this.layersList.forEach(Pt=>Pt.zoom(Qt)))}).on("end",Qt=>{const Pt=this._zoomEvent?.transform?.k??1;this.toolbarDirective.zoomK=Pt,this.zoomK$.next(Pt.toFixed(1)),this.tooltipDirective.onGraphMouseEnter(),this.wrap.smartScrollEnable&&(this.smartScroll.moveScroll=Qt)}),"brush"===this.zoomType){let Qt=!1;const Pt=[[this.wrap.offsetMarginLeft,this.wrap.marginTop],[this.wrap.svgWidth,this.wrap.offsetHeight]];this._brush=Ct.brush().extent(Pt).on("start",()=>this.tooltipDirective.onGraphMouseLeave()).on("end",Wt=>{if(this.tooltipDirective.onGraphMouseEnter(),Qt)return;Qt=!0;const Jt=Wt?.selection?Wt.selection:Pt,EA=this.wrap.workGroundWidth/(Jt[1][0]-Jt[0][0]);this.wrap.svg.transition().duration(750).call(this._zoom.transform,Ct.zoomIdentity.scale(EA).translate(-Jt[0][0],-Jt[0][1])),this.toolbarDirective.zoomK=EA,this.zoomK$.next(EA.toFixed(1)),this.wrap.svg.select(".brush-container").call(this._brush.move,null),setTimeout(()=>Qt=!1,500)}),this.wrap.svg.append("g").attr("class","brush-container").call(this._brush)}"scroll"===this.zoomType&&this.wrap.svg.call(this._zoom).transition().duration(750),this.wrap.svg.call(this._zoom.transform,Ct.zoomIdentity.scale(1).translate(0,0)),this.wrap.smartScrollEnable&&(this.smartScroll.draw(),this.smartScroll.scrollEmitter.pipe((0,xt.Q)(this.unsubscribe$)).subscribe(Qt=>{this.wrap.svg.transition().duration(750).call(this._zoom.transform,Ct.zoomIdentity.scale(this.wrap.workGroundWidth/(Qt[1]-Qt[0])).translate(-Qt[0],0))}))}initResizeObserve(){"resizeObserver"===this.resizeObserveType&&(this._resizeObserver=new ResizeObserver(Qt=>{Qt?.[0]?.contentRect&&this._resize$.next({width:Qt?.[0]?.contentRect.width,height:Qt?.[0]?.contentRect.height})}),this._resizeObserver.observe(this.resizer.nativeElement)),this._resize$.pipe((0,dt.B)(300),(0,xt.Q)(this.unsubscribe$)).subscribe(Qt=>{!Qt?.height||!Qt.width||this.wrap.onResize(Qt)})}static \u0275fac=function(Pt){return new(Pt||Rt)(H.rXU(ft.p8),H.rXU(ft.Fz),H.rXU(ft.at),H.rXU(ft.oh,1),H.rXU(ft.Fj,1),H.rXU(ft.ts,1),H.rXU(H.aKT),H.rXU(H.gRc))};static \u0275cmp=H.VBU({type:Rt,selectors:[["krui-chart"]],contentQueries:function(Pt,Wt,Jt){if(1&Pt&&(H.wni(Jt,ft.rU,5),H.wni(Jt,ft.dk,4)),2&Pt){let EA;H.mGM(EA=H.lsd())&&(Wt.smartScroll=EA.first),H.mGM(EA=H.lsd())&&(Wt.layersList=EA)}},viewQuery:function(Pt,Wt){if(1&Pt&&(H.GBs(m,5),H.GBs(C,5),H.GBs(_,5),H.GBs(U,5),H.GBs(E,7)),2&Pt){let Jt;H.mGM(Jt=H.lsd())&&(Wt.toolbarContainer=Jt.first),H.mGM(Jt=H.lsd())&&(Wt.legendGroupDiv=Jt.first),H.mGM(Jt=H.lsd())&&(Wt.simpleLegendGroupDiv=Jt.first),H.mGM(Jt=H.lsd())&&(Wt.customLegendGroupDiv=Jt.first),H.mGM(Jt=H.lsd())&&(Wt.resizer=Jt.first)}},hostBindings:function(Pt,Wt){1&Pt&&H.bIt("resize",function(EA){return Wt.OnResize(EA)},!1,H.EBC)},inputs:{legend:"legend",legendPosition:"legendPosition",legendLayer:"legendLayer",legendAxis:"legendAxis",legendTrend:"legendTrend",legendHoverEffect:"legendHoverEffect",legendType:"legendType",resizeObserveType:"resizeObserveType",zoomType:"zoomType",useDefaultCheck:"useDefaultCheck"},outputs:{legendGroupsEmitter:"legendGroupsEmitter"},standalone:!1,features:[H.Jv_([{provide:ft.lm,useExisting:Rt},{provide:ft.TC,useExisting:Rt}])],ngContentSelectors:V,decls:6,vars:4,consts:[["resizeContainer",""],["toolbarContainer",""],["legendContainer",""],["simpleLegendContainer",""],[1,"krui-chart-toolbar",3,"order","justify-content"],[1,"krui-chart-legend",3,"order"],[1,"krui-chart-simple-legend",3,"order"],[1,"resize-container"],[1,"krui-chart-toolbar"],["src","kruiIconPlusAddCircle",1,"krui-chart-toolbar__icon",3,"click"],[1,"krui-chart-toolbar__zoom-timer"],["src","kruiIconPlusMinusCircle",1,"krui-chart-toolbar__icon",3,"click"],["src","kruiIconSearchPlus",1,"krui-chart-toolbar__icon",3,"click"],["src","kruiIconSelectAreaAimTarget",1,"krui-chart-toolbar__icon",3,"click"],["src","kruiIconReturnCircle",1,"krui-chart-toolbar__icon",3,"click"],["src","kruiIconPrint",1,"krui-chart-toolbar__icon",3,"click"],["src","kruiIconPictureX3",1,"krui-chart-toolbar__icon",3,"click"],[1,"krui-chart-legend"],[1,"legend-group"],[3,"color","display","symbol","title"],[3,"eventLabelClick","color","symbol","title"],[3,"color","disabled","symbol","title","eventLabelClick",4,"ngFor","ngForOf"],[3,"eventLabelClick","color","disabled","symbol","title"],[3,"color","disabled","symbol","title"],[3,"mouseenter","mouseleave","eventLabelClick","color","disabled","symbol","title"],[1,"krui-chart-simple-legend"],[1,"krui-chart-simple-legend__item",3,"krui-chart-simple-legend__item--inactive","krui-chart-simple-legend__item--disabled"],[1,"krui-chart-simple-legend__item",3,"mouseenter","mouseleave","click"],[1,"krui-chart-simple-legend__icon"],[1,"krui-chart-simple-legend__title"]],template:function(Pt,Wt){1&Pt&&(H.NAR(S),H.DNE(0,ct,12,11,"div",4)(1,gr,4,2,"div",5)(2,Kt,4,2,"div",6)(3,aA,1,0),H.nrm(4,"div",7,0)),2&Pt&&(H.vxM(Wt.toolbarDirective.toolbar?0:-1),H.R7$(),H.vxM(Wt.legend&&"default"===Wt.legendType?1:Wt.legend&&"simple-style"===Wt.legendType?2:3),H.R7$(3),H.xc7("order",Wt.orders.resizeContainer))},dependencies:[st.Sq,Ot.DM,o,st.Jj],styles:["[_nghost-%COMP%]{position:relative;display:flex;flex-direction:column;width:100%;height:100%;justify-content:flex-end}.legend-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}  .krui-chart-print-background{background:var(--color-background-popup-widgets);width:100%!important;height:100%!important}.resize-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:-10}@media print{.krui-chart-toolbar[_ngcontent-%COMP%]{display:none}}"],changeDetection:0})}return Rt})()},4460:(IA,Yt,$)=>{"use strict";$.d(Yt,{F_:()=>o,Ju:()=>_,Nb:()=>m,TE:()=>C,_Z:()=>dt,ez:()=>Ct,fk:()=>ft,ny:()=>st,qQ:()=>Bt,so:()=>gt,xy:()=>Ot});var H=$(1648);const Ct={showValues:!1,valuesColor:H.lM,valuesFontSizePx:12,valuesFontFamily:"Tahoma",captions:[""],engUnits:[""],animation:!0,durationAnimation:2e3,durationToggleAnimation:500,reRangeThenLegendClick:!0,reRangeThenDataChange:!0,workgroundPadding:{top:5,right:0,left:0,bottom:0},useDefaultCheck:!0,withMinMaxCoef:!1},yt_workgroundPadding={top:5,right:0,left:0,bottom:0},Mt_workgroundPadding={top:0,right:5,left:0,bottom:0},L_workgroundPadding={top:5,right:10,left:10,bottom:0},xt_workgroundPadding={top:5,right:5,left:2,bottom:5},dt={color:H.HT,barBorderColor:H.HT,barType:"solidColor",barOpacity:1,barRadius:0,barBorder:!1,fixedBarWidth:!1,showEnumValues:!1,valuePosition:"center",animationType:"growth",tooltipHoverEffect:!1,tooltipHoverColor:H.HT,enablePreviousData:!0,startInNull:!0,barWidthPercent:80},Bt={barType:"solidColor",barOpacity:1,barsOpacity:[],barRadius:0,barBorder:!1,fixedBarWidth:!1,showEnumValues:!1,valuePosition:"center",animationType:"growth",tooltipHoverEffect:!1,tooltipHoverColor:H.HT,enablePreviousData:!0,startInNull:!0,barWidthPercent:80,stackWidthPercent:80},gt={barType:"solidColor",barOpacity:1,barsOpacity:[],barRadius:0,barBorder:!1,fixedBarWidth:!1,showEnumValues:!1,showStackValues:!1,valuePosition:"center",animationType:"growth",tooltipHoverEffect:!1,tooltipHoverColor:H.HT,enablePreviousData:!0,startInNull:!0,barWidthPercent:80,stackType:"stackBar"},ft=()=>(Ct.workgroundPadding=yt_workgroundPadding,JSON.parse(JSON.stringify(Ct))),st=()=>(Ct.workgroundPadding=Mt_workgroundPadding,JSON.parse(JSON.stringify(Ct))),Ot=()=>(Ct.workgroundPadding=L_workgroundPadding,JSON.parse(JSON.stringify(Ct))),o=()=>(Ct.workgroundPadding=xt_workgroundPadding,JSON.parse(JSON.stringify(Ct))),m=()=>JSON.parse(JSON.stringify(dt)),C=()=>JSON.parse(JSON.stringify(Bt)),_=()=>JSON.parse(JSON.stringify(gt))},1305:(IA,Yt,$)=>{"use strict";$.d(Yt,{AL:()=>Ct,B_:()=>xt,Cq:()=>L,Fe:()=>dt,Gy:()=>yt,Zr:()=>gt,Zs:()=>Bt,of:()=>Mt});var H=$(1648);const Ct={toolbar:!0,toolbarPosition:"top",toolbarJustifyContent:"flex-end"},yt={tooltip:!0,tooltipComponentType:"default",tooltipType:"fullLine",tooltipMarkerType:"line",tooltipMarkerCrossSize:10,tooltipColor:H.jH,tooltipWidth:1,chartOrientation:"vertical",tooltipShowMilliseconds:!1,tooltipDateValuePipeFormat:"dd.MM.yyyy HH:mm",tooltipTitleDateValuePipeFormat:"dd.MM.yyyy HH:mm:ss",tooltipNumberValuePipeFormat:"1.0-0",tooltipTitleNumberValuePipeFormat:"1.0-0"},Mt={marginLeft:12,marginRight:12,marginBottom:12,marginTop:12,bgColor:H.Ru,borderColor:H.Di,borderRadius:4,smartScrollEnable:!1,smartScrollHeight:42,smartScrollColor:H.HT,language:"ru",formatFunc:null,setDefIfContainerSizeInvalid:!0,customResize:null,isFixedSize:!1},L={legend:!0,legendPosition:"bottom",legendLayer:!1,legendAxis:!1,legendTrend:!0,legendHoverEffect:!0,legendType:"simple-style"},xt=()=>JSON.parse(JSON.stringify(Ct)),dt=()=>JSON.parse(JSON.stringify(yt)),Bt=()=>JSON.parse(JSON.stringify(Mt)),gt=()=>JSON.parse(JSON.stringify(L))},7452:(IA,Yt,$)=>{"use strict";$.d(Yt,{C:()=>Ct,Z:()=>yt});const Ct={tooltipEnable:!0,tooltipColor:$(1648).jH,zoomPrimaryEnable:!0,zoomSecondaryEnable:!1,layerTitle:""},yt=()=>JSON.parse(JSON.stringify(Ct))},925:(IA,Yt,$)=>{"use strict";$.d(Yt,{$U:()=>L,RO:()=>Ct,Ti:()=>Mt,nd:()=>yt});var H=$(1648);const Ct={showValues:!1,valuesFontSizePx:12,valuesFontFamily:"Tahoma",captions:[""],engUnits:[""],animation:!0,durationAnimation:2e3,durationToggleAnimation:500,reRangeThenLegendClick:!0,reRangeThenDataChange:!0,workgroundPadding:{top:5,right:10,left:10,bottom:5},useDefaultCheck:!0,withMinMaxCoef:!1},yt={color:H.HT,interpolateEnable:!1,extendStep:10,lineType:"line",lineDynamics:"curveLinear",lineOpacity:1,lineWidth:2,dataPointType:"partial",dataPointMarker:"dataPoint",breakPointType:"auto",breakPoint:!0,breakPointSize:4,breakPointStrokeSize:0,breakPointLimit:50,breakPointMarker:"symbolX",endPoint:!0,endPointSize:2,endPointStrokeSize:7},Mt=()=>JSON.parse(JSON.stringify(Ct)),L=()=>JSON.parse(JSON.stringify(yt))},1648:(IA,Yt,$)=>{"use strict";$.d(Yt,{AN:()=>ft,Di:()=>H,HT:()=>xt,Lb:()=>o,Ru:()=>Mt,Xu:()=>Bt,jH:()=>L,jK:()=>gt,jw:()=>Ot,lM:()=>yt,qQ:()=>dt,ur:()=>Ct,xN:()=>st});const H="var(--color-borders-icons)",Ct="var(--color-borders-stroke)",yt="var(--color-text-contrast)",Mt="var(--color-background-main)",L="var(--color-borders-icons)",xt="var(--color-logo)",dt=40,Bt=20,gt=8,ft=800,st=600,Ot=18,o=18},5686:(IA,Yt,$)=>{"use strict";$.d(Yt,{X9:()=>L,xX:()=>Ct});var H=$(6712);const Ct={dateTime:"%a, %e %b %Y \u0433. %H:%M:%S",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"],shortDays:["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"],months:["\u044f\u043d\u0432","\u0444\u0435\u0432","\u043c\u0430\u0440","\u0430\u043f\u0440","\u043c\u0430\u0439","\u0438\u044e\u043d","\u0438\u044e\u043b","\u0430\u0432\u0433","\u0441\u0435\u043d","\u043e\u043a\u0442","\u043d\u043e\u044f","\u0434\u0435\u043a"],shortMonths:["\u044f\u043d\u0432","\u0444\u0435\u0432","\u043c\u0430\u0440","\u0430\u043f\u0440","\u043c\u0430\u0439","\u0438\u044e\u043d","\u0438\u044e\u043b","\u0430\u0432\u0433","\u0441\u0435\u043d","\u043e\u043a\u0442","\u043d\u043e\u044f","\u0434\u0435\u043a"]},yt={dateTime:"%a %b %e %H:%M:%S %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},Mt={dateTime:"%a %b %e %H:%M:%S %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["\u06cc\u06a9\u0634\u0646\u0628\u0647","\u062f\u0648\u0634\u0646\u0628\u0647","\u0633\u0647\u0634\u0646\u0628\u0647","\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647","\u067e\u0646\u062c\u0634\u0646\u0628\u0647","\u062c\u0645\u0639\u0647","\u0634\u0646\u0628\u0647"],shortDays:["\u06cc\u06a9\u0634\u0646\u0628\u0647","\u062f\u0648\u0634\u0646\u0628\u0647","\u0633\u0647\u0634\u0646\u0628\u0647","\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647","\u067e\u0646\u062c\u0634\u0646\u0628\u0647","\u062c\u0645\u0639\u0647","\u0634\u0646\u0628\u0647"],months:["\u0698\u0627\u0646\u0648\u06cc\u0647","\u0641\u0648\u0631\u06cc\u0647","\u0645\u0627\u0631\u0633","\u0622\u0648\u0631\u06cc\u0644","\u0645\u0647","\u0698\u0648\u0626\u0646","\u0698\u0648\u0626\u06cc\u0647","\u0627\u0648\u062a","\u0633\u067e\u062a\u0627\u0645\u0628\u0631","\u0627\u06a9\u062a\u0628\u0631","\u0646\u0648\u0627\u0645\u0628\u0631","\u062f\u0633\u0627\u0645\u0628\u0631"],shortMonths:["\u0698\u0627\u0646\u0648\u06cc\u0647","\u0641\u0648\u0631\u06cc\u0647","\u0645\u0627\u0631\u0633","\u0622\u0648\u0631\u06cc\u0644","\u0645\u0647","\u0698\u0648\u0626\u0646","\u0698\u0648\u0626\u06cc\u0647","\u0627\u0648\u062a","\u0633\u067e\u062a\u0627\u0645\u0628\u0631","\u0627\u06a9\u062a\u0628\u0631","\u0646\u0648\u0627\u0645\u0628\u0631","\u062f\u0633\u0627\u0645\u0628\u0631"]};function L(xt,dt){let Bt=Ct;switch(dt){case"ru":Bt=Ct;break;case"en":Bt=yt;break;case"fa":Bt=Mt}let gt=H.timeFormatLocale({...Bt,periods:["",""]}),ft=gt.format("%M:%S.%L"),st=gt.format("%M:%S"),Ot=gt.format("%H:%M"),o=gt.format("%H:%M"),m=gt.format("%d %b"),C=gt.format("%d %b"),_=gt.format("%d %b"),U=gt.format("%d %b %Y");return(H.timeSecond(xt)<xt?ft:H.timeMinute(xt)<xt?st:H.timeHour(xt)<xt?Ot:H.timeDay(xt)<xt?o:H.timeMonth(xt)<xt?H.timeWeek(xt)<xt?m:C:H.timeYear(xt)<xt?_:U)(xt)}},9726:(IA,Yt,$)=>{"use strict";$.d(Yt,{Oc:()=>Ct,em:()=>Mt,me:()=>yt,wP:()=>L});var H=$(6183);const Ct=(xt,dt,Bt,gt)=>{const ft=(0,H.Pb)(Bt(gt));if("top"===xt)return ft<0?dt:ft+dt;if("bottom"===xt){const st=Bt.range()[0]-dt;return ft>st?ft:st}if("over"===xt){const st=ft-dt/2;return st>dt?st:dt}{const st=Bt.range()[0];return st-(st-ft)/2}},yt=(xt,dt,Bt,gt)=>{const ft=(0,H.Pb)(Bt(gt));if("top"===xt){const st=Bt.range()[1]-dt;return ft<st?ft-dt:st}if("bottom"===xt)return ft>0?dt:ft+dt;if("over"===xt){const st=Bt.range()[1]-dt;return ft<st?ft+dt:st}{const st=Bt.range()[0];return st-(st-ft)/2}},Mt=(xt,dt,Bt,gt)=>"top"===xt?(0,H.Pb)(Bt(gt[1]))+dt:"bottom"===xt?(0,H.Pb)(Bt(gt[0]))-dt:"over"===xt?(0,H.Pb)(Bt(gt[1])):((0,H.Pb)(Bt(gt[0]))-(0,H.Pb)(Bt(gt[1])))/2+(0,H.Pb)(Bt(gt[1])),L=(xt,dt,Bt,gt)=>"top"===xt?(0,H.Pb)(Bt(gt[1]))-dt:"bottom"===xt?(0,H.Pb)(Bt(gt[0]))+dt:"over"===xt?(0,H.Pb)(Bt(gt[1])):((0,H.Pb)(Bt(gt[0]))-(0,H.Pb)(Bt(gt[1])))/2+(0,H.Pb)(Bt(gt[1]))},3249:(IA,Yt,$)=>{"use strict";$.d(Yt,{h:()=>H,n:()=>Ct});const H=(yt,Mt)=>{let L=Math.trunc(yt),xt=Math.abs(yt-L);if(0===xt)return L;L+=".";let dt=0;for(;0!==xt&&dt<Mt;){xt*=10;const Bt=Math.floor(xt);L+=Bt,xt-=Bt,0!==Bt&&dt++}return L},Ct=yt=>{if(!yt)return"";switch(Object.prototype.toString.call(yt)){case"[object Date]":return yt.toLocaleDateString();case"[object String]":return yt;case"[object Number]":return yt.toString();default:return""}}},6183:(IA,Yt,$)=>{"use strict";$.d(Yt,{HU:()=>Mt,Pb:()=>H,jJ:()=>Ct,jU:()=>yt,lJ:()=>L,w_:()=>xt});const H=Bt=>Bt??0,Ct=(Bt,gt)=>"enum"===gt,yt=(Bt,gt)=>{let ft=Number.POSITIVE_INFINITY,st=Number.NEGATIVE_INFINITY;for(const Ot of gt){let o=[];o=Bt.primary?Ot.getDomain(Bt.type):Ot.getRange(),ft=Math.min(ft,...o),st=Math.max(st,...o)}return[Bt.min??ft,Bt.max??st]},Mt=(Bt,gt)=>{let ft=new Set([]);for(const st of gt)Bt.primary?st.getDomain(Bt.type)?.map(Ot=>ft.add(Ot.toString())):st.getRange()?.map(Ot=>ft.add(Ot.toString()));return Array.from(ft)},L=(Bt,gt)=>{let ft=Number.POSITIVE_INFINITY,st=Number.NEGATIVE_INFINITY;for(const Ot of gt){let o=[];o=Bt.primary?Ot.getDomain(Bt.type).map(m=>+m):Ot.getRange().map(m=>+m),ft=Math.min(ft,...o),st=Math.max(st,...o)}return[Bt.min??new Date(ft),Bt.max??new Date(st)]},xt=(Bt,gt)=>{let ft={top:0,bottom:0,left:0,right:0};for(const st of Bt){const Ot=st.getWorkgroundPadding(gt);ft.top=Ot.top>=ft.top?Ot.top:ft.top,ft.right=Ot.right>=ft.right?Ot.right:ft.right,ft.bottom=Ot.bottom>=ft.bottom?Ot.bottom:ft.bottom,ft.left=Ot.left>=ft.left?Ot.left:ft.left}return ft}},4705:(IA,Yt,$)=>{"use strict";$.d(Yt,{O:()=>Mt});class H{}var Ct=$(7592),yt=$(4438);let Mt=(()=>{class L{type="number";position;min;max;ticks;fontSize=10;fontFamily="Tahoma";fontColor="";name;primary=!1;color="";drawAxisLabel=!0;drawAxisLabelLine=!0;drawAxis=!0;static \u0275fac=function(Bt){return new(Bt||L)};static \u0275dir=yt.FsC({type:L,selectors:[["krui-chart-axis"]],inputs:{type:"type",position:"position",min:"min",max:"max",ticks:"ticks",fontSize:"fontSize",fontFamily:"fontFamily",fontColor:"fontColor",name:"name",primary:"primary",color:"color",drawAxisLabel:"drawAxisLabel",drawAxisLabelLine:"drawAxisLabelLine",drawAxis:"drawAxis"},exportAs:["kruiChartAxis"],standalone:!1,features:[yt.Jv_([{provide:H,useExisting:L},{provide:Ct.vl,useExisting:L}])]})}return L})()},2784:(IA,Yt,$)=>{"use strict";$.d(Yt,{g:()=>Mt});var H=$(7592),Ct=$(4438),yt=$(1779);let Mt=(()=>{class L{dataProvider;dataRenderer;dataTooltipProvider;static nextId=0;state=new Map;opacityState=new Map;id="krui-chart-data-layer-"+ ++L.nextId;constructor(dt,Bt,gt){this.dataProvider=dt,this.dataRenderer=Bt,this.dataTooltipProvider=gt}getDomain(dt){return this.dataProvider.getDomain(dt)}getRange(){return this.dataProvider.getRange()}getWorkgroundPadding(dt){return this.dataProvider.getWorkgroundPadding(dt)}getLegendData(){return this.dataProvider.getLegendData()}getTooltipData(dt,Bt,gt){return this.dataTooltipProvider.getTooltipData(dt,Bt,gt)}getBandWidth(){return this.dataTooltipProvider.getBandWidth()}getTooltipTitleEnum(){return this.dataTooltipProvider.getTooltipTitleEnum()}getTooltipDataEnum(dt){return this.dataTooltipProvider.getTooltipDataEnum(dt)}toggleState(dt,Bt,gt){this.dataRenderer.toggleState(dt,Bt,gt)}toggleOpacity(dt,Bt){this.dataRenderer.toggleOpacity(dt,Bt)}renderOpacity(dt){this.dataRenderer.renderOpacity(dt)}render(dt,Bt){this.dataRenderer.render(dt,Bt,this.id)}reScale(dt,Bt,gt,ft,st,Ot){this.dataRenderer.reScale(dt,Bt,gt,ft,st,Ot)}static \u0275fac=function(Bt){return new(Bt||L)(Ct.rXU(yt.Em,2),Ct.rXU(yt.MD,2),Ct.rXU(yt.N5,2))};static \u0275dir=Ct.FsC({type:L,selectors:[["krui-chart-data-layer"]],standalone:!1,features:[Ct.Jv_([{provide:H.aX,useClass:L}])]})}return L})()},6936:(IA,Yt,$)=>{"use strict";$.d(Yt,{H:()=>Mt});class H{}var Ct=$(7592),yt=$(4438);let Mt=(()=>{class L{axis;color="";drawGrid=!0;static \u0275fac=function(Bt){return new(Bt||L)};static \u0275dir=yt.FsC({type:L,selectors:[["krui-chart-grid"]],inputs:{axis:"axis",color:"color",drawGrid:"drawGrid"},exportAs:["kruiChartGrid"],standalone:!1,features:[yt.Jv_([{provide:H,useExisting:L},{provide:Ct.wj,useExisting:L}])]})}return L})()},7846:(IA,Yt,$)=>{"use strict";$.d(Yt,{I:()=>o});var H=$(6712),Ct=$(1648),yt=$(7452),Mt=$(5686),L=$(6183),xt=$(7592);let dt=(()=>class m{static nextId})();class Bt{}class gt{}class ft{}class st{}var Ot=$(4438);let o=(()=>{class m{wrap;tooltipDirective;static nextId=0;layerTitle="";tooltipEnable=!0;tooltipColor=Ct.jH;zoomPrimaryEnable=!0;zoomSecondaryEnable=!1;useDefaultCheck=!0;layerId;layerLabels=null;_scales=new Map;_axis=new Map;_layerSelection;_zoomEvent;axisList;gridList;dataLayerList;_isFirstZoom=!0;constructor(_,U){this.wrap=_,this.tooltipDirective=U,this.layerId=`${this.wrap.id}--layer-${++m.nextId}`}ngOnInit(){this.useDefaultCheck&&Object.entries((0,yt.Z)())?.forEach(([_,U])=>{null==this[_]&&(this[_]=U)})}ngAfterViewInit(){this.createLegendLabels()}toggleAll(_){this.dataLayerList.forEach((U,E)=>U.toggleState(E,_))}renderOpacity(_){this.dataLayerList.forEach((U,E)=>U.renderOpacity(_))}getAxis(){return this.axisList}getLegendLabels(){return this.layerLabels?this.layerLabels:this.createLegendLabels()}createLegendLabels(){this.layerLabels={inactive:!1,layerId:this.layerId,layerTitle:this.layerTitle,dataLayer:[],axis:this.axisList,grid:this.gridList};for(let _ of this.dataLayerList)this.layerLabels.dataLayer.push({layer:_,data:_.getLegendData()});return this.layerLabels}draw(){this.createScales(),this.createAxis(),this.drawLayer(),this.drawAxis(),this.drawGrid(),this.drawData()}createScales(){for(const _ of this.axisList){let U;U="number"===_.type?H.scaleLinear().nice().domain((0,L.jU)(_,this.dataLayerList)):"enum"===_.type?H.scaleBand().domain((0,L.HU)(_,this.dataLayerList)):H.scaleTime().nice().domain((0,L.lJ)(_,this.dataLayerList));const E=(0,L.w_)(this.dataLayerList,_.type);U.range("bottom"===_.position||"top"===_.position?[E.left,this.wrap.workGroundWidth-E.right]:[this.wrap.workGroundHeight-E.bottom,E.top]),this._scales.set(_.name,U)}}createAxis(){for(const _ of this.axisList){const U=this._scales.get(_.name);let E;E="bottom"===_.position?H.axisBottom(U):"top"===_.position?H.axisTop(U):"left"===_.position?H.axisLeft(U):H.axisRight(U),this._axis.set(_.name,E.ticks(_.ticks))}}drawLayer(){this._layerSelection&&this._layerSelection.remove(),this._layerSelection=H.select(this.wrap.canvas).append("g").attr("id",`${this.layerId}`).attr("class","krui-chart-layer")}drawAxis(){for(const _ of this.axisList?.filter(U=>U.drawAxisLabel)){if(!_.drawAxis)return;const U=this._axis.get(_.name),E=this._layerSelection.append("g").attr("id",`${this.layerId}--axis-${_.name}`).attr("class","krui-chart-axis").attr("color",_?.color?_.color:Ct.Di);let S=E.append("clipPath").attr("id",`${this.layerId}--clipPath-axis--${_.name}`).append("rect").attr("id",`${this.layerId}--clipPath-axis--${_.name}-rect`);if("bottom"===_.position){const rt=(this.wrap.axisLevelMap.get(this.layerId)?.get("bottom")??0)*Ct.Xu;E.attr("transform",`translate(0, ${this.wrap.workGroundHeight+rt})`),S.attr("x",0).attr("y",0).attr("width",this.wrap.workGroundWidth).attr("height",Ct.Xu)}else if("top"===_.position){const rt=(this.wrap.axisLevelMap.get(this.layerId)?.get("top")??0)*Ct.Xu;E.attr("transform",`translate(0, -${rt})`),S.attr("x",0).attr("y",-Ct.Xu).attr("width",this.wrap.workGroundWidth).attr("height",Ct.Xu)}else if("left"===_.position){const rt=(this.wrap.axisLevelMap.get(this.layerId)?.get("left")??0)*Ct.qQ;E.attr("transform",`translate(-${rt}, 0)`),S.attr("x",-(rt+Ct.qQ)).attr("y",-Ct.jK).attr("width",Ct.qQ).attr("height",this.wrap.workGroundHeight+2*Ct.jK)}else{const rt=(this.wrap.axisLevelMap.get(this.layerId)?.get("right")??0)*Ct.qQ;E.attr("transform",`translate(${this.wrap.workGroundWidth+rt}, 0)`),S.attr("x",0).attr("y",-Ct.jK).attr("width",Ct.qQ).attr("height",this.wrap.workGroundHeight+2*Ct.jK)}let V=null;V=E.call("time"===_.type?U.tickFormat(rt=>this.wrap.formatFunc?this.wrap?.formatFunc(rt,this.wrap.language):(0,Mt.X9)(rt,this.wrap.language)):U),V.selectAll("text").attr("width","50%").attr("color",_?.fontColor?_.fontColor:Ct.lM).style("font-size",_.fontSize).style("font-family",_.fontFamily),V.select("path").attr("color",_?.color?_.color:Ct.Di),E.attr("clip-path",()=>`url(#${this.layerId}--clipPath-axis--${_.name})`),_.drawAxisLabelLine||(V.selectAll("line").remove(),V.selectAll("path").remove())}}drawGrid(){for(const _ of this.gridList?.filter(U=>U.drawGrid)){const U=this.axisList.find(nt=>nt.name===_.axis);if(!U)continue;const E=this._axis.get(_.axis),S="left"===U.position||"right"===U.position?-this.wrap.workGroundWidth:-this.wrap.workGroundHeight,V=this._layerSelection.append("g").attr("id",`${this.layerId}--grid-${U.name}`).attr("class","krui-chart-grid").attr("color",_?.color?_.color:Ct.ur);let rt=V.append("clipPath").attr("id",`${this.layerId}--clipPath-grid--${U.name}`).append("rect").attr("id",`${this.layerId}--clipPath-grid--${U.name}-rect`).attr("x",0).attr("y",0).attr("width",this.wrap.workGroundWidth).attr("height",this.wrap.workGroundHeight);"bottom"===U.position?(V.attr("transform",`translate(0, ${this.wrap.workGroundHeight})`),rt.attr("y",-this.wrap.workGroundHeight)):"top"===U.position||"left"===U.position?V.attr("transform","translate(0, 0)"):(V.attr("transform",`translate(${this.wrap.workGroundWidth}, 0)`),rt.attr("x",-this.wrap.workGroundWidth)),V.attr("clip-path",()=>`url(#${this.layerId}--clipPath-grid--${U.name})`),V.call(E.tickFormat(()=>"").tickSizeInner(S)).select("path").remove()}}drawData(){if(this.axisList.find(U=>U.primary))for(const U of this.dataLayerList){const E=this._layerSelection.append("g").attr("x",0).attr("y",0).attr("width",this.wrap.workGroundWidth).attr("height",this.wrap.workGroundHeight).attr("id",`${this.layerId}--${U.id}`).attr("class","krui-chart-data-layer"),S=this.getContext();S&&U.render(E,S)}}reDraw(_=null,U=!1,E=!1){this._scales.clear(),this.createScales(),_&&(this._zoomEvent=_),this.zoomAxis(this._zoomEvent,U),this.zoomLayer(this._zoomEvent,E)}getContext(){const _=this.axisList.find(E=>E.primary),U=this.axisList.find(E=>!E.primary);return _&&U?{canvasWidth:this.wrap.workGroundWidth,canvasHeight:this.wrap.workGroundHeight,primaryAxis:{name:_.name,type:_.type,position:_.position,d3Scale:this._scales.get(_.name),d3Axis:this._axis.get(_.name)},secondaryAxis:{name:U.name,type:U.type,position:U.position,d3Scale:this._scales.get(U.name),d3Axis:this._axis.get(U.name)}}:null}zoom(_){if((this.zoomPrimaryEnable||this.zoomSecondaryEnable)&&_){if(this._zoomEvent=_,this._isFirstZoom)return void(this._isFirstZoom=!1);this.zoomAxis(_),this.zoomLayer(_)}}zoomAxis(_,U=!1){const S=this.axisList.find(V=>V.primary)?.type??"number";for(const V of this.axisList){const rt=H.select(this.wrap.canvas).select(`#${this.layerId}--axis-${V.name}`),nt=H.select(`#${this.layerId}--clipPath-axis--${V.name}-rect`),j=H.select(this.wrap.canvas).select(`#${this.layerId}--grid-${V.name}`),At=H.select(`#${this.layerId}--clipPath-grid--${V.name}-rect`).attr("width",this.wrap.workGroundWidth).attr("height",this.wrap.workGroundHeight),ct="left"===V.position||"right"===V.position?-this.wrap.workGroundWidth:-this.wrap.workGroundHeight;let oA,Tt=this._scales.get(V.name);("number"===S||"time"===V.type)&&(this.zoomPrimaryEnable&&V.primary&&(Tt="vertical"===this.tooltipDirective.chartOrientation?_.transform?.rescaleX(Tt):_.transform?.rescaleY(Tt)),this.zoomSecondaryEnable&&!V.primary&&(Tt="vertical"===this.tooltipDirective.chartOrientation?_.transform?.rescaleY(Tt):_.transform?.rescaleX(Tt)));const dA=(0,L.w_)(this.dataLayerList,V.type);if("bottom"===V.position){if("enum"===S&&Tt.range([dA.left,this.wrap.workGroundWidth-dA.right].map(mA=>_.transform.applyX(mA))),U){const mA=(this.wrap.axisLevelMap.get(this.layerId)?.get("bottom")??0)*Ct.Xu;rt.attr("transform",`translate(0, ${this.wrap.workGroundHeight+mA})`),nt.attr("width",this.wrap.workGroundWidth),j.attr("transform",`translate(0, ${this.wrap.workGroundHeight})`),At.attr("y",-this.wrap.workGroundHeight)}oA=H.axisBottom(Tt)}else if("top"===V.position){if("enum"===S&&Tt.range([dA.left,this.wrap.workGroundWidth-dA.right].map(mA=>_.transform.applyX(mA))),U){const mA=(this.wrap.axisLevelMap.get(this.layerId)?.get("top")??0)*Ct.Xu;rt.attr("transform",`translate(0, -${mA})`),nt.attr("width",this.wrap.workGroundWidth),j.attr("transform","translate(0, 0)")}oA=H.axisTop(Tt)}else if("left"===V.position){if("enum"===S&&Tt.range([this.wrap.workGroundHeight-dA.bottom,dA.top].map(mA=>_.transform.applyY(mA))),U){const mA=(this.wrap.axisLevelMap.get(this.layerId)?.get("left")??0)*Ct.qQ;rt.attr("transform",`translate(-${mA}, 0)`),nt.attr("x",-(mA+Ct.qQ)).attr("height",this.wrap.workGroundHeight+2*Ct.jK),j.attr("transform","translate(0, 0)")}oA=H.axisLeft(Tt)}else{if("enum"===S&&Tt.range([this.wrap.workGroundHeight-dA.bottom,dA.top].map(mA=>_.transform.applyY(mA))),U){const mA=(this.wrap.axisLevelMap.get(this.layerId)?.get("right")??0)*Ct.qQ;rt.attr("transform",`translate(${this.wrap.workGroundWidth+mA}, 0)`),nt.attr("height",this.wrap.workGroundHeight+2*Ct.jK),j.attr("transform",`translate(${this.wrap.workGroundWidth}, 0)`),At.attr("x",-this.wrap.workGroundWidth)}oA=H.axisRight(Tt)}let gA=null;gA=rt.call("time"===V.type?oA.ticks(V.ticks).tickFormat(mA=>this.wrap?.formatFunc?this.wrap.formatFunc(mA,this.wrap.language):(0,Mt.X9)(mA,this.wrap.language)):oA.ticks(V.ticks)),gA.selectAll("text").attr("color",V?.fontColor?V.fontColor:Ct.lM),gA.select("path").attr("color",V?.color?V.color:Ct.Di),V.drawAxisLabelLine||(gA.selectAll("line").remove(),gA.selectAll("path").remove()),j.call(oA.tickFormat(()=>"").tickSizeInner(ct)).select("path").remove()}}zoomLayer(_,U=!1){if(this.axisList.find(S=>S.primary))for(const S of this.dataLayerList){const V=this._layerSelection.select(`#${this.layerId}--${S.id}`),rt=this.getContext();rt&&S.reScale(V,rt,_.transform,this.zoomPrimaryEnable,this.zoomSecondaryEnable,U)}}getTooltipData(_,U,E){const S=this.axisList.find(V=>V.primary);return S?"enum"===S.type?this.getTooltipDataEnum("vertical"===this.tooltipDirective.chartOrientation?_[0]:_[1],U,S,E):this.getTooltipDataNumberAndDate("vertical"===this.tooltipDirective.chartOrientation?_[0]:_[1],U,S,E):null}getTooltipDataEnum(_,U,E,S){const V=this._scales.get(E.name);let rt=this.dataLayerList.last?.getTooltipTitleEnum()??null,nt=this.dataLayerList.last?.getBandWidth()??0;if(!rt?.length)for(let ct of this.dataLayerList){let Tt=ct.getTooltipTitleEnum();if(Tt?.length){rt=Tt,nt=this.dataLayerList.last.getBandWidth()??0;break}}if(!rt)return null;const j=[];this.dataLayerList.forEach(ct=>{j.push(...ct.getTooltipDataEnum(rt))});const At=[];return j.forEach(ct=>{ct.hidden&&At.push(!0)}),{tooltip:{rows:j,title:this.layerTitle,value:rt,hidden:At.length===j.length,index:S},pos:void 0===V(rt)?_:V(rt)+nt/2}}getTooltipDataNumberAndDate(_,U,E,S){let V="",rt=0,nt=null,j=null;("time"===E.type||"number"===E.type)&&(nt=this._scales.get(E.name),j=this._zoomEvent?"vertical"===this.tooltipDirective.chartOrientation?this._zoomEvent?.transform?.rescaleX(nt):this._zoomEvent?.transform?.rescaleY(nt):nt,rt=j.invert(_));let At=null;for(let oA of this.dataLayerList){const dA=oA.getTooltipData(rt,U,E.type);for(let gA of dA)gA.valueTitle&&(At=gA);if(dA?.[0]?.valueTitle){At=dA?.[0];break}}if(this.layerLabels?.inactive)return{tooltip:{rows:[],title:this.layerTitle,value:"",hidden:!0,index:S},pos:j?j(Number(At?.valueTitle)):_};V="time"===E.type?new Date(At?.valueTitle):At?.valueTitle?.toString();const ct=[];this.dataLayerList.forEach(oA=>{ct.push(...oA.getTooltipData(rt,U,E.type))});const Tt=[];return ct.forEach(oA=>{oA.hidden&&Tt.push(!0)}),{tooltip:{rows:ct,title:this.layerTitle,value:V,hidden:Tt.length===ct.length,index:1},pos:j?j(Number(At?.valueTitle)):_}}static \u0275fac=function(U){return new(U||m)(Ot.rXU(xt.oh,1),Ot.rXU(xt.ts,1))};static \u0275dir=Ot.FsC({type:m,selectors:[["krui-chart-layer"]],contentQueries:function(U,E,S){if(1&U&&(Ot.wni(S,xt.vl,4),Ot.wni(S,xt.wj,4),Ot.wni(S,xt.aX,4)),2&U){let V;Ot.mGM(V=Ot.lsd())&&(E.axisList=V),Ot.mGM(V=Ot.lsd())&&(E.gridList=V),Ot.mGM(V=Ot.lsd())&&(E.dataLayerList=V)}},inputs:{layerTitle:"layerTitle",tooltipEnable:"tooltipEnable",tooltipColor:"tooltipColor",zoomPrimaryEnable:"zoomPrimaryEnable",zoomSecondaryEnable:"zoomSecondaryEnable",useDefaultCheck:"useDefaultCheck"},standalone:!1,features:[Ot.Jv_([{provide:gt,useExisting:m},{provide:dt,useExisting:m},{provide:Bt,useExisting:m},{provide:st,useExisting:m},{provide:ft,useExisting:m},{provide:xt.dk,useExisting:m}])]})}return m})()},7345:(IA,Yt,$)=>{"use strict";$.d(Yt,{k:()=>Ct});var H=$(4438);let Ct=(()=>{class yt{static \u0275fac=function(xt){return new(xt||yt)};static \u0275dir=H.FsC({type:yt,selectors:[["krui-chart-legend-directive"]],standalone:!1})}return yt})()},7751:(IA,Yt,$)=>{"use strict";$.d(Yt,{P:()=>Ct});var H=$(4438);let Ct=(()=>{class yt{data=[];engUnits="";delimiterSymbol=": ";tooltipShowMilliseconds=!1;tooltipDateValuePipeFormat="dd.MM.yyyy HH:mm";tooltipTitleDateValuePipeFormat="dd.MM.yyyy HH:mm:ss";tooltipNumberValuePipeFormat="1.0-0";tooltipTitleNumberValuePipeFormat="1.0-0";popup=!0;getValueType(L){switch(Object.prototype.toString.call(L)){case"[object Date]":return"date";case"[object Number]":return"number";case"[object String]":return"string";default:return"other"}}getDateWithMilliseconds(L){return new Date(L)?.toLocaleString("ru-RU")+" ."+new Date(L)?.getMilliseconds()}getNumberValue(L){return L}static \u0275fac=function(xt){return new(xt||yt)};static \u0275dir=H.FsC({type:yt,selectors:[["krui-chart-tooltip-directive"]],hostVars:1,hostBindings:function(xt,dt){2&xt&&H.zvX("@popup",dt.popup)},inputs:{data:"data",engUnits:"engUnits",delimiterSymbol:"delimiterSymbol",tooltipShowMilliseconds:"tooltipShowMilliseconds",tooltipDateValuePipeFormat:"tooltipDateValuePipeFormat",tooltipTitleDateValuePipeFormat:"tooltipTitleDateValuePipeFormat",tooltipNumberValuePipeFormat:"tooltipNumberValuePipeFormat",tooltipTitleNumberValuePipeFormat:"tooltipTitleNumberValuePipeFormat"},standalone:!1})}return yt})()},7240:(IA,Yt,$)=>{"use strict";$.d(Yt,{A:()=>ft});var H=$(6712),Ct=$(1648),yt=$(4460),Mt=$(3249),L=$(6183),xt=$(7592),dt=$(1779),Bt=$(9726),gt=$(4438);let ft=(()=>{class st{paletteProvider;wrap;layerDirective;_defaultColor;showValues=!1;valuesColor=Ct.lM;valuesFontSizePx=12;valuesFontFamily="Tahoma";captions=[""];engUnits=[""];durationAnimation=2e3;durationToggleAnimation=500;animation=!0;state=new Map;opacityState=new Map;reRangeThenLegendClick=!0;reRangeThenDataChange=!1;workgroundPadding={top:5,right:0,left:0,bottom:0};useDefaultCheck=!0;withMinMaxCoef=!1;_minValue=0;_maxValueCurrent=0;_maxValueAbsolute=0;_target;_context;_id;_zoomK=1;_hoveredTooltipEnumBar=null;_enumTooltipTimeout;_bandwidth;barType="solidColor";barOpacity=1;barRadius=0;barBorder=!1;barBorderColor;fixedBarWidth=!1;showEnumValues=!1;valuePosition="center";animationType="growth";tooltipHoverEffect=!1;tooltipHoverColor=Ct.HT;enablePreviousData=!0;startInNull=!0;_tempDurationAnimation=0;_data;_initialData;_previousData;constructor(o,m,C){this.paletteProvider=o,this.wrap=m,this.layerDirective=C,this._defaultColor=this.paletteProvider.nextColor()}_color;get color(){return this._color}set color(o){this._color=o||this._defaultColor}_colors;get colors(){return this._colors}set colors(o){this._colors=o||[this._defaultColor]}set inputData(o){if(!o?.length)return this._data=[],void(this._initialData=[]);switch(Object.prototype.toString.call(o[0]?.[0])){case"[object Date]":(o=o.map(m=>[m[0].getTime(),m[1],m[2]??null])).sort();break;case"[object String]":(o=o.map(m=>[new Date(m[0]).getTime(),m[1],m[2]??null])).sort();break;case"[object Number]":o.sort((m,C)=>m[0]-C[0])}this.enablePreviousData&&this._data?.length&&(this._previousData=[...this._data]),this._data=o,this._initialData=o,this._getMin(),this._getMaxAbsolute()}_barWidthPercent=80;get barWidthPercent(){return this._barWidthPercent}set barWidthPercent(o){o&&(this._barWidthPercent=o,o<0?this._barWidthPercent=0:o>100&&(this._barWidthPercent=100))}ngOnInit(){this._color||(this.color=null),this._colors||(this.colors=null),this.valuesColor||(this.valuesColor=this.color),this.barBorderColor||(this.barBorderColor=this.color),this.useDefaultCheck&&(Object.entries((0,yt.fk)())?.forEach(([o,m])=>{null==this[o]&&(this[o]=m)}),Object.entries((0,yt.Nb)())?.forEach(([o,m])=>{null==this[o]&&(this[o]=m)}))}ngOnChanges({inputData:o}){o?.isFirstChange()||this.layerDirective.reDraw(null,!1,!0),this._tempDurationAnimation=this.durationAnimation}getColor(o=0){return"gradient"===this.barType?this.colors?.[o]??this.color:this.color}getDomain(o){return o&&"enum"===o?this._data?.map(m=>m[2]):this._data?.map(m=>(0,L.Pb)(m[0]))}getRange(){return[this.startInNull?0:this._minValue,this.reRangeThenLegendClick||this.reRangeThenDataChange?this._maxValueCurrent:this._maxValueAbsolute]}_getMin(){let o=Number.POSITIVE_INFINITY;this._data?.forEach(([m,C])=>{null!=C&&(o=Math.min(o,C))}),this._minValue=0===o?.001:this.withMinMaxCoef?o-.001*o:o}_getMaxAbsolute(){let o=Number.NEGATIVE_INFINITY;this._data?.forEach(([,m],C)=>{o=null!=m?Math.max(o,m):Math.max(o,this._minValue)}),this.withMinMaxCoef?(this._maxValueAbsolute=o+.001*o,this._maxValueCurrent=o+.001*o):(this._maxValueAbsolute=o,this._maxValueCurrent=o)}_getMaxCurrent(){if(this.state.get(0))return void(this._maxValueCurrent=this._minValue);let o=Number.NEGATIVE_INFINITY;this._data?.forEach(([,m],C)=>{o=null!=m?Math.max(o,m):Math.max(o,this._minValue)}),this._maxValueCurrent=this.withMinMaxCoef?o+.001*o:o}getWorkgroundPadding(o){if(this._initialData?.length){const m="enum"===o?0:this.wrap.workGroundWidth/(this._data?.length??10)/2;return{top:this.workgroundPadding.top,right:this.workgroundPadding.right+m,bottom:this.workgroundPadding.bottom,left:this.workgroundPadding.left+m}}return this.workgroundPadding}getLegendData(){return[{title:(0,Mt.n)(this.captions[0]),color:this.getColor(),inactive:this.state.get(0)??!1,type:"single",disabled:!this._initialData?.length,hovered:this.opacityState.get(0)??!1}]}toggleState(o,m,C=this.durationToggleAnimation){this.state.set(o,m),this._hoveredTooltipEnumBar=null;const E=this._context.secondaryAxis.d3Scale,S=this.getBarsConfigs(this._context.primaryAxis.type,this._context.primaryAxis.d3Scale,E);m?(this._target.selectAll(".krui-chart-data-bar").transition().duration(C).attr("y",E.range()[0]),this._target.selectAll(".krui-chart-stack-text").transition().duration(C).attr("y",E.range()[0]).attr("display","none")):(this._target.selectAll(".krui-chart-stack-text").attr("display","visible"),this.scaleBars(S,!1,!0,C))}toggleOpacity(o,m){this.opacityState.set(o,m)}renderOpacity(o){this.opacityState.get(0)||!this._target||this._target.attr("class",o?"krui-chart-data-layer krui-chart-data-layer--opacity":"krui-chart-data-layer")}render(o,m,C){this._initialData?.length&&(this._context=m,this._target=o,this._id=C,this.renderBars(o,m,m.primaryAxis.d3Scale,m.secondaryAxis.d3Scale))}reScale(o,m,C,_,U,E){if(!this._initialData?.length)return;C.k!==this._zoomK&&(this._zoomK=C.k);let S=m.primaryAxis.d3Scale,V=m.secondaryAxis.d3Scale;("time"===m.primaryAxis.type||"number"===m.primaryAxis.type)&&(_&&(S=C.rescaleX(S)),U&&(V=C.rescaleY(V))),E?this.renderBars(o,m,S,V):this.reScaleBars(o,m,S,V)}getTooltipData(o,m,C){const _=[{valueTitle:"",color:"",hidden:!0,index:0,title:"",value:null,engUnits:"",type:"bar"}];if(!this._initialData?.length)return _;const U=this._initialData,S=(0,H.bisector(V=>V[0]).center)(U,o);if(null==S)return _;if("dataPoint"!==m){const V=U[S]?.[0],rt=U[S+1]?.[0];let nt=0;if(nt=rt?(o-rt)/(rt-V):o/V,nt>1.2||nt<-2.5||isNaN(nt))return _}return[{value:U[S]?.[1],valueTitle:U[S]?.[0],title:(0,Mt.n)(this.captions[0]),color:this.getColor(),hidden:this.state.get(0)??!1,index:S,engUnits:this.engUnits[0],type:"bar"}]}getTooltipTitleEnum(){return this.state.get(0)?null:this._hoveredTooltipEnumBar?.getAttribute("tooltipData")??null}getTooltipDataEnum(o){const m=[{valueTitle:"",color:"",hidden:!0,index:0,title:"",value:null,engUnits:"",type:"bar"}];if(!this._initialData?.length)return m;const C=this._initialData,_=this._data.findIndex(U=>U[2]===o);return null==_||-1===_?m:[{value:C[_]?.[1],valueTitle:C[_]?.[2],title:(0,Mt.n)(this.captions[0]),color:this.getColor(),hidden:this.state.get(0)??!1,index:_,engUnits:this.engUnits[0],type:"bar"}]}triggerEnumTooltipTimeout(){this._enumTooltipTimeout&&clearTimeout(this._enumTooltipTimeout),this._enumTooltipTimeout=setTimeout(()=>{this._hoveredTooltipEnumBar=null,this._enumTooltipTimeout=null})}getBandWidth(){return this._bandwidth??0}renderBars(o,m,C,_){if(!this._initialData?.length)return;o.selectAll(".krui-chart-stack").remove();const U=m.primaryAxis.type,E=this.getBarsConfigs(U,C,_);if("gradient"===this.barType){const V=this.colors.length,rt=V>1?this.colors.map((nt,j)=>({color:nt,offset:100/(V-1)*j+"%",stopOpacity:1})):[{offset:"0%",color:this.colors[0],stopOpacity:1},{offset:"100%",color:this.colors[0],stopOpacity:1}];o.append("linearGradient").attr("id",`${this._id}--area-filling`).attr("x1",0).attr("x2",0).attr("y1",0).attr("y2","100%").selectAll("stop").data(rt).enter().append("stop").attr("offset",nt=>nt.offset).attr("stop-color",nt=>nt.color).attr("stop-opacity",nt=>nt.stopOpacity)}const S=o.attr("clip-path",`url(#${this.wrap.workgroundClipPathId}`).selectAll(".krui-chart-stack").data(this._data).enter().append("g").attr("class","krui-chart-stack").attr("tooltipData",V=>(0,L.jJ)(C,U)?V[2]:V[0]).attr("transform",V=>`translate(${(0,L.jJ)(C,U)?C(V[2]):C(V[0])-(this.fixedBarWidth?E.barWidthCalculated:E.barWidthCalculated*this._zoomK)}, 0)`).on("mouseover",V=>this._hoveredTooltipEnumBar=V.target.parentElement);if(S.append("rect").attr("class","krui-chart-data-bar").attr("x",()=>(0,L.jJ)(C,U)?E.barPadding/2:this.fixedBarWidth?E.barWidthCalculated/2:E.barWidthCalculated/2*this._zoomK).attr("y",(V,rt)=>this._previousData?.length&&this._previousData[rt]?(0,L.Pb)(_(this._previousData[rt][1])):_.range()[0]).attr("height",(V,rt)=>{if(this._previousData?.length&&this._previousData[rt]){const nt=_.range()[0]-(0,L.Pb)(_(this._previousData[rt][1]));return nt>0?nt:(0,L.Pb)(_(this._previousData[rt][1]))}return 0}).attr("width",()=>(0,L.jJ)(C,U)||this.fixedBarWidth?E.barWidthCalculated:E.barWidthCalculated*this._zoomK).attr("rx",`${this.barRadius}px`).attr("ry",`${this.barRadius}px`).attr("fill","solidColor"===this.barType?this.color:`url(#${this._id}--area-filling)`).attr("stroke",this.barBorder?this.barBorderColor:"none").attr("opacity",V=>V[1]?this.barOpacity:0),"enum"===U||this.tooltipHoverEffect){const V=S.append("rect").attr("class","krui-chart-tooltip-bar").attr("id",(rt,nt)=>`krui-chart-tooltip-bar-${nt}`).attr("x",()=>(0,L.jJ)(C,U)?E.barPadding/2:this.fixedBarWidth?E.barWidthCalculated/2:E.barWidthCalculated/2*this._zoomK).attr("y",0).attr("height",_.range()[0]).attr("width",()=>(0,L.jJ)(C,U)||this.fixedBarWidth?E.barWidthCalculated:E.barWidthCalculated*this._zoomK).attr("opacity","0.1").attr("fill","transparent");this.tooltipHoverEffect&&V.on("mouseenter",rt=>{o.select(`#${rt.target.id}`).attr("fill",this.tooltipHoverColor)}).on("mouseleave",rt=>{o.select(`#${rt.target.id}`).attr("fill","transparent")}),this.wrap.svg.select(`#${this.layerDirective.layerId}`).on("mouseleave",()=>this.triggerEnumTooltipTimeout())}S.select("rect").transition().duration("none"===this.animationType?0:this._tempDurationAnimation).attr("y",V=>(0,L.Pb)(_(V[1]))).attr("height",V=>{if(!V[1])return 0;const rt=_.range()[0]-(0,L.Pb)(_(V[1]));return rt>0?rt:(0,L.Pb)(_(V[1]))}),this.showValues&&S.append("text").attr("class","krui-chart-stack-text").attr("x",()=>(0,L.jJ)(C,U)?(E.barWidthCalculated+E.barPadding)/2:this.fixedBarWidth?E.barWidthCalculated:E.barWidthCalculated*this._zoomK).attr("y",(V,rt)=>this._previousData?.length&&this._previousData[rt]?(0,Bt.Oc)(this.valuePosition,this.valuesFontSizePx,E.secondaryAxis,this._previousData[rt][1]):_.range()[0]).text(V=>isNaN(V[1])||null===V[1]?null:this.showEnumValues&&(0,L.jJ)(C,U)?V[2]:(0,Mt.h)(V[1],2)).attr("fill",this.valuesColor).style("font-size",`${this.valuesFontSizePx}px`).style("font-family",this.valuesFontFamily).attr("text-anchor","middle").style("alignment-baseline","middle").transition().duration("none"===this.animationType?0:this._tempDurationAnimation).attr("y",V=>(0,Bt.Oc)(this.valuePosition,this.valuesFontSizePx,_,V[1])),this.state.get(0)&&this.toggleState(0,!0,0)}reScaleBars(o,m,C,_){this._context=m,this._target=o;const U=m.primaryAxis.type,E=this.getBarsConfigs(U,C,_);o.selectAll(".krui-chart-stack").attr("transform",S=>`translate(${(0,L.jJ)(C,U)?C(S[2]):C(S[0])-(this.fixedBarWidth?E.barWidthCalculated:E.barWidthCalculated*this._zoomK)}, 0)`),this.scaleBars(E,!0,!0,0)}scaleBars(o,m,C,_){m&&this._target.selectAll(".krui-chart-data-bar").transition().duration(_).attr("x",()=>"enum"===o.type?o.barPadding/2:this.fixedBarWidth?o.barWidthCalculated/2:o.barWidthCalculated/2*this._zoomK).attr("width",()=>"enum"===o.type||this.fixedBarWidth?o.barWidthCalculated:o.barWidthCalculated*this._zoomK),C&&this._target.selectAll(".krui-chart-data-bar").transition().duration(_).attr("y",U=>(0,L.Pb)(o.secondaryAxis(U[1]))).attr("height",U=>{if(!U[1])return 0;const E=o.secondaryAxis.range()[0]-(0,L.Pb)(o.secondaryAxis(U[1]));return E>0?E:(0,L.Pb)(o.secondaryAxis(U[1]))}),("enum"===o.type||this.tooltipHoverEffect)&&(this._target.selectAll(".krui-chart-tooltip-bar").attr("x",()=>(0,L.jJ)(o.primaryAxis,o.type)?o.barPadding/2:this.fixedBarWidth?o.barWidthCalculated/2:o.barWidthCalculated/2*this._zoomK).attr("width",()=>(0,L.jJ)(o.primaryAxis,o.type)||this.fixedBarWidth?o.barWidthCalculated:o.barWidthCalculated*this._zoomK).attr("height",o.secondaryAxis.range()[0]),this.triggerEnumTooltipTimeout()),this.showValues&&this._target.selectAll(".krui-chart-stack-text").transition().duration(_).attr("x",()=>"enum"===o.type?(o.barWidthCalculated+o.barPadding)/2:this.fixedBarWidth?o.barWidthCalculated:o.barWidthCalculated*this._zoomK).attr("y",U=>(0,Bt.Oc)(this.valuePosition,this.valuesFontSizePx,o.secondaryAxis,U[1]))}getBarsConfigs(o,m,C){let _,U,E;return"enum"===o?(_=this.state.get(0)?0:m.bandwidth(),U=_*this._barWidthPercent/100,E=_*(1-this._barWidthPercent/100)):(_=this.state.get(0)?0:this._context.canvasWidth/this._data.length,U=_*this._barWidthPercent/100,E=_*(1-this._barWidthPercent/100)/2),this._bandwidth=_,{type:o,barWidth:_,barWidthCalculated:U,barPadding:E,primaryAxis:m,secondaryAxis:C}}static \u0275fac=function(m){return new(m||st)(gt.rXU(xt.lm,1),gt.rXU(xt.oh,1),gt.rXU(xt.dk,1))};static \u0275dir=gt.FsC({type:st,selectors:[["","kruiChartBar",""]],inputs:{showValues:"showValues",valuesColor:"valuesColor",valuesFontSizePx:"valuesFontSizePx",valuesFontFamily:"valuesFontFamily",captions:"captions",engUnits:"engUnits",durationAnimation:"durationAnimation",durationToggleAnimation:"durationToggleAnimation",animation:"animation",reRangeThenLegendClick:"reRangeThenLegendClick",reRangeThenDataChange:"reRangeThenDataChange",workgroundPadding:"workgroundPadding",useDefaultCheck:"useDefaultCheck",withMinMaxCoef:"withMinMaxCoef",barType:"barType",barOpacity:"barOpacity",barRadius:"barRadius",barBorder:"barBorder",barBorderColor:"barBorderColor",fixedBarWidth:"fixedBarWidth",showEnumValues:"showEnumValues",valuePosition:"valuePosition",animationType:"animationType",tooltipHoverEffect:"tooltipHoverEffect",tooltipHoverColor:"tooltipHoverColor",enablePreviousData:"enablePreviousData",startInNull:"startInNull",color:"color",colors:"colors",inputData:[0,"data","inputData"],barWidthPercent:"barWidthPercent"},exportAs:["kruiChartBar"],standalone:!1,features:[gt.Jv_([{provide:dt.NX,useExisting:st},{provide:dt.M,useExisting:st},{provide:dt.ej,useExisting:st},{provide:dt.Em,useExisting:st},{provide:dt.Dh,useExisting:st},{provide:dt.MD,useExisting:st},{provide:dt.N5,useExisting:st}]),gt.OA$]})}return st})()},1299:(IA,Yt,$)=>{"use strict";$.d(Yt,{G:()=>ft});var H=$(6712),Ct=$(1648),yt=$(4460),Mt=$(3249),L=$(6183),xt=$(7592),dt=$(1779),Bt=$(9726),gt=$(4438);let ft=(()=>{class st{paletteProvider;wrap;layerDirective;stackedService;_defaultColor;showValues=!1;valuesColor=Ct.lM;valuesFontSizePx=12;valuesFontFamily="Tahoma";captions=[""];engUnits=[""];durationAnimation=2e3;durationToggleAnimation=500;animation=!0;state=new Map;opacityState=new Map;reRangeThenLegendClick=!0;reRangeThenDataChange=!1;workgroundPadding={top:5,right:10,left:10,bottom:0};useDefaultCheck=!0;withMinMaxCoef=!1;_minValue=0;_maxValueCurrent=0;_maxValueAbsolute=0;_target;_context;_id;_zoomK=1;_hoveredTooltipEnumBar=null;_enumTooltipTimeout;_bandwidth;barType="solidColor";barOpacity=1;barsOpacity=[];barRadius=0;barBorder=!1;barBorderColors=[];fixedBarWidth=!1;showEnumValues=!0;valuePosition="center";animationType="growth";tooltipHoverEffect=!0;tooltipHoverColor=Ct.HT;enablePreviousData=!0;startInNull=!0;_tempDurationAnimation=0;_data;_initialData;_stackedData;_previousData;_maxDataLength=0;_groupSize=0;constructor(o,m,C,_){this.paletteProvider=o,this.wrap=m,this.layerDirective=C,this.stackedService=_,this._defaultColor=this.paletteProvider.nextColor()}_color;get color(){return this._color}set color(o){this._color=o||this._defaultColor}_colors;get colors(){return this._colors}set colors(o){if(o)this._colors=o;else for(let m=0;m<this._groupSize;m++)this._colors.push(this.paletteProvider.nextColor())}set inputData(o){if(!o?.length)return this._data=[],void(this._initialData=[]);switch(Object.prototype.toString.call(o[0]?.[0]?.[0])){case"[object Date]":o=o.map(m=>m.map(C=>[C[0].getTime(),C[1],C[2]??null]).sort((C,_)=>C[0]-_[0]));break;case"[object String]":o=o.map(m=>m.map(C=>[new Date(C[0]).getTime(),C[1],C[2]??null]).sort((C,_)=>C[0]-_[0]));break;case"[object Number]":o.map(m=>m.sort((C,_)=>C[0]-_[0]))}this.enablePreviousData&&this._stackedData?.length&&(this._previousData=[...this._stackedData]),this._data=o,this._initialData=o,this._groupSize=this._data?.length??0,this._maxDataLength=this.getMaxDataLength(),this._stackedData=this.stackedService.getStackDataFromArray(this._data),this._getMin(),this._getMaxAbsolute()}set inputStackData(o){if(!o?.length)return this._data=[],void(this._initialData=[]);switch(Object.prototype.toString.call(o[0]?.[0])){case"[object Date]":(o=o.map(C=>[C[0].getTime(),C[1],C[2]??null])).sort();break;case"[object String]":(o=o.map(C=>[new Date(C[0]).getTime(),C[1],C[2]??null])).sort();break;case"[object Number]":o.sort((C,_)=>C[0]-_[0])}this.enablePreviousData&&this._stackedData?.length&&(this._previousData=[...this._stackedData]);const m=this.stackedService.getArrayDataFromStack(o);this._data=m,this._initialData=m,this._groupSize=this._data?.length??0,this._stackedData=o,this._maxDataLength=this.getMaxDataLength(),this._getMin(),this._getMaxAbsolute()}_stackWidthPercent=80;get stackWidthPercent(){return this._stackWidthPercent}set stackWidthPercent(o){o&&(this._stackWidthPercent=o,o<0?this._stackWidthPercent=0:o>100&&(this._stackWidthPercent=100))}_barWidthPercent=80;get barWidthPercent(){return this._barWidthPercent}set barWidthPercent(o){o&&(this._barWidthPercent=o,o<0?this._barWidthPercent=0:o>100&&(this._barWidthPercent=100))}ngOnInit(){if(this._color||(this.color=null),this._colors||(this._colors=[]),this._colors?.length<this._groupSize){let o=this._colors?.length;for(;o<this._groupSize&&!(o>20);)this._colors.push(this.paletteProvider.nextColor()),o++}if(this.valuesColor||(this.valuesColor=this.color),this.barBorderColors||(this.barBorderColors=[]),this.barBorderColors.length<this._groupSize){let o=this.barBorderColors.length;for(;this.barBorderColors?.length<this._groupSize&&!(o>20);)this.barBorderColors.push(this._colors[o]),o++}this.useDefaultCheck&&(Object.entries((0,yt.xy)())?.forEach(([o,m])=>{null==this[o]&&(this[o]=m)}),Object.entries((0,yt.Nb)())?.forEach(([o,m])=>{null==this[o]&&(this[o]=m)}))}ngOnChanges({inputData:o,inputStackData:m}){!o?.isFirstChange()&&!m?.isFirstChange()&&this.layerDirective.reDraw(null,!1,!0),this._tempDurationAnimation=this.durationAnimation}getColor(o){return this.colors?.[o]??this.color}getDomain(o){return o&&"enum"===o?this._data?.map(m=>m.map(C=>C[2])).flat():this._data?.map(m=>m.map(C=>(0,L.Pb)(C[0]))).flat()}getRange(){return[this.startInNull?0:this._minValue,this.reRangeThenLegendClick||this.reRangeThenDataChange?this._maxValueCurrent:this._maxValueAbsolute]}_getMin(){let o=Number.POSITIVE_INFINITY;this._data?.forEach(m=>m.forEach(([C,_])=>{null!=_&&(o=Math.min(o,_))})),this._minValue=0===o?.001:this.withMinMaxCoef?o-.001*o:o}_getMaxAbsolute(){let o=Number.NEGATIVE_INFINITY;this._stackedData?.map(([,m])=>{o=null!=m?Math.max(o,...m.map(C=>C)):Math.max(o,this._minValue)}),this.withMinMaxCoef?(this._maxValueAbsolute=o+.001*o,this._maxValueCurrent=o+.001*o):(this._maxValueAbsolute=o,this._maxValueCurrent=o)}_getMaxCurrent(){let o=Number.NEGATIVE_INFINITY;this._stackedData?.forEach(m=>m.forEach(([,C])=>{o=null!=C?Math.max(o,...C.map(_=>_)):Math.max(o,this._minValue)})),this._maxValueCurrent=this.withMinMaxCoef?o+.001*o:o}getWorkgroundPadding(o){if(this._initialData?.length){const m=this._data?.[0]?.length,C=this._data?.length,_="enum"===o?0:this.wrap.workGroundWidth/(m??10)/C;return{top:this.workgroundPadding.top,right:this.workgroundPadding.right+_,bottom:this.workgroundPadding.bottom,left:this.workgroundPadding.left+_}}return this.workgroundPadding}getLegendData(){return this._data.map((o,m)=>({title:(0,Mt.n)(this.captions[m]),color:this.getColor(m),inactive:this.state.get(m)??!1,type:"stack",disabled:!this._initialData?.length,hovered:this.opacityState.get(m)??!1}))}toggleState(o,m,C=this.durationToggleAnimation){this.state.set(o,m),this._hoveredTooltipEnumBar=null;const S=this.getBarsConfigs(this._context.primaryAxis.type,this._context.primaryAxis.d3Scale,this._context.secondaryAxis.d3Scale);m?(this._target.selectAll(`#krui-chart-data-bar-${o}`).attr("class","krui-chart-data-bar--hidden").transition().duration(C).attr("width",0),this._target.selectAll(`#krui-chart-stack-text-${o}`).attr("class","krui-chart-stack-text--hidden").attr("display","none")):(this._target.selectAll(`#krui-chart-data-bar-${o}`).attr("class","krui-chart-data-bar"),this._target.selectAll(`#krui-chart-stack-text-${o}`).attr("class","krui-chart-stack-text").attr("display","visible")),this.scaleBars(S,!0,!1,C)}toggleOpacity(o,m){this.opacityState.set(o,m)}renderOpacity(o){if(this._target)for(let m=0;m<this._groupSize;m++)!this.opacityState.get(m)&&!this.state.get(m)&&(this._target.selectAll(`#krui-chart-data-bar-${m}`).attr("class",o?"krui-chart-data-bar krui-chart-data-bar--opacity":"krui-chart-data-bar"),this._target.selectAll(`#krui-chart-stack-text-${m}`).attr("class",o?"krui-chart-stack-text krui-chart-stack-text--opacity":"krui-chart-stack-text"))}render(o,m,C){this._initialData?.length&&(this._context=m,this._target=o,this._id=C,this.renderBars(o,m,m.primaryAxis.d3Scale,m.secondaryAxis.d3Scale))}reScale(o,m,C,_,U,E){if(!this._initialData?.length)return;C.k!==this._zoomK&&(this._zoomK=C.k);let S=m.primaryAxis.d3Scale,V=m.secondaryAxis.d3Scale;("time"===m.primaryAxis.type||"number"===m.primaryAxis.type)&&(_&&(S=C.rescaleX(S)),U&&(V=C.rescaleY(V))),E?this.renderBars(o,m,S,V):this.reScaleBars(o,m,S,V)}getTooltipData(o,m,C){const _=[{valueTitle:"",color:"",hidden:!0,index:0,title:"",value:null,engUnits:"",type:"bar"}];if(!this._initialData?.length)return _;const U=this._stackedData,S=(0,H.bisector(rt=>rt[0]).center)(U,o);if(null==S)return _;if("dataPoint"!==m){const rt=U[S]?.[0],nt=U[S+1]?.[0];let j=0;if(j=nt?(o-nt)/(nt-rt):o/rt,j>1.2||j<-2.5||isNaN(j))return _}const V=[];return U[S]?.[1]?.forEach((rt,nt)=>{V.push({value:rt,valueTitle:U[S]?.[0],title:(0,Mt.n)(this.captions[nt]),color:this.getColor(nt),hidden:this.state.get(nt)??!1,index:S,engUnits:this.engUnits?.[nt]??"",type:"bar"})}),V.reverse(),V}getTooltipTitleEnum(){return this.state.get(0)?null:this._hoveredTooltipEnumBar?.getAttribute("tooltipData")??null}getTooltipDataEnum(o){const m=[{valueTitle:"",color:"",hidden:!0,index:0,title:"",value:null,engUnits:"",type:"bar"}];if(!this._initialData?.length)return m;const C=this._stackedData,_=this._stackedData.findIndex(E=>E[2]===o);if(null==_||-1===_)return m;const U=[];return C[_]?.[1]?.forEach((E,S)=>{U.push({value:E,valueTitle:C[_]?.[2],title:(0,Mt.n)(this.captions[S]),color:this.getColor(S),hidden:this.state.get(S)??!1,index:_,engUnits:this.engUnits?.[S]??"",type:"bar"})}),U.reverse(),U}triggerEnumTooltipTimeout(){this._enumTooltipTimeout&&clearTimeout(this._enumTooltipTimeout),this._enumTooltipTimeout=setTimeout(()=>{this._hoveredTooltipEnumBar=null,this._enumTooltipTimeout=null})}getBandWidth(){return this._bandwidth??0}renderBars(o,m,C,_){if(!this._initialData?.length)return;o.selectAll(".krui-chart-stack").remove();const U=m.primaryAxis.type,E=this.getBarsConfigs(U,C,_);if("gradient"===this.barType){const j=this.colors.length,At=j>1?this.colors.map((ct,Tt)=>({color:ct,offset:100/(j-1)*Tt+"%",stopOpacity:1})):[{offset:"0%",color:this.colors[0],stopOpacity:1},{offset:"100%",color:this.colors[0],stopOpacity:1}];o.append("linearGradient").attr("id",`${this._id}--area-filling`).attr("x1",0).attr("x2",0).attr("y1",0).attr("y2","100%").selectAll("stop").data(At).enter().append("stop").attr("offset",ct=>ct.offset).attr("stop-color",ct=>ct.color).attr("stop-opacity",ct=>ct.stopOpacity)}const S=o.attr("clip-path",`url(#${this.wrap.workgroundClipPathId}`).selectAll(".krui-chart-stack").data(this._stackedData).enter().append("g").attr("class","krui-chart-stack").attr("tooltipData",j=>(0,L.jJ)(C,U)?j[2]:j[0]).attr("transform",j=>`translate(${(0,L.jJ)(C,U)?C(j[2]):C(j[0])-(this.fixedBarWidth?E.stackWidth:E.stackWidth*this._zoomK)/2}, 0)`).on("mouseover",j=>this._hoveredTooltipEnumBar=j.target.parentElement),V=S.selectAll("rect").data(j=>[...j[1]]).enter();let rt=-1,nt=-1;if(V.append("rect").attr("class","krui-chart-data-bar").attr("id",(j,At)=>`krui-chart-data-bar-${At}`).attr("x",(j,At)=>{const ct=(E.barWidthCalculated+2*E.barPadding)*At+E.barPadding+E.stackPadding;return(0,L.jJ)(C,U)||this.fixedBarWidth?ct:ct*this._zoomK}).attr("y",(j,At)=>(0===At&&rt++,rt===E.activeCount&&(rt=0),this._previousData?.length&&this._previousData[rt]?.[1]?(0,L.Pb)(_(this._previousData[rt][1][At])):_.range()[0])).attr("height",(j,At)=>{if(0===At&&nt++,nt===E.activeCount&&(nt=0),this._previousData?.length&&this._previousData[nt]?.[1]){const ct=_.range()[0]-(0,L.Pb)(_(this._previousData[nt][1][At]));return ct>0?ct:(0,L.Pb)(_(this._previousData[nt][1][At]))}return 0}).attr("width",()=>(0,L.jJ)(C,U)||this.fixedBarWidth?E.barWidthCalculated:E.barWidthCalculated*this._zoomK).attr("rx",`${this.barRadius}px`).attr("ry",`${this.barRadius}px`).attr("fill",(j,At)=>"solidColor"===this.barType?this.colors[At]:`url(#${this._id}--area-filling)`).attr("stroke",(j,At)=>this.barBorder?this.barBorderColors[At]:"none").attr("opacity",(j,At)=>j?this.barsOpacity[At]?this.barsOpacity[At]:this.barOpacity:0),"enum"===U||this.tooltipHoverEffect){const j=S.append("rect").attr("class","krui-chart-tooltip-bar").attr("id",(At,ct)=>`krui-chart-tooltip-bar-${ct}`).attr("x",0).attr("y",0).attr("height",_.range()[0]).attr("width",E.stackWidth*this._zoomK).attr("opacity","0.1").attr("fill","transparent");this.tooltipHoverEffect&&j.on("mouseenter",At=>{o.select(`#${At.target.id}`).attr("fill",this.tooltipHoverColor)}).on("mouseleave",At=>{o.select(`#${At.target.id}`).attr("fill","transparent")}),this.wrap.svg.select(`#${this.layerDirective.layerId}`).on("mouseleave",()=>this.triggerEnumTooltipTimeout())}if(V.selectAll("rect.krui-chart-data-bar").transition().duration("none"===this.animationType?0:this._tempDurationAnimation).attr("y",j=>(0,L.Pb)(_(j))).attr("height",j=>{if(!j)return 0;const At=_.range()[0]-(0,L.Pb)(_(j));return At>0?At:(0,L.Pb)(_(j))}),this.showValues){let j=-1;V.append("text").attr("class","krui-chart-stack-text").attr("id",(At,ct)=>`krui-chart-stack-text-${ct}`).attr("x",(At,ct)=>{const Tt=(E.barWidthCalculated+2*E.barPadding)*ct+E.barWidthCalculated/2+E.barPadding+E.stackPadding;return(0,L.jJ)(C,U)||this.fixedBarWidth?Tt:Tt*this._zoomK}).attr("y",(At,ct)=>(0===ct&&j++,j===E.activeCount&&(j=0),this._previousData?.length&&this._previousData[j]?.[1]?(0,Bt.Oc)(this.valuePosition,this.valuesFontSizePx,_,this._previousData[j][1][ct]):_.range()[0])).text(At=>isNaN(At)||null===At?null:this.showEnumValues&&(0,L.jJ)(C,U)?At:(0,Mt.h)(At,2)).attr("fill",this.valuesColor).style("font-size",`${this.valuesFontSizePx}px`).style("font-family",this.valuesFontFamily).attr("text-anchor","middle").style("alignment-baseline","middle").transition().duration("none"===this.animationType?0:this._tempDurationAnimation).attr("y",At=>(0,Bt.Oc)(this.valuePosition,this.valuesFontSizePx,_,At))}this._data?.forEach((j,At)=>{this.state.get(At)&&this.toggleState(At,!0,0)})}reScaleBars(o,m,C,_){this._context=m,this._target=o;const U=m.primaryAxis.type,E=this.getBarsConfigs(U,C,_);o.selectAll(".krui-chart-stack").attr("transform",S=>`translate(${(0,L.jJ)(C,U)?C(S[2]):C(S[0])-(this.fixedBarWidth?E.stackWidth:E.stackWidth*this._zoomK)/2}, 0)`),this.scaleBars(E,!0,!0,0)}scaleBars(o,m,C,_){m&&this._target.selectAll(".krui-chart-stack").selectAll(".krui-chart-data-bar").transition().duration(_).attr("x",(U,E)=>{const S=(o.barWidthCalculated+2*o.barPadding)*E+o.barPadding+o.stackPadding;return"enum"===o.type||this.fixedBarWidth?S:S*this._zoomK}).attr("width",()=>"enum"===o.type||this.fixedBarWidth?o.barWidthCalculated:o.barWidthCalculated*this._zoomK),C&&this._target.selectAll(".krui-chart-data-bar").transition().duration(_).attr("y",U=>(0,L.Pb)(o.secondaryAxis(U))).attr("height",U=>{if(!U)return 0;const E=o.secondaryAxis.range()[0]-(0,L.Pb)(o.secondaryAxis(U));return E>0?E:(0,L.Pb)(o.secondaryAxis(U))}),("enum"===o.type||this.tooltipHoverEffect)&&(this._target.selectAll(".krui-chart-tooltip-bar").attr("height",o.secondaryAxis.range()[0]).attr("width",()=>(0,L.jJ)(o.primaryAxis,o.type)||this.fixedBarWidth?o.stackWidth:o.stackWidth*this._zoomK),this.triggerEnumTooltipTimeout()),this.showValues&&this._target.selectAll(".krui-chart-stack").selectAll(".krui-chart-stack-text").transition().duration(_).attr("x",(U,E)=>{const S=(o.barWidthCalculated+2*o.barPadding)*E+o.barWidthCalculated/2+o.barPadding+o.stackPadding;return"enum"===o.type||this.fixedBarWidth?S:S*this._zoomK}).attr("y",U=>(0,Bt.Oc)(this.valuePosition,this.valuesFontSizePx,o.secondaryAxis,U))}getBarsConfigs(o,m,C){const _=this.getActiveCount(),U=this.getGroupSize();let E,S,V,rt,nt,j;return"enum"===o?(E=m.bandwidth(),S=E*this._stackWidthPercent/100,V=(E-S)/2,rt=S/U,nt=rt*this._barWidthPercent/100,j=(rt-nt)/2):(E=this._context.canvasWidth/this._maxDataLength,S=E*this._stackWidthPercent/100,V=(E-S)/2,rt=S/U,nt=rt*this._barWidthPercent/100,j=(rt-nt)/2),this._bandwidth=E,{type:o,activeCount:_,groupSize:U,stackWidth:E,stackWidthCalculated:S,stackPadding:V,barWidth:rt,barWidthCalculated:nt,barPadding:j,primaryAxis:m,secondaryAxis:C}}getMaxDataLength(){return Math.max(...this._data?.map(o=>o.length))}getGroupSize(){let o=0;return this._data.forEach((m,C)=>{this.state.get(C)||o++}),o}getActiveCount(){return this._stackedData?.length}static \u0275fac=function(m){return new(m||st)(gt.rXU(xt.lm,1),gt.rXU(xt.oh,1),gt.rXU(xt.dk,1),gt.rXU(xt.zI))};static \u0275dir=gt.FsC({type:st,selectors:[["","kruiChartComboBar",""]],inputs:{showValues:"showValues",valuesColor:"valuesColor",valuesFontSizePx:"valuesFontSizePx",valuesFontFamily:"valuesFontFamily",captions:"captions",engUnits:"engUnits",durationAnimation:"durationAnimation",durationToggleAnimation:"durationToggleAnimation",animation:"animation",reRangeThenLegendClick:"reRangeThenLegendClick",reRangeThenDataChange:"reRangeThenDataChange",workgroundPadding:"workgroundPadding",useDefaultCheck:"useDefaultCheck",withMinMaxCoef:"withMinMaxCoef",barType:"barType",barOpacity:"barOpacity",barsOpacity:"barsOpacity",barRadius:"barRadius",barBorder:"barBorder",barBorderColors:"barBorderColors",fixedBarWidth:"fixedBarWidth",showEnumValues:"showEnumValues",valuePosition:"valuePosition",animationType:"animationType",tooltipHoverEffect:"tooltipHoverEffect",tooltipHoverColor:"tooltipHoverColor",enablePreviousData:"enablePreviousData",startInNull:"startInNull",color:"color",colors:"colors",inputData:[0,"data","inputData"],inputStackData:[0,"dataStack","inputStackData"],stackWidthPercent:"stackWidthPercent",barWidthPercent:"barWidthPercent"},exportAs:["kruiChartComboBar"],standalone:!1,features:[gt.Jv_([{provide:dt.NX,useExisting:st},{provide:dt.M,useExisting:st},{provide:dt.ej,useExisting:st},{provide:dt.Em,useExisting:st},{provide:dt.Dh,useExisting:st},{provide:dt.MD,useExisting:st},{provide:dt.N5,useExisting:st}]),gt.OA$]})}return st})()},2395:(IA,Yt,$)=>{"use strict";$.d(Yt,{C:()=>ft});var H=$(6712),Ct=$(1648),yt=$(4460),Mt=$(3249),L=$(6183),xt=$(7592),dt=$(1779),Bt=$(9726),gt=$(4438);let ft=(()=>{class st{paletteProvider;wrap;layerDirective;_defaultColor;showValues=!1;valuesColor=Ct.lM;valuesFontSizePx=12;valuesFontFamily="Tahoma";captions=[""];engUnits=[""];durationAnimation=2e3;durationToggleAnimation=500;animation=!0;state=new Map;opacityState=new Map;reRangeThenLegendClick=!0;reRangeThenDataChange=!1;workgroundPadding={top:0,right:5,left:0,bottom:0};useDefaultCheck=!0;withMinMaxCoef=!1;_minValue=0;_maxValueCurrent=0;_maxValueAbsolute=0;_target;_context;_id;_zoomK=1;_hoveredTooltipEnumBar=null;_enumTooltipTimeout;_bandwidth;barType="solidColor";barOpacity=1;barRadius=0;barBorder=!1;barBorderColor;fixedBarWidth=!1;showEnumValues=!1;valuePosition="center";animationType="growth";tooltipHoverEffect=!1;tooltipHoverColor=Ct.HT;enablePreviousData=!0;startInNull=!0;_tempDurationAnimation=0;_data;_initialData;_previousData;constructor(o,m,C){this.paletteProvider=o,this.wrap=m,this.layerDirective=C,this._defaultColor=this.paletteProvider.nextColor()}_color;get color(){return this._color}set color(o){this._color=o||this._defaultColor}_colors;get colors(){return this._colors}set colors(o){this._colors=o||[this._defaultColor]}set inputData(o){if(!o?.length)return this._data=[],void(this._initialData=[]);switch(Object.prototype.toString.call(o[0]?.[0])){case"[object Date]":(o=o.map(m=>[m[0].getTime(),m[1],m[2]??null])).sort();break;case"[object String]":(o=o.map(m=>[new Date(m[0]).getTime(),m[1],m[2]??null])).sort();break;case"[object Number]":o.sort((m,C)=>m[0]-C[0])}this.enablePreviousData&&this._data?.length&&(this._previousData=[...this._data]),this._data=o,this._initialData=o,this._getMin(),this._getMaxAbsolute()}_barWidthPercent=80;get barWidthPercent(){return this._barWidthPercent}set barWidthPercent(o){o&&(this._barWidthPercent=o,o<0?this._barWidthPercent=0:o>100&&(this._barWidthPercent=100))}ngOnInit(){this._color||(this.color=null),this._colors||(this.colors=null),this.valuesColor||(this.valuesColor=this.color),this.barBorderColor||(this.barBorderColor=this.color),this.useDefaultCheck&&(Object.entries((0,yt.ny)())?.forEach(([o,m])=>{null==this[o]&&(this[o]=m)}),Object.entries((0,yt.Nb)())?.forEach(([o,m])=>{null==this[o]&&(this[o]=m)}))}ngOnChanges({inputData:o}){o?.isFirstChange()||this.layerDirective.reDraw(null,!1,!0),this._tempDurationAnimation=this.durationAnimation}getColor(o=0){return"gradient"===this.barType?this.colors?.[o]??this.color:this.color}getDomain(o){return o&&"enum"===o?this._data?.map(m=>m[2]):this._data?.map(m=>(0,L.Pb)(m[0]))}getRange(){return[this.startInNull?0:this._minValue,this.reRangeThenLegendClick||this.reRangeThenDataChange?this._maxValueCurrent:this._maxValueAbsolute]}_getMin(){let o=Number.POSITIVE_INFINITY;this._data?.forEach(([m,C])=>{null!=C&&(o=Math.min(o,C))}),this._minValue=0===o?.001:this.withMinMaxCoef?o-.001*o:o}_getMaxAbsolute(){let o=Number.NEGATIVE_INFINITY;this._data?.forEach(([,m],C)=>{o=null!=m?Math.max(o,m):Math.max(o,this._minValue)}),this.withMinMaxCoef?(this._maxValueAbsolute=o+.001*o,this._maxValueCurrent=o+.001*o):(this._maxValueAbsolute=o,this._maxValueCurrent=o)}_getMaxCurrent(){if(this.state.get(0))return void(this._maxValueCurrent=this._minValue);let o=Number.NEGATIVE_INFINITY;this._data?.forEach(([,m],C)=>{o=null!=m?Math.max(o,m):Math.max(o,this._minValue)}),this._maxValueCurrent=this.withMinMaxCoef?o+.001*o:o}getWorkgroundPadding(o){if(this._initialData?.length){const m="enum"===o?0:this.wrap.workGroundHeight/(this._data?.length??10)/2;return{top:this.workgroundPadding.top+m,right:this.workgroundPadding.right,bottom:this.workgroundPadding.bottom+m,left:this.workgroundPadding.left}}return this.workgroundPadding}getLegendData(){return[{title:(0,Mt.n)(this.captions[0]),color:this.getColor(),inactive:this.state.get(0)??!1,type:"single",disabled:!this._initialData?.length,hovered:this.opacityState.get(0)??!1}]}toggleState(o,m,C=this.durationToggleAnimation){this.state.set(o,m),this._hoveredTooltipEnumBar=null;const E=this._context.secondaryAxis.d3Scale,S=this.getBarsConfigs(this._context.primaryAxis.type,this._context.primaryAxis.d3Scale,E);m?(this._target.selectAll(".krui-chart-data-bar").transition().duration(C).attr("width",E.range()[0]),this._target.selectAll(".krui-chart-stack-text").transition().duration(C).attr("x",E.range()[0]).attr("display","none")):(this._target.selectAll(".krui-chart-stack-text").attr("display","visible"),this.scaleBars(S,!1,!0,C))}toggleOpacity(o,m){this.opacityState.set(o,m)}renderOpacity(o){this.opacityState.get(0)||this._target.attr("class",o?"krui-chart-data-layer krui-chart-data-layer--opacity":"krui-chart-data-layer")}render(o,m,C){this._initialData?.length&&(this._context=m,this._target=o,this._id=C,this.renderBars(o,m,m.primaryAxis.d3Scale,m.secondaryAxis.d3Scale))}reScale(o,m,C,_,U,E){if(!this._initialData?.length)return;C.k!==this._zoomK&&(this._zoomK=C.k);let S=m.primaryAxis.d3Scale,V=m.secondaryAxis.d3Scale;("time"===m.primaryAxis.type||"number"===m.primaryAxis.type)&&(_&&(S=C.rescaleY(S)),U&&(V=C.rescaleX(V))),E?this.renderBars(o,m,S,V):this.reScaleBars(o,m,S,V)}getTooltipData(o,m,C){const _=[{valueTitle:"",color:"",hidden:!0,index:0,title:"",value:null,engUnits:"",type:"bar"}];if(!this._initialData?.length)return _;const U=this._initialData,S=(0,H.bisector(V=>V[0]).center)(U,o);if(null==S)return _;if("dataPoint"!==m){const V=U[S]?.[0],rt=U[S+1]?.[0];let nt=0;if(nt=rt?(o-rt)/(rt-V):o/V,nt>1.2||nt<-2.5||isNaN(nt))return _}return[{value:U[S]?.[1],valueTitle:U[S]?.[0],title:(0,Mt.n)(this.captions[0]),color:this.getColor(),hidden:this.state.get(0)??!1,index:S,engUnits:this.engUnits[0],type:"bar"}]}getTooltipTitleEnum(){return this.state.get(0)?null:this._hoveredTooltipEnumBar?.getAttribute("tooltipData")??null}getTooltipDataEnum(o){const m=[{valueTitle:"",color:"",hidden:!0,index:0,title:"",value:null,engUnits:"",type:"bar"}];if(!this._initialData?.length)return m;const C=this._initialData,_=this._data.findIndex(U=>U[2]===o);return null==_||-1===_?m:[{value:C[_]?.[1],valueTitle:C[_]?.[2],title:(0,Mt.n)(this.captions[0]),color:this.getColor(),hidden:this.state.get(0)??!1,index:_,engUnits:this.engUnits[0],type:"bar"}]}triggerEnumTooltipTimeout(){this._enumTooltipTimeout&&clearTimeout(this._enumTooltipTimeout),this._enumTooltipTimeout=setTimeout(()=>{this._hoveredTooltipEnumBar=null,this._enumTooltipTimeout=null})}getBandWidth(){return this._bandwidth??0}renderBars(o,m,C,_){if(!this._initialData?.length)return;o.selectAll(".krui-chart-stack").remove();const U=m.primaryAxis.type,E=this.getBarsConfigs(U,C,_);if("gradient"===this.barType){const V=this.colors.length,rt=V>1?this.colors.map((nt,j)=>({color:nt,offset:100/(V-1)*j+"%",stopOpacity:1})):[{offset:"0%",color:this.colors[0],stopOpacity:1},{offset:"100%",color:this.colors[0],stopOpacity:1}];o.append("linearGradient").attr("id",`${this._id}--area-filling`).attr("x1",0).attr("x2",0).attr("y1",0).attr("y2","100%").selectAll("stop").data(rt).enter().append("stop").attr("offset",nt=>nt.offset).attr("stop-color",nt=>nt.color).attr("stop-opacity",nt=>nt.stopOpacity)}const S=o.attr("clip-path",`url(#${this.wrap.workgroundClipPathId}`).selectAll(".krui-chart-stack").data(this._data).enter().append("g").attr("class","krui-chart-stack").attr("tooltipData",V=>(0,L.jJ)(C,U)?V[2]:V[0]).attr("transform",V=>`translate(0, ${(0,L.jJ)(C,U)?C(V[2]):C(V[0])-(this.fixedBarWidth?E.barWidthCalculated:E.barWidthCalculated*this._zoomK)})`).on("mouseover",V=>this._hoveredTooltipEnumBar=V.target.parentElement);if(S.append("rect").attr("class","krui-chart-data-bar").attr("x",0).attr("y",()=>(0,L.jJ)(C,U)?E.barPadding/2:this.fixedBarWidth?E.barWidthCalculated/2:E.barWidthCalculated/2*this._zoomK).attr("height",()=>(0,L.jJ)(C,U)||this.fixedBarWidth?E.barWidthCalculated:E.barWidthCalculated*this._zoomK).attr("width",(V,rt)=>{if(this._previousData?.length&&this._previousData[rt]){const nt=_.range()[0]-(0,L.Pb)(_(this._previousData[rt][1]));return nt>0?nt:(0,L.Pb)(_(this._previousData[rt][1]))}return 0}).attr("rx",`${this.barRadius}px`).attr("ry",`${this.barRadius}px`).attr("fill","solidColor"===this.barType?this.color:`url(#${this._id}--area-filling)`).attr("stroke",this.barBorder?this.barBorderColor:"none").attr("opacity",V=>V[1]?this.barOpacity:0),"enum"===U||this.tooltipHoverEffect){const V=S.append("rect").attr("class","krui-chart-tooltip-bar").attr("id",(rt,nt)=>`krui-chart-tooltip-bar-${nt}`).attr("x",0).attr("y",()=>(0,L.jJ)(C,U)?E.barPadding/2:this.fixedBarWidth?E.barWidthCalculated/2:E.barWidthCalculated/2*this._zoomK).attr("height",()=>(0,L.jJ)(C,U)||this.fixedBarWidth?E.barWidthCalculated:E.barWidthCalculated*this._zoomK).attr("width",_.range()[1]).attr("opacity","0.1").attr("fill","transparent");this.tooltipHoverEffect&&V.on("mouseenter",rt=>{o.select(`#${rt.target.id}`).attr("fill",this.tooltipHoverColor)}).on("mouseleave",rt=>{o.select(`#${rt.target.id}`).attr("fill","transparent")}),this.wrap.svg.select(`#${this.layerDirective.layerId}`).on("mouseleave",()=>this.triggerEnumTooltipTimeout())}S.select("rect.krui-chart-data-bar").transition().duration("none"===this.animationType?0:this._tempDurationAnimation).attr("x",_.range()[0]).attr("width",V=>{if(!V[1])return 0;const rt=_.range()[0]-(0,L.Pb)(_(V[1]));return rt>0?rt:(0,L.Pb)(_(V[1]))}),this.showValues&&S.append("text").attr("class","krui-chart-stack-text").attr("x",(V,rt)=>this._previousData?.length&&this._previousData[rt]?(0,Bt.me)(this.valuePosition,this.valuesFontSizePx,_,this._previousData[rt][1]):-this.valuesFontSizePx).attr("y",()=>(0,L.jJ)(_,U)?(E.barWidthCalculated+E.barPadding)/2:this.fixedBarWidth?E.barWidthCalculated:E.barWidthCalculated*this._zoomK).text(V=>isNaN(V[1])||null===V[1]?null:this.showEnumValues&&(0,L.jJ)(_,U)?V[2]:(0,Mt.h)(V[1],2)).attr("fill",this.valuesColor).style("font-size",`${this.valuesFontSizePx}px`).style("font-family",this.valuesFontFamily).attr("text-anchor","middle").style("alignment-baseline","middle").transition().duration("none"===this.animationType?0:this._tempDurationAnimation).attr("x",V=>(0,Bt.me)(this.valuePosition,this.valuesFontSizePx,_,V[1])),this.state.get(0)&&this.toggleState(0,!0,0)}reScaleBars(o,m,C,_){this._context=m,this._target=o;const U=m.primaryAxis.type,E=this.getBarsConfigs(U,C,_);o.selectAll(".krui-chart-stack").attr("transform",S=>`translate(0, ${(0,L.jJ)(C,U)?C(S[2]):C(S[0])-(this.fixedBarWidth?E.barWidthCalculated:E.barWidthCalculated*this._zoomK)})`),this.scaleBars(E,!0,!0,0)}scaleBars(o,m,C,_){m&&this._target.selectAll(".krui-chart-data-bar").transition().duration(_).attr("y",()=>"enum"===o.type?o.barPadding/2:this.fixedBarWidth?o.barWidthCalculated/2:o.barWidthCalculated/2*this._zoomK).attr("height",()=>"enum"===o.type||this.fixedBarWidth?o.barWidthCalculated:o.barWidthCalculated*this._zoomK),C&&this._target.selectAll(".krui-chart-data-bar").transition().duration(_).attr("x",o.secondaryAxis.range()[0]).attr("width",U=>{if(!U[1])return 0;const E=(0,L.Pb)(o.secondaryAxis(U[1]))-o.secondaryAxis.range()[0];return E>0?E:0}),("enum"===o.type||this.tooltipHoverEffect)&&(this._target.selectAll(".krui-chart-tooltip-bar").attr("x",o.secondaryAxis.range()[0]).attr("y",()=>(0,L.jJ)(o.primaryAxis,o.type)?o.barPadding/2:this.fixedBarWidth?o.barWidthCalculated/2:o.barWidthCalculated/2*this._zoomK).attr("height",()=>(0,L.jJ)(o.primaryAxis,o.type)||this.fixedBarWidth?o.barWidthCalculated:o.barWidthCalculated*this._zoomK).attr("width",o.secondaryAxis.range()[1]),this.triggerEnumTooltipTimeout()),this.showValues&&this._target.selectAll(".krui-chart-stack-text").transition().duration(_).attr("x",U=>(0,Bt.me)(this.valuePosition,this.valuesFontSizePx,o.secondaryAxis,U[1])).attr("y",()=>"enum"===o.type?(o.barWidthCalculated+o.barPadding)/2:this.fixedBarWidth?o.barWidthCalculated:o.barWidthCalculated*this._zoomK)}getBarsConfigs(o,m,C){let _,U,E;return"enum"===o?(_=this.state.get(0)?0:m.bandwidth(),U=_*this._barWidthPercent/100,E=_*(1-this._barWidthPercent/100)):(_=this.state.get(0)?0:this._context.canvasHeight/this._data.length,U=_*this._barWidthPercent/100,E=_*(1-this._barWidthPercent/100)/2),this._bandwidth=_,{type:o,barWidth:_,barWidthCalculated:U,barPadding:E,primaryAxis:m,secondaryAxis:C}}static \u0275fac=function(m){return new(m||st)(gt.rXU(xt.lm,1),gt.rXU(xt.oh,1),gt.rXU(xt.dk,1))};static \u0275dir=gt.FsC({type:st,selectors:[["","kruiChartHorizontalBar",""]],inputs:{showValues:"showValues",valuesColor:"valuesColor",valuesFontSizePx:"valuesFontSizePx",valuesFontFamily:"valuesFontFamily",captions:"captions",engUnits:"engUnits",durationAnimation:"durationAnimation",durationToggleAnimation:"durationToggleAnimation",animation:"animation",reRangeThenLegendClick:"reRangeThenLegendClick",reRangeThenDataChange:"reRangeThenDataChange",workgroundPadding:"workgroundPadding",useDefaultCheck:"useDefaultCheck",withMinMaxCoef:"withMinMaxCoef",barType:"barType",barOpacity:"barOpacity",barRadius:"barRadius",barBorder:"barBorder",barBorderColor:"barBorderColor",fixedBarWidth:"fixedBarWidth",showEnumValues:"showEnumValues",valuePosition:"valuePosition",animationType:"animationType",tooltipHoverEffect:"tooltipHoverEffect",tooltipHoverColor:"tooltipHoverColor",enablePreviousData:"enablePreviousData",startInNull:"startInNull",color:"color",colors:"colors",inputData:[0,"data","inputData"],barWidthPercent:"barWidthPercent"},exportAs:["kruiChartHorizontalBar"],standalone:!1,features:[gt.Jv_([{provide:dt.NX,useExisting:st},{provide:dt.M,useExisting:st},{provide:dt.ej,useExisting:st},{provide:dt.Em,useExisting:st},{provide:dt.Dh,useExisting:st},{provide:dt.MD,useExisting:st},{provide:dt.N5,useExisting:st}]),gt.OA$]})}return st})()},6048:(IA,Yt,$)=>{"use strict";$.d(Yt,{_:()=>ft});var H=$(6712),Ct=$(1648),yt=$(4460),Mt=$(3249),L=$(6183),xt=$(7592),dt=$(1779),Bt=$(9726),gt=$(4438);let ft=(()=>{class st{paletteProvider;wrap;layerDirective;stackedService;_defaultColor;showValues=!1;valuesColor=Ct.lM;valuesFontSizePx=12;valuesFontFamily="Tahoma";captions=[""];engUnits=[""];durationAnimation=2e3;durationToggleAnimation=500;animation=!0;state=new Map;opacityState=new Map;reRangeThenLegendClick=!0;reRangeThenDataChange=!1;workgroundPadding={top:5,right:5,left:2,bottom:5};useDefaultCheck=!0;withMinMaxCoef=!1;_minValue=0;_maxValueCurrent=0;_maxValueAbsolute=0;_target;_context;_id;_zoomK=1;_hoveredTooltipEnumBar=null;_enumTooltipTimeout;_bandwidth;barType="solidColor";barOpacity=1;barsOpacity=[];barRadius=0;barBorder=!1;barBorderColors=[];fixedBarWidth=!1;showEnumValues=!1;valuePosition="center";animationType="growth";tooltipHoverEffect=!0;tooltipHoverColor=Ct.HT;enablePreviousData=!0;startInNull=!0;_tempDurationAnimation=0;_data;_initialData;_stackedData;_previousData;_maxDataLength=0;_groupSize=0;constructor(o,m,C,_){this.paletteProvider=o,this.wrap=m,this.layerDirective=C,this.stackedService=_,this._defaultColor=this.paletteProvider.nextColor()}_color;get color(){return this._color}set color(o){this._color=o||this._defaultColor}_colors;get colors(){return this._colors}set colors(o){if(o)this._colors=o;else for(let m=0;m<this._groupSize;m++)this._colors.push(this.paletteProvider.nextColor())}set inputData(o){if(!o?.length)return this._data=[],void(this._initialData=[]);switch(Object.prototype.toString.call(o[0]?.[0]?.[0])){case"[object Date]":o=o.map(m=>m.map(C=>[C[0].getTime(),C[1],C[2]??null]).sort((C,_)=>C[0]-_[0]));break;case"[object String]":o=o.map(m=>m.map(C=>[new Date(C[0]).getTime(),C[1],C[2]??null]).sort((C,_)=>C[0]-_[0]));break;case"[object Number]":o.map(m=>m.sort((C,_)=>C[0]-_[0]))}this.enablePreviousData&&this._stackedData?.length&&(this._previousData=[...this._stackedData]),this._data=o,this._initialData=o,this._groupSize=this._data?.length??0,this._maxDataLength=this.getMaxDataLength(),this._stackedData=this.stackedService.getStackDataFromArray(this._data),this._getMin(),this._getMaxAbsolute()}set inputStackData(o){if(!o?.length)return this._data=[],void(this._initialData=[]);switch(Object.prototype.toString.call(o[0]?.[0])){case"[object Date]":(o=o.map(C=>[C[0].getTime(),C[1],C[2]??null])).sort();break;case"[object String]":(o=o.map(C=>[new Date(C[0]).getTime(),C[1],C[2]??null])).sort();break;case"[object Number]":o.sort((C,_)=>C[0]-_[0])}this.enablePreviousData&&this._stackedData?.length&&(this._previousData=[...this._stackedData]);const m=this.stackedService.getArrayDataFromStack(o);this._data=m,this._initialData=m,this._groupSize=this._data?.length??0,this._maxDataLength=this.getMaxDataLength(),this._stackedData=o,this._getMin(),this._getMaxAbsolute()}_stackWidthPercent=80;get stackWidthPercent(){return this._stackWidthPercent}set stackWidthPercent(o){o&&(this._stackWidthPercent=o,o<0?this._stackWidthPercent=0:o>100&&(this._stackWidthPercent=100))}_barWidthPercent=80;get barWidthPercent(){return this._barWidthPercent}set barWidthPercent(o){o&&(this._barWidthPercent=o,o<0?this._barWidthPercent=0:o>100&&(this._barWidthPercent=100))}ngOnInit(){if(this._color||(this.color=null),this._colors||(this._colors=[]),this._colors?.length<this._groupSize){let o=this._colors?.length;for(;o<this._groupSize&&!(o>20);)this._colors.push(this.paletteProvider.nextColor()),o++}if(this.valuesColor||(this.valuesColor=this.color),this.barBorderColors||(this.barBorderColors=[]),this.barBorderColors.length<this._groupSize){let o=this.barBorderColors.length;for(;this.barBorderColors?.length<this._groupSize&&!(o>20);)this.barBorderColors.push(this._colors[o]),o++}this.useDefaultCheck&&(Object.entries((0,yt.F_)())?.forEach(([o,m])=>{null==this[o]&&(this[o]=m)}),Object.entries((0,yt.Nb)())?.forEach(([o,m])=>{null==this[o]&&(this[o]=m)}))}ngOnChanges({inputData:o,inputStackData:m}){!o?.isFirstChange()&&!m?.isFirstChange()&&this.layerDirective.reDraw(null,!1,!0),this._tempDurationAnimation=this.durationAnimation}getColor(o){return this.colors?.[o]??this.color}getDomain(o){return o&&"enum"===o?this._data?.map(m=>m.map(C=>(0,L.Pb)(C[2]))).flat():this._data?.map(m=>m.map(C=>(0,L.Pb)(C[0]))).flat()}getRange(){return[this.startInNull?0:this._minValue,this.reRangeThenLegendClick||this.reRangeThenDataChange?this._maxValueCurrent:this._maxValueAbsolute]}_getMin(){let o=Number.POSITIVE_INFINITY;this._data?.forEach(m=>m.forEach(([C,_])=>{null!=_&&(o=Math.min(o,_))})),this._minValue=0===o?.001:this.withMinMaxCoef?o-.001*o:o}_getMaxAbsolute(){let o=Number.NEGATIVE_INFINITY;this._stackedData?.map(([,m])=>{o=null!=m?Math.max(o,...m.map(C=>C)):Math.max(o,this._minValue)}),this.withMinMaxCoef?(this._maxValueAbsolute=o+.001*o,this._maxValueCurrent=o+.001*o):(this._maxValueAbsolute=o,this._maxValueCurrent=o)}_getMaxCurrent(){let o=Number.NEGATIVE_INFINITY;this._stackedData?.forEach(m=>m.forEach(([,C])=>{o=null!=C?Math.max(o,...C.map(_=>_)):Math.max(o,this._minValue)})),this._maxValueCurrent=this.withMinMaxCoef?o+.001*o:o}getWorkgroundPadding(o){if(this._initialData?.length){const m=this._data?.[0]?.length,C=this._data?.length,_="enum"===o?0:this.wrap.workGroundHeight/(m??10)/C;return{top:this.workgroundPadding.top+_,right:this.workgroundPadding.right,bottom:this.workgroundPadding.bottom+_,left:this.workgroundPadding.left}}return this.workgroundPadding}getLegendData(){return this._data.map((o,m)=>({title:(0,Mt.n)(this.captions[m]),color:this.getColor(m),inactive:this.state.get(m)??!1,type:"stack",disabled:!this._initialData?.length,hovered:this.opacityState.get(m)??!1}))}toggleState(o,m,C=this.durationToggleAnimation){this.state.set(o,m),this._hoveredTooltipEnumBar=null;const E=this._context.secondaryAxis.d3Scale,S=this.getBarsConfigs(this._context.primaryAxis.type,this._context.primaryAxis.d3Scale,E);m?(this._target.selectAll(`#krui-chart-data-bar-${o}`).attr("class","krui-chart-data-bar--hidden").transition().duration(C).attr("height",0),this._target.selectAll(`#krui-chart-stack-text-${o}`).attr("class","krui-chart-stack-text--hidden").attr("x",E.range()[0]).attr("display","none"),this.scaleBars(S,!0,!1,C)):(this._target.selectAll(`#krui-chart-data-bar-${o}`).attr("class","krui-chart-data-bar"),this._target.selectAll(`#krui-chart-stack-text-${o}`).attr("class","krui-chart-stack-text").attr("display","visible"),this.scaleBars(S,!0,!1,C))}toggleOpacity(o,m){this.opacityState.set(o,m)}renderOpacity(o){if(this._target)for(let m=0;m<this._groupSize;m++)!this.opacityState.get(m)&&!this.state.get(m)&&(this._target.selectAll(`#krui-chart-data-bar-${m}`).attr("class",o?"krui-chart-data-bar krui-chart-data-bar--opacity":"krui-chart-data-bar"),this._target.selectAll(`#krui-chart-stack-text-${m}`).attr("class",o?"krui-chart-stack-text krui-chart-stack-text--opacity":"krui-chart-stack-text"))}render(o,m,C){this._initialData?.length&&(this._context=m,this._target=o,this._id=C,this.renderBars(o,m,m.primaryAxis.d3Scale,m.secondaryAxis.d3Scale))}reScale(o,m,C,_,U,E){if(!this._initialData?.length)return;C.k!==this._zoomK&&(this._zoomK=C.k);let S=m.primaryAxis.d3Scale,V=m.secondaryAxis.d3Scale;("time"===m.primaryAxis.type||"number"===m.primaryAxis.type)&&(_&&(S=C.rescaleY(S)),U&&(V=C.rescaleX(V))),E?this.renderBars(o,m,S,V):this.reScaleBars(o,m,S,V)}getTooltipData(o,m,C){const _=[{valueTitle:"",color:"",hidden:!0,index:0,title:"",value:null,engUnits:"",type:"bar"}];if(!this._initialData?.length)return _;const U=this._stackedData,S=(0,H.bisector(rt=>rt[0]).center)(U,o);if(null==S)return _;if("dataPoint"!==m){const rt=U[S]?.[0],nt=U[S+1]?.[0];let j=0;if(j=nt?(o-nt)/(nt-rt):o/rt,j>1.2||j<-2.5||isNaN(j))return _}const V=[];return U[S]?.[1]?.forEach((rt,nt)=>{V.push({value:rt,valueTitle:U[S]?.[0],title:(0,Mt.n)(this.captions[nt]),color:this.getColor(nt),hidden:this.state.get(nt)??!1,index:S,engUnits:this.engUnits?.[nt]??"",type:"bar"})}),V.reverse(),V}getTooltipTitleEnum(){return this.state.get(0)?null:this._hoveredTooltipEnumBar?.getAttribute("tooltipData")??null}getTooltipDataEnum(o){const m=[{valueTitle:"",color:"",hidden:!0,index:0,title:"",value:null,engUnits:"",type:"bar"}];if(!this._initialData?.length)return m;const C=this._stackedData,_=this._stackedData.findIndex(E=>E[2]===o);if(null==_||-1===_)return m;const U=[];return C[_]?.[1]?.forEach((E,S)=>{U.push({value:E,valueTitle:C[_]?.[2],title:(0,Mt.n)(this.captions[S]),color:this.getColor(S),hidden:this.state.get(S)??!1,index:_,engUnits:this.engUnits?.[S]??"",type:"bar"})}),U.reverse(),U}triggerEnumTooltipTimeout(){this._enumTooltipTimeout&&clearTimeout(this._enumTooltipTimeout),this._enumTooltipTimeout=setTimeout(()=>{this._hoveredTooltipEnumBar=null,this._enumTooltipTimeout=null})}getBandWidth(){return this._bandwidth??0}renderBars(o,m,C,_){if(!this._initialData?.length)return;o.selectAll(".krui-chart-stack").remove();const U=m.primaryAxis.type,E=this.getBarsConfigs(U,C,_);if("gradient"===this.barType){const nt=this.colors.length,j=nt>1?this.colors.map((At,ct)=>({color:At,offset:100/(nt-1)*ct+"%",stopOpacity:1})):[{offset:"0%",color:this.colors[0],stopOpacity:1},{offset:"100%",color:this.colors[0],stopOpacity:1}];o.append("linearGradient").attr("id",`${this._id}--area-filling`).attr("x1",0).attr("x2",0).attr("y1",0).attr("y2","100%").selectAll("stop").data(j).enter().append("stop").attr("offset",At=>At.offset).attr("stop-color",At=>At.color).attr("stop-opacity",At=>At.stopOpacity)}const S=o.attr("clip-path",`url(#${this.wrap.workgroundClipPathId}`).selectAll(".krui-chart-stack").data(this._stackedData).enter().append("g").attr("class","krui-chart-stack").attr("tooltipData",nt=>(0,L.jJ)(C,U)?nt[2]:nt[0]).attr("transform",nt=>`translate(0, ${(0,L.jJ)(C,U)?C(nt[2]):C(nt[0])-(this.fixedBarWidth?E.stackWidth:E.stackWidth*this._zoomK)/2})`).on("mouseover",nt=>this._hoveredTooltipEnumBar=nt.target.parentElement),V=S.selectAll("rect").data(nt=>[...nt[1]]).enter();let rt=-1;if(V.append("rect").attr("class","krui-chart-data-bar").attr("id",(nt,j)=>`krui-chart-data-bar-${j}`).attr("x",0).attr("y",(nt,j)=>{const At=(E.barWidthCalculated+2*E.barPadding)*j+E.barPadding+E.stackPadding;return(0,L.jJ)(C,U)||this.fixedBarWidth?At:At*this._zoomK}).attr("height",()=>(0,L.jJ)(C,U)||this.fixedBarWidth?E.barWidthCalculated:E.barWidthCalculated*this._zoomK).attr("width",(nt,j)=>{if(0===j&&rt++,rt===E.activeCount&&(rt=0),this._previousData?.length&&this._previousData[rt]?.[1]){const At=_.range()[0]-(0,L.Pb)(_(this._previousData[rt][1][j]));return At>0?At:(0,L.Pb)(_(this._previousData[rt][1][j]))}return 0}).attr("rx",`${this.barRadius}px`).attr("ry",`${this.barRadius}px`).attr("fill",(nt,j)=>"solidColor"===this.barType?this.colors[j]:`url(#${this._id}--area-filling)`).attr("stroke",(nt,j)=>this.barBorder?this.barBorderColors[j]:"none").attr("opacity",(nt,j)=>nt?this.barsOpacity[j]?this.barsOpacity[j]:this.barOpacity:0),"enum"===U||this.tooltipHoverEffect){const nt=S.append("rect").attr("class","krui-chart-tooltip-bar").attr("id",(j,At)=>`krui-chart-tooltip-bar-${At}`).attr("x",0).attr("y",0).attr("height",E.stackWidth*this._zoomK).attr("width",_.range()[1]+this.workgroundPadding.right).attr("opacity","0.1").attr("fill","transparent");this.tooltipHoverEffect&&nt.on("mouseenter",j=>{o.select(`#${j.target.id}`).attr("fill",this.tooltipHoverColor)}).on("mouseleave",j=>{o.select(`#${j.target.id}`).attr("fill","transparent")}),this.wrap.svg.select(`#${this.layerDirective.layerId}`).on("mouseleave",()=>this.triggerEnumTooltipTimeout())}if(V.selectAll("rect.krui-chart-data-bar").transition().duration("none"===this.animationType?0:this._tempDurationAnimation).attr("x",_.range()[0]).attr("width",nt=>{if(!nt)return 0;const j=_.range()[0]-(0,L.Pb)(_(nt));return j>0?j:(0,L.Pb)(_(nt))}),this.showValues){let nt=-1;V.append("text").attr("class","krui-chart-stack-text").attr("id",(j,At)=>`krui-chart-stack-text-${At}`).attr("x",(j,At)=>(0===At&&nt++,nt===E.activeCount&&(nt=0),this._previousData?.length&&this._previousData[nt]?.[1]?(0,Bt.me)(this.valuePosition,this.valuesFontSizePx,_,this._previousData[nt][1][At]):_.range()[0])).attr("y",(j,At)=>{const ct=(E.barWidthCalculated+2*E.barPadding)*At+E.barWidthCalculated/2+E.barPadding+E.stackPadding;return(0,L.jJ)(C,U)||this.fixedBarWidth?ct:ct*this._zoomK}).text(j=>isNaN(j)||null===j?null:this.showEnumValues&&(0,L.jJ)(C,U)?j:(0,Mt.h)(j,2)).attr("fill",this.valuesColor).style("font-size",`${this.valuesFontSizePx}px`).style("font-family",this.valuesFontFamily).attr("text-anchor","middle").style("alignment-baseline","middle").transition().duration("none"===this.animationType?0:this._tempDurationAnimation).attr("x",j=>(0,Bt.me)(this.valuePosition,this.valuesFontSizePx,_,j))}this._data?.forEach((nt,j)=>{this.state.get(j)&&this.toggleState(j,!0,0)})}reScaleBars(o,m,C,_){this._context=m,this._target=o;const U=m.primaryAxis.type,E=this.getBarsConfigs(U,C,_);o.selectAll(".krui-chart-stack").attr("transform",S=>`translate(0, ${(0,L.jJ)(C,U)?C(S[2]):C(S[0])-(this.fixedBarWidth?E.stackWidth:E.stackWidth*this._zoomK)/2})`),this.scaleBars(E,!0,!0,0)}scaleBars(o,m,C,_){if(m){let U=0;this._target.selectAll(".krui-chart-data-bar").transition().duration(_).attr("y",(E,S)=>{const V=(o.barWidthCalculated+2*o.barPadding)*U+o.barPadding+o.stackPadding;return U++,U===o.groupSize&&(U=0),"enum"===o.type||this.fixedBarWidth?V:V*this._zoomK}).attr("height",(E,S)=>"enum"===o.type||this.fixedBarWidth?o.barWidthCalculated:o.barWidthCalculated*this._zoomK)}C&&this._target.selectAll(".krui-chart-data-bar").transition().duration(_).attr("x",U=>o.secondaryAxis.range()[0]).attr("width",U=>{if(!U)return 0;const E=(0,L.Pb)(o.secondaryAxis(U))-o.secondaryAxis.range()[0];return E>0?E:(0,L.Pb)(o.secondaryAxis(U))}),("enum"===o.type||this.tooltipHoverEffect)&&(this._target.selectAll(".krui-chart-tooltip-bar").attr("x",()=>o.secondaryAxis.range()[0]).attr("height",()=>(0,L.jJ)(o.primaryAxis,o.type)||this.fixedBarWidth?o.stackWidth:o.stackWidth*this._zoomK).attr("width",o.secondaryAxis.range()[1]+this.workgroundPadding.right),this.triggerEnumTooltipTimeout()),this.showValues&&this._target.selectAll(".krui-chart-stack").selectAll(".krui-chart-stack-text").transition().duration(_).attr("x",U=>(0,Bt.me)(this.valuePosition,this.valuesFontSizePx,o.secondaryAxis,U)).attr("y",(U,E)=>{const S=(o.barWidthCalculated+2*o.barPadding)*E+o.barWidthCalculated/2+o.barPadding+o.stackPadding;return"enum"===o.type||this.fixedBarWidth?S:S*this._zoomK})}getBarsConfigs(o,m,C){const _=this.getActiveCount(),U=this.getGroupSize();let E,S,V,rt,nt,j;return"enum"===o?(E=m.bandwidth(),S=E*this._stackWidthPercent/100,V=(E-S)/2,rt=S/U,nt=rt*this._barWidthPercent/100,j=(rt-nt)/2):(E=this._context.canvasHeight/this._maxDataLength,S=E*this._stackWidthPercent/100,V=(E-S)/2,rt=S/U,nt=rt*this._barWidthPercent/100,j=(rt-nt)/2),this._bandwidth=E,{type:o,activeCount:_,groupSize:U,stackWidth:E,stackWidthCalculated:S,stackPadding:V,barWidth:rt,barWidthCalculated:nt,barPadding:j,primaryAxis:m,secondaryAxis:C}}getMaxDataLength(){return Math.max(...this._data?.map(o=>o.length))}getGroupSize(){let o=0;return this._data.forEach((m,C)=>{this.state.get(C)||o++}),o}getActiveCount(){return this._stackedData?.length}static \u0275fac=function(m){return new(m||st)(gt.rXU(xt.lm,1),gt.rXU(xt.oh,1),gt.rXU(xt.dk,1),gt.rXU(xt.zI))};static \u0275dir=gt.FsC({type:st,selectors:[["","kruiChartHorizontalComboBar",""]],inputs:{showValues:"showValues",valuesColor:"valuesColor",valuesFontSizePx:"valuesFontSizePx",valuesFontFamily:"valuesFontFamily",captions:"captions",engUnits:"engUnits",durationAnimation:"durationAnimation",durationToggleAnimation:"durationToggleAnimation",animation:"animation",reRangeThenLegendClick:"reRangeThenLegendClick",reRangeThenDataChange:"reRangeThenDataChange",workgroundPadding:"workgroundPadding",useDefaultCheck:"useDefaultCheck",withMinMaxCoef:"withMinMaxCoef",barType:"barType",barOpacity:"barOpacity",barsOpacity:"barsOpacity",barRadius:"barRadius",barBorder:"barBorder",barBorderColors:"barBorderColors",fixedBarWidth:"fixedBarWidth",showEnumValues:"showEnumValues",valuePosition:"valuePosition",animationType:"animationType",tooltipHoverEffect:"tooltipHoverEffect",tooltipHoverColor:"tooltipHoverColor",enablePreviousData:"enablePreviousData",startInNull:"startInNull",color:"color",colors:"colors",inputData:[0,"data","inputData"],inputStackData:[0,"dataStack","inputStackData"],stackWidthPercent:"stackWidthPercent",barWidthPercent:"barWidthPercent"},exportAs:["kruiChartHorizontalComboBar"],standalone:!1,features:[gt.Jv_([{provide:dt.NX,useExisting:st},{provide:dt.M,useExisting:st},{provide:dt.ej,useExisting:st},{provide:dt.Em,useExisting:st},{provide:dt.Dh,useExisting:st},{provide:dt.MD,useExisting:st},{provide:dt.N5,useExisting:st}]),gt.OA$]})}return st})()},6691:(IA,Yt,$)=>{"use strict";$.d(Yt,{x:()=>ft});var H=$(6712),Ct=$(1648),yt=$(4460),Mt=$(3249),L=$(6183),xt=$(7592),dt=$(1779),Bt=$(9726),gt=$(4438);let ft=(()=>{class st{paletteProvider;wrap;layerDirective;stackedService;_defaultColor;showValues=!1;valuesColor=Ct.lM;valuesFontSizePx=12;valuesFontFamily="Tahoma";captions=[""];engUnits=[""];durationAnimation=2e3;durationToggleAnimation=500;animation=!0;state=new Map;opacityState=new Map;reRangeThenLegendClick=!0;reRangeThenDataChange=!1;workgroundPadding={top:5,right:5,left:2,bottom:5};useDefaultCheck=!0;withMinMaxCoef=!1;_minValue=0;_maxValueCurrent=0;_maxValueAbsolute=0;_target;_context;_id;_zoomK=1;_hoveredTooltipEnumBar=null;_enumTooltipTimeout;_bandwidth;barType="solidColor";barOpacity=1;barRadius=0;barsOpacity=[];barBorder=!1;barBorderColors=[];fixedBarWidth=!1;showEnumValues=!0;valuePosition="center";animationType="growth";tooltipHoverEffect=!0;tooltipHoverColor=Ct.HT;enablePreviousData=!0;startInNull=!0;_tempDurationAnimation=0;_data;_initialData;_stackedData;_previousData;_maxDataLength=0;_groupSize=0;constructor(o,m,C,_){this.paletteProvider=o,this.wrap=m,this.layerDirective=C,this.stackedService=_,this._defaultColor=this.paletteProvider.nextColor()}_color;get color(){return this._color}set color(o){this._color=o||this._defaultColor}_colors;get colors(){return this._colors}set colors(o){if(o)this._colors=o;else for(let m=0;m<this._groupSize;m++)this._colors.push(this.paletteProvider.nextColor())}set inputData(o){if(!o?.length)return this._data=[],void(this._initialData=[]);switch(Object.prototype.toString.call(o[0]?.[0]?.[0])){case"[object Date]":o=o.map(m=>m.map(C=>[C[0].getTime(),this.stackedService.checkValueOrder(C[1]),C[2]??null]).sort((C,_)=>C[0]-_[0]));break;case"[object String]":o=o.map(m=>m.map(C=>[new Date(C[0]).getTime(),this.stackedService.checkValueOrder(C[1]),C[2]??null]).sort((C,_)=>C[0]-_[0]));break;case"[object Number]":o.map(m=>m.map(C=>[C[0],this.stackedService.checkValueOrder(C[1]),C[2]??null]).sort((C,_)=>C[0]-_[0]))}this.enablePreviousData&&this._stackedData?.length&&(this._previousData=[...this._stackedData]),this._data=o,this._initialData=o,this._groupSize=this._data?.length??0,this._stackedData=this.stackedService.getStackDataFromArray(this._data),this._maxDataLength=this.getMaxDataLength(),this._getMin(),this._getMaxAbsolute()}set inputStackData(o){if(!o?.length)return this._data=[],void(this._initialData=[]);switch(Object.prototype.toString.call(o[0]?.[0])){case"[object Date]":(o=o.map(C=>[C[0].getTime(),this.stackedService.checkValueOrderStack(C[1]),C[2]??null])).sort();break;case"[object String]":(o=o.map(C=>[new Date(C[0]).getTime(),this.stackedService.checkValueOrderStack(C[1]),C[2]??null])).sort();break;case"[object Number]":(o=o.map(C=>[C[0],this.stackedService.checkValueOrderStack(C[1]),C[2]??null])).sort((C,_)=>C[0]-_[0])}this.enablePreviousData&&this._stackedData?.length&&(this._previousData=[...this._stackedData]);const m=this.stackedService.getArrayDataFromStack(o);this._data=m,this._initialData=m,this._groupSize=this._data?.length??0,this._stackedData=o,this._maxDataLength=this.getMaxDataLength(),this._getMin(),this._getMaxAbsolute()}_stackWidthPercent=80;get stackWidthPercent(){return this._stackWidthPercent}set stackWidthPercent(o){o&&(this._stackWidthPercent=o,o<0?this._stackWidthPercent=0:o>100&&(this._stackWidthPercent=100))}_barWidthPercent=80;get barWidthPercent(){return this._barWidthPercent}set barWidthPercent(o){o&&(this._barWidthPercent=o,o<0?this._barWidthPercent=0:o>100&&(this._barWidthPercent=100))}ngOnInit(){if(this._color||(this.color=null),this._colors||(this._colors=[]),this._colors?.length<this._groupSize){let o=this._colors?.length;for(;o<this._groupSize&&!(o>20);)this._colors.push(this.paletteProvider.nextColor()),o++}if(this.valuesColor||(this.valuesColor=this.color),this.barBorderColors||(this.barBorderColors=[]),this.barBorderColors.length<this._groupSize){let o=this.barBorderColors.length;for(;this.barBorderColors?.length<this._groupSize&&!(o>20);)this.barBorderColors.push(this._colors[o]),o++}this.useDefaultCheck&&(Object.entries((0,yt.xy)())?.forEach(([o,m])=>{null==this[o]&&(this[o]=m)}),Object.entries((0,yt.TE)())?.forEach(([o,m])=>{null==this[o]&&(this[o]=m)}))}ngOnChanges({inputData:o,inputStackData:m}){!o?.isFirstChange()&&!m?.isFirstChange()&&this.layerDirective.reDraw(null,!1,!0),this._tempDurationAnimation=this.durationAnimation}getColor(o){return this.colors?.[o]??this.color}getDomain(o){return o&&"enum"===o?this._data?.map(m=>m.map(C=>C[2])).flat():this._data?.map(m=>m.map(C=>(0,L.Pb)(C[0]))).flat()}getRange(){return[this.startInNull?0:this._minValue,this.reRangeThenLegendClick||this.reRangeThenDataChange?this._maxValueCurrent:this._maxValueAbsolute]}_getMin(){let o=Number.POSITIVE_INFINITY;this._data?.forEach(m=>{m?.forEach(([C,_,U])=>{null==_||(null!=_[0]&&null!=_[1]?o=Math.min(o,..._.flat(1)):null==_[0]&&null!=_[1]?o=Math.min(o,_[1]):null!=_[0]&&null==_[1]&&(o=Math.min(o,_[0])))})}),this._minValue=0===o?.001:this.withMinMaxCoef?o-.001*o:o}_getMaxAbsolute(){let o=Number.NEGATIVE_INFINITY;this._data?.forEach(m=>{m?.forEach(([C,_,U])=>{o=null==_?Math.max(o,this._minValue):null!=_[0]&&null!=_[1]?Math.max(o,..._.flat(1)):null==_[0]&&null!=_[1]?Math.max(o,_[1]):null!=_[0]&&null==_[1]?Math.max(o,_[0]):Math.max(o,this._minValue)})}),this.withMinMaxCoef?(this._maxValueAbsolute=o+.001*o,this._maxValueCurrent=o+.001*o):(this._maxValueAbsolute=o,this._maxValueCurrent=o)}_getMaxCurrent(){let o=Number.NEGATIVE_INFINITY;this._data?.forEach((m,C)=>{this.state.get(C)&&m?.forEach(([_,U,E])=>{o=null==U?Math.max(o,this._minValue):null!=U[0]&&null!=U[1]?Math.max(o,...U.flat(1)):null==U[0]&&null!=U[1]?Math.max(o,U[1]):null!=U[0]&&null==U[1]?Math.max(o,U[0]):Math.max(o,this._minValue)})}),this._maxValueCurrent=this.withMinMaxCoef?o+.001*o:o}getWorkgroundPadding(o){if(this._initialData?.length){const m=this._data?.[0]?.length,C=this._data?.length,_="enum"===o?0:this.wrap.workGroundHeight/(m??10)/C;return{top:this.workgroundPadding.top+_,right:this.workgroundPadding.right,bottom:this.workgroundPadding.bottom+_,left:this.workgroundPadding.left}}return this.workgroundPadding}getLegendData(){return this._data.map((o,m)=>({title:(0,Mt.n)(this.captions[m]),color:this.getColor(m),inactive:this.state.get(m)??!1,type:"stack",disabled:!this._initialData?.length,hovered:this.opacityState.get(m)??!1}))}toggleState(o,m,C=this.durationToggleAnimation){this.state.set(o,m),this._hoveredTooltipEnumBar=null;const S=this.getBarsConfigs(this._context.primaryAxis.type,this._context.primaryAxis.d3Scale,this._context.secondaryAxis.d3Scale);m?(this._target.selectAll(`#krui-chart-data-bar-${o}`).attr("class","krui-chart-data-bar--hidden").transition().duration(C).attr("height",0),this._target.selectAll(`#krui-chart-stack-text-${o}`).attr("class","krui-chart-stack-text--hidden").attr("display","none")):(this._target.selectAll(`#krui-chart-data-bar-${o}`).attr("class","krui-chart-data-bar"),this._target.selectAll(`#krui-chart-stack-text-${o}`).attr("class","krui-chart-stack-text").attr("display","visible")),this.scaleBars(S,!0,!1,C)}toggleOpacity(o,m){this.opacityState.set(o,m)}renderOpacity(o){if(this._target)for(let m=0;m<this._groupSize;m++)!this.opacityState.get(m)&&!this.state.get(m)&&(this._target.selectAll(`#krui-chart-data-bar-${m}`).attr("class",o?"krui-chart-data-bar krui-chart-data-bar--opacity":"krui-chart-data-bar"),this._target.selectAll(`#krui-chart-stack-text-${m}`).attr("class",o?"krui-chart-stack-text krui-chart-stack-text--opacity":"krui-chart-stack-text"))}render(o,m,C){this._initialData?.length&&(this._context=m,this._target=o,this._id=C,this.renderBars(o,m,m.primaryAxis.d3Scale,m.secondaryAxis.d3Scale))}reScale(o,m,C,_,U,E){if(!this._initialData?.length)return;C.k!==this._zoomK&&(this._zoomK=C.k);let S=m.primaryAxis.d3Scale,V=m.secondaryAxis.d3Scale;("time"===m.primaryAxis.type||"number"===m.primaryAxis.type)&&(_&&(S=C.rescaleY(S)),U&&(V=C.rescaleX(V))),E?this.renderBars(o,m,S,V):this.reScaleBars(o,m,S,V)}getTooltipData(o,m,C){const _=[{valueTitle:"",color:"",hidden:!0,index:0,title:"",value:null,engUnits:"",type:"bar"}];if(!this._initialData?.length)return _;const U=this._stackedData,S=(0,H.bisector(rt=>rt[0]).center)(U,o);if(null==S)return _;if("dataPoint"!==m){const rt=U[S]?.[0],nt=U[S+1]?.[0];let j=0;if(j=nt?(o-nt)/(nt-rt):o/rt,j>1.2||j<-2.5||isNaN(j))return _}const V=[];return U[S]?.[1]?.forEach((rt,nt)=>{V.push({value:rt,valueTitle:U[S]?.[0],title:(0,Mt.n)(this.captions[nt]),color:this.getColor(nt),hidden:this.state.get(nt)??!1,index:S,engUnits:this.engUnits?.[nt]??"",type:"bar"})}),V.reverse(),V}getTooltipTitleEnum(){return this.state.get(0)?null:this._hoveredTooltipEnumBar?.getAttribute("tooltipData")??null}getTooltipDataEnum(o){const m=[{valueTitle:"",color:"",hidden:!0,index:0,title:"",value:null,engUnits:"",type:"bar"}];if(!this._initialData?.length)return m;const C=this._stackedData,_=this._stackedData.findIndex(E=>E[2]===o);if(null==_||-1===_)return m;const U=[];return C[_]?.[1]?.forEach((E,S)=>{U.push({value:E,valueTitle:C[_]?.[2],title:(0,Mt.n)(this.captions[S]),color:this.getColor(S),hidden:this.state.get(S)??!1,index:_,engUnits:this.engUnits?.[S]??"",type:"bar"})}),U.reverse(),U}triggerEnumTooltipTimeout(){this._enumTooltipTimeout&&clearTimeout(this._enumTooltipTimeout),this._enumTooltipTimeout=setTimeout(()=>{this._hoveredTooltipEnumBar=null,this._enumTooltipTimeout=null})}getBandWidth(){return this._bandwidth??0}renderBars(o,m,C,_){if(!this._initialData?.length)return;o.selectAll(".krui-chart-stack").remove();const U=m.primaryAxis.type,E=this.getBarsConfigs(U,C,_);if("gradient"===this.barType){const j=this.colors.length,At=j>1?this.colors.map((ct,Tt)=>({color:ct,offset:100/(j-1)*Tt+"%",stopOpacity:1})):[{offset:"0%",color:this.colors[0],stopOpacity:1},{offset:"100%",color:this.colors[0],stopOpacity:1}];o.append("linearGradient").attr("id",`${this._id}--area-filling`).attr("x1",0).attr("x2",0).attr("y1",0).attr("y2","100%").selectAll("stop").data(At).enter().append("stop").attr("offset",ct=>ct.offset).attr("stop-color",ct=>ct.color).attr("stop-opacity",ct=>ct.stopOpacity)}const S=o.attr("clip-path",`url(#${this.wrap.workgroundClipPathId}`).selectAll(".krui-chart-stack").data(this._stackedData).enter().append("g").attr("class","krui-chart-stack").attr("tooltipData",j=>(0,L.jJ)(C,U)?j[2]:j[0]).attr("transform",j=>`translate(0, ${(0,L.jJ)(C,U)?C(j[2]):C(j[0])-(this.fixedBarWidth?E.stackWidth:E.stackWidth*this._zoomK)/2})`).on("mouseover",j=>this._hoveredTooltipEnumBar=j.target.parentElement),V=S.selectAll("rect").data(j=>[...j[1]]).enter();let rt=-1,nt=-1;if(V.append("rect").attr("class","krui-chart-data-bar").attr("id",(j,At)=>`krui-chart-data-bar-${At}`).attr("x",(j,At)=>(0===At&&rt++,rt===E.activeCount&&(rt=0),this._previousData?.length&&this._previousData[rt]?.[1]?(0,L.Pb)(_(this._previousData[rt][1][At][0])):_.range()[0])).attr("y",(j,At)=>{const ct=(E.barWidthCalculated+2*E.barPadding)*At+E.barPadding+E.stackPadding;return(0,L.jJ)(C,U)||this.fixedBarWidth?ct:ct*this._zoomK}).attr("height",()=>(0,L.jJ)(C,U)||this.fixedBarWidth?E.barWidthCalculated:E.barWidthCalculated*this._zoomK).attr("width",(j,At)=>{if(0===At&&nt++,nt===E.activeCount&&(nt=0),this._previousData?.length&&this._previousData[nt]?.[1]){const ct=(0,L.Pb)(_(this._previousData[nt][1][At][1]))-(0,L.Pb)(_(this._previousData[nt][1][At][0]));return ct>0?ct:(0,L.Pb)(_(this._previousData[nt][1][At][1]))}return 0}).attr("rx",`${this.barRadius}px`).attr("ry",`${this.barRadius}px`).attr("fill",(j,At)=>"solidColor"===this.barType?this.colors[At]:`url(#${this._id}--area-filling)`).attr("stroke",(j,At)=>this.barBorder?this.barBorderColors[At]:"none").attr("opacity",(j,At)=>j?this.barsOpacity[At]?this.barsOpacity[At]:this.barOpacity:0),"enum"===U||this.tooltipHoverEffect){const j=S.append("rect").attr("class","krui-chart-tooltip-bar").attr("id",(At,ct)=>`krui-chart-tooltip-bar-${ct}`).attr("x",0).attr("y",0).attr("height",E.stackWidth*this._zoomK).attr("width",_.range()[1]).attr("opacity","0.1").attr("fill","transparent");this.tooltipHoverEffect&&j.on("mouseenter",At=>{o.select(`#${At.target.id}`).attr("fill",this.tooltipHoverColor)}).on("mouseleave",At=>{o.select(`#${At.target.id}`).attr("fill","transparent")}),this.wrap.svg.select(`#${this.layerDirective.layerId}`).on("mouseleave",()=>this.triggerEnumTooltipTimeout())}if(V.selectAll("rect.krui-chart-data-bar").transition().duration("none"===this.animationType?0:this._tempDurationAnimation).attr("x",j=>(0,L.Pb)(_(j[0]))).attr("width",j=>{if(!j)return 0;const At=(0,L.Pb)(_(j[1]))-(0,L.Pb)(_(j[0]));return At>0?At:(0,L.Pb)(_(j[0]))}),this.showValues){let j=-1;V.append("text").attr("class","krui-chart-stack-text").attr("id",(At,ct)=>`krui-chart-stack-text-${ct}`).attr("x",(At,ct)=>(0===ct&&j++,j===E.activeCount&&(j=0),this._previousData?.length&&this._previousData[j]?.[1]?(0,Bt.wP)(this.valuePosition,this.valuesFontSizePx,_,this._previousData[j][1][ct]):_.range()[0])).attr("y",(At,ct)=>{const Tt=(E.barWidthCalculated+2*E.barPadding)*ct+E.barWidthCalculated/2+E.barPadding+E.stackPadding;return(0,L.jJ)(C,U)||this.fixedBarWidth?Tt:Tt*this._zoomK}).text(At=>isNaN(At[0])||isNaN(At[1])||null===At?null:this.showEnumValues&&(0,L.jJ)(C,U)?At:(0,Mt.h)(At[1],2)).attr("fill",this.valuesColor).style("font-size",`${this.valuesFontSizePx}px`).style("font-family",this.valuesFontFamily).attr("text-anchor","middle").style("alignment-baseline","middle").transition().duration("none"===this.animationType?0:this._tempDurationAnimation).attr("x",At=>(0,Bt.wP)(this.valuePosition,this.valuesFontSizePx,_,At))}this._data?.forEach((j,At)=>{this.state.get(At)&&this.toggleState(At,!0,0)})}reScaleBars(o,m,C,_){this._context=m,this._target=o;const U=m.primaryAxis.type,E=this.getBarsConfigs(U,C,_);o.selectAll(".krui-chart-stack").attr("transform",S=>`translate(0, ${(0,L.jJ)(C,U)?C(S[2]):C(S[0])-(this.fixedBarWidth?E.stackWidth:E.stackWidth*this._zoomK)/2})`),this.scaleBars(E,!0,!0,0)}scaleBars(o,m,C,_){m&&this._target.selectAll(".krui-chart-stack").selectAll(".krui-chart-data-bar").transition().duration(_).attr("y",(U,E)=>{const S=(o.barWidthCalculated+2*o.barPadding)*E+o.barPadding+o.stackPadding;return"enum"===o.type||this.fixedBarWidth?S:S*this._zoomK}).attr("height",()=>"enum"===o.type||this.fixedBarWidth?o.barWidthCalculated:o.barWidthCalculated*this._zoomK),C&&this._target.selectAll(".krui-chart-data-bar").transition().duration(_).attr("x",U=>(0,L.Pb)(o.secondaryAxis(U[0]))).attr("width",U=>{if(!U)return 0;const E=(0,L.Pb)(o.secondaryAxis(U[1]))-(0,L.Pb)(o.secondaryAxis(U[0]));return E>0?E:(0,L.Pb)(o.secondaryAxis(U[1]))}),("enum"===o.type||this.tooltipHoverEffect)&&(this._target.selectAll(".krui-chart-tooltip-bar").attr("width",o.secondaryAxis.range()[1]).attr("height",()=>(0,L.jJ)(o.primaryAxis,o.type)||this.fixedBarWidth?o.stackWidth:o.stackWidth*this._zoomK),this.triggerEnumTooltipTimeout()),this.showValues&&this._target.selectAll(".krui-chart-stack").selectAll(".krui-chart-stack-text").transition().duration(_).attr("y",(U,E)=>{const S=(o.barWidthCalculated+2*o.barPadding)*E+o.barWidthCalculated/2+o.barPadding+o.stackPadding;return"enum"===o.type||this.fixedBarWidth?S:S*this._zoomK}).attr("x",U=>(0,Bt.wP)(this.valuePosition,this.valuesFontSizePx,o.secondaryAxis,U))}getBarsConfigs(o,m,C){const _=this.getActiveCount(),U=this.getGroupSize();let E,S,V,rt,nt,j;return"enum"===o?(E=m.bandwidth(),S=E*this._stackWidthPercent/100,V=(E-S)/2,rt=S/U,nt=rt*this._barWidthPercent/100,j=(rt-nt)/2):(E=this._context.canvasHeight/this._maxDataLength,S=E*this._stackWidthPercent/100,V=(E-S)/2,rt=S/U,nt=rt*this._barWidthPercent/100,j=(rt-nt)/2),this._bandwidth=E,{type:o,activeCount:_,groupSize:U,stackWidth:E,stackWidthCalculated:S,stackPadding:V,barWidth:rt,barWidthCalculated:nt,barPadding:j,primaryAxis:m,secondaryAxis:C}}getMaxDataLength(){return Math.max(...this._data?.map(o=>o.length))}getGroupSize(){let o=0;return this._data.forEach((m,C)=>{this.state.get(C)||o++}),o}getActiveCount(){return this._stackedData?.length}static \u0275fac=function(m){return new(m||st)(gt.rXU(xt.lm,1),gt.rXU(xt.oh,1),gt.rXU(xt.dk,1),gt.rXU(xt.zI))};static \u0275dir=gt.FsC({type:st,selectors:[["","kruiChartHorizontalRangeBar",""]],inputs:{showValues:"showValues",valuesColor:"valuesColor",valuesFontSizePx:"valuesFontSizePx",valuesFontFamily:"valuesFontFamily",captions:"captions",engUnits:"engUnits",durationAnimation:"durationAnimation",durationToggleAnimation:"durationToggleAnimation",animation:"animation",reRangeThenLegendClick:"reRangeThenLegendClick",reRangeThenDataChange:"reRangeThenDataChange",workgroundPadding:"workgroundPadding",useDefaultCheck:"useDefaultCheck",withMinMaxCoef:"withMinMaxCoef",barType:"barType",barOpacity:"barOpacity",barRadius:"barRadius",barsOpacity:"barsOpacity",barBorder:"barBorder",barBorderColors:"barBorderColors",fixedBarWidth:"fixedBarWidth",showEnumValues:"showEnumValues",valuePosition:"valuePosition",animationType:"animationType",tooltipHoverEffect:"tooltipHoverEffect",tooltipHoverColor:"tooltipHoverColor",enablePreviousData:"enablePreviousData",startInNull:"startInNull",color:"color",colors:"colors",inputData:[0,"data","inputData"],inputStackData:[0,"dataStack","inputStackData"],stackWidthPercent:"stackWidthPercent",barWidthPercent:"barWidthPercent"},exportAs:["kruiChartHorizontalRangeBar"],standalone:!1,features:[gt.Jv_([{provide:dt.NX,useExisting:st},{provide:dt.M,useExisting:st},{provide:dt.ej,useExisting:st},{provide:dt.Em,useExisting:st},{provide:dt.Dh,useExisting:st},{provide:dt.MD,useExisting:st},{provide:dt.N5,useExisting:st}]),gt.OA$]})}return st})()},5170:(IA,Yt,$)=>{"use strict";$.d(Yt,{i:()=>ft});var H=$(6712),Ct=$(1648),yt=$(4460),Mt=$(3249),L=$(6183),xt=$(7592),dt=$(1779),Bt=$(9726),gt=$(4438);let ft=(()=>{class st{paletteProvider;wrap;layerDirective;stackedService;_defaultColor;showValues=!1;valuesColor=Ct.lM;valuesFontSizePx=12;valuesFontFamily="Tahoma";captions=[""];engUnits=[""];durationAnimation=1e3;durationToggleAnimation=500;animation=!0;state=new Map;opacityState=new Map;reRangeThenLegendClick=!0;reRangeThenDataChange=!1;workgroundPadding={top:10,right:5,left:2,bottom:10};useDefaultCheck=!0;withMinMaxCoef=!1;_minValue=0;_maxValueCurrent=0;_maxValueAbsolute=0;_target;_context;_id;_zoomK=1;_hoveredTooltipEnumBar=null;_enumTooltipTimeout;_bandwidth;barType="solidColor";barOpacity=1;barsOpacity=[];barRadius=0;barBorder=!1;barBorderColors=[];fixedBarWidth=!1;showEnumValues=!1;showStackValues=!1;valuePosition="center";animationType="growth";tooltipHoverEffect=!0;tooltipHoverColor=Ct.HT;enablePreviousData=!0;startInNull=!0;stackType="stackBar";_tempDurationAnimation=0;_data;_initialData;_stackedData;_previousStackedData;_maxDataLength=0;_groupSize=0;_dataValueMap=new Map;constructor(o,m,C,_){this.paletteProvider=o,this.wrap=m,this.layerDirective=C,this.stackedService=_,this._defaultColor=this.paletteProvider.nextColor()}_color;get color(){return this._color}set color(o){this._color=o||this._defaultColor}_colors;get colors(){return this._colors}set colors(o){if(o)this._colors=o;else for(let m=0;m<this._groupSize;m++)this._colors.push(this.paletteProvider.nextColor())}set inputData(o){if(!o?.length)return this._data=[],void(this._initialData=[]);switch(Object.prototype.toString.call(o[0]?.[0]?.[0])){case"[object Date]":o=o.map(m=>m.map(C=>[C[0].getTime(),C[1],C[2]??null]).sort((C,_)=>C[0]-_[0]));break;case"[object String]":o=o.map(m=>m.map(C=>[new Date(C[0]).getTime(),C[1],C[2]??null]).sort((C,_)=>C[0]-_[0]));break;case"[object Number]":o.map(m=>m.sort((C,_)=>C[0]-_[0]))}this.enablePreviousData&&this._stackedData?.length&&(this._previousStackedData=[...this._stackedData]),this._data=o,this._initialData=o,this._groupSize=this._data?.length??0,this._stackedData=this.stackedService.getStackDataFromArray(this._data),this._maxDataLength=this.getMaxDataLength(),this._getMin(),this._getMaxAbsolute()}set inputStackData(o){if(!o?.length)return this._data=[],void(this._initialData=[]);switch(Object.prototype.toString.call(o[0]?.[0])){case"[object Date]":(o=o.map(C=>[C[0].getTime(),C[1],C[2]??null])).sort();break;case"[object String]":(o=o.map(C=>[new Date(C[0]).getTime(),C[1],C[2]??null])).sort();break;case"[object Number]":o.sort((C,_)=>C[0]-_[0])}this.enablePreviousData&&this._stackedData?.length&&(this._previousStackedData=[...this._stackedData]);const m=this.stackedService.getArrayDataFromStack(o);this._data=m,this._initialData=m,this._groupSize=this._data?.length??0,this._stackedData=o,this._maxDataLength=this.getMaxDataLength(),this._getMin(),this._getMaxAbsolute()}_barWidthPercent=80;get barWidthPercent(){return this._barWidthPercent}set barWidthPercent(o){o&&(this._barWidthPercent=o,o<0?this._barWidthPercent=0:o>100&&(this._barWidthPercent=100))}ngOnInit(){if(this._color||(this.color=null),this._colors||(this._colors=[]),this._colors?.length<this._groupSize){let o=this._colors?.length;for(;o<this._groupSize&&!(o>20);)this._colors.push(this.paletteProvider.nextColor()),o++}if(this.valuesColor||(this.valuesColor=this.color),this.barBorderColors||(this.barBorderColors=[]),this.barBorderColors.length<this._groupSize){let o=this.barBorderColors.length;for(;this.barBorderColors?.length<this._groupSize&&!(o>20);)this.barBorderColors.push(this._colors[o]),o++}this.useDefaultCheck&&(Object.entries((0,yt.xy)())?.forEach(([o,m])=>{null==this[o]&&(this[o]=m)}),Object.entries((0,yt.Ju)())?.forEach(([o,m])=>{null==this[o]&&(this[o]=m)}))}ngOnChanges({inputData:o,inputStackData:m}){!o?.isFirstChange()&&!m?.isFirstChange()&&this.layerDirective.reDraw(null,!1,!0),this._tempDurationAnimation=this.durationAnimation}getColor(o){return this.colors?.[o]??this.color}getDomain(o){return o&&"enum"===o?this._data?.map(m=>m.map(C=>C[2])).flat():this._data?.map(m=>m.map(C=>(0,L.Pb)(C[0]))).flat()}getRange(){return[this.startInNull?0:this._minValue,this.reRangeThenLegendClick||this.reRangeThenDataChange?this._maxValueCurrent:this._maxValueAbsolute]}_getMin(){let o=Number.POSITIVE_INFINITY;this._data?.forEach(m=>m.forEach(([C,_])=>{null!=_&&(o=Math.min(o,_))})),this._minValue=0===o?.001:this.withMinMaxCoef?o-.001*o:o}_getMaxAbsolute(){let o=Number.NEGATIVE_INFINITY;this._stackedData?.map(([,m])=>{o=null!=m?Math.max(o,m.reduce((C,_,U)=>C+_,0)):Math.max(o,this._minValue)}),this.withMinMaxCoef?(this._maxValueAbsolute=o+.001*o,this._maxValueCurrent=o+.001*o):(this._maxValueAbsolute=o,this._maxValueCurrent=o)}_getMaxCurrent(){let o=Number.NEGATIVE_INFINITY;this._stackedData?.forEach(m=>m.forEach(([,C])=>{o=null!=C?Math.max(o,C.reduce((_,U,E)=>this.state.get(E)?_:_+U,0)):Math.max(o,this._minValue)})),this._maxValueCurrent=this.withMinMaxCoef?o+.001*o:o}getWorkgroundPadding(o){if(this._initialData?.length){const m=this._data?.[0]?.length,C=this._data?.length,_="enum"===o?0:this.wrap.workGroundHeight/(m??10)/C;return{top:this.workgroundPadding.top+_,right:this.workgroundPadding.right,bottom:this.workgroundPadding.bottom+_,left:this.workgroundPadding.left}}return this.workgroundPadding}getLegendData(){return this._data.map((o,m)=>({title:(0,Mt.n)(this.captions[m]),color:this.getColor(m),inactive:this.state.get(m)??!1,type:"stack",disabled:!this._initialData?.length,hovered:this.opacityState.get(m)??!1}))}toggleState(o,m,C=this.durationToggleAnimation){this.state.set(o,m),this._hoveredTooltipEnumBar=null,m?(this._target.selectAll(`#krui-chart-data-bar-${o}`).attr("class","krui-chart-data-bar--hidden").transition().duration(C).attr("height",0),this._target.selectAll(`#krui-chart-stack-text-${o}`).attr("class","krui-chart-stack-text--hidden").attr("display","none")):(this._target.selectAll(`#krui-chart-data-bar-${o}`).attr("class","krui-chart-data-bar"),this._target.selectAll(`#krui-chart-stack-text-${o}`).attr("class","krui-chart-stack-text").attr("display","visible")),this.enablePreviousData&&(this._previousStackedData=[...this._stackedData],this._stackedData.forEach((_,U)=>{const E=this._dataValueMap.get(U);E&&this._dataValueMap.set(-U-1,E)})),this.layerDirective.reDraw(null,!1,!0)}toggleOpacity(o,m){this.opacityState.set(o,m)}renderOpacity(o){if(this._target)for(let m=0;m<this._groupSize;m++)!this.opacityState.get(m)&&!this.state.get(m)&&(this._target.selectAll(`#krui-chart-data-bar-${m}`).attr("class",o?"krui-chart-data-bar krui-chart-data-bar--opacity":"krui-chart-data-bar"),this._target.selectAll(`#krui-chart-stack-text-${m}`).attr("class",o?"krui-chart-stack-text krui-chart-stack-text--opacity":"krui-chart-stack-text"))}render(o,m,C){this._initialData?.length&&(this._context=m,this._target=o,this._id=C,this.renderBars(o,m,m.primaryAxis.d3Scale,m.secondaryAxis.d3Scale))}reScale(o,m,C,_,U,E){if(!this._initialData?.length)return;C.k!==this._zoomK&&(this._zoomK=C.k);let S=m.primaryAxis.d3Scale,V=m.secondaryAxis.d3Scale;("time"===m.primaryAxis.type||"number"===m.primaryAxis.type)&&(_&&(S=C.rescaleY(S)),U&&(V=C.rescaleX(V))),E?this.renderBars(o,m,S,V):this.reScaleBars(o,m,S,V)}getTooltipData(o,m,C){const _=[{valueTitle:"",color:"",hidden:!0,index:0,title:"",value:null,engUnits:"",type:"bar"}];if(!this._initialData?.length)return _;const U=this._stackedData,S=(0,H.bisector(rt=>rt[0]).center)(U,o);if(null==S)return _;if("dataPoint"!==m){const rt=U[S]?.[0],nt=U[S+1]?.[0];let j=0;if(j=nt?(o-nt)/(nt-rt):o/rt,j>1.2||j<-2.5||isNaN(j))return _}const V=[];return U[S]?.[1]?.forEach((rt,nt)=>{V.push({value:rt,valueTitle:U[S]?.[0],title:(0,Mt.n)(this.captions[nt]),color:this.getColor(nt),hidden:this.state.get(nt)??!1,index:S,engUnits:this.engUnits?.[nt]??"",type:"bar"})}),V.reverse(),V}getTooltipTitleEnum(){return this.state.get(0)?null:this._hoveredTooltipEnumBar?.getAttribute("tooltipData")??null}getTooltipDataEnum(o){const m=[{valueTitle:"",color:"",hidden:!0,index:0,title:"",value:null,engUnits:"",type:"bar"}];if(!this._initialData?.length)return m;const C=this._stackedData,_=this._stackedData.findIndex(E=>E[2]===o);if(null==_||-1===_)return m;const U=[];return C[_]?.[1]?.forEach((E,S)=>{U.push({value:E,valueTitle:C[_]?.[2],title:(0,Mt.n)(this.captions[S]),color:this.getColor(S),hidden:this.state.get(S)??!1,index:_,engUnits:this.engUnits?.[S]??"",type:"bar"})}),U.reverse(),U}triggerEnumTooltipTimeout(){this._enumTooltipTimeout&&clearTimeout(this._enumTooltipTimeout),this._enumTooltipTimeout=setTimeout(()=>{this._hoveredTooltipEnumBar=null,this._enumTooltipTimeout=null})}getBandWidth(){return this._bandwidth??0}renderBars(o,m,C,_){if(!this._initialData?.length)return;o.selectAll(".krui-chart-stack").remove();const U=m.primaryAxis.type,E=this.getBarsConfigs(U,C,_),S=this._stackedData.map(([At,ct,Tt])=>[At,ct.map((oA,dA)=>this.state.get(dA)?0:oA),Tt]);if("gradient"===this.barType){const At=this.colors.length,ct=At>1?this.colors.map((Tt,oA)=>({color:Tt,offset:100/(At-1)*oA+"%",stopOpacity:1})):[{offset:"0%",color:this.colors[0],stopOpacity:1},{offset:"100%",color:this.colors[0],stopOpacity:1}];o.append("linearGradient").attr("id",`${this._id}--area-filling`).attr("x1",0).attr("x2",0).attr("y1",0).attr("y2","100%").selectAll("stop").data(ct).enter().append("stop").attr("offset",Tt=>Tt.offset).attr("stop-color",Tt=>Tt.color).attr("stop-opacity",Tt=>Tt.stopOpacity)}const V=o.attr("clip-path",`url(#${this.wrap.workgroundClipPathId}`).selectAll(".krui-chart-stack").data(S).enter().append("g").attr("class","krui-chart-stack").attr("tooltipData",At=>(0,L.jJ)(C,U)?At[2]:At[0]).attr("transform",At=>`translate(0, ${(0,L.jJ)(C,U)?C(At[2]):C(At[0])-(this.fixedBarWidth?E.barWidthCalculated:E.barWidthCalculated*this._zoomK)})`).on("mouseover",At=>this._hoveredTooltipEnumBar=At.target.parentElement),rt=V.selectAll("rect").data((At,ct)=>{if(this.enablePreviousData){const oA=this._dataValueMap.get(ct);oA&&this._dataValueMap.set(-ct-1,oA)}const Tt=this.stackedService.getCalculatedStack(this.stackType,At,ct,this._maxValueCurrent);return this._dataValueMap.set(ct,Tt),Tt.calculated}).enter();let nt=-1,j=-1;if(rt.append("rect").attr("class","krui-chart-data-bar").attr("id",(At,ct)=>`krui-chart-data-bar-${ct}`).attr("x",(At,ct)=>{0===ct&&nt++,nt===E.activeCount&&(nt=0);const Tt=this._dataValueMap.get(-nt-1)?.calculated[ct];return this._previousStackedData?.length&&Tt?(0,L.Pb)(_(Tt[0])):_.range()[0]}).attr("y",()=>(0,L.jJ)(C,U)?E.barPadding/2:this.fixedBarWidth?E.barWidthCalculated/2:E.barWidthCalculated/2*this._zoomK).attr("width",(At,ct)=>{0===ct&&j++,j===E.activeCount&&(j=0);const Tt=this._dataValueMap.get(-j-1)?.calculated[ct];if(this._previousStackedData?.length&&Tt?.length){const oA=(0,L.Pb)(_(Tt[0]))-(0,L.Pb)(_(Tt[1]));return oA>0?oA:0}return 0}).attr("height",()=>(0,L.jJ)(C,U)||this.fixedBarWidth?E.barWidthCalculated:E.barWidthCalculated*this._zoomK).attr("rx",`${this.barRadius}px`).attr("ry",`${this.barRadius}px`).attr("fill",(At,ct)=>"solidColor"===this.barType?this.colors[ct]:`url(#${this._id}--area-filling)`).attr("stroke",(At,ct)=>this.barBorder?this.barBorderColors[ct]:"none").attr("opacity",(At,ct)=>At?this.barsOpacity[ct]?this.barsOpacity[ct]:this.barOpacity:0),"enum"===U||this.tooltipHoverEffect){const At=V.append("rect").attr("class","krui-chart-tooltip-bar").attr("id",(ct,Tt)=>`krui-chart-tooltip-bar-${Tt}`).attr("x",0).attr("y",()=>{if((0,L.jJ)(C,U))return E.barPadding/2;const ct=E.barWidthCalculated/2;return this.fixedBarWidth?ct:ct*this._zoomK}).attr("height",()=>(0,L.jJ)(C,U)||this.fixedBarWidth?E.barWidthCalculated:E.barWidthCalculated*this._zoomK).attr("width",_.range()[1]).attr("opacity","0.1").attr("fill","transparent");this.tooltipHoverEffect&&At.on("mouseenter",ct=>{o.select(`#${ct.target.id}`).attr("fill",this.tooltipHoverColor)}).on("mouseleave",ct=>{o.select(`#${ct.target.id}`).attr("fill","transparent")}),this.wrap.svg.select(`#${this.layerDirective.layerId}`).on("mouseleave",()=>this.triggerEnumTooltipTimeout())}if(rt.selectAll("rect.krui-chart-data-bar").transition().duration("none"===this.animationType?0:this._tempDurationAnimation).attr("x",At=>(0,L.Pb)(_(At[0]))).attr("width",At=>{const ct=(0,L.Pb)(_(At[1]))-(0,L.Pb)(_(At[0]));return ct>0?ct:0}),this.showValues){let At=-1,ct=-1;rt.append("text").attr("class","krui-chart-stack-text").attr("id",(Tt,oA)=>`krui-chart-stack-text-${oA}`).attr("x",(Tt,oA)=>{0===oA&&At++,At===E.activeCount&&(At=0);const dA=this._dataValueMap.get(-At-1)?.calculated[oA];return this._previousStackedData?.length&&dA?(0,Bt.wP)(this.valuePosition,this.valuesFontSizePx,_,[dA[1],dA[0],dA[2]]):_.range()[0]}).attr("y",()=>(0,L.jJ)(C,U)?(E.barWidthCalculated+E.barPadding)/2:this.fixedBarWidth?E.barWidthCalculated:E.barWidthCalculated*this._zoomK).text((Tt,oA)=>{0===oA&&ct++;const dA=this._dataValueMap.get(ct);if(isNaN(Tt[1])||null===Tt)return null;if(this.showEnumValues&&(0,L.jJ)(C,U))return dA?.enum;if("stackBar"===this.stackType){const gA=(0,Mt.h)(this.showStackValues?Tt[1]:dA?.initial?.[oA]??0,2);return isNaN(gA)||0===gA?null:gA}if("fullStackBar"===this.stackType){if(this.showStackValues)return(0,Mt.h)(dA?.normalized?.[oA]??0,1);let gA=dA?.normalized?.[oA]??0;return 0!==gA&&dA&&!dA?.isSetted&&(gA=+(gA+dA.delta).toFixed(2),dA.isSetted=!0),isNaN(gA)||0===gA?null:gA+"%"}return Tt[1]}).attr("fill",this.valuesColor).style("font-size",`${this.valuesFontSizePx}px`).style("font-family",this.valuesFontFamily).attr("text-anchor","middle").style("alignment-baseline","middle").transition().duration("none"===this.animationType?0:this._tempDurationAnimation).attr("x",Tt=>(0,Bt.wP)(this.valuePosition,this.valuesFontSizePx,_,Tt))}}reScaleBars(o,m,C,_){this._context=m,this._target=o;const U=m.primaryAxis.type,E=this.getBarsConfigs(U,C,_);o.selectAll(".krui-chart-stack").attr("transform",S=>`translate(0, ${(0,L.jJ)(C,U)?C(S[2]):C(S[0])-(this.fixedBarWidth?E.barWidthCalculated:E.barWidthCalculated*this._zoomK)})`),this.scaleBars(E,!0,!0,0)}scaleBars(o,m,C,_){m&&this._target.selectAll(".krui-chart-data-bar").transition().duration(_).attr("y",()=>"enum"===o.type?o.barPadding/2:this.fixedBarWidth?o.barWidthCalculated/2:o.barWidthCalculated/2*this._zoomK).attr("height",()=>"enum"===o.type||this.fixedBarWidth?o.barWidthCalculated:o.barWidthCalculated*this._zoomK),C&&this._target.selectAll(".krui-chart-data-bar").transition().duration(_).attr("x",U=>(0,L.Pb)(o.secondaryAxis(U[0]))).attr("width",U=>{const E=(0,L.Pb)(o.secondaryAxis(U[1]))-(0,L.Pb)(o.secondaryAxis(U[0]));return E>0?E:0}),("enum"===o.type||this.tooltipHoverEffect)&&(this._target.selectAll(".krui-chart-tooltip-bar").attr("y",()=>(0,L.jJ)(o.primaryAxis,o.type)?o.barPadding/2:this.fixedBarWidth?o.barWidthCalculated/2:o.barWidthCalculated/2*this._zoomK).attr("height",()=>(0,L.jJ)(o.primaryAxis,o.type)||this.fixedBarWidth?o.barWidthCalculated:o.barWidthCalculated*this._zoomK).attr("width",o.secondaryAxis.range()[1]),this.triggerEnumTooltipTimeout()),this.showValues&&this._target.selectAll(".krui-chart-stack-text").transition().duration(_).attr("x",U=>(0,Bt.wP)(this.valuePosition,this.valuesFontSizePx,o.secondaryAxis,U)).attr("y",()=>"enum"===o.type?(o.barWidthCalculated+o.barPadding)/2:this.fixedBarWidth?o.barWidthCalculated:o.barWidthCalculated*this._zoomK)}getBarsConfigs(o,m,C){const _=this.getActiveCount(),U=this.getGroupSize();let E,S,V;return"enum"===o?(E=U>0?m.bandwidth():0,S=E*this._barWidthPercent/100,V=E*(1-this._barWidthPercent/100)/2):(E=U>0?this._context.canvasHeight/this._maxDataLength:0,S=E*this._barWidthPercent/100,V=E*(1-this._barWidthPercent/100)/2),this._bandwidth=E,{type:o,activeCount:_,groupSize:U,barWidth:E,barWidthCalculated:S,barPadding:V,primaryAxis:m,secondaryAxis:C}}getMaxDataLength(){return Math.max(...this._data?.map(o=>o.length))}getGroupSize(){let o=0;return this._data.forEach((m,C)=>{this.state.get(C)||o++}),o}getActiveCount(){return this._stackedData?.length}static \u0275fac=function(m){return new(m||st)(gt.rXU(xt.lm,1),gt.rXU(xt.oh,1),gt.rXU(xt.dk,1),gt.rXU(xt.zI))};static \u0275dir=gt.FsC({type:st,selectors:[["","kruiChartHorizontalStackBar",""]],inputs:{showValues:"showValues",valuesColor:"valuesColor",valuesFontSizePx:"valuesFontSizePx",valuesFontFamily:"valuesFontFamily",captions:"captions",engUnits:"engUnits",durationAnimation:"durationAnimation",durationToggleAnimation:"durationToggleAnimation",animation:"animation",reRangeThenLegendClick:"reRangeThenLegendClick",reRangeThenDataChange:"reRangeThenDataChange",workgroundPadding:"workgroundPadding",useDefaultCheck:"useDefaultCheck",withMinMaxCoef:"withMinMaxCoef",barType:"barType",barOpacity:"barOpacity",barsOpacity:"barsOpacity",barRadius:"barRadius",barBorder:"barBorder",barBorderColors:"barBorderColors",fixedBarWidth:"fixedBarWidth",showEnumValues:"showEnumValues",showStackValues:"showStackValues",valuePosition:"valuePosition",animationType:"animationType",tooltipHoverEffect:"tooltipHoverEffect",tooltipHoverColor:"tooltipHoverColor",enablePreviousData:"enablePreviousData",startInNull:"startInNull",stackType:"stackType",color:"color",colors:"colors",inputData:[0,"data","inputData"],inputStackData:[0,"dataStack","inputStackData"],barWidthPercent:"barWidthPercent"},exportAs:["kruiChartHorizontalStackBar"],standalone:!1,features:[gt.Jv_([{provide:dt.NX,useExisting:st},{provide:dt.M,useExisting:st},{provide:dt.ej,useExisting:st},{provide:dt.Em,useExisting:st},{provide:dt.Dh,useExisting:st},{provide:dt.MD,useExisting:st},{provide:dt.N5,useExisting:st}]),gt.OA$]})}return st})()},3845:(IA,Yt,$)=>{"use strict";$.d(Yt,{V:()=>st});var H=$(6712),Ct=$(3249);const yt={draw:function(Ot,o){Ot.moveTo(-o,o),Ot.lineTo(o,-o),Ot.moveTo(o,o),Ot.lineTo(-o,-o),Ot.closePath()}},Mt=[["dataPoint",{pointMarkers:["symbolCircle"],pointVisible:!0,pointColor:"wrapBg",pointStrokeColor:"auto",pointSize:5,pointStrokeSize:2,pointLimit:500}],["dataFillPoint",{pointMarkers:["symbolCircle"],pointVisible:!0,pointColor:"auto",pointStrokeColor:"auto",pointSize:5,pointStrokeSize:2,pointLimit:500}],["dataPointReWrite",{pointMarkers:["symbolCircle","symbolArrow"],pointVisible:!0,pointColor:"wrapBg",pointStrokeColor:"auto",pointSize:5,pointStrokeSize:1,pointLimit:500}],["dataFillPointReWrite",{pointMarkers:["symbolCircle","symbolArrow"],pointVisible:!0,pointColor:"auto",pointStrokeColor:"auto",pointSize:5,pointStrokeSize:1,pointLimit:500}],["breakPoint",{pointMarkers:["symbolX"],pointVisible:!0,pointColor:"auto",pointStrokeColor:"auto",pointSize:4,pointStrokeSize:0,pointLimit:50}],["breakPointTransparentBg",{pointMarkers:["symbolXTransparentBg"],pointVisible:!0,pointColor:"auto",pointStrokeColor:"auto",pointSize:4,pointStrokeSize:2,pointLimit:50}],["reWritePoint",{pointMarkers:["symbolArrow"],pointVisible:!0,pointColor:"auto",pointStrokeColor:"auto",pointSize:8,pointStrokeSize:1,pointLimit:500}]];var xt=$(925),dt=$(6183),Bt=$(7592),gt=$(1779),ft=$(4438);let st=(()=>{class Ot{paletteProvider;wrap;layerDirective;_defaultColor;showValues=!1;valuesColor;valuesFontSizePx=12;valuesFontFamily="Tahoma";captions=[""];engUnits=[""];animation=!0;durationAnimation=2e3;durationToggleAnimation=500;state=new Map;opacityState=new Map;reRangeThenLegendClick=!0;reRangeThenDataChange=!0;workgroundPadding={top:5,right:10,left:10,bottom:5};useDefaultCheck=!0;withMinMaxCoef=!1;_minValue=0;_maxValueCurrent=0;_maxValueAbsolute=0;_target;_context;_id;_zoomK=1;_zoomTransform=H.zoomIdentity;interpolateEnable=!1;extendStep=10;_pointMap=new Map;_pointMapSettings=new Map((()=>JSON.parse(JSON.stringify(Mt)))());_pointData=[];dataPointType="partial";dataPointColor;dataPointStrokeColor;dataPointMarker="dataPoint";breakPointType="auto";breakPoint=!0;breakPointColor;breakPointStrokeColor;breakPointSize=4;breakPointStrokeSize=0;breakPointLimit=50;breakPointMarker="symbolX";endPoint=!0;endPointSize=2;endPointStrokeSize=7;_hoveredTooltipEnumBar=null;_enumTooltipTimeout;_bandwidth;lineType="line";lineDynamics="curveLinear";lineOpacity=1;lineWidth=2;_tempDurationAnimation=0;_data;_initialData;_extendedData=[];_d3PathLine;_d3PathArea;constructor(m,C,_){this.paletteProvider=m,this.wrap=C,this.layerDirective=_,this._defaultColor=this.paletteProvider.nextColor()}set setPointMapSettings(m){m?.length&&m.forEach(C=>this._pointMapSettings.set(C.key,Object.assign({},C.opt)))}_color;get color(){return this._color}set color(m){this._color=m||this._defaultColor}_colors;get colors(){return this._colors}set colors(m){this._colors=m||[this._defaultColor]}set inputData(m){if(!m?.length)return this._data=[],this._extendedData=[],this._initialData=[],void(this._pointData=[]);let C=[];switch(Object.prototype.toString.call(m[0]?.[0])){case"[object Date]":C=m.map(_=>[_[0].getTime(),_[1],_[2]??null,_[3]??null])?.sort(),this._initialData=m.map(_=>[_[0].getTime(),_[1],_[2]??null,_[3]??null])?.sort(),this._pointData=m.map(_=>[_[0].getTime(),_[1],_[2]??null,_[3]??null]),this._pointData?.sort();break;case"[object String]":C=m.map(_=>[new Date(_[0]).getTime(),_[1],_[2]??null,_[3]??null])?.sort((_,U)=>_[0]-U[0]>=0?1:0),this._initialData=m.map(_=>[new Date(_[0]).getTime(),_[1],_[2]??null,_[3]??null])?.sort((_,U)=>_[0]-U[0]>=0?1:0),this._pointData=m.map(_=>[new Date(_[0]).getTime(),_[1],_[2]??null,_[3]??null]),this._pointData?.sort((_,U)=>_[0]-U[0]>=0?1:0);break;case"[object Number]":C=m.map(_=>[_[0],_[1],_[2]??null,_[3]??null])?.sort((_,U)=>_[0]-U[0]>=0?1:0),this._initialData=m.map(_=>[_[0],_[1],_[2]??null,_[3]??null])?.sort((_,U)=>_[0]-U[0]>=0?1:0),this._pointData=m.map(_=>[_[0],_[1],_[2]??null,_[3]??null]),this._pointData?.sort((_,U)=>_[0]-U[0]>=0?1:0)}this._data=C.slice(0),C?.length<1e4?(this._extendedData=[],C?.forEach((_,U,E)=>{if(!E[U+1])return;let S,V;const rt=E[U][1],nt=E[U+1][1];S=E[U][0],V=E[U+1][0];const j=(V-S)/this.extendStep,At=(nt-rt)/this.extendStep;let ct=j,Tt=At;for(;ct<=V-S&&(0!==ct||V-S!=0);)this._extendedData.push(null===rt||null===nt?[S+ct,null,_[2]??null,_[3]??null]:[S+ct,rt+Tt,_[2]??null,_[3]??null]),ct=+(ct+j).toFixed(2),Tt+=At})):this._extendedData=C.slice(),this._getMin(),this._getMaxAbsolute()}ngOnInit(){this._color||(this.color=null),this._colors||(this.colors=null),this.valuesColor||(this.valuesColor=this.color);const m=this.getColor();this.breakPointColor||(this.breakPointColor=m),this.breakPointStrokeColor||(this.breakPointStrokeColor=m),this.useDefaultCheck&&(Object.entries((0,xt.Ti)())?.forEach(([C,_])=>{null==this[C]&&(this[C]=_)}),Object.entries((0,xt.$U)())?.forEach(([C,_])=>{null==this[C]&&(this[C]=_)}));for(let[C,_]of this._pointMapSettings.entries())(!_?.pointColor||"auto"==_?.pointColor)&&(_.pointColor=m),(!_?.pointStrokeColor||"auto"==_?.pointStrokeColor)&&(_.pointStrokeColor=m),"wrapBg"==_?.pointColor&&(_.pointColor=this.wrap.bgColor),"wrapBg"==_?.pointStrokeColor&&(_.pointStrokeColor=this.wrap.bgColor),("dataPoint"===C||"dataFillPoint"===C||"dataPointReWrite"===C||"dataFillPointReWrite"===C)&&(this.dataPointColor&&(_.pointColor=this.dataPointColor),this.dataPointStrokeColor&&(_.pointStrokeColor=this.dataPointStrokeColor));this._d3PathLine=H.line().curve(H[this.lineDynamics]).x(([C])=>C).y(([,C])=>C).defined((C,_)=>C[0]!=this._minValue&&C[1]!=this._minValue),"area"===this.lineType&&(this._d3PathArea=H.area().curve(H[this.lineDynamics]).x(([C])=>C).y0(()=>this._context.secondaryAxis.d3Scale.range()[0]).y1(([,C])=>C).defined((C,_)=>C[0]!=this._minValue&&C[1]!=this._minValue))}ngOnChanges({inputData:m}){m?.isFirstChange()||this.layerDirective.reDraw(null,!1,!0);const C=this.getColor();for(let[_,U]of this._pointMapSettings.entries())(!U?.pointColor||"auto"==U?.pointColor)&&(U.pointColor=C),(!U?.pointStrokeColor||"auto"==U?.pointStrokeColor)&&(U.pointStrokeColor=C),"wrapBg"==U?.pointColor&&(U.pointColor=this.wrap.bgColor),"wrapBg"==U?.pointStrokeColor&&(U.pointStrokeColor=this.wrap.bgColor);this._tempDurationAnimation=this.durationAnimation}getColor(m=0){return"area"===this.lineType?this.colors?.[m]??this.color:this.color}getDomain(m){return m&&"enum"===m?this._data?.map(C=>C[3]??C[0]?.toString()):this._data?.map(C=>(0,dt.Pb)(C[0]))}getRange(){return[this._minValue,this.reRangeThenLegendClick||this.reRangeThenDataChange?this._maxValueCurrent:this._maxValueAbsolute]}_getMin(){let m=Number.POSITIVE_INFINITY;this._data?.forEach(([C,_])=>{null!=_&&(m=Math.min(m,_))}),this._minValue=0===m?.001:this.withMinMaxCoef?m>0?this.getCoefficient(m,"0")*m:this.getCoefficient(m,"1")*m:m}_getMaxAbsolute(){let m=Number.NEGATIVE_INFINITY;this._data?.forEach(([,C],_)=>{m=null!=C?Math.max(m,C):Math.max(m,this._minValue)}),this.withMinMaxCoef?(this._maxValueAbsolute=m>0?this.getCoefficient(m,"1")*m:this.getCoefficient(m,"0")*m,this._maxValueCurrent=m>0?this.getCoefficient(m,"1")*m:this.getCoefficient(m,"0")*m):(this._maxValueAbsolute=m,this._maxValueCurrent=m)}_getMaxCurrent(){if(this.state.get(0))return void(this._maxValueCurrent=this._minValue);let m=Number.NEGATIVE_INFINITY;this._data?.forEach(([,C],_)=>{m=null!=C?Math.max(m,C):Math.max(m,this._minValue)}),this._maxValueCurrent=this.withMinMaxCoef?m>0?this.getCoefficient(m,"1")*m:this.getCoefficient(m,"0")*m:m}getWorkgroundPadding(){return this.workgroundPadding}getLegendData(){return[{title:(0,Ct.n)(this.captions[0]),color:this.getColor(),inactive:this.state.get(0)??!1,type:"single",disabled:!this._initialData?.length,hovered:this.opacityState.get(0)??!1}]}toggleState(m,C,_){if(this.state.set(m,C),this._hoveredTooltipEnumBar=null,this._getMaxCurrent(),_=this.animation?this.durationToggleAnimation:0,C){const U=this.wrap.height,E=[[this._context.primaryAxis.d3Scale.range()[0],this._context.secondaryAxis.d3Scale.range()[0],null,null]];this._target.select(`#${this._id}--points-container`).transition().duration(_).attr("transform",`translate(0, ${U})`),this._target.select(`#${this._id}--labels-container`).transition().duration(_).attr("transform",`translate(0, ${U})`),this._target.select(`#${this._id}--line`).transition().duration(_).attr("d",this._d3PathLine(E)).attr("opacity",0),"area"===this.lineType&&this._target.select(`#${this._id}--line-area`).transition().duration(_).attr("d",this._d3PathArea(E))}else this._target.select(`#${this._id}--line`).attr("opacity",1),this.reScale(this._target,this._context,this._zoomTransform,!0,!0,!0)}toggleOpacity(m,C){this.opacityState.set(m,C)}renderOpacity(m){this.opacityState.get(0)||!this._target||this.opacityState.get(0)||this._target.attr("class",m?"krui-chart-data-layer krui-chart-data-layer--opacity":"krui-chart-data-layer")}render(m,C,_){this._initialData?.length&&(this._context=C,this._target=m,this._id=_,this.renderPath(m,C,C.primaryAxis.d3Scale,C.secondaryAxis.d3Scale))}reScale(m,C,_,U,E,S){if(!this._initialData?.length||(this._context=C,this._target=m,this._zoomTransform=_,_.k!==this._zoomK&&(this._zoomK=_.k),this.state.get(0)))return;this.interpolateEnable&&this.interpolateData(_.k);const V=C.primaryAxis.type;let rt=C.primaryAxis.d3Scale,nt=C.secondaryAxis.d3Scale;"time"===V||"number"===V?(U&&(rt=_.rescaleX(rt)),E&&(nt=_.rescaleY(nt))):"enum"===V&&(this._bandwidth=rt?.bandwidth());const j=S?this.durationToggleAnimation:0,At=this.getPoints(rt,nt,[],(0,dt.jJ)(rt,V));this.getTypesPoints(rt,nt),m.select(`#${this._id}--line`).transition().duration(j).attr("d",this._d3PathLine(At)),"area"===this.lineType&&m.select(`#${this._id}--line-area`).transition().duration(j).attr("d",this._d3PathArea(At)),"enum"===V&&m.selectAll(".krui-chart-tooltip-bar").attr("width",()=>(0,dt.Pb)(this._bandwidth)).attr("transform",ct=>`translate(${(0,dt.Pb)(rt(ct[3]))}, 0)`),At.length&&this.drawPoints(m,At),this.showValues&&this.drawValues(m,At)}getTooltipData(m,C,_){const U=[{valueTitle:"",color:"",hidden:!0,index:0,title:"",value:null,engUnits:"",type:this.lineType}];if(!this._initialData?.length)return U;const E="dataPoint"===C?this._initialData:this._extendedData,V=(0,H.bisector(rt=>rt[0]).center)(E,m);if(null==V)return U;if("fullLine"===C){if(0===E.length)return U;const rt=(m-(E[V+1]?.[0]??E[V]?.[0]))/((E[V+1]?.[0]??E[V]?.[0]+.1)-E[V]?.[0]);if(rt>1||rt<-2.5||isNaN(rt))return U}return[{value:E[V]?.[1],valueTitle:E[V]?.[0],title:(0,Ct.n)(this.captions[0]),color:this.getColor(),hidden:this.state.get(0)??!1,index:V,engUnits:this.engUnits[0],type:this.lineType}]}getTooltipTitleEnum(){return this.state.get(0)?null:this._hoveredTooltipEnumBar?.getAttribute("tooltipData")??null}getTooltipDataEnum(m){const C=[{valueTitle:"",color:"",hidden:!0,index:0,title:"",value:null,engUnits:"",type:this.lineType}];if(!this._initialData?.length)return C;const _=this._initialData,U=this._data.findIndex(E=>E[3]===m);return null==U||-1===U?C:[{value:_[U]?.[1],valueTitle:_[U]?.[3],title:(0,Ct.n)(this.captions[0]),color:this.getColor(),hidden:this.state.get(0)??!1,index:U,engUnits:this.engUnits[0],type:this.lineType}]}triggerEnumTooltipTimeout(){this._enumTooltipTimeout&&clearTimeout(this._enumTooltipTimeout),this._enumTooltipTimeout=setTimeout(()=>{this._hoveredTooltipEnumBar=null,this._enumTooltipTimeout=null},500)}getBandWidth(){return this._bandwidth??0}renderPath(m,C,_,U){if(!this._initialData?.length)return;const E=C.primaryAxis.type;(this.interpolateEnable||"enum"===E)&&setTimeout(()=>this.reScale(m,this._context,H.zoomIdentity,!0,!1,!1));const S=this.getPoints(_,U,[],(0,dt.jJ)(_,E));this.getTypesPoints(_,U);const V=m.append("clipPath").attr("id",`${this._id}--clipPath-gradient-animation`).append("rect").attr("x",0).attr("y",0).attr("width",0).attr("height",this.wrap.workGroundHeight);if(m.append("path").attr("class","krui-chart-line").attr("id",`${this._id}--line`).attr("stroke",this.color).attr("stroke-width",`${this.lineWidth}px`).attr("opacity",this.lineOpacity).attr("fill","none").attr("d",this._d3PathLine(S)).attr("clip-path",`url(#${this._id}--clipPath-gradient-animation)`),"area"===this.lineType){const rt=this.colors.length,nt=rt>1?this.colors.map((j,At)=>({color:j,offset:100/(rt-1)*At+"%",stopOpacity:1})):[{offset:"0%",color:this.colors[0],stopOpacity:1},{offset:"100%",color:this.colors[0],stopOpacity:1}];m.append("linearGradient").attr("id",`${this._id}--area-filling`).attr("x1",0).attr("x2",0).attr("y1",0).attr("y2","100%").selectAll("stop").data(nt).enter().append("stop").attr("offset",j=>j.offset).attr("stop-color",j=>j.color).attr("stop-opacity",j=>j.stopOpacity),m.append("path").attr("class","krui-chart-line-area").attr("id",`${this._id}--line-area`).attr("clip-path",`url(#${this._id}--clipPath-gradient-animation)`).attr("fill",`url(#${this._id}--area-filling)`).attr("d",this._d3PathArea(S))}this.showValues&&this.drawValues(m,S),"enum"===E&&(this._bandwidth=_?.bandwidth()*this._zoomK,m.selectAll("tooltip-bars").data(this._data).enter().append("rect").attr("class","krui-chart-tooltip-bar").attr("tooltipData",rt=>(0,dt.jJ)(_,E)?rt[3]:rt[0]).attr("x",0).attr("y",0).attr("height",(0,dt.Pb)(U(this._minValue))).attr("width",(0,dt.Pb)(this._bandwidth)).attr("fill","transparent").on("mouseover",rt=>this._hoveredTooltipEnumBar=rt.target),this.wrap.svg.select(`#${this.layerDirective.layerId}`).on("mouseleave",()=>this.triggerEnumTooltipTimeout())),S.length&&this.drawPoints(m,S),V.transition().duration(this.animation?this._tempDurationAnimation:0).attr("width",this.wrap.workGroundWidth).ease(H.easeLinear).on("start",()=>{m.select(`#${this._id}--labels-container`).attr("clip-path",`url(#${this._id}--clipPath-gradient-animation)`),m.select(`#${this._id}--points-container`).attr("clip-path",`url(#${this._id}--clipPath-gradient-animation)`)}).on("end",()=>{m.select(`#${this._id}--line`).attr("clip-path",`url(#${this.wrap.workgroundClipPathId})`),m.select(`#${this._id}--line-area`).attr("clip-path",`url(#${this.wrap.workgroundClipPathId})`),m.select(`#${this._id}--labels-container`).attr("clip-path","transparent"===this.wrap.borderColor?`url(#${this.wrap.workgroundClipPathOffsetId})`:`url(#${this.wrap.workgroundClipPathId})`),m.select(`#${this._id}--points-container`).attr("clip-path",`url(#${this.wrap.workgroundClipPathId})`)})}drawValues(m,C){m.select(`#${this._id}--labels-container`).remove(),m.append("g").attr("id",`${this._id}--labels-container`).attr("class","krui-chart-labels-container").attr("clip-path","transparent"===this.wrap.borderColor?`url(#${this.wrap.workgroundClipPathOffsetId})`:`url(#${this.wrap.workgroundClipPathId})`).selectAll(".krui-chart-label").data(C).enter().append("text").attr("class","krui-chart-label").attr("x",U=>U[0]).attr("y",U=>U[1]-15).text((U,E)=>(0,Ct.h)(this._data[Math.floor(E/2)][1],1)).style("fill",this.valuesColor).style("font-size",`${this.valuesFontSizePx}px`).style("font-family",this.valuesFontFamily).style("text-anchor","middle").style("alignment-baseline","middle")}drawPoints(m,C){m.select(`#${this._id}--points-container`).remove();const _=m.append("g").attr("id",`${this._id}--points-container`).attr("class","krui-chart-points-container").attr("clip-path",`url(#${this.wrap.workgroundClipPathId})`);if("auto"===this.breakPointType&&this.drawBreakPoint(C,_),"all"===this.dataPointType){const U=this._pointMapSettings.get(this.dataPointMarker);this.drawPointFromConfig(C.slice(0,-2).map(E=>[E[0],E[1]]),_,this.dataPointMarker,U.pointMarkers,U.pointVisible,U.pointColor,U.pointStrokeColor,U.pointSize,U.pointStrokeSize,U.pointLimit)}this.endPoint&&this.drawEndPoint(C[C.length-1],_);for(let[U,E]of this._pointMapSettings.entries())"breakPoint"===U&&"auto"===this.breakPointType||this.drawPointFromConfig(this._pointMap.get(U)??[],_,U,E.pointMarkers,E.pointVisible,E.pointColor,E.pointStrokeColor,E.pointSize,E.pointStrokeSize,E.pointLimit)}drawPointFromConfig(m,C,_,U,E,S,V,rt,nt,j){!E||m?.length>j||m.forEach((At,ct,Tt)=>{At[1]!=this._minValue&&this.drawSymbol(At,C,U,rt,S,V,nt,_)})}drawEndPoint([m,C,_,U],E){this.drawSymbol([m,C],E,["symbolCircle"],this.endPointSize,this.color,"none",0,"end"),this.drawSymbol([m,C],E,["symbolCircle"],this.endPointStrokeSize,"none",this.color,1,"end")}drawBreakPoint(m,C){if(!this.breakPoint||"none"===this.breakPointMarker)return;const _=[];m.forEach(([U,E],S,V)=>{(U==this._minValue||E==this._minValue)&&(V[S-1]&&V[S-1][1]!=this._minValue&&_.push([V[S-1][0],V[S-1][1]]),V[S+1]&&V[S+1][1]!=this._minValue&&_.push([V[S+1][0],V[S+1][1]]))}),!(_.length>this.breakPointLimit)&&_.forEach(U=>{this.drawSymbol(U,C,[this.breakPointMarker],this.breakPointSize,this.breakPointColor,this.breakPointStrokeColor,this.breakPointStrokeSize,"break")})}drawSymbol(m,C,_,U,E,S,V,rt){_.forEach(nt=>{switch(nt){case"symbolX":C.append("rect").attr("x",m[0]-2*U).attr("y",m[1]-2*U).attr("width",4*U).attr("height",4*U).attr("class",`krui-chart-${rt}-point-bg`).attr("fill",this.wrap.bgColor),C.append("path").attr("d",H.symbol().type(yt).size(U)).attr("class",`krui-chart-${rt}-point`).attr("transform",`translate(${m[0]}, ${m[1]})`).attr("stroke",S).attr("opacity",-.5).transition().duration(this.animation?this._tempDurationAnimation:0).attr("opacity",1);break;case"symbolXTransparentBg":C.append("path").attr("d",H.symbol().type(yt).size(U)).attr("class",`krui-chart-${rt}-point`).attr("transform",`translate(${m[0]}, ${m[1]})`).attr("stroke",S).attr("stroke-width",V);break;case"symbolArrow":C.append("path").attr("d",()=>m[1]<3*U?"M -5 -1 C -3.8 0.2 -2.4 1.1 -0.7 1.4 C 1.5 1.6 3.7 0.7 5 -1 L 4 -1 C 3 0 2 1 0 1 C -2 1 -3 0 -4 -1 L -5 -1 M 5.5 2.5 V -1.5 L 1.5 -1.5 L 2 -1 L 5 -1 V 2 L 5.5 2.5 M 0 1":"M -5 1 C -3.8 -0.2 -2.4 -1.1 -0.7 -1.4 C 1.5 -1.6 3.7 -0.7 5 1 L 4 1 C 3 0 2 -1 0 -1 C -2 -1 -3 0 -4 1 L -5 1 M 5.5 -2.5 V 1.5 L 1.5 1.5 L 2 1 L 5 1 V -2 L 5.5 -2.5 M 0 -1").attr("class",`krui-chart-${rt}-point`).attr("transform",()=>m[1]<3*U?`translate(${m[0]},${m[1]+2*U})`:`translate(${m[0]},${m[1]-2*U})`).attr("stroke",this.wrap.bgColor).attr("stroke-width",V+3),C.append("path").attr("d",()=>m[1]<3*U?"M -5 -1 C -3.8 0.2 -2.4 1.1 -0.7 1.4 C 1.5 1.6 3.7 0.7 5 -1 L 4 -1 C 3 0 2 1 0 1 C -2 1 -3 0 -4 -1 L -5 -1 M 5.5 2.5 V -1.5 L 1.5 -1.5 L 2 -1 L 5 -1 V 2 L 5.5 2.5 M 0 1":"M -5 1 C -3.8 -0.2 -2.4 -1.1 -0.7 -1.4 C 1.5 -1.6 3.7 -0.7 5 1 L 4 1 C 3 0 2 -1 0 -1 C -2 -1 -3 0 -4 1 L -5 1 M 5.5 -2.5 V 1.5 L 1.5 1.5 L 2 1 L 5 1 V -2 L 5.5 -2.5 M 0 -1").attr("class",`krui-chart-${rt}-point`).attr("transform",()=>m[1]<3*U?`translate(${m[0]},${m[1]+2*U})`:`translate(${m[0]},${m[1]-2*U})`).attr("stroke",S).attr("stroke-width",V);break;default:C.append("path").attr("class",`krui-chart-${rt}-point`).attr("d",H.symbol().type(H[nt]).size(10*U)).attr("transform",`translate(${m[0]},${m[1]})`).attr("fill",E).attr("stroke",S).attr("stroke-width",V)}})}getPoints(m,C,_=[],U=!1){const[E,S]=_;return this._data.slice(E,S).map(([V,rt,nt,j])=>U?null!==j&&null!==rt||!this.breakPoint?[[(0,dt.Pb)(m(j))+(this._bandwidth??0)/2,(0,dt.Pb)(C(rt)),nt,j],[(0,dt.Pb)(m(j))+(this._bandwidth??0)/2,(0,dt.Pb)(C(rt)),nt,j]]:[[(0,dt.Pb)(m(j))+(this._bandwidth??0)/2,this._minValue,nt,j]]:null!==V&&null!==rt||!this.breakPoint?[[(0,dt.Pb)(m(V)),(0,dt.Pb)(C(rt)),nt,j],[(0,dt.Pb)(m(V)),(0,dt.Pb)(C(rt)),nt,j]]:[[(0,dt.Pb)(m(V)),this._minValue,nt,j]]).flat()}getTypesPoints(m,C){this._pointMap.clear(),this._pointData.forEach(([_,U,E,S],V)=>{if(E){if(null===U)this._pointData[V][1]=(0,dt.Pb)(C(this._minValue));else{const rt=this._pointMap.get(E)??[];rt.push([(0,dt.Pb)(m(_)),(0,dt.Pb)(C(U))]),this._pointMap.set(E,rt)}"breakPoint"===E&&"config"===this.breakPointType&&(this._data[V][1]=null)}})}getCoefficient(m,C="1"){const _=m.toString().split(".")[0].length;return+`${C}.${"".padStart(_-2,"0")}2`}interpolateData(m){if(this._initialData?.length<2e3)return;let C=1;if(C=m<2?16:m<4?8:m<8?4:m<16?2:1,1==C)return void(this._data=this._initialData.slice(0).map(U=>[U[0],U[1],U[2],U[3]]));const _=[];this._initialData.forEach((U,E)=>{E%C==1&&_.push([U[0],U[1],U[2],U[3]])}),this._data=_}static \u0275fac=function(C){return new(C||Ot)(ft.rXU(Bt.lm,1),ft.rXU(Bt.oh,1),ft.rXU(Bt.dk,1))};static \u0275dir=ft.FsC({type:Ot,selectors:[["","kruiChartLine",""]],inputs:{showValues:"showValues",valuesColor:"valuesColor",valuesFontSizePx:"valuesFontSizePx",valuesFontFamily:"valuesFontFamily",captions:"captions",engUnits:"engUnits",animation:"animation",durationAnimation:"durationAnimation",durationToggleAnimation:"durationToggleAnimation",reRangeThenLegendClick:"reRangeThenLegendClick",reRangeThenDataChange:"reRangeThenDataChange",workgroundPadding:"workgroundPadding",useDefaultCheck:"useDefaultCheck",withMinMaxCoef:"withMinMaxCoef",interpolateEnable:"interpolateEnable",extendStep:"extendStep",dataPointType:"dataPointType",dataPointColor:"dataPointColor",dataPointStrokeColor:"dataPointStrokeColor",dataPointMarker:"dataPointMarker",breakPointType:"breakPointType",breakPoint:"breakPoint",breakPointColor:"breakPointColor",breakPointStrokeColor:"breakPointStrokeColor",breakPointSize:"breakPointSize",breakPointStrokeSize:"breakPointStrokeSize",breakPointLimit:"breakPointLimit",breakPointMarker:"breakPointMarker",endPoint:"endPoint",endPointSize:"endPointSize",endPointStrokeSize:"endPointStrokeSize",lineType:"lineType",lineDynamics:"lineDynamics",lineOpacity:"lineOpacity",lineWidth:"lineWidth",setPointMapSettings:"setPointMapSettings",color:"color",colors:"colors",inputData:[0,"data","inputData"]},exportAs:["kruiChartLine"],standalone:!1,features:[ft.Jv_([{provide:gt.NX,useExisting:Ot},{provide:gt.M,useExisting:Ot},{provide:gt.ej,useExisting:Ot},{provide:gt.Em,useExisting:Ot},{provide:gt.Dh,useExisting:Ot},{provide:gt.MD,useExisting:Ot},{provide:gt.N5,useExisting:Ot}]),ft.OA$]})}return Ot})()},2336:(IA,Yt,$)=>{"use strict";$.d(Yt,{f:()=>ft});var H=$(6712),Ct=$(1648),yt=$(4460),Mt=$(3249),L=$(6183),xt=$(7592),dt=$(1779),Bt=$(9726),gt=$(4438);let ft=(()=>{class st{paletteProvider;wrap;layerDirective;stackedService;_defaultColor;showValues=!1;valuesColor=Ct.lM;valuesFontSizePx=12;valuesFontFamily="Tahoma";captions=[""];engUnits=[""];durationAnimation=2e3;durationToggleAnimation=500;animation=!0;state=new Map;opacityState=new Map;reRangeThenLegendClick=!0;reRangeThenDataChange=!1;workgroundPadding={top:5,right:10,left:10,bottom:0};useDefaultCheck=!0;withMinMaxCoef=!1;_minValue=0;_maxValueCurrent=0;_maxValueAbsolute=0;_target;_context;_id;_zoomK=1;_hoveredTooltipEnumBar=null;_enumTooltipTimeout;_bandwidth;barType="solidColor";barOpacity=1;barRadius=0;barsOpacity=[];barBorder=!1;barBorderColors=[];fixedBarWidth=!1;showEnumValues=!0;valuePosition="center";animationType="growth";tooltipHoverEffect=!0;tooltipHoverColor=Ct.HT;enablePreviousData=!0;startInNull=!0;_tempDurationAnimation=0;_data;_initialData;_stackedData;_previousData;_maxDataLength=0;_groupSize=0;constructor(o,m,C,_){this.paletteProvider=o,this.wrap=m,this.layerDirective=C,this.stackedService=_,this._defaultColor=this.paletteProvider.nextColor()}_color;get color(){return this._color}set color(o){this._color=o||this._defaultColor}_colors;get colors(){return this._colors}set colors(o){if(o)this._colors=o;else for(let m=0;m<this._groupSize;m++)this._colors.push(this.paletteProvider.nextColor())}set inputData(o){if(!o?.length)return this._data=[],void(this._initialData=[]);switch(Object.prototype.toString.call(o[0]?.[0]?.[0])){case"[object Date]":o=o.map(m=>m.map(C=>[C[0].getTime(),this.stackedService.checkValueOrder(C[1]),C[2]??null]).sort((C,_)=>C[0]-_[0]));break;case"[object String]":o=o.map(m=>m.map(C=>[new Date(C[0]).getTime(),this.stackedService.checkValueOrder(C[1]),C[2]??null]).sort((C,_)=>C[0]-_[0]));break;case"[object Number]":o.map(m=>m.map(C=>[C[0],this.stackedService.checkValueOrder(C[1]),C[2]??null]).sort((C,_)=>C[0]-_[0]))}this.enablePreviousData&&this._stackedData?.length&&(this._previousData=[...this._stackedData]),this._data=o,this._initialData=o,this._groupSize=this._data?.length??0,this._stackedData=this.stackedService.getStackDataFromArray(this._data),this._maxDataLength=this.getMaxDataLength(),this._getMin(),this._getMaxAbsolute()}set inputStackData(o){if(!o?.length)return this._data=[],void(this._initialData=[]);switch(Object.prototype.toString.call(o[0]?.[0])){case"[object Date]":(o=o.map(C=>[C[0].getTime(),this.stackedService.checkValueOrderStack(C[1]),C[2]??null])).sort();break;case"[object String]":(o=o.map(C=>[new Date(C[0]).getTime(),this.stackedService.checkValueOrderStack(C[1]),C[2]??null])).sort();break;case"[object Number]":(o=o.map(C=>[C[0],this.stackedService.checkValueOrderStack(C[1]),C[2]??null])).sort((C,_)=>C[0]-_[0])}this.enablePreviousData&&this._stackedData?.length&&(this._previousData=[...this._stackedData]);const m=this.stackedService.getArrayDataFromStack(o);this._data=m,this._initialData=m,this._groupSize=this._data?.length??0,this._stackedData=o,this._maxDataLength=this.getMaxDataLength(),this._getMin(),this._getMaxAbsolute()}_stackWidthPercent=80;get stackWidthPercent(){return this._stackWidthPercent}set stackWidthPercent(o){o&&(this._stackWidthPercent=o,o<0?this._stackWidthPercent=0:o>100&&(this._stackWidthPercent=100))}_barWidthPercent=80;get barWidthPercent(){return this._barWidthPercent}set barWidthPercent(o){o&&(this._barWidthPercent=o,o<0?this._barWidthPercent=0:o>100&&(this._barWidthPercent=100))}ngOnInit(){if(this._color||(this.color=null),this._colors||(this._colors=[]),this._colors?.length<this._groupSize){let o=this._colors?.length;for(;o<this._groupSize&&!(o>20);)this._colors.push(this.paletteProvider.nextColor()),o++}if(this.valuesColor||(this.valuesColor=this.color),this.barBorderColors||(this.barBorderColors=[]),this.barBorderColors.length<this._groupSize){let o=this.barBorderColors.length;for(;this.barBorderColors?.length<this._groupSize&&!(o>20);)this.barBorderColors.push(this._colors[o]),o++}this.useDefaultCheck&&(Object.entries((0,yt.xy)())?.forEach(([o,m])=>{null==this[o]&&(this[o]=m)}),Object.entries((0,yt.TE)())?.forEach(([o,m])=>{null==this[o]&&(this[o]=m)}))}ngOnChanges({inputData:o,inputStackData:m}){!o?.isFirstChange()&&!m?.isFirstChange()&&this.layerDirective.reDraw(null,!1,!0),this._tempDurationAnimation=this.durationAnimation}getColor(o){return this.colors?.[o]??this.color}getDomain(o){return o&&"enum"===o?this._data?.map(m=>m.map(C=>C[2])).flat():this._data?.map(m=>m.map(C=>(0,L.Pb)(C[0]))).flat()}getRange(){return[this.startInNull?0:this._minValue,this.reRangeThenLegendClick||this.reRangeThenDataChange?this._maxValueCurrent:this._maxValueAbsolute]}_getMin(){let o=Number.POSITIVE_INFINITY;this._data?.forEach(m=>{m?.forEach(([C,_,U])=>{null==_||(null!=_[0]&&null!=_[1]?o=Math.min(o,..._.flat(1)):null==_[0]&&null!=_[1]?o=Math.min(o,_[1]):null!=_[0]&&null==_[1]&&(o=Math.min(o,_[0])))})}),this._minValue=0===o?.001:this.withMinMaxCoef?o-.001*o:o}_getMaxAbsolute(){let o=Number.NEGATIVE_INFINITY;this._data?.forEach(m=>{m?.forEach(([C,_,U])=>{o=null==_?Math.max(o,this._minValue):null!=_[0]&&null!=_[1]?Math.max(o,..._.flat(1)):null==_[0]&&null!=_[1]?Math.max(o,_[1]):null!=_[0]&&null==_[1]?Math.max(o,_[0]):Math.max(o,this._minValue)})}),this.withMinMaxCoef?(this._maxValueAbsolute=o+.001*o,this._maxValueCurrent=o+.001*o):(this._maxValueAbsolute=o,this._maxValueCurrent=o)}_getMaxCurrent(){let o=Number.NEGATIVE_INFINITY;this._data?.forEach((m,C)=>{this.state.get(C)&&m?.forEach(([_,U,E])=>{o=null==U?Math.max(o,this._minValue):null!=U[0]&&null!=U[1]?Math.max(o,...U.flat(1)):null==U[0]&&null!=U[1]?Math.max(o,U[1]):null!=U[0]&&null==U[1]?Math.max(o,U[0]):Math.max(o,this._minValue)})}),this._maxValueCurrent=this.withMinMaxCoef?o+.001*o:o}getWorkgroundPadding(o){if(this._initialData?.length){const m=this._data?.[0]?.length,C=this._data?.length,_="enum"===o?0:this.wrap.workGroundWidth/(m??10)/C;return{top:this.workgroundPadding.top,right:this.workgroundPadding.right+_,bottom:this.workgroundPadding.bottom,left:this.workgroundPadding.left+_}}return this.workgroundPadding}getLegendData(){return this._data.map((o,m)=>({title:(0,Mt.n)(this.captions[m]),color:this.getColor(m),inactive:this.state.get(m)??!1,type:"stack",disabled:!this._initialData?.length,hovered:this.opacityState.get(m)??!1}))}toggleState(o,m,C=this.durationToggleAnimation){this.state.set(o,m),this._hoveredTooltipEnumBar=null;const S=this.getBarsConfigs(this._context.primaryAxis.type,this._context.primaryAxis.d3Scale,this._context.secondaryAxis.d3Scale);m?(this._target.selectAll(`#krui-chart-data-bar-${o}`).attr("class","krui-chart-data-bar--hidden").transition().duration(C).attr("width",0),this._target.selectAll(`#krui-chart-stack-text-${o}`).attr("class","krui-chart-stack-text--hidden").attr("display","none")):(this._target.selectAll(`#krui-chart-data-bar-${o}`).attr("class","krui-chart-data-bar"),this._target.selectAll(`#krui-chart-stack-text-${o}`).attr("class","krui-chart-stack-text").attr("display","visible")),this.scaleBars(S,!0,!1,C)}toggleOpacity(o,m){this.opacityState.set(o,m)}renderOpacity(o){if(this._target)for(let m=0;m<this._groupSize;m++)!this.opacityState.get(m)&&!this.state.get(m)&&(this._target.selectAll(`#krui-chart-data-bar-${m}`).attr("class",o?"krui-chart-data-bar krui-chart-data-bar--opacity":"krui-chart-data-bar"),this._target.selectAll(`#krui-chart-stack-text-${m}`).attr("class",o?"krui-chart-stack-text krui-chart-stack-text--opacity":"krui-chart-stack-text"))}render(o,m,C){this._initialData?.length&&(this._context=m,this._target=o,this._id=C,this.renderBars(o,m,m.primaryAxis.d3Scale,m.secondaryAxis.d3Scale))}reScale(o,m,C,_,U,E){if(!this._initialData?.length)return;C.k!==this._zoomK&&(this._zoomK=C.k);let S=m.primaryAxis.d3Scale,V=m.secondaryAxis.d3Scale;("time"===m.primaryAxis.type||"number"===m.primaryAxis.type)&&(_&&(S=C.rescaleX(S)),U&&(V=C.rescaleY(V))),E?this.renderBars(o,m,S,V):this.reScaleBars(o,m,S,V)}getTooltipData(o,m,C){const _=[{valueTitle:"",color:"",hidden:!0,index:0,title:"",value:null,engUnits:"",type:"bar"}];if(!this._initialData?.length)return _;const U=this._stackedData,S=(0,H.bisector(rt=>rt[0]).center)(U,o);if(null==S)return _;if("dataPoint"!==m){const rt=U[S]?.[0],nt=U[S+1]?.[0];let j=0;if(j=nt?(o-nt)/(nt-rt):o/rt,j>1.2||j<-2.5||isNaN(j))return _}const V=[];return U[S]?.[1]?.forEach((rt,nt)=>{V.push({value:rt,valueTitle:U[S]?.[0],title:(0,Mt.n)(this.captions[nt]),color:this.getColor(nt),hidden:this.state.get(nt)??!1,index:S,engUnits:this.engUnits?.[nt]??"",type:"bar"})}),V.reverse(),V}getTooltipTitleEnum(){return this.state.get(0)?null:this._hoveredTooltipEnumBar?.getAttribute("tooltipData")??null}getTooltipDataEnum(o){const m=[{valueTitle:"",color:"",hidden:!0,index:0,title:"",value:null,engUnits:"",type:"bar"}];if(!this._initialData?.length)return m;const C=this._stackedData,_=this._stackedData.findIndex(E=>E[2]===o);if(null==_||-1===_)return m;const U=[];return C[_]?.[1]?.forEach((E,S)=>{U.push({value:E,valueTitle:C[_]?.[2],title:(0,Mt.n)(this.captions[S]),color:this.getColor(S),hidden:this.state.get(S)??!1,index:_,engUnits:this.engUnits?.[S]??"",type:"bar"})}),U.reverse(),U}triggerEnumTooltipTimeout(){this._enumTooltipTimeout&&clearTimeout(this._enumTooltipTimeout),this._enumTooltipTimeout=setTimeout(()=>{this._hoveredTooltipEnumBar=null,this._enumTooltipTimeout=null})}getBandWidth(){return this._bandwidth??0}renderBars(o,m,C,_){if(!this._initialData?.length)return;o.selectAll(".krui-chart-stack").remove();const U=m.primaryAxis.type,E=this.getBarsConfigs(U,C,_);if("gradient"===this.barType){const j=this.colors.length,At=j>1?this.colors.map((ct,Tt)=>({color:ct,offset:100/(j-1)*Tt+"%",stopOpacity:1})):[{offset:"0%",color:this.colors[0],stopOpacity:1},{offset:"100%",color:this.colors[0],stopOpacity:1}];o.append("linearGradient").attr("id",`${this._id}--area-filling`).attr("x1",0).attr("x2",0).attr("y1",0).attr("y2","100%").selectAll("stop").data(At).enter().append("stop").attr("offset",ct=>ct.offset).attr("stop-color",ct=>ct.color).attr("stop-opacity",ct=>ct.stopOpacity)}const S=o.attr("clip-path",`url(#${this.wrap.workgroundClipPathId}`).selectAll(".krui-chart-stack").data(this._stackedData).enter().append("g").attr("class","krui-chart-stack").attr("tooltipData",j=>(0,L.jJ)(C,U)?j[2]:j[0]).attr("transform",j=>`translate(${(0,L.jJ)(C,U)?C(j[2]):C(j[0])-(this.fixedBarWidth?E.stackWidth:E.stackWidth*this._zoomK)/2}, 0)`).on("mouseover",j=>this._hoveredTooltipEnumBar=j.target.parentElement),V=S.selectAll("rect").data(j=>[...j[1]]).enter();let rt=-1,nt=-1;if(V.append("rect").attr("class","krui-chart-data-bar").attr("id",(j,At)=>`krui-chart-data-bar-${At}`).attr("x",(j,At)=>{const ct=(E.barWidthCalculated+2*E.barPadding)*At+E.barPadding+E.stackPadding;return(0,L.jJ)(C,U)||this.fixedBarWidth?ct:ct*this._zoomK}).attr("y",(j,At)=>(0===At&&rt++,rt===E.activeCount&&(rt=0),this._previousData?.length&&this._previousData[rt]?.[1]?(0,L.Pb)(_(this._previousData[rt][1][At][1])):_.range()[0])).attr("height",(j,At)=>{if(0===At&&nt++,nt===E.activeCount&&(nt=0),this._previousData?.length&&this._previousData[nt]?.[1]){const ct=(0,L.Pb)(_(this._previousData[nt][1][At][0]))-(0,L.Pb)(_(this._previousData[nt][1][At][1]));return ct>0?ct:(0,L.Pb)(_(this._previousData[nt][1][At][0]))}return 0}).attr("width",()=>(0,L.jJ)(C,U)||this.fixedBarWidth?E.barWidthCalculated:E.barWidthCalculated*this._zoomK).attr("rx",`${this.barRadius}px`).attr("ry",`${this.barRadius}px`).attr("fill",(j,At)=>"solidColor"===this.barType?this.colors[At]:`url(#${this._id}--area-filling)`).attr("stroke",(j,At)=>this.barBorder?this.barBorderColors[At]:"none").attr("opacity",(j,At)=>j?this.barsOpacity[At]?this.barsOpacity[At]:this.barOpacity:0),"enum"===U||this.tooltipHoverEffect){const j=S.append("rect").attr("class","krui-chart-tooltip-bar").attr("id",(At,ct)=>`krui-chart-tooltip-bar-${ct}`).attr("x",0).attr("y",0).attr("height",_.range()[0]).attr("width",E.stackWidth*this._zoomK).attr("opacity","0.1").attr("fill","transparent");this.tooltipHoverEffect&&j.on("mouseenter",At=>{o.select(`#${At.target.id}`).attr("fill",this.tooltipHoverColor)}).on("mouseleave",At=>{o.select(`#${At.target.id}`).attr("fill","transparent")}),this.wrap.svg.select(`#${this.layerDirective.layerId}`).on("mouseleave",()=>this.triggerEnumTooltipTimeout())}if(V.selectAll("rect.krui-chart-data-bar").transition().duration("none"===this.animationType?0:this._tempDurationAnimation).attr("y",j=>(0,L.Pb)(_(j[1]))).attr("height",j=>{if(!j)return 0;const At=(0,L.Pb)(_(j[0]))-(0,L.Pb)(_(j[1]));return At>0?At:(0,L.Pb)(_(j[1]))}),this.showValues){let j=-1;V.append("text").attr("class","krui-chart-stack-text").attr("id",(At,ct)=>`krui-chart-stack-text-${ct}`).attr("x",(At,ct)=>{const Tt=(E.barWidthCalculated+2*E.barPadding)*ct+E.barWidthCalculated/2+E.barPadding+E.stackPadding;return(0,L.jJ)(C,U)||this.fixedBarWidth?Tt:Tt*this._zoomK}).attr("y",(At,ct)=>(0===ct&&j++,j===E.activeCount&&(j=0),this._previousData?.length&&this._previousData[j]?.[1]?(0,Bt.em)(this.valuePosition,this.valuesFontSizePx,_,this._previousData[j][1][ct]):_.range()[0])).text(At=>isNaN(At[0])||isNaN(At[1])||null===At?null:this.showEnumValues&&(0,L.jJ)(C,U)?At:(0,Mt.h)(At[1],2)).attr("fill",this.valuesColor).style("font-size",`${this.valuesFontSizePx}px`).style("font-family",this.valuesFontFamily).attr("text-anchor","middle").style("alignment-baseline","middle").transition().duration("none"===this.animationType?0:this._tempDurationAnimation).attr("y",At=>(0,Bt.em)(this.valuePosition,this.valuesFontSizePx,_,At))}this._data?.forEach((j,At)=>{this.state.get(At)&&this.toggleState(At,!0,0)})}reScaleBars(o,m,C,_){this._context=m,this._target=o;const U=m.primaryAxis.type,E=this.getBarsConfigs(U,C,_);o.selectAll(".krui-chart-stack").attr("transform",S=>`translate(${(0,L.jJ)(C,U)?C(S[2]):C(S[0])-(this.fixedBarWidth?E.stackWidth:E.stackWidth*this._zoomK)/2}, 0)`),this.scaleBars(E,!0,!0,0)}scaleBars(o,m,C,_){m&&this._target.selectAll(".krui-chart-stack").selectAll(".krui-chart-data-bar").transition().duration(_).attr("x",(U,E)=>{const S=(o.barWidthCalculated+2*o.barPadding)*E+o.barPadding+o.stackPadding;return"enum"===o.type||this.fixedBarWidth?S:S*this._zoomK}).attr("width",()=>"enum"===o.type||this.fixedBarWidth?o.barWidthCalculated:o.barWidthCalculated*this._zoomK),C&&this._target.selectAll(".krui-chart-data-bar").transition().duration(_).attr("y",U=>(0,L.Pb)(o.secondaryAxis(U[1]))).attr("height",U=>{if(!U)return 0;const E=(0,L.Pb)(o.secondaryAxis(U[0]))-(0,L.Pb)(o.secondaryAxis(U[1]));return E>0?E:(0,L.Pb)(o.secondaryAxis(U[1]))}),("enum"===o.type||this.tooltipHoverEffect)&&(this._target.selectAll(".krui-chart-tooltip-bar").attr("height",o.secondaryAxis.range()[0]).attr("width",()=>(0,L.jJ)(o.primaryAxis,o.type)||this.fixedBarWidth?o.stackWidth:o.stackWidth*this._zoomK),this.triggerEnumTooltipTimeout()),this.showValues&&this._target.selectAll(".krui-chart-stack").selectAll(".krui-chart-stack-text").transition().duration(_).attr("x",(U,E)=>{const S=(o.barWidthCalculated+2*o.barPadding)*E+o.barWidthCalculated/2+o.barPadding+o.stackPadding;return"enum"===o.type||this.fixedBarWidth?S:S*this._zoomK}).attr("y",U=>(0,Bt.em)(this.valuePosition,this.valuesFontSizePx,o.secondaryAxis,U))}getBarsConfigs(o,m,C){const _=this.getActiveCount(),U=this.getGroupSize();let E,S,V,rt,nt,j;return"enum"===o?(E=m.bandwidth(),S=E*this._stackWidthPercent/100,V=(E-S)/2,rt=S/U,nt=rt*this._barWidthPercent/100,j=(rt-nt)/2):(E=this._context.canvasWidth/this._maxDataLength,S=E*this._stackWidthPercent/100,V=(E-S)/2,rt=S/U,nt=rt*this._barWidthPercent/100,j=(rt-nt)/2),this._bandwidth=E,{type:o,activeCount:_,groupSize:U,stackWidth:E,stackWidthCalculated:S,stackPadding:V,barWidth:rt,barWidthCalculated:nt,barPadding:j,primaryAxis:m,secondaryAxis:C}}getMaxDataLength(){return Math.max(...this._data?.map(o=>o.length))}getGroupSize(){let o=0;return this._data.forEach((m,C)=>{this.state.get(C)||o++}),o}getActiveCount(){return this._stackedData?.length}static \u0275fac=function(m){return new(m||st)(gt.rXU(xt.lm,1),gt.rXU(xt.oh,1),gt.rXU(xt.dk,1),gt.rXU(xt.zI))};static \u0275dir=gt.FsC({type:st,selectors:[["","kruiChartRangeBar",""]],inputs:{showValues:"showValues",valuesColor:"valuesColor",valuesFontSizePx:"valuesFontSizePx",valuesFontFamily:"valuesFontFamily",captions:"captions",engUnits:"engUnits",durationAnimation:"durationAnimation",durationToggleAnimation:"durationToggleAnimation",animation:"animation",reRangeThenLegendClick:"reRangeThenLegendClick",reRangeThenDataChange:"reRangeThenDataChange",workgroundPadding:"workgroundPadding",useDefaultCheck:"useDefaultCheck",withMinMaxCoef:"withMinMaxCoef",barType:"barType",barOpacity:"barOpacity",barRadius:"barRadius",barsOpacity:"barsOpacity",barBorder:"barBorder",barBorderColors:"barBorderColors",fixedBarWidth:"fixedBarWidth",showEnumValues:"showEnumValues",valuePosition:"valuePosition",animationType:"animationType",tooltipHoverEffect:"tooltipHoverEffect",tooltipHoverColor:"tooltipHoverColor",enablePreviousData:"enablePreviousData",startInNull:"startInNull",color:"color",colors:"colors",inputData:[0,"data","inputData"],inputStackData:[0,"dataStack","inputStackData"],stackWidthPercent:"stackWidthPercent",barWidthPercent:"barWidthPercent"},exportAs:["kruiChartRangeBar"],standalone:!1,features:[gt.Jv_([{provide:dt.NX,useExisting:st},{provide:dt.M,useExisting:st},{provide:dt.ej,useExisting:st},{provide:dt.Em,useExisting:st},{provide:dt.Dh,useExisting:st},{provide:dt.MD,useExisting:st},{provide:dt.N5,useExisting:st}]),gt.OA$]})}return st})()},6521:(IA,Yt,$)=>{"use strict";$.d(Yt,{Y:()=>ft});var H=$(6712),Ct=$(1648),yt=$(4460),Mt=$(3249),L=$(6183),xt=$(7592),dt=$(1779),Bt=$(9726),gt=$(4438);let ft=(()=>{class st{paletteProvider;wrap;layerDirective;stackedService;_defaultColor;showValues=!1;valuesColor=Ct.lM;valuesFontSizePx=12;valuesFontFamily="Tahoma";captions=[""];engUnits=[""];durationAnimation=1e3;durationToggleAnimation=500;animation=!0;state=new Map;opacityState=new Map;reRangeThenLegendClick=!0;reRangeThenDataChange=!1;workgroundPadding={top:5,right:10,left:10,bottom:0};useDefaultCheck=!0;withMinMaxCoef=!1;_minValue=0;_maxValueCurrent=0;_maxValueAbsolute=0;_target;_context;_id;_zoomK=1;_hoveredTooltipEnumBar=null;_enumTooltipTimeout;_bandwidth;barType="solidColor";barOpacity=1;barsOpacity=[];barRadius=0;barBorder=!1;barBorderColors=[];fixedBarWidth=!1;showEnumValues=!1;showStackValues=!1;valuePosition="center";animationType="growth";tooltipHoverEffect=!0;tooltipHoverColor=Ct.HT;enablePreviousData=!0;startInNull=!0;stackType="stackBar";_tempDurationAnimation=0;_data;_initialData;_stackedData;_previousStackedData;_maxDataLength=0;_groupSize=0;_dataValueMap=new Map;constructor(o,m,C,_){this.paletteProvider=o,this.wrap=m,this.layerDirective=C,this.stackedService=_,this._defaultColor=this.paletteProvider.nextColor()}_color;get color(){return this._color}set color(o){this._color=o||this._defaultColor}_colors;get colors(){return this._colors}set colors(o){if(o)this._colors=o;else for(let m=0;m<this._groupSize;m++)this._colors.push(this.paletteProvider.nextColor())}set inputData(o){if(!o?.length)return this._data=[],void(this._initialData=[]);switch(Object.prototype.toString.call(o[0]?.[0]?.[0])){case"[object Date]":o=o.map(m=>m.map(C=>[C[0].getTime(),C[1],C[2]??null]).sort((C,_)=>C[0]-_[0]));break;case"[object String]":o=o.map(m=>m.map(C=>[new Date(C[0]).getTime(),C[1],C[2]??null]).sort((C,_)=>C[0]-_[0]));break;case"[object Number]":o.map(m=>m.sort((C,_)=>C[0]-_[0]))}this.enablePreviousData&&this._stackedData?.length&&(this._previousStackedData=[...this._stackedData]),this._data=o,this._initialData=o,this._groupSize=this._data?.length??0,this._maxDataLength=this.getMaxDataLength(),this._stackedData=this.stackedService.getStackDataFromArray(this._data),this._getMin(),this._getMaxAbsolute()}set inputStackData(o){if(!o?.length)return this._data=[],void(this._initialData=[]);switch(Object.prototype.toString.call(o[0]?.[0])){case"[object Date]":(o=o.map(C=>[C[0].getTime(),C[1],C[2]??null])).sort();break;case"[object String]":(o=o.map(C=>[new Date(C[0]).getTime(),C[1],C[2]??null])).sort();break;case"[object Number]":o.sort((C,_)=>C[0]-_[0])}this.enablePreviousData&&this._stackedData?.length&&(this._previousStackedData=[...this._stackedData]);const m=this.stackedService.getArrayDataFromStack(o);this._data=m,this._initialData=m,this._groupSize=this._data?.length??0,this._stackedData=o,this._maxDataLength=this.getMaxDataLength(),this._getMin(),this._getMaxAbsolute()}_barWidthPercent=80;get barWidthPercent(){return this._barWidthPercent}set barWidthPercent(o){o&&(this._barWidthPercent=o,o<0?this._barWidthPercent=0:o>100&&(this._barWidthPercent=100))}ngOnInit(){if(this._color||(this.color=null),this._colors||(this._colors=[]),this._colors?.length<this._groupSize){let o=this._colors?.length;for(;o<this._groupSize&&!(o>20);)this._colors.push(this.paletteProvider.nextColor()),o++}if(this.valuesColor||(this.valuesColor=this.color),this.barBorderColors||(this.barBorderColors=[]),this.barBorderColors.length<this._groupSize){let o=this.barBorderColors.length;for(;this.barBorderColors?.length<this._groupSize&&!(o>20);)this.barBorderColors.push(this._colors[o]),o++}this.useDefaultCheck&&(Object.entries((0,yt.xy)())?.forEach(([o,m])=>{null==this[o]&&(this[o]=m)}),Object.entries((0,yt.Ju)())?.forEach(([o,m])=>{null==this[o]&&(this[o]=m)}))}ngOnChanges({inputData:o,inputStackData:m}){!o?.isFirstChange()&&!m?.isFirstChange()&&this.layerDirective.reDraw(null,!1,!0),this._tempDurationAnimation=this.durationAnimation}getColor(o){return this.colors?.[o]??this.color}getDomain(o){return o&&"enum"===o?this._data?.map(m=>m.map(C=>C[2])).flat():this._data?.map(m=>m.map(C=>(0,L.Pb)(C[0]))).flat()}getRange(){return[this.startInNull?0:this._minValue,this.reRangeThenLegendClick||this.reRangeThenDataChange?this._maxValueCurrent:this._maxValueAbsolute]}_getMin(){let o=Number.POSITIVE_INFINITY;this._data?.forEach(m=>m.forEach(([C,_])=>{null!=_&&(o=Math.min(o,_))})),this._minValue=0===o?.001:this.withMinMaxCoef?o-.001*o:o}_getMaxAbsolute(){let o=Number.NEGATIVE_INFINITY;this._stackedData?.map(([,m])=>{o=null!=m?Math.max(o,m.reduce((C,_,U)=>C+_,0)):Math.max(o,this._minValue)}),this.withMinMaxCoef?(this._maxValueAbsolute=o+.001*o,this._maxValueCurrent=o+.001*o):(this._maxValueAbsolute=o,this._maxValueCurrent=o)}_getMaxCurrent(){let o=Number.NEGATIVE_INFINITY;this._stackedData?.forEach(m=>m.forEach(([,C])=>{o=null!=C?Math.max(o,C.reduce((_,U,E)=>this.state.get(E)?_:_+U,0)):Math.max(o,this._minValue)})),this._maxValueCurrent=this.withMinMaxCoef?o+.001*o:o}getWorkgroundPadding(o){if(this._initialData?.length){const m=this._data?.[0]?.length,C=this._data?.length,_="enum"===o?0:this.wrap.workGroundWidth/(m??10)/C;return{top:this.workgroundPadding.top,right:this.workgroundPadding.right+_,bottom:this.workgroundPadding.bottom,left:this.workgroundPadding.left+_}}return this.workgroundPadding}getLegendData(){return this._data.map((o,m)=>({title:(0,Mt.n)(this.captions[m]),color:this.getColor(m),inactive:this.state.get(m)??!1,type:"stack",disabled:!this._initialData?.length,hovered:this.opacityState.get(m)??!1}))}toggleState(o,m,C=this.durationToggleAnimation){this.state.set(o,m),this._hoveredTooltipEnumBar=null,m?(this._target.selectAll(`#krui-chart-data-bar-${o}`).attr("class","krui-chart-data-bar--hidden").transition().duration(C).attr("width",0),this._target.selectAll(`#krui-chart-stack-text-${o}`).attr("class","krui-chart-stack-text--hidden").attr("display","none")):(this._target.selectAll(`#krui-chart-data-bar-${o}`).attr("class","krui-chart-data-bar"),this._target.selectAll(`#krui-chart-stack-text-${o}`).attr("class","krui-chart-stack-text").attr("display","visible")),this.enablePreviousData&&(this._previousStackedData=[...this._stackedData],this._stackedData.forEach((_,U)=>{const E=this._dataValueMap.get(U);E&&this._dataValueMap.set(-U-1,E)})),this.layerDirective.reDraw(null,!1,!0)}toggleOpacity(o,m){this.opacityState.set(o,m)}renderOpacity(o){if(this._target)for(let m=0;m<this._groupSize;m++)!this.opacityState.get(m)&&!this.state.get(m)&&(this._target.selectAll(`#krui-chart-data-bar-${m}`).attr("class",o?"krui-chart-data-bar krui-chart-data-bar--opacity":"krui-chart-data-bar"),this._target.selectAll(`#krui-chart-stack-text-${m}`).attr("class",o?"krui-chart-stack-text krui-chart-stack-text--opacity":"krui-chart-stack-text"))}render(o,m,C){this._initialData?.length&&(this._context=m,this._target=o,this._id=C,this.renderBars(o,m,m.primaryAxis.d3Scale,m.secondaryAxis.d3Scale))}reScale(o,m,C,_,U,E){if(!this._initialData?.length)return;C.k!==this._zoomK&&(this._zoomK=C.k);let S=m.primaryAxis.d3Scale,V=m.secondaryAxis.d3Scale;("time"===m.primaryAxis.type||"number"===m.primaryAxis.type)&&(_&&(S=C.rescaleX(S)),U&&(V=C.rescaleY(V))),E?this.renderBars(o,m,S,V):this.reScaleBars(o,m,S,V)}getTooltipData(o,m,C){const _=[{valueTitle:"",color:"",hidden:!0,index:0,title:"",value:null,engUnits:"",type:"bar"}];if(!this._initialData?.length)return _;const U=this._stackedData,S=(0,H.bisector(rt=>rt[0]).center)(U,o);if(null==S)return _;if("dataPoint"!==m){const rt=U[S]?.[0],nt=U[S+1]?.[0];let j=0;if(j=nt?(o-nt)/(nt-rt):o/rt,j>1.2||j<-2.5||isNaN(j))return _}const V=[];return U[S]?.[1]?.forEach((rt,nt)=>{V.push({value:rt,valueTitle:U[S]?.[0],title:(0,Mt.n)(this.captions[nt]),color:this.getColor(nt),hidden:this.state.get(nt)??!1,index:S,engUnits:this.engUnits?.[nt]??"",type:"bar"})}),V.reverse(),V}getTooltipTitleEnum(){return this.state.get(0)?null:this._hoveredTooltipEnumBar?.getAttribute("tooltipData")??null}getTooltipDataEnum(o){const m=[{valueTitle:"",color:"",hidden:!0,index:0,title:"",value:null,engUnits:"",type:"bar"}];if(!this._initialData?.length)return m;const C=this._stackedData,_=this._stackedData.findIndex(E=>E[2]===o);if(null==_||-1===_)return m;const U=[];return C[_]?.[1]?.forEach((E,S)=>{U.push({value:E,valueTitle:C[_]?.[2],title:(0,Mt.n)(this.captions[S]),color:this.getColor(S),hidden:this.state.get(S)??!1,index:_,engUnits:this.engUnits?.[S]??"",type:"bar"})}),U.reverse(),U}triggerEnumTooltipTimeout(){this._enumTooltipTimeout&&clearTimeout(this._enumTooltipTimeout),this._enumTooltipTimeout=setTimeout(()=>{this._hoveredTooltipEnumBar=null,this._enumTooltipTimeout=null})}getBandWidth(){return this._bandwidth??0}renderBars(o,m,C,_){if(!this._initialData?.length)return;o.selectAll(".krui-chart-stack").remove();const U=m.primaryAxis.type,E=this.getBarsConfigs(U,C,_),S=this._stackedData.map(([At,ct,Tt])=>[At,ct.map((oA,dA)=>this.state.get(dA)?0:oA),Tt]);if("gradient"===this.barType){const At=this.colors.length,ct=At>1?this.colors.map((Tt,oA)=>({color:Tt,offset:100/(At-1)*oA+"%",stopOpacity:1})):[{offset:"0%",color:this.colors[0],stopOpacity:1},{offset:"100%",color:this.colors[0],stopOpacity:1}];o.append("linearGradient").attr("id",`${this._id}--area-filling`).attr("x1",0).attr("x2",0).attr("y1",0).attr("y2","100%").selectAll("stop").data(ct).enter().append("stop").attr("offset",Tt=>Tt.offset).attr("stop-color",Tt=>Tt.color).attr("stop-opacity",Tt=>Tt.stopOpacity)}const V=o.attr("clip-path",`url(#${this.wrap.workgroundClipPathId}`).selectAll(".krui-chart-stack").data(S).enter().append("g").attr("class","krui-chart-stack").attr("tooltipData",At=>(0,L.jJ)(C,U)?At[2]:At[0]).attr("transform",At=>`translate(${(0,L.jJ)(C,U)?C(At[2]):C(At[0])-(this.fixedBarWidth?E.barWidthCalculated:E.barWidthCalculated*this._zoomK)}, 0)`).on("mouseover",At=>this._hoveredTooltipEnumBar=At.target.parentElement),rt=V.selectAll("rect").data((At,ct)=>{if(this.enablePreviousData){const oA=this._dataValueMap.get(ct);oA&&this._dataValueMap.set(-ct-1,oA)}const Tt=this.stackedService.getCalculatedStack(this.stackType,At,ct,this._maxValueCurrent);return this._dataValueMap.set(ct,Tt),Tt.calculated}).enter();let nt=-1,j=-1;if(rt.append("rect").attr("class","krui-chart-data-bar").attr("id",(At,ct)=>`krui-chart-data-bar-${ct}`).attr("x",()=>(0,L.jJ)(C,U)?E.barPadding/2:this.fixedBarWidth?E.barWidthCalculated/2:E.barWidthCalculated/2*this._zoomK).attr("y",(At,ct)=>{0===ct&&nt++,nt===E.activeCount&&(nt=0);const Tt=this._dataValueMap.get(-nt-1)?.calculated[ct];return this._previousStackedData?.length&&Tt?(0,L.Pb)(_(Tt[1])):_.range()[0]}).attr("height",(At,ct)=>{0===ct&&j++,j===E.activeCount&&(j=0);const Tt=this._dataValueMap.get(-j-1)?.calculated[ct];if(this._previousStackedData?.length&&Tt?.length){const oA=(0,L.Pb)(_(Tt[0]))-(0,L.Pb)(_(Tt[1]));return oA>0?oA:0}return 0}).attr("width",()=>(0,L.jJ)(C,U)||this.fixedBarWidth?E.barWidthCalculated:E.barWidthCalculated*this._zoomK).attr("rx",`${this.barRadius}px`).attr("ry",`${this.barRadius}px`).attr("fill",(At,ct)=>"solidColor"===this.barType?this.colors[ct]:`url(#${this._id}--area-filling)`).attr("stroke",(At,ct)=>this.barBorder?this.barBorderColors[ct]:"none").attr("opacity",(At,ct)=>At?this.barsOpacity[ct]?this.barsOpacity[ct]:this.barOpacity:0),"enum"===U||this.tooltipHoverEffect){const At=V.append("rect").attr("class","krui-chart-tooltip-bar").attr("id",(ct,Tt)=>`krui-chart-tooltip-bar-${Tt}`).attr("x",()=>{if((0,L.jJ)(C,U))return E.barPadding/2;const ct=E.barWidthCalculated/2;return this.fixedBarWidth?ct:ct*this._zoomK}).attr("y",0).attr("height",_.range()[0]).attr("width",()=>(0,L.jJ)(C,U)||this.fixedBarWidth?E.barWidthCalculated:E.barWidthCalculated*this._zoomK).attr("opacity","0.1").attr("fill","transparent");this.tooltipHoverEffect&&At.on("mouseenter",ct=>{o.select(`#${ct.target.id}`).attr("fill",this.tooltipHoverColor)}).on("mouseleave",ct=>{o.select(`#${ct.target.id}`).attr("fill","transparent")}),this.wrap.svg.select(`#${this.layerDirective.layerId}`).on("mouseleave",()=>this.triggerEnumTooltipTimeout())}if(rt.selectAll("rect.krui-chart-data-bar").transition().duration("none"===this.animationType?0:this._tempDurationAnimation).attr("y",At=>(0,L.Pb)(_(At[1]))).attr("height",At=>{const ct=(0,L.Pb)(_(At[0]))-(0,L.Pb)(_(At[1]));return ct>0?ct:0}),this.showValues){let At=-1,ct=-1;rt.append("text").attr("class","krui-chart-stack-text").attr("id",(Tt,oA)=>`krui-chart-stack-text-${oA}`).attr("x",()=>(0,L.jJ)(C,U)?(E.barWidthCalculated+E.barPadding)/2:this.fixedBarWidth?E.barWidthCalculated:E.barWidthCalculated*this._zoomK).attr("y",(Tt,oA)=>{0===oA&&At++,At===E.activeCount&&(At=0);const dA=this._dataValueMap.get(-At-1)?.calculated[oA];return this._previousStackedData?.length&&dA?(0,Bt.em)(this.valuePosition,this.valuesFontSizePx,_,dA):_.range()[0]}).text((Tt,oA)=>{0===oA&&ct++;const dA=this._dataValueMap.get(ct);if(isNaN(Tt[1])||null===Tt)return null;if(this.showEnumValues&&(0,L.jJ)(C,U))return dA?.enum;if("stackBar"===this.stackType){const gA=(0,Mt.h)(this.showStackValues?Tt[1]:dA?.initial?.[oA]??0,2);return isNaN(gA)||0===gA?null:gA}if("fullStackBar"===this.stackType){if(this.showStackValues)return(0,Mt.h)(dA?.normalized?.[oA]??0,1);let gA=dA?.normalized?.[oA]??0;return 0!==gA&&dA&&!dA?.isSetted&&(gA=+(gA+dA.delta).toFixed(2),dA.isSetted=!0),isNaN(gA)||0===gA?null:gA+"%"}return Tt[1]}).attr("fill",this.valuesColor).style("font-size",`${this.valuesFontSizePx}px`).style("font-family",this.valuesFontFamily).attr("text-anchor","middle").style("alignment-baseline","middle").transition().duration("none"===this.animationType?0:this._tempDurationAnimation).attr("y",Tt=>(0,Bt.em)(this.valuePosition,this.valuesFontSizePx,_,Tt))}}reScaleBars(o,m,C,_){this._context=m,this._target=o;const U=m.primaryAxis.type,E=this.getBarsConfigs(U,C,_);o.selectAll(".krui-chart-stack").attr("transform",S=>`translate(${(0,L.jJ)(C,U)?C(S[2]):C(S[0])-(this.fixedBarWidth?E.barWidthCalculated:E.barWidthCalculated*this._zoomK)}, 0)`),this.scaleBars(E,!0,!0,0)}scaleBars(o,m,C,_){m&&this._target.selectAll(".krui-chart-data-bar").transition().duration(_).attr("x",()=>"enum"===o.type?o.barPadding/2:this.fixedBarWidth?o.barWidthCalculated/2:o.barWidthCalculated/2*this._zoomK).attr("width",()=>"enum"===o.type||this.fixedBarWidth?o.barWidthCalculated:o.barWidthCalculated*this._zoomK),C&&this._target.selectAll(".krui-chart-data-bar").transition().duration(_).attr("y",U=>(0,L.Pb)(o.secondaryAxis(U[1]))).attr("height",U=>{const E=(0,L.Pb)(o.secondaryAxis(U[0]))-(0,L.Pb)(o.secondaryAxis(U[1]));return E>0?E:0}),("enum"===o.type||this.tooltipHoverEffect)&&(this._target.selectAll(".krui-chart-tooltip-bar").attr("x",()=>(0,L.jJ)(o.primaryAxis,o.type)?o.barPadding/2:this.fixedBarWidth?o.barWidthCalculated/2:o.barWidthCalculated/2*this._zoomK).attr("width",()=>(0,L.jJ)(o.primaryAxis,o.type)||this.fixedBarWidth?o.barWidthCalculated:o.barWidthCalculated*this._zoomK).attr("height",o.secondaryAxis.range()[0]),this.triggerEnumTooltipTimeout()),this.showValues&&this._target.selectAll(".krui-chart-stack-text").transition().duration(_).attr("x",()=>"enum"===o.type?(o.barWidthCalculated+o.barPadding)/2:this.fixedBarWidth?o.barWidthCalculated:o.barWidthCalculated*this._zoomK).attr("y",U=>(0,Bt.em)(this.valuePosition,this.valuesFontSizePx,o.secondaryAxis,U))}getBarsConfigs(o,m,C){const _=this.getActiveCount(),U=this.getGroupSize();let E,S,V;return"enum"===o?(E=U>0?m.bandwidth():0,S=E*this._barWidthPercent/100,V=E*(1-this._barWidthPercent/100)/2):(E=U>0?this._context.canvasWidth/this._maxDataLength:0,S=E*this._barWidthPercent/100,V=E*(1-this._barWidthPercent/100)/2),this._bandwidth=E,{type:o,activeCount:_,groupSize:U,barWidth:E,barWidthCalculated:S,barPadding:V,primaryAxis:m,secondaryAxis:C}}getMaxDataLength(){return Math.max(...this._data?.map(o=>o.length))}getGroupSize(){let o=0;return this._data.forEach((m,C)=>{this.state.get(C)||o++}),o}getActiveCount(){return this._stackedData?.length}static \u0275fac=function(m){return new(m||st)(gt.rXU(xt.lm,1),gt.rXU(xt.oh,1),gt.rXU(xt.dk,1),gt.rXU(xt.zI))};static \u0275dir=gt.FsC({type:st,selectors:[["","kruiChartStackBar",""]],inputs:{showValues:"showValues",valuesColor:"valuesColor",valuesFontSizePx:"valuesFontSizePx",valuesFontFamily:"valuesFontFamily",captions:"captions",engUnits:"engUnits",durationAnimation:"durationAnimation",durationToggleAnimation:"durationToggleAnimation",animation:"animation",reRangeThenLegendClick:"reRangeThenLegendClick",reRangeThenDataChange:"reRangeThenDataChange",workgroundPadding:"workgroundPadding",useDefaultCheck:"useDefaultCheck",withMinMaxCoef:"withMinMaxCoef",barType:"barType",barOpacity:"barOpacity",barsOpacity:"barsOpacity",barRadius:"barRadius",barBorder:"barBorder",barBorderColors:"barBorderColors",fixedBarWidth:"fixedBarWidth",showEnumValues:"showEnumValues",showStackValues:"showStackValues",valuePosition:"valuePosition",animationType:"animationType",tooltipHoverEffect:"tooltipHoverEffect",tooltipHoverColor:"tooltipHoverColor",enablePreviousData:"enablePreviousData",startInNull:"startInNull",stackType:"stackType",color:"color",colors:"colors",inputData:[0,"data","inputData"],inputStackData:[0,"dataStack","inputStackData"],barWidthPercent:"barWidthPercent"},exportAs:["kruiChartStackBar"],standalone:!1,features:[gt.Jv_([{provide:dt.NX,useExisting:st},{provide:dt.M,useExisting:st},{provide:dt.ej,useExisting:st},{provide:dt.Em,useExisting:st},{provide:dt.Dh,useExisting:st},{provide:dt.MD,useExisting:st},{provide:dt.N5,useExisting:st}]),gt.OA$]})}return st})()},7592:(IA,Yt,$)=>{"use strict";$.d(Yt,{FE:()=>U,Fj:()=>gt,Fz:()=>o,TC:()=>st,aX:()=>dt,at:()=>m,dk:()=>Mt,ek:()=>_,lm:()=>ft,oh:()=>Ct,p8:()=>Ot,rU:()=>Bt,ts:()=>yt,vl:()=>L,wj:()=>xt,x6:()=>E,zI:()=>C});var H=$(4438);const Ct=new H.nKC("krui-chart-wrap-token"),yt=new H.nKC("krui-chart-tooltip-provider-token"),Mt=new H.nKC("krui-chart-layer-token"),L=new H.nKC("krui-chart-axis-token"),xt=new H.nKC("krui-chart-grid-token"),dt=new H.nKC("krui-chart-data-layer-token"),Bt=new H.nKC("krui-chart-smart-scroll-token"),gt=new H.nKC("krui-chart-toolbar-token"),ft=new H.nKC("krui-chart-palette-provider-token"),st=new H.nKC("krui-chart-legend-provider-token"),Ot=new H.nKC("kruiChartPallete"),o=new H.nKC("kruiChartAxisPallete"),m=new H.nKC("kruiChartGridPallete"),C=new H.nKC("krui-chart-stacked-service-token"),_=new H.nKC("krui-chart-popup-service-token"),U=new H.nKC("krui-chart-form-create-service-token"),E=new H.nKC("krui-chart-color-parse-service-token")},1779:(IA,Yt,$)=>{"use strict";$.d(Yt,{Dh:()=>xt,Em:()=>Mt,M:()=>Ct,MD:()=>L,N5:()=>dt,NX:()=>H,ej:()=>yt});class H{}class Ct{}class yt{}class Mt{}class L{}class xt{}class dt{}},3194:(IA,Yt,$)=>{"use strict";$.d(Yt,{YS:()=>ft,Z9:()=>Ot});var H=$(7336),Ct=$(6969),yt=$(6939),Mt=$(4438),L=$(1413),xt=$(7786),dt=$(3726),Bt=$(6977),gt=$(5964);const ft=new Mt.nKC("KRUI_CHART_POPUP_DIALOG_DATA");class st{overlayRef;closeBroadcast$=new L.B;constructor(m){this.overlayRef=m}close(m){this.overlayRef.dispose(),this.closeBroadcast$.next(m)}afterClosed(){return this.closeBroadcast$.asObservable()}}let Ot=(()=>{class o{overlay;injector;constructor(C,_){this.overlay=C,this.injector=_}open(C,_,U={}){const E=this.createOverlay(U),S=new st(E);return this.attachDialogContainer(E,C,_,S),(0,xt.h)((0,dt.R)(document,"keydown").pipe((0,Bt.Q)(S.afterClosed()),(0,gt.p)(V=>V.keyCode===H._f)),E.backdropClick()).subscribe(()=>S.close(null)),{popupRef:S,overlayRef:E}}createOverlay(C){const _=this.getOverlayConfig(C);return this.overlay.create(_)}attachDialogContainer(C,_,U,E){const S=Mt.zZn.create({providers:[{provide:st,useValue:E},{provide:ft,useValue:U}],parent:this.injector}),V=new yt.A8(_,null,S);return C.attach(V).instance}getOverlayConfig({width:C,height:_,panelClass:U}){const E=this.overlay.scrollStrategies.reposition();let S=this.overlay.position().global().centerHorizontally().centerVertically();return new Ct.rR({panelClass:U??["krui-chart-print-background"],hasBackdrop:!0,backdropClass:"cdk-overlay-transparent-backdrop",height:_??"auto",width:C??"auto",scrollStrategy:E,positionStrategy:S})}static \u0275fac=function(_){return new(_||o)(Mt.KVO(Ct.hJ),Mt.KVO(Mt.zZn))};static \u0275prov=Mt.jDH({token:o,factory:o.\u0275fac})}return o})()},9507:(IA,Yt,$)=>{"use strict";$.d(Yt,{t:()=>Mt});var H=$(7592),Ct=$(4438),yt=$(9417);let Mt=(()=>{class L{ngControl;chartColorParseService;isDarkTheme=!0;constructor(dt,Bt){this.ngControl=dt,this.chartColorParseService=Bt}ngOnInit(){const dt=this.ngControl?.value;/var(.*)/i.test(dt)&&this.ngControl.control.patchValue(this.chartColorParseService.changeColor(dt,this.isDarkTheme),{emitEvents:!1,onlySelf:!0})}static \u0275fac=function(Bt){return new(Bt||L)(Ct.rXU(yt.vO,10),Ct.rXU(H.x6))};static \u0275dir=Ct.FsC({type:L,selectors:[["","kruiChartInputColorWrapper",""]],inputs:{isDarkTheme:"isDarkTheme"},standalone:!1})}return L})()},3666:(IA,Yt,$)=>{"use strict";$.d(Yt,{C:()=>C});var H=$(467),Ct=$(177),yt=$(2578),Mt=$(7239),L=$.n(Mt),xt=$(1413),dt=$(3194),Bt=$(9969),gt=$(4438);const ft=(0,Bt.hZ)("popup",[(0,Bt.wk)("void",(0,Bt.iF)({transform:"scale3d(0.75, 0.75, 0.75)",opacity:0})),(0,Bt.wk)("enter",(0,Bt.iF)({transform:"scale3d(1.0, 1.0, 1.0)",opacity:1})),(0,Bt.kY)("* => *",(0,Bt.i0)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))]);let st=(()=>{class _{elementRef;data;constructor(E,S){this.elementRef=E,this.data=S,this.elementRef.nativeElement.innerHTML=S.html}static \u0275fac=function(S){return new(S||_)(gt.rXU(gt.aKT),gt.rXU(dt.YS))};static \u0275cmp=gt.VBU({type:_,selectors:[["krui-chart-print"]],standalone:!1,decls:0,vars:0,template:function(S,V){},styles:["[_nghost-%COMP%]{width:100%;height:100%}"],data:{animation:[ft]}})}return _})();var Ot=$(7592);class o{}var m=$(1305);let C=(()=>{class _{popupService;wrap;document;elementRef;toolbar=!0;toolbarPosition="top";toolbarJustifyContent="flex-end";useDefaultCheck=!0;zoomK=1;zoomArr=[.5,1,2,4,8,16,32];zoom$=new xt.B;zoomType;zoomTypeDefault;zoomType$=new xt.B;constructor(E,S,V,rt){this.popupService=E,this.wrap=S,this.document=V,this.elementRef=rt}ngOnInit(){this.useDefaultCheck&&Object.entries((0,m.B_)())?.forEach(([E,S])=>{null==this[E]&&(this[E]=S)})}toolbarZoomIn(){this.zoomK=2*this.findNearest(this.zoomK),this.zoomK>32&&(this.zoomK=.5),this.zoom$.next(this.zoomK)}toolbarZoomOut(){this.zoomK=this.findNearest(this.zoomK)/2,this.zoomK<.5&&(this.zoomK=32),this.zoom$.next(this.zoomK)}toggleZoomType(E){this.zoomType=E!==this.zoomType?E:"none",this.zoomType$.next(this.zoomType)}toolbarRefresh(){this.zoomK=1,this.zoomType=this.zoomTypeDefault,this.zoomType$.next(this.zoomType)}print(){const E=this.popupService.open(st,{html:this.elementRef.nativeElement.innerHTML},{width:this.document.defaultView.innerWidth,height:this.document.defaultView.innerHeight,positions:[{originX:"center",originY:"center",overlayX:"center",overlayY:"center"}],hasBackdrop:!0,panelClass:"krui-chart-print-background"});E.popupRef.afterClosed().subscribe(),window.print(),E.popupRef.close(E)}savePng(){var E=this;return(0,H.A)(function*(){let S="#e0e4eb";E.document.querySelector("body")?.className.includes("theme-dark")&&(S="#29303d");const V=yield L()(E.elementRef.nativeElement,{foreignObjectRendering:!1,backgroundColor:S,scale:4}),rt=`\u0413\u0440\u0430\u0444\u0438\u043a-${(new Date).toLocaleString("ru")}.png`,nt=V.toDataURL("image/jpeg",1),j=E.dataURLtoFile(nt,rt);(0,yt.saveAs)(j,rt)})()}dataURLtoFile=(E,S)=>{const V=E.split(","),rt=V[0].match(/:(.*?);/)[1],nt=atob(V[1]);let j=nt.length;const At=new Uint8Array(j);for(;j--;)At[j]=nt.charCodeAt(j);return new File([At],S,{type:rt})};findNearest(E){return this.zoomArr.reduce((S,V)=>Math.abs(V-E)>Math.abs(S-E)?S:V,0)}static \u0275fac=function(S){return new(S||_)(gt.rXU(Ot.ek),gt.rXU(Ot.oh,1),gt.rXU(Ct.qQ),gt.rXU(gt.aKT))};static \u0275dir=gt.FsC({type:_,selectors:[["krui-chart"]],inputs:{toolbar:"toolbar",toolbarPosition:"toolbarPosition",toolbarJustifyContent:"toolbarJustifyContent",useDefaultCheck:"useDefaultCheck"},standalone:!1,features:[gt.Jv_([{provide:Ot.Fj,useExisting:_},{provide:o,useExisting:_}])]})}return _})()},8461:(IA,Yt,$)=>{"use strict";$.d(Yt,{x:()=>Ve});var H=$(6939),Ct=$(6712),yt=$(9969),Mt=$(7751),L=$(4438),xt=$(177);const dt=(zt,PA)=>null==PA?null:PA.index;function Bt(zt,PA){if(1&zt&&(L.j41(0,"div",1),L.EFF(1),L.k0s()),2&zt){const Kt=L.XpG(2).$implicit;L.R7$(),L.JRh(Kt.title)}}function gt(zt,PA){if(1&zt&&(L.EFF(0),L.nI1(1,"date")),2&zt){const Kt=L.XpG(4).$implicit,aA=L.XpG();L.SpI(" ",aA.tooltipShowMilliseconds?aA.getDateWithMilliseconds(Kt.value):L.i5U(1,1,Kt.value,aA.tooltipTitleDateValuePipeFormat)," ")}}function ft(zt,PA){if(1&zt&&(L.EFF(0),L.nI1(1,"number")),2&zt){const Kt=L.XpG(4).$implicit,aA=L.XpG();L.SpI(" ",L.i5U(1,1,aA.getNumberValue(Kt.value),aA.tooltipNumberValuePipeFormat)," ")}}function st(zt,PA){if(1&zt&&L.EFF(0),2&zt){const Kt=L.XpG(4).$implicit;L.SpI(" ",Kt.value," ")}}function Ot(zt,PA){if(1&zt&&L.DNE(0,gt,2,4)(1,ft,2,4)(2,st,1,1),2&zt){let Kt;L.vxM("date"===(Kt=PA)?0:"number"===Kt?1:2)}}function o(zt,PA){if(1&zt&&(L.j41(0,"div",1),L.DNE(1,Ot,3,1),L.k0s()),2&zt){let Kt;const aA=L.XpG(2).$implicit,QA=L.XpG();L.R7$(),L.vxM((Kt=QA.getValueType(aA.value))?1:-1,Kt)}}function m(zt,PA){1&zt&&L.EFF(0," \u25ac ")}function C(zt,PA){1&zt&&L.EFF(0," \u2509 ")}function _(zt,PA){1&zt&&L.EFF(0," \u25fc ")}function U(zt,PA){1&zt&&L.EFF(0," \u25fc ")}function E(zt,PA){1&zt&&L.EFF(0," \u25a4 ")}function S(zt,PA){1&zt&&L.EFF(0," \u25a4 ")}function V(zt,PA){if(1&zt&&(L.EFF(0),L.nI1(1,"date")),2&zt){const Kt=L.XpG(3).$implicit,aA=L.XpG(3);L.SpI(" ",L.i5U(1,1,Kt.value,aA.tooltipDateValuePipeFormat)," ")}}function rt(zt,PA){if(1&zt&&(L.EFF(0),L.nI1(1,"number")),2&zt){const Kt=L.XpG(3).$implicit,aA=L.XpG(3);L.SpI(" ",L.i5U(1,1,Kt.value,aA.tooltipNumberValuePipeFormat)," ")}}function nt(zt,PA){if(1&zt&&L.EFF(0),2&zt){const Kt=L.XpG(3).$implicit;L.SpI(" ",Kt.value," ")}}function j(zt,PA){if(1&zt&&L.DNE(0,V,2,4)(1,rt,2,4)(2,nt,1,1),2&zt){let Kt;L.vxM("date"===(Kt=PA)?0:"number"===Kt?1:2)}}function At(zt,PA){if(1&zt&&(L.j41(0,"tr")(1,"td",4),L.nrm(2,"div",5),L.k0s()(),L.j41(3,"tr",6)(4,"td",7)(5,"span"),L.DNE(6,m,1,0)(7,C,1,0)(8,_,1,0)(9,U,1,0)(10,E,1,0)(11,S,1,0),L.k0s()(),L.j41(12,"td",8)(13,"span"),L.EFF(14),L.k0s()(),L.j41(15,"td",7),L.DNE(16,j,3,1),L.j41(17,"span"),L.EFF(18),L.k0s()()()),2&zt){let Kt,aA;const QA=L.XpG().$implicit,Rt=L.XpG(3);L.R7$(5),L.xc7("color",QA.color),L.R7$(),L.vxM("line"===(Kt=QA.type)?6:"area"===Kt?7:"gradientArea"===Kt?8:"bar"===Kt?9:"stackBar"===Kt?10:"fullStackBar"===Kt?11:-1),L.R7$(8),L.Lme("",null==QA?null:QA.title,"",Rt.delimiterSymbol,""),L.R7$(2),L.vxM((aA=Rt.getValueType(QA.value))?16:-1,aA),L.R7$(2),L.JRh(null==QA?null:QA.engUnits)}}function ct(zt,PA){if(1&zt&&(L.qex(0),L.DNE(1,At,19,7),L.bVm()),2&zt){const Kt=PA.$implicit;L.R7$(),L.vxM(null!=Kt&&Kt.hidden||null===(null==Kt?null:Kt.value)?-1:1)}}function Tt(zt,PA){if(1&zt&&(L.DNE(0,Bt,2,1,"div",1)(1,o,2,1,"div",1),L.j41(2,"table",2),L.DNE(3,ct,2,1,"ng-container",3),L.k0s()),2&zt){const Kt=L.XpG().$implicit;L.vxM(null!=Kt&&Kt.title?0:-1),L.R7$(),L.vxM(null!=Kt&&Kt.value?1:-1),L.R7$(2),L.Y8G("ngForOf",null==Kt?null:Kt.rows)}}function oA(zt,PA){if(1&zt&&(L.j41(0,"div",0),L.DNE(1,Tt,4,3),L.k0s()),2&zt){const Kt=PA.$implicit;L.R7$(),L.vxM(null!=Kt&&Kt.hidden?-1:1)}}let dA=(()=>{class zt extends Mt.P{getTitle(Kt){return Kt?.length>24?Kt.slice(0,24)+"...":Kt}static \u0275fac=(()=>{let Kt;return function(QA){return(Kt||(Kt=L.xGo(zt)))(QA||zt)}})();static \u0275cmp=L.VBU({type:zt,selectors:[["krui-chart-tooltip"]],standalone:!1,features:[L.Vt3],decls:2,vars:0,consts:[[1,"krui-chart-tooltip"],[1,"krui-chart-tooltip__header"],[1,"krui-chart-tooltip__list"],[4,"ngFor","ngForOf"],["colspan","3"],[1,"krui-chart-tooltip__delimeter"],[1,"krui-chart-tooltip__list-item"],[1,"krui-chart-tooltip__value"],[1,"krui-chart-tooltip__label"]],template:function(aA,QA){1&aA&&L.Z7z(0,oA,2,1,"div",0,dt),2&aA&&L.Dyx(QA.data)},dependencies:[xt.Sq,xt.QX,xt.vh],styles:["[_nghost-%COMP%]{padding-left:20px;padding-right:10px}"],data:{animation:[(0,yt.hZ)("popup",[(0,yt.wk)("void",(0,yt.iF)({opacity:0})),(0,yt.wk)("enter",(0,yt.iF)({opacity:1})),(0,yt.kY)("* => *",(0,yt.i0)("200ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])]}})}return zt})();var gA=$(1648),mA=$(6969),br=$(7592);class Jn{}var gr=$(1305);let Ve=(()=>{class zt{wrap;overlayPositionBuilder;overlay;tooltip=!0;tooltipComponentType="default";tooltipComponent;tooltipType="fullLine";tooltipMarkerType="line";tooltipMarkerCrossSize=10;tooltipColor=gA.jH;tooltipWidth=1;chartOrientation="vertical";tooltipShowMilliseconds=!1;tooltipDateValuePipeFormat="dd.MM.yyyy HH:mm";tooltipTitleDateValuePipeFormat="dd.MM.yyyy HH:mm:ss";tooltipNumberValuePipeFormat="1.0-0";tooltipTitleNumberValuePipeFormat="1.0-0";useDefaultCheck=!0;_tooltipAttachPoint;_tooltipMarker;_tooltipPositionStrategy;_tooltipOverlayRef;_tooltipRef;_tooltipPortal;_tooltipChartPart="left";_tooltipMouseEventValue=0;layersList;constructor(Kt,aA,QA){this.wrap=Kt,this.overlayPositionBuilder=aA,this.overlay=QA}ngOnInit(){this.useDefaultCheck&&Object.entries((0,gr.Fe)())?.forEach(([Kt,aA])=>{null==this[Kt]&&(this[Kt]=aA)})}onGraphMouseEnter(){this.onGraphMouseLeave(),this._tooltipPositionStrategy=this.overlayPositionBuilder.flexibleConnectedTo(this._tooltipAttachPoint?.node()).withPush(!0).withFlexibleDimensions(!1).withPositions(((zt="left")=>"left"===zt?[new mA.uH({originX:"start",originY:"center"},{overlayX:"end",overlayY:"center"}),new mA.uH({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),new mA.uH({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),new mA.uH({originX:"end",originY:"center"},{overlayX:"start",overlayY:"center"})]:"right"===zt?[new mA.uH({originX:"end",originY:"center"},{overlayX:"start",overlayY:"center"}),new mA.uH({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),new mA.uH({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),new mA.uH({originX:"start",originY:"center"},{overlayX:"end",overlayY:"center"})]:[new mA.uH({originX:"start",originY:"center"},{overlayX:"end",overlayY:"center"}),new mA.uH({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),new mA.uH({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),new mA.uH({originX:"end",originY:"center"},{overlayX:"start",overlayY:"center"})])(this._tooltipChartPart)),this._tooltipOverlayRef=this.overlay.create({positionStrategy:this._tooltipPositionStrategy,hasBackdrop:!1}),this._tooltipPortal=new H.A8("default"===this.tooltipComponentType?dA:this.tooltipComponent),this._tooltipRef=this._tooltipOverlayRef.attach(this._tooltipPortal),this._tooltipRef.instance.tooltipShowMilliseconds=this.tooltipShowMilliseconds,this._tooltipRef.instance.tooltipDateValuePipeFormat=this.tooltipDateValuePipeFormat,this._tooltipRef.instance.tooltipTitleDateValuePipeFormat=this.tooltipTitleDateValuePipeFormat,this._tooltipRef.instance.tooltipNumberValuePipeFormat=this.tooltipNumberValuePipeFormat,this._tooltipRef.instance.tooltipTitleNumberValuePipeFormat=this.tooltipTitleNumberValuePipeFormat}onGraphMouseMove(Kt){let aA=Ct.pointer(Kt);Kt.offsetX||(aA=[Kt.layerX,Kt.layerY]),"fullLine"===this.tooltipType&&this.highlightTooltipMarker(aA[0],aA[1],aA[0],aA[1],this.tooltipColor);const QA=[];this.layersList.forEach((Pt,Wt)=>{const Jt=Pt.getTooltipData(aA,this.tooltipType,Wt);QA.push(Jt?.tooltip),0===Wt&&"dataPoint"===this.tooltipType&&("vertical"===this.chartOrientation?this.highlightTooltipMarker(Jt?.pos,aA[1],aA[0],aA[1],this.tooltipColor):this.highlightTooltipMarker(aA[0],Jt?.pos,aA[0],aA[1],this.tooltipColor))});const pA=Kt.offsetX/this.wrap.width>.5?"right":"left",Qt=Kt.offsetX>=this._tooltipMouseEventValue?"right":"left";"left"===Qt&&"left"===pA?this._tooltipChartPart="right":"right"===Qt&&"left"===pA?this._tooltipChartPart="left":"left"===Qt&&"right"===pA?this._tooltipChartPart="right":"right"===Qt&&"right"===pA&&(this._tooltipChartPart="left"),this._tooltipMouseEventValue=Kt.offsetX,this._tooltipRef.instance.data=QA,this._tooltipOverlayRef?.updatePosition()}onGraphMouseLeave(){this._tooltipRef?.destroy(),this._tooltipOverlayRef?.detach(),this.highlightTooltipMarker(0,0,0,0)}drawTooltipMarker(){const Kt=[this.wrap.workGroundHeight,0],aA=[0,this.wrap.workGroundWidth];this._tooltipAttachPoint=this.wrap.g.append("circle").attr("id",`${this.wrap.id}--tooltip-point`).attr("class","krui-tooltip-point").attr("cx",0).attr("cy",0).attr("r",2).attr("fill","transparent").attr("stroke","transparent").attr("clip-path",`url(#${this.wrap.workgroundClipPathId})`),"none"!==this.tooltipMarkerType&&(this._tooltipMarker=[Ct.select(`#${this.wrap.id}`).append("line").attr("id",`${this.wrap.id}--tooltip-marker-x`).attr("class","krui-tooltip-line").attr("x1",0).attr("x2",0).attr("y1",0).attr("y2",0).attr("fill","transparent").attr("stroke","transparent").attr("stroke-width",this.tooltipWidth).attr("clip-path",`url(#${this.wrap.workgroundClipPathId})`),Ct.select(`#${this.wrap.id}`).append("line").attr("id",`${this.wrap.id}--tooltip-marker-y`).attr("class","krui-tooltip-line").attr("x1",0).attr("x2",0).attr("y1",0).attr("y2",0).attr("fill","transparent").attr("stroke","transparent").attr("stroke-width",this.tooltipWidth).attr("clip-path",`url(#${this.wrap.id}-clipPath)`)],"line"===this.tooltipMarkerType&&this._tooltipMarker[0].attr("y1",Kt[0]).attr("y2",Kt[1]),"fullscreenCross"===this.tooltipMarkerType&&this._tooltipMarker[1].attr("x1",aA[0]).attr("x2",aA[1]))}highlightTooltipMarker(Kt=0,aA=0,QA,Rt,pA="transparent"){const Qt=[this.wrap.workGroundHeight,0],Pt=[0,this.wrap.workGroundWidth];switch(this._tooltipAttachPoint.attr("cx",QA).attr("cy",Rt-5),this.tooltipMarkerType){case"line":this._tooltipMarker[0].attr("x1",Kt).attr("x2",Kt).attr("y1",Qt[0]).attr("y2",Qt[1]).attr("stroke",pA);break;case"horizontal-line":this._tooltipMarker[1].attr("x1",Pt[0]).attr("x2",Pt[1]).attr("y1",aA).attr("y2",aA).attr("stroke",pA);break;case"smallCross":this._tooltipMarker[0].attr("x1",Kt-this.tooltipMarkerCrossSize).attr("x2",Kt+this.tooltipMarkerCrossSize).attr("y1",aA).attr("y2",aA).attr("stroke",pA),this._tooltipMarker[1].attr("x1",Kt).attr("x2",Kt).attr("y1",aA-this.tooltipMarkerCrossSize).attr("y2",aA+this.tooltipMarkerCrossSize).attr("stroke",pA);break;case"fullscreenCross":this._tooltipMarker[0].attr("x1",Kt).attr("x2",Kt).attr("y1",Qt[0]).attr("y2",Qt[1]).attr("stroke",pA),this._tooltipMarker[1].attr("y1",Pt[0]).attr("y2",Pt[1]).attr("y1",aA).attr("y2",aA).attr("stroke",pA)}}static \u0275fac=function(aA){return new(aA||zt)(L.rXU(br.oh,1),L.rXU(mA.lF),L.rXU(mA.hJ))};static \u0275dir=L.FsC({type:zt,selectors:[["krui-chart"]],contentQueries:function(aA,QA,Rt){if(1&aA&&L.wni(Rt,br.dk,4),2&aA){let pA;L.mGM(pA=L.lsd())&&(QA.layersList=pA)}},inputs:{tooltip:"tooltip",tooltipComponentType:"tooltipComponentType",tooltipComponent:"tooltipComponent",tooltipType:"tooltipType",tooltipMarkerType:"tooltipMarkerType",tooltipMarkerCrossSize:"tooltipMarkerCrossSize",tooltipColor:"tooltipColor",tooltipWidth:"tooltipWidth",chartOrientation:"chartOrientation",tooltipShowMilliseconds:"tooltipShowMilliseconds",tooltipDateValuePipeFormat:"tooltipDateValuePipeFormat",tooltipTitleDateValuePipeFormat:"tooltipTitleDateValuePipeFormat",tooltipNumberValuePipeFormat:"tooltipNumberValuePipeFormat",tooltipTitleNumberValuePipeFormat:"tooltipTitleNumberValuePipeFormat",useDefaultCheck:"useDefaultCheck"},standalone:!1,features:[L.Jv_([{provide:Jn,useExisting:zt},{provide:br.ts,useExisting:zt}])]})}return zt})()},9357:(IA,Yt,$)=>{"use strict";$.d(Yt,{e:()=>dt});var H=$(6712),Ct=$(4412),yt=$(1648),Mt=$(1305),L=$(7592),xt=$(4438);let dt=(()=>{class Bt{el;marginLeft=12;marginRight=12;marginBottom=12;marginTop=12;bgColor=yt.Ru;borderColor=yt.Di;borderRadius=4;smartScrollEnable=!1;smartScrollHeight=42;smartScrollColor=yt.HT;language="ru";formatFunc=null;setDefIfContainerSizeInvalid=!1;useDefaultCheck=!0;legendHeight=yt.Lb;toolbarHeight=0;reSize$=new Ct.t(null);axisCounter={left:0,right:0,top:0,bottom:0};axisLevelMap=new Map;isFixedSize=!1;constructor(ft){this.el=ft}_canvas=null;get canvas(){return this._canvas}_svg;get svg(){return this._svg}_g;get g(){return this._g}_id="krui-chart-"+Date.now();get id(){return this._id}_width;get width(){return this._width}set width(ft){this._width=ft}_height;get height(){return this._height}set height(ft){this._height=ft-this.legendHeight-this.toolbarHeight}set _isFixedSize(ft){this.isFixedSize=ft,ft&&(this._width||(this.width=yt.AN),this._height||(this.height=yt.xN))}get svgWidth(){return this._width}get svgHeight(){const ft=this._height-this.legendHeight;return ft>0?ft:0}get offsetWidth(){const ft=this.svgWidth-this.marginLeft-this.marginRight;return ft>0?ft:0}get offsetHeight(){const ft=this.svgHeight-this.marginBottom-this.marginTop;return ft>0?ft:0}get workGroundWidth(){const ft=this.svgWidth-this.marginLeft-this.marginRight-(this.axisCounter.left+this.axisCounter.right)*yt.qQ;return ft>0?ft:0}get workGroundHeight(){const ft=this.svgHeight-this.marginBottom-this.marginTop-(this.axisCounter.bottom+this.axisCounter.top)*yt.Xu;return ft>0?ft:0}get offsetMarginTop(){const ft=this.marginTop+this.axisCounter.top*yt.Xu;return ft>0?ft:0}get offsetMarginRight(){const ft=this.marginRight+this.axisCounter.right*yt.qQ;return ft>0?ft:0}get offsetMarginBottom(){const ft=this.marginBottom+this.axisCounter.bottom*yt.Xu;return ft>0?ft:0}get offsetMarginLeft(){const ft=this.marginLeft+this.axisCounter.left*yt.qQ;return ft>0?ft:0}set customResize(ft){!ft?.width||!ft?.height||this.onResize(ft)}get workgroundClipPathId(){return`${this._id}--clipPath-workground`}get workgroundClipPathOffsetId(){return`${this._id}--clipPath-workground-offset`}get clipPathOffsetId(){return`${this._id}--clipPath--offset`}ngOnInit(){this.useDefaultCheck&&Object.entries((0,Mt.Zs)())?.forEach(([ft,st])=>{null==this[ft]&&(this[ft]=st)})}onResize(ft){this.isFixedSize||(this.width=ft?.width,this.height=ft?.height,this._height<=0&&this.setDefIfContainerSizeInvalid&&(this._height=yt.xN),this._width<=0&&this.setDefIfContainerSizeInvalid&&(this._width=yt.AN),this.resizeTrigger())}refreshMarginAxis(){this.axisCounter={left:0,right:0,top:0,bottom:0},this.axisLevelMap=new Map}createCanvas(){this._canvas&&this._svg.remove();const ft=this.el.nativeElement;this._width||(this.width=this.el.nativeElement.offsetWidth),this._height||(this.height=this.el.nativeElement.offsetHeight),this.height<=0&&this.setDefIfContainerSizeInvalid&&(this._height=yt.xN),this.width<=0&&this.setDefIfContainerSizeInvalid&&(this._width=yt.AN),this._svg=H.select(ft).append("svg"),this.isFixedSize?this._svg.attr("id",`${this._id}--svg`).attr("width",this.svgWidth).attr("height",this.svgHeight+(this.smartScrollEnable?this.smartScrollHeight:0)).attr("preserveAspectRatio","xMidYMid meet").attr("viewBox",`0 0 ${this.svgWidth} ${this.svgHeight}`):this._svg.attr("id",`${this._id}--svg`).attr("width","100%").attr("height","100%").attr("viewBox",`0 0 ${this.svgWidth} ${this.svgHeight}`),this._g=this._svg.attr("order",2).style("order",2).append("g").attr("id",`${this._id}`).attr("transform",`translate(${this.offsetMarginLeft??0}, ${this.offsetMarginTop??0})`),this._g.append("clipPath").attr("id",`${this._id}--clipPath-workground`).append("rect").attr("id",`${this._id}--clipPath-workground-rect`).attr("x",0).attr("y",0).attr("width",this.workGroundWidth).attr("height",this.workGroundHeight),this._g.append("clipPath").attr("id",`${this._id}--clipPath-workground-offset`).append("rect").attr("id",`${this._id}--clipPath-workground-offset-rect`).attr("x",-yt.jK).attr("y",-yt.jK).attr("width",this.workGroundWidth+2*yt.jK).attr("height",this.workGroundHeight+2*yt.jK),this._g.append("clipPath").attr("id",`${this._id}--clipPath-offset`).append("rect").attr("id",`${this._id}--clipPath-offset-rect`).attr("x",-this.axisCounter.left*yt.qQ).attr("y",-this.axisCounter.top*yt.Xu).attr("width",this.offsetWidth).attr("height",this.offsetHeight),this._g.append("rect").attr("id",`${this._id}--bg-rect`).attr("width",this.workGroundWidth).attr("height",this.workGroundHeight).attr("class","krui-chart-background").attr("rx",this.borderRadius).attr("ry",this.borderRadius).attr("fill",this.bgColor??yt.Ru).attr("stroke",this.borderColor??yt.Di).attr("stroke-width","1px"),this._canvas=this._g.node()}resizeTrigger(){this._svg.attr("viewBox",`0 0 ${this.svgWidth} ${this.svgHeight}`),this._svg.select(`#${this._id}--clipPath-workground-rect`).attr("width",this.workGroundWidth).attr("height",this.workGroundHeight),this._svg.select(`#${this._id}--clipPath-workground-offset-rect`).attr("width",this.workGroundWidth+2*yt.jK).attr("height",this.workGroundHeight+2*yt.jK),this._svg.select(`#${this._id}--clipPath-offset-rect`).attr("width",this.offsetWidth).attr("height",this.offsetHeight),this._svg.select(`#${this._id}--bg-rect`).attr("width",this.workGroundWidth).attr("height",this.workGroundHeight),this.reSize$.next(!0)}static \u0275fac=function(st){return new(st||Bt)(xt.rXU(xt.aKT))};static \u0275dir=xt.FsC({type:Bt,selectors:[["krui-chart"]],inputs:{marginLeft:"marginLeft",marginRight:"marginRight",marginBottom:"marginBottom",marginTop:"marginTop",bgColor:"bgColor",borderColor:"borderColor",borderRadius:"borderRadius",smartScrollEnable:"smartScrollEnable",smartScrollHeight:"smartScrollHeight",smartScrollColor:"smartScrollColor",language:"language",formatFunc:"formatFunc",setDefIfContainerSizeInvalid:"setDefIfContainerSizeInvalid",useDefaultCheck:"useDefaultCheck",width:"width",height:"height",_isFixedSize:[0,"isFixedSize","_isFixedSize"],customResize:"customResize"},standalone:!1,features:[xt.Jv_([{provide:L.oh,useExisting:Bt}])]})}return Bt})()},2578:function(IA,Yt){var $,Ct;void 0!==(Ct="function"==typeof($=function(){"use strict";function Mt(ft,st,Ot){var o=new XMLHttpRequest;o.open("GET",ft),o.responseType="blob",o.onload=function(){gt(o.response,st,Ot)},o.onerror=function(){console.error("could not download file")},o.send()}function L(ft){var st=new XMLHttpRequest;st.open("HEAD",ft,!1);try{st.send()}catch{}return 200<=st.status&&299>=st.status}function xt(ft){try{ft.dispatchEvent(new MouseEvent("click"))}catch{var st=document.createEvent("MouseEvents");st.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),ft.dispatchEvent(st)}}var dt="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,Bt=dt.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),gt=dt.saveAs||("object"!=typeof window||window!==dt?function(){}:"download"in HTMLAnchorElement.prototype&&!Bt?function(ft,st,Ot){var o=dt.URL||dt.webkitURL,m=document.createElement("a");m.download=st=st||ft.name||"download",m.rel="noopener","string"==typeof ft?(m.href=ft,m.origin===location.origin?xt(m):L(m.href)?Mt(ft,st,Ot):xt(m,m.target="_blank")):(m.href=o.createObjectURL(ft),setTimeout(function(){o.revokeObjectURL(m.href)},4e4),setTimeout(function(){xt(m)},0))}:"msSaveOrOpenBlob"in navigator?function(ft,st,Ot){if(st=st||ft.name||"download","string"!=typeof ft)navigator.msSaveOrOpenBlob(function yt(ft,st){return typeof st>"u"?st={autoBom:!1}:"object"!=typeof st&&(console.warn("Deprecated: Expected third argument to be a object"),st={autoBom:!st}),st.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(ft.type)?new Blob(["\ufeff",ft],{type:ft.type}):ft}(ft,Ot),st);else if(L(ft))Mt(ft,st,Ot);else{var o=document.createElement("a");o.href=ft,o.target="_blank",setTimeout(function(){xt(o)})}}:function(ft,st,Ot,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof ft)return Mt(ft,st,Ot);var m="application/octet-stream"===ft.type,C=/constructor/i.test(dt.HTMLElement)||dt.safari,_=/CriOS\/[\d]+/.test(navigator.userAgent);if((_||m&&C||Bt)&&typeof FileReader<"u"){var U=new FileReader;U.onloadend=function(){var V=U.result;V=_?V:V.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=V:location=V,o=null},U.readAsDataURL(ft)}else{var E=dt.URL||dt.webkitURL,S=E.createObjectURL(ft);o?o.location=S:location.href=S,o=null,setTimeout(function(){E.revokeObjectURL(S)},4e4)}});dt.saveAs=gt.saveAs=gt,IA.exports=gt})?$.apply(Yt,[]):$)&&(IA.exports=Ct)},7239:function(IA){IA.exports=function(){"use strict";var Yt=function(u,c){return(Yt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var b in f)Object.prototype.hasOwnProperty.call(f,b)&&(d[b]=f[b])})(u,c)};function $(u,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=u}Yt(u,c),u.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}var H=function(){return H=Object.assign||function(c){for(var d,f=1,b=arguments.length;f<b;f++)for(var D in d=arguments[f])Object.prototype.hasOwnProperty.call(d,D)&&(c[D]=d[D]);return c},H.apply(this,arguments)};function Ct(u,c,d,f){return new(d||(d=Promise))(function(D,P){function z(ut){try{ot(f.next(ut))}catch(mt){P(mt)}}function G(ut){try{ot(f.throw(ut))}catch(mt){P(mt)}}function ot(ut){ut.done?D(ut.value):function b(D){return D instanceof d?D:new d(function(P){P(D)})}(ut.value).then(z,G)}ot((f=f.apply(u,c||[])).next())})}function yt(u,c){var f,b,D,P,d={label:0,sent:function(){if(1&D[0])throw D[1];return D[1]},trys:[],ops:[]};return P={next:z(0),throw:z(1),return:z(2)},"function"==typeof Symbol&&(P[Symbol.iterator]=function(){return this}),P;function z(ot){return function(ut){return function G(ot){if(f)throw new TypeError("Generator is already executing.");for(;d;)try{if(f=1,b&&(D=2&ot[0]?b.return:ot[0]?b.throw||((D=b.return)&&D.call(b),0):b.next)&&!(D=D.call(b,ot[1])).done)return D;switch(b=0,D&&(ot=[2&ot[0],D.value]),ot[0]){case 0:case 1:D=ot;break;case 4:return d.label++,{value:ot[1],done:!1};case 5:d.label++,b=ot[1],ot=[0];continue;case 7:ot=d.ops.pop(),d.trys.pop();continue;default:if(!(D=(D=d.trys).length>0&&D[D.length-1])&&(6===ot[0]||2===ot[0])){d=0;continue}if(3===ot[0]&&(!D||ot[1]>D[0]&&ot[1]<D[3])){d.label=ot[1];break}if(6===ot[0]&&d.label<D[1]){d.label=D[1],D=ot;break}if(D&&d.label<D[2]){d.label=D[2],d.ops.push(ot);break}D[2]&&d.ops.pop(),d.trys.pop();continue}ot=c.call(u,d)}catch(ut){ot=[6,ut],b=0}finally{f=D=0}if(5&ot[0])throw ot[1];return{value:ot[0]?ot[1]:void 0,done:!0}}([ot,ut])}}}function Mt(u,c,d){if(d||2===arguments.length)for(var D,f=0,b=c.length;f<b;f++)(D||!(f in c))&&(D||(D=Array.prototype.slice.call(c,0,f)),D[f]=c[f]);return u.concat(D||c)}for(var L=function(){function u(c,d,f,b){this.left=c,this.top=d,this.width=f,this.height=b}return u.prototype.add=function(c,d,f,b){return new u(this.left+c,this.top+d,this.width+f,this.height+b)},u.fromClientRect=function(c,d){return new u(d.left+c.windowBounds.left,d.top+c.windowBounds.top,d.width,d.height)},u.fromDOMRectList=function(c,d){var f=Array.from(d).find(function(b){return 0!==b.width});return f?new u(f.left+c.windowBounds.left,f.top+c.windowBounds.top,f.width,f.height):u.EMPTY},u.EMPTY=new u(0,0,0,0),u}(),xt=function(u,c){return L.fromClientRect(u,c.getBoundingClientRect())},Bt=function(u){for(var c=[],d=0,f=u.length;d<f;){var b=u.charCodeAt(d++);if(b>=55296&&b<=56319&&d<f){var D=u.charCodeAt(d++);56320==(64512&D)?c.push(((1023&b)<<10)+(1023&D)+65536):(c.push(b),d--)}else c.push(b)}return c},gt=function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];if(String.fromCodePoint)return String.fromCodePoint.apply(String,u);var d=u.length;if(!d)return"";for(var f=[],b=-1,D="";++b<d;){var P=u[b];P<=65535?f.push(P):f.push(55296+((P-=65536)>>10),P%1024+56320),(b+1===d||f.length>16384)&&(D+=String.fromCharCode.apply(String,f),f.length=0)}return D},ft="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",st=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ot=0;Ot<64;Ot++)st[ft.charCodeAt(Ot)]=Ot;for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=typeof Uint8Array>"u"?[]:new Uint8Array(256),C=0;C<64;C++)m[o.charCodeAt(C)]=C;for(var gr=function(u,c,d){return u.slice?u.slice(c,d):new Uint16Array(Array.prototype.slice.call(u,c,d))},PA=function(){function u(c,d,f,b,D,P){this.initialValue=c,this.errorValue=d,this.highStart=f,this.highValueIndex=b,this.index=D,this.data=P}return u.prototype.get=function(c){var d;if(c>=0){if(c<55296||c>56319&&c<=65535)return this.data[d=((d=this.index[c>>5])<<2)+(31&c)];if(c<=65535)return this.data[d=((d=this.index[2048+(c-55296>>5)])<<2)+(31&c)];if(c<this.highStart)return d=this.index[d=2080+(c>>11)],this.data[d=((d=this.index[d+=c>>5&63])<<2)+(31&c)];if(c<=1114111)return this.data[this.highValueIndex]}return this.errorValue},u}(),Kt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",aA=typeof Uint8Array>"u"?[]:new Uint8Array(256),QA=0;QA<64;QA++)aA[Kt.charCodeAt(QA)]=QA;var d,f,b,P,z,Ae=10,jn=13,Zn=15,Fi=17,Ui=18,qi=19,to=20,ta=21,qn=22,rr=24,ue=25,Zt=26,xe=27,vt=28,cA=30,$A=32,MA=33,ae=34,pe=35,Je=37,Aa=38,ea=39,Ao=40,lc=42,zf=[9001,65288],TA="\xd7",_s=(d=function(u){var f,D,P,z,G,c=.75*u.length,d=u.length,b=0;"="===u[u.length-1]&&(c--,"="===u[u.length-2]&&c--);var ot=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(c):new Array(c),ut=Array.isArray(ot)?ot:new Uint8Array(ot);for(f=0;f<d;f+=4)D=m[u.charCodeAt(f)],P=m[u.charCodeAt(f+1)],z=m[u.charCodeAt(f+2)],G=m[u.charCodeAt(f+3)],ut[b++]=D<<2|P>>4,ut[b++]=(15&P)<<4|z>>2,ut[b++]=(3&z)<<6|63&G;return ot}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),f=Array.isArray(d)?function(u){for(var c=u.length,d=[],f=0;f<c;f+=4)d.push(u[f+3]<<24|u[f+2]<<16|u[f+1]<<8|u[f]);return d}(d):new Uint32Array(d),b=Array.isArray(d)?function(u){for(var c=u.length,d=[],f=0;f<c;f+=2)d.push(u[f+1]<<8|u[f]);return d}(d):new Uint16Array(d),P=gr(b,12,f[4]/2),z=2===f[5]?gr(b,(24+f[4])/2):function(u,c,d){return u.slice?u.slice(c,d):new Uint32Array(Array.prototype.slice.call(u,c,d))}(f,Math.ceil((24+f[4])/4)),new PA(f[0],f[1],f[2],f[3],P,z)),an=[cA,36],Nr=[1,2,3,5],uc=[Ae,8],hc=[xe,Zt],fc=Nr.concat(uc),dc=[Aa,ea,Ao,ae,pe],Xf=[Zn,jn],ro=function(u,c,d,f){var b=f[d];if(Array.isArray(u)?-1!==u.indexOf(b):u===b)for(var D=d;D<=f.length;){if((P=f[++D])===c)return!0;if(P!==Ae)break}if(b===Ae)for(D=d;D>0;){var z=f[--D];if(Array.isArray(u)?-1!==u.indexOf(z):u===z)for(var G=d;G<=f.length;){var P;if((P=f[++G])===c)return!0;if(P!==Ae)break}if(z!==Ae)break}return!1},gc=function(u,c){for(var d=u;d>=0;){var f=c[d];if(f!==Ae)return f;d--}return 0},pc=function(u,c,d,f,b){if(0===d[f])return TA;var D=f-1;if(Array.isArray(b)&&!0===b[D])return TA;var P=D-1,z=D+1,G=c[D],ot=P>=0?c[P]:0,ut=c[z];if(2===G&&3===ut)return TA;if(-1!==Nr.indexOf(G))return"!";if(-1!==Nr.indexOf(ut)||-1!==uc.indexOf(ut))return TA;if(8===gc(D,c))return"\xf7";if(11===_s.get(u[D])||(G===$A||G===MA)&&11===_s.get(u[z])||7===G||7===ut||9===G||-1===[Ae,jn,Zn].indexOf(G)&&9===ut||-1!==[Fi,Ui,qi,rr,vt].indexOf(ut)||gc(D,c)===qn||ro(23,qn,D,c)||ro([Fi,Ui],ta,D,c)||ro(12,12,D,c))return TA;if(G===Ae)return"\xf7";if(23===G||23===ut)return TA;if(16===ut||16===G)return"\xf7";if(-1!==[jn,Zn,ta].indexOf(ut)||14===G||36===ot&&-1!==Xf.indexOf(G)||G===vt&&36===ut||ut===to||-1!==an.indexOf(ut)&&G===ue||-1!==an.indexOf(G)&&ut===ue||G===xe&&-1!==[Je,$A,MA].indexOf(ut)||-1!==[Je,$A,MA].indexOf(G)&&ut===Zt||-1!==an.indexOf(G)&&-1!==hc.indexOf(ut)||-1!==hc.indexOf(G)&&-1!==an.indexOf(ut)||-1!==[xe,Zt].indexOf(G)&&(ut===ue||-1!==[qn,Zn].indexOf(ut)&&c[z+1]===ue)||-1!==[qn,Zn].indexOf(G)&&ut===ue||G===ue&&-1!==[ue,vt,rr].indexOf(ut))return TA;if(-1!==[ue,vt,rr,Fi,Ui].indexOf(ut))for(var mt=D;mt>=0;){if((Et=c[mt])===ue)return TA;if(-1===[vt,rr].indexOf(Et))break;mt--}if(-1!==[xe,Zt].indexOf(ut))for(mt=-1!==[Fi,Ui].indexOf(G)?P:D;mt>=0;){var Et;if((Et=c[mt])===ue)return TA;if(-1===[vt,rr].indexOf(Et))break;mt--}if(Aa===G&&-1!==[Aa,ea,ae,pe].indexOf(ut)||-1!==[ea,ae].indexOf(G)&&-1!==[ea,Ao].indexOf(ut)||-1!==[Ao,pe].indexOf(G)&&ut===Ao||-1!==dc.indexOf(G)&&-1!==[to,Zt].indexOf(ut)||-1!==dc.indexOf(ut)&&G===xe||-1!==an.indexOf(G)&&-1!==an.indexOf(ut)||G===rr&&-1!==an.indexOf(ut)||-1!==an.concat(ue).indexOf(G)&&ut===qn&&-1===zf.indexOf(u[z])||-1!==an.concat(ue).indexOf(ut)&&G===Ui)return TA;if(41===G&&41===ut){for(var jt=d[D],Nt=1;jt>0&&41===c[--jt];)Nt++;if(Nt%2!=0)return TA}return G===$A&&ut===MA?TA:"\xf7"},Yf=function(u,c){c||(c={lineBreak:"normal",wordBreak:"normal"});var d=function(u,c){void 0===c&&(c="strict");var d=[],f=[],b=[];return u.forEach(function(D,P){var z=_s.get(D);if(z>50?(b.push(!0),z-=50):b.push(!1),-1!==["normal","auto","loose"].indexOf(c)&&-1!==[8208,8211,12316,12448].indexOf(D))return f.push(P),d.push(16);if(4===z||11===z){if(0===P)return f.push(P),d.push(cA);var G=d[P-1];return-1===fc.indexOf(G)?(f.push(f[P-1]),d.push(G)):(f.push(P),d.push(cA))}return f.push(P),31===z?d.push("strict"===c?ta:Je):z===lc||29===z?d.push(cA):43===z?d.push(D>=131072&&D<=196605||D>=196608&&D<=262141?Je:cA):void d.push(z)}),[f,d,b]}(u,c.lineBreak),f=d[0],b=d[1],D=d[2];return("break-all"===c.wordBreak||"break-word"===c.wordBreak)&&(b=b.map(function(z){return-1!==[ue,cA,lc].indexOf(z)?Je:z})),[f,b,"keep-all"===c.wordBreak?D.map(function(z,G){return z&&u[G]>=19968&&u[G]<=40959}):void 0]},Jf=function(){function u(c,d,f,b){this.codePoints=c,this.required="!"===d,this.start=f,this.end=b}return u.prototype.slice=function(){return gt.apply(void 0,this.codePoints.slice(this.start,this.end))},u}(),ye=function(u){return u>=48&&u<=57},Ti=function(u){return ye(u)||u>=65&&u<=70||u>=97&&u<=102},lo=function(u){return 10===u||9===u||32===u},co=function(u){return function(u){return function(u){return u>=97&&u<=122}(u)||function(u){return u>=65&&u<=90}(u)}(u)||function(u){return u>=128}(u)||95===u},Tc=function(u){return co(u)||ye(u)||45===u},Fd=function(u){return u>=0&&u<=8||11===u||u>=14&&u<=31||127===u},bn=function(u,c){return 92===u&&10!==c},uo=function(u,c,d){return 45===u?co(c)||bn(c,d):!!co(u)||!(92!==u||!bn(u,c))},bs=function(u,c,d){return 43===u||45===u?!!ye(c)||46===c&&ye(d):ye(46===u?c:u)},Ud=function(u){var c=0,d=1;(43===u[c]||45===u[c])&&(45===u[c]&&(d=-1),c++);for(var f=[];ye(u[c]);)f.push(u[c++]);var b=f.length?parseInt(gt.apply(void 0,f),10):0;46===u[c]&&c++;for(var D=[];ye(u[c]);)D.push(u[c++]);var P=D.length,z=P?parseInt(gt.apply(void 0,D),10):0;(69===u[c]||101===u[c])&&c++;var G=1;(43===u[c]||45===u[c])&&(45===u[c]&&(G=-1),c++);for(var ot=[];ye(u[c]);)ot.push(u[c++]);var ut=ot.length?parseInt(gt.apply(void 0,ot),10):0;return d*(b+z*Math.pow(10,-P))*Math.pow(10,G*ut)},Ed={type:2},xd={type:3},Td={type:4},Id={type:13},Qs={type:8},Fs={type:21},sa={type:9},Dd={type:10},Md={type:11},kd={type:12},Hd={type:14},ho={type:23},Sd={type:1},Pd={type:25},Us={type:24},Ld={type:26},Od={type:27},Kd={type:28},Rd={type:29},ni={type:31},Es={type:32},Ic=function(){function u(){this._value=[]}return u.prototype.write=function(c){this._value=this._value.concat(Bt(c))},u.prototype.read=function(){for(var c=[],d=this.consumeToken();d!==Es;)c.push(d),d=this.consumeToken();return c},u.prototype.consumeToken=function(){var c=this.consumeCodePoint();switch(c){case 34:return this.consumeStringToken(34);case 35:var d=this.peekCodePoint(0),f=this.peekCodePoint(1),b=this.peekCodePoint(2);if(Tc(d)||bn(f,b)){var D=uo(d,f,b)?2:1;return{type:5,value:this.consumeName(),flags:D}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Id;break;case 39:return this.consumeStringToken(39);case 40:return Ed;case 41:return xd;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Hd;break;case 43:if(bs(c,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(c),this.consumeNumericToken();break;case 44:return Td;case 45:var z=c,G=this.peekCodePoint(0),ot=this.peekCodePoint(1);if(bs(z,G,ot))return this.reconsumeCodePoint(c),this.consumeNumericToken();if(uo(z,G,ot))return this.reconsumeCodePoint(c),this.consumeIdentLikeToken();if(45===G&&62===ot)return this.consumeCodePoint(),this.consumeCodePoint(),Us;break;case 46:if(bs(c,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(c),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var ut=this.consumeCodePoint();if(42===ut&&47===(ut=this.consumeCodePoint()))return this.consumeToken();if(-1===ut)return this.consumeToken()}break;case 58:return Ld;case 59:return Od;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),Pd;break;case 64:var mt=this.peekCodePoint(0),Et=this.peekCodePoint(1),jt=this.peekCodePoint(2);if(uo(mt,Et,jt))return{type:7,value:this.consumeName()};break;case 91:return Kd;case 92:if(bn(c,this.peekCodePoint(0)))return this.reconsumeCodePoint(c),this.consumeIdentLikeToken();break;case 93:return Rd;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Qs;break;case 123:return Md;case 125:return kd;case 117:case 85:var Nt=this.peekCodePoint(0),Vt=this.peekCodePoint(1);return 43===Nt&&(Ti(Vt)||63===Vt)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(c),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),sa;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),Fs;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Dd;break;case-1:return Es}return lo(c)?(this.consumeWhiteSpace(),ni):ye(c)?(this.reconsumeCodePoint(c),this.consumeNumericToken()):co(c)?(this.reconsumeCodePoint(c),this.consumeIdentLikeToken()):{type:6,value:gt(c)}},u.prototype.consumeCodePoint=function(){var c=this._value.shift();return typeof c>"u"?-1:c},u.prototype.reconsumeCodePoint=function(c){this._value.unshift(c)},u.prototype.peekCodePoint=function(c){return c>=this._value.length?-1:this._value[c]},u.prototype.consumeUnicodeRangeToken=function(){for(var c=[],d=this.consumeCodePoint();Ti(d)&&c.length<6;)c.push(d),d=this.consumeCodePoint();for(var f=!1;63===d&&c.length<6;)c.push(d),d=this.consumeCodePoint(),f=!0;if(f)return{type:30,start:parseInt(gt.apply(void 0,c.map(function(G){return 63===G?48:G})),16),end:parseInt(gt.apply(void 0,c.map(function(G){return 63===G?70:G})),16)};var P=parseInt(gt.apply(void 0,c),16);if(45===this.peekCodePoint(0)&&Ti(this.peekCodePoint(1))){this.consumeCodePoint(),d=this.consumeCodePoint();for(var z=[];Ti(d)&&z.length<6;)z.push(d),d=this.consumeCodePoint();return{type:30,start:P,end:parseInt(gt.apply(void 0,z),16)}}return{type:30,start:P,end:P}},u.prototype.consumeIdentLikeToken=function(){var c=this.consumeName();return"url"===c.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:c}):{type:20,value:c}},u.prototype.consumeUrlToken=function(){var c=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:22,value:""};var d=this.peekCodePoint(0);if(39===d||34===d){var f=this.consumeStringToken(this.consumeCodePoint());return 0===f.type&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:f.value}):(this.consumeBadUrlRemnants(),ho)}for(;;){var b=this.consumeCodePoint();if(-1===b||41===b)return{type:22,value:gt.apply(void 0,c)};if(lo(b))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:gt.apply(void 0,c)}):(this.consumeBadUrlRemnants(),ho);if(34===b||39===b||40===b||Fd(b))return this.consumeBadUrlRemnants(),ho;if(92===b){if(!bn(b,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),ho;c.push(this.consumeEscapedCodePoint())}else c.push(b)}},u.prototype.consumeWhiteSpace=function(){for(;lo(this.peekCodePoint(0));)this.consumeCodePoint()},u.prototype.consumeBadUrlRemnants=function(){for(;;){var c=this.consumeCodePoint();if(41===c||-1===c)return;bn(c,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},u.prototype.consumeStringSlice=function(c){for(var f="";c>0;){var b=Math.min(5e4,c);f+=gt.apply(void 0,this._value.splice(0,b)),c-=b}return this._value.shift(),f},u.prototype.consumeStringToken=function(c){for(var d="",f=0;;){var b=this._value[f];if(-1===b||void 0===b||b===c)return{type:0,value:d+=this.consumeStringSlice(f)};if(10===b)return this._value.splice(0,f),Sd;if(92===b){var D=this._value[f+1];-1!==D&&void 0!==D&&(10===D?(d+=this.consumeStringSlice(f),f=-1,this._value.shift()):bn(b,D)&&(d+=this.consumeStringSlice(f),d+=gt(this.consumeEscapedCodePoint()),f=-1))}f++}},u.prototype.consumeNumber=function(){var c=[],d=4,f=this.peekCodePoint(0);for((43===f||45===f)&&c.push(this.consumeCodePoint());ye(this.peekCodePoint(0));)c.push(this.consumeCodePoint());f=this.peekCodePoint(0);var b=this.peekCodePoint(1);if(46===f&&ye(b))for(c.push(this.consumeCodePoint(),this.consumeCodePoint()),d=8;ye(this.peekCodePoint(0));)c.push(this.consumeCodePoint());f=this.peekCodePoint(0),b=this.peekCodePoint(1);var D=this.peekCodePoint(2);if((69===f||101===f)&&((43===b||45===b)&&ye(D)||ye(b)))for(c.push(this.consumeCodePoint(),this.consumeCodePoint()),d=8;ye(this.peekCodePoint(0));)c.push(this.consumeCodePoint());return[Ud(c),d]},u.prototype.consumeNumericToken=function(){var c=this.consumeNumber(),d=c[0],f=c[1],b=this.peekCodePoint(0),D=this.peekCodePoint(1),P=this.peekCodePoint(2);return uo(b,D,P)?{type:15,number:d,flags:f,unit:this.consumeName()}:37===b?(this.consumeCodePoint(),{type:16,number:d,flags:f}):{type:17,number:d,flags:f}},u.prototype.consumeEscapedCodePoint=function(){var c=this.consumeCodePoint();if(Ti(c)){for(var d=gt(c);Ti(this.peekCodePoint(0))&&d.length<6;)d+=gt(this.consumeCodePoint());lo(this.peekCodePoint(0))&&this.consumeCodePoint();var f=parseInt(d,16);return 0===f||function(u){return u>=55296&&u<=57343}(f)||f>1114111?65533:f}return-1===c?65533:c},u.prototype.consumeName=function(){for(var c="";;){var d=this.consumeCodePoint();if(Tc(d))c+=gt(d);else{if(!bn(d,this.peekCodePoint(0)))return this.reconsumeCodePoint(d),c;c+=gt(this.consumeEscapedCodePoint())}}},u}(),Dc=function(){function u(c){this._tokens=c}return u.create=function(c){var d=new Ic;return d.write(c),new u(d.read())},u.parseValue=function(c){return u.create(c).parseComponentValue()},u.parseValues=function(c){return u.create(c).parseComponentValues()},u.prototype.parseComponentValue=function(){for(var c=this.consumeToken();31===c.type;)c=this.consumeToken();if(32===c.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(c);var d=this.consumeComponentValue();do{c=this.consumeToken()}while(31===c.type);if(32===c.type)return d;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},u.prototype.parseComponentValues=function(){for(var c=[];;){var d=this.consumeComponentValue();if(32===d.type)return c;c.push(d),c.push()}},u.prototype.consumeComponentValue=function(){var c=this.consumeToken();switch(c.type){case 11:case 28:case 2:return this.consumeSimpleBlock(c.type);case 19:return this.consumeFunction(c)}return c},u.prototype.consumeSimpleBlock=function(c){for(var d={type:c,values:[]},f=this.consumeToken();;){if(32===f.type||Nd(f,c))return d;this.reconsumeToken(f),d.values.push(this.consumeComponentValue()),f=this.consumeToken()}},u.prototype.consumeFunction=function(c){for(var d={name:c.value,values:[],type:18};;){var f=this.consumeToken();if(32===f.type||3===f.type)return d;this.reconsumeToken(f),d.values.push(this.consumeComponentValue())}},u.prototype.consumeToken=function(){var c=this._tokens.shift();return typeof c>"u"?Es:c},u.prototype.reconsumeToken=function(c){this._tokens.unshift(c)},u}(),la=function(u){return 15===u.type},ii=function(u){return 17===u.type},NA=function(u){return 20===u.type},Mc=function(u){return 0===u.type},fo=function(u,c){return NA(u)&&u.value===c},xs=function(u){return 31!==u.type},Ii=function(u){return 31!==u.type&&4!==u.type},Vr=function(u){var c=[],d=[];return u.forEach(function(f){if(4===f.type){if(0===d.length)throw new Error("Error parsing function args, zero tokens for arg");return c.push(d),void(d=[])}31!==f.type&&d.push(f)}),d.length&&c.push(d),c},Nd=function(u,c){return 11===c&&12===u.type||28===c&&29===u.type||2===c&&3===u.type},Qn=function(u){return 17===u.type||15===u.type},Be=function(u){return 16===u.type||Qn(u)},kc=function(u){return u.length>1?[u[0],u[1]]:[u[0]]},Te={type:17,number:0,flags:4},Ts={type:16,number:50,flags:4},Fn={type:16,number:100,flags:4},ca=function(u,c,d){var f=u[0],b=u[1];return[YA(f,c),YA(typeof b<"u"?b:f,d)]},YA=function(u,c){if(16===u.type)return u.number/100*c;if(la(u))switch(u.unit){case"rem":case"em":return 16*u.number;default:return u.number}return u.number},go_parse=function(u,c){if(15===c.type)switch(c.unit){case"deg":return Math.PI*c.number/180;case"grad":return Math.PI/200*c.number;case"rad":return c.number;case"turn":return 2*Math.PI*c.number}throw new Error("Unsupported angle type")},Oc=function(u){return 15===u.type&&("deg"===u.unit||"grad"===u.unit||"rad"===u.unit||"turn"===u.unit)},Kc=function(u){switch(u.filter(NA).map(function(d){return d.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Te,Te];case"to top":case"bottom":return Ge(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Te,Fn];case"to right":case"left":return Ge(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Fn,Fn];case"to bottom":case"top":return Ge(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Fn,Te];case"to left":case"right":return Ge(270)}return 0},Ge=function(u){return Math.PI*u/180},Un_parse=function(u,c){if(18===c.type){var d=Vd[c.name];if(typeof d>"u")throw new Error('Attempting to parse an unsupported color function "'+c.name+'"');return d(u,c.values)}if(5===c.type){if(3===c.value.length){var f=c.value.substring(0,1),b=c.value.substring(1,2),D=c.value.substring(2,3);return xn(parseInt(f+f,16),parseInt(b+b,16),parseInt(D+D,16),1)}if(4===c.value.length){f=c.value.substring(0,1),b=c.value.substring(1,2),D=c.value.substring(2,3);var P=c.value.substring(3,4);return xn(parseInt(f+f,16),parseInt(b+b,16),parseInt(D+D,16),parseInt(P+P,16)/255)}if(6===c.value.length)return f=c.value.substring(0,2),b=c.value.substring(2,4),D=c.value.substring(4,6),xn(parseInt(f,16),parseInt(b,16),parseInt(D,16),1);if(8===c.value.length)return f=c.value.substring(0,2),b=c.value.substring(2,4),D=c.value.substring(4,6),P=c.value.substring(6,8),xn(parseInt(f,16),parseInt(b,16),parseInt(D,16),parseInt(P,16)/255)}if(20===c.type){var z=on[c.value.toUpperCase()];if(typeof z<"u")return z}return on.TRANSPARENT},En=function(u){return!(255&u)},Fe=function(u){var c=255&u,d=255&u>>8,f=255&u>>16,b=255&u>>24;return c<255?"rgba("+b+","+f+","+d+","+c/255+")":"rgb("+b+","+f+","+d+")"},xn=function(u,c,d,f){return(u<<24|c<<16|d<<8|Math.round(255*f))>>>0},Rc=function(u,c){if(17===u.type)return u.number;if(16===u.type){var d=3===c?1:255;return 3===c?u.number/100*d:Math.round(u.number/100*d)}return 0},Nc=function(u,c){var d=c.filter(Ii);if(3===d.length){var f=d.map(Rc);return xn(f[0],f[1],f[2],1)}if(4===d.length){var z=d.map(Rc);return xn(z[0],z[1],z[2],z[3])}return 0};function Is(u,c,d){return d<0&&(d+=1),d>=1&&(d-=1),d<1/6?(c-u)*d*6+u:d<.5?c:d<2/3?6*(c-u)*(2/3-d)+u:u}var Vc=function(u,c){var d=c.filter(Ii),f=d[0],b=d[1],D=d[2],P=d[3],z=(17===f.type?Ge(f.number):go_parse(u,f))/(2*Math.PI),G=Be(b)?b.number/100:0,ot=Be(D)?D.number/100:0,ut=typeof P<"u"&&Be(P)?YA(P,1):1;if(0===G)return xn(255*ot,255*ot,255*ot,1);var mt=ot<=.5?ot*(G+1):ot+G-ot*G,Et=2*ot-mt,jt=Is(Et,mt,z+1/3),Nt=Is(Et,mt,z),Vt=Is(Et,mt,z-1/3);return xn(255*jt,255*Nt,255*Vt,ut)},Vd={hsl:Vc,hsla:Vc,rgb:Nc,rgba:Nc},ua=function(u,c){return Un_parse(u,Dc.create(c).parseComponentValue())},on={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Wd={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(u,c){return c.map(function(d){if(NA(d))switch(d.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Gd={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},po=function(u,c){var d=Un_parse(u,c[0]),f=c[1];return f&&Be(f)?{color:d,stop:f}:{color:d,stop:null}},Ds=function(u,c){var d=u[0],f=u[u.length-1];null===d.stop&&(d.stop=Te),null===f.stop&&(f.stop=Fn);for(var b=[],D=0,P=0;P<u.length;P++){var z=u[P].stop;if(null!==z){var G=YA(z,c);b.push(G>D?G:D),D=G}else b.push(null)}var ot=null;for(P=0;P<b.length;P++){var ut=b[P];if(null===ut)null===ot&&(ot=P);else if(null!==ot){for(var mt=P-ot,jt=(ut-b[ot-1])/(mt+1),Nt=1;Nt<=mt;Nt++)b[ot+Nt-1]=jt*Nt;ot=null}}return u.map(function(Vt,CA){return{color:Vt.color,stop:Math.max(Math.min(1,b[CA]/c),0)}})},Xd=function(u,c,d){var f="number"==typeof u?u:function(u,c,d){var f=c/2,b=d/2,D=YA(u[0],c)-f,P=b-YA(u[1],d);return(Math.atan2(P,D)+2*Math.PI)%(2*Math.PI)}(u,c,d),b=Math.abs(c*Math.sin(f))+Math.abs(d*Math.cos(f)),D=c/2,P=d/2,z=b/2,G=Math.sin(f-Math.PI/2)*z,ot=Math.cos(f-Math.PI/2)*z;return[b,D-ot,D+ot,P-G,P+G]},Fr=function(u,c){return Math.sqrt(u*u+c*c)},Wc=function(u,c,d,f,b){return[[0,0],[0,c],[u,0],[u,c]].reduce(function(P,z){var ut=Fr(d-z[0],f-z[1]);return(b?ut<P.optimumDistance:ut>P.optimumDistance)?{optimumCorner:z,optimumDistance:ut}:P},{optimumDistance:b?1/0:-1/0,optimumCorner:null}).optimumCorner},ha=function(u,c){var d=Ge(180),f=[];return Vr(c).forEach(function(b,D){if(0===D){var P=b[0];if(20===P.type&&-1!==["top","left","right","bottom"].indexOf(P.value))return void(d=Kc(b));if(Oc(P))return void(d=(go_parse(u,P)+Ge(270))%Ge(360))}var z=po(u,b);f.push(z)}),{angle:d,stops:f,type:1}},ai="closest-side",Ie="farthest-side",Gc="closest-corner",Di="farthest-corner",oi="ellipse",da="contain",Tn=function(u,c){var d=0,f=3,b=[],D=[];return Vr(c).forEach(function(P,z){var G=!0;if(0===z?G=P.reduce(function(ut,mt){if(NA(mt))switch(mt.value){case"center":return D.push(Ts),!1;case"top":case"left":return D.push(Te),!1;case"right":case"bottom":return D.push(Fn),!1}else if(Be(mt)||Qn(mt))return D.push(mt),!1;return ut},G):1===z&&(G=P.reduce(function(ut,mt){if(NA(mt))switch(mt.value){case"circle":return d=0,!1;case oi:return d=1,!1;case da:case ai:return f=0,!1;case Ie:return f=1,!1;case Gc:return f=2,!1;case"cover":case Di:return f=3,!1}else if(Qn(mt)||Be(mt))return Array.isArray(f)||(f=[]),f.push(mt),!1;return ut},G)),G){var ot=po(u,P);b.push(ot)}}),{size:f,shape:d,stops:b,position:D,type:2}},Dn_parse=function(u,c){if(22===c.type){var d={url:c.value,type:0};return u.cache.addImage(c.value),d}if(18===c.type){var f=Hi[c.name];if(typeof f>"u")throw new Error('Attempting to parse an unsupported image function "'+c.name+'"');return f(u,c.values)}throw new Error("Unsupported image type "+c.type)};for(var Hi={"linear-gradient":function(u,c){var d=Ge(180),f=[];return Vr(c).forEach(function(b,D){if(0===D){var P=b[0];if(20===P.type&&"to"===P.value)return void(d=Kc(b));if(Oc(P))return void(d=go_parse(u,P))}var z=po(u,b);f.push(z)}),{angle:d,stops:f,type:1}},"-moz-linear-gradient":ha,"-ms-linear-gradient":ha,"-o-linear-gradient":ha,"-webkit-linear-gradient":ha,"radial-gradient":function(u,c){var d=0,f=3,b=[],D=[];return Vr(c).forEach(function(P,z){var G=!0;if(0===z){var ot=!1;G=P.reduce(function(mt,Et){if(ot)if(NA(Et))switch(Et.value){case"center":return D.push(Ts),mt;case"top":case"left":return D.push(Te),mt;case"right":case"bottom":return D.push(Fn),mt}else(Be(Et)||Qn(Et))&&D.push(Et);else if(NA(Et))switch(Et.value){case"circle":return d=0,!1;case oi:return d=1,!1;case"at":return ot=!0,!1;case ai:return f=0,!1;case"cover":case Ie:return f=1,!1;case da:case Gc:return f=2,!1;case Di:return f=3,!1}else if(Qn(Et)||Be(Et))return Array.isArray(f)||(f=[]),f.push(Et),!1;return mt},G)}if(G){var ut=po(u,P);b.push(ut)}}),{size:f,shape:d,stops:b,position:D,type:2}},"-moz-radial-gradient":Tn,"-ms-radial-gradient":Tn,"-o-radial-gradient":Tn,"-webkit-radial-gradient":Tn,"-webkit-gradient":function(u,c){var d=Ge(180),f=[],b=1;return Vr(c).forEach(function(G,ot){var ut=G[0];if(0===ot){if(NA(ut)&&"linear"===ut.value)return void(b=1);if(NA(ut)&&"radial"===ut.value)return void(b=2)}if(18===ut.type)if("from"===ut.name){var mt=Un_parse(u,ut.values[0]);f.push({stop:Te,color:mt})}else if("to"===ut.name)mt=Un_parse(u,ut.values[0]),f.push({stop:Fn,color:mt});else if("color-stop"===ut.name){var Et=ut.values.filter(Ii);if(2===Et.length){mt=Un_parse(u,Et[1]);var jt=Et[0];ii(jt)&&f.push({stop:{type:16,number:100*jt.number,flags:jt.flags},color:mt})}}}),1===b?{angle:(d+Ge(180))%Ge(360),stops:f,type:b}:{size:3,shape:0,stops:f,position:[],type:b}}},Wr={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(u,c){if(0===c.length)return[];var d=c[0];return 20===d.type&&"none"===d.value?[]:c.filter(function(f){return Ii(f)&&function ki(u){return!(20===u.type&&"none"===u.value||18===u.type&&!Hi[u.name])}(f)}).map(function(f){return Dn_parse(u,f)})}},Yd={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(u,c){return c.map(function(d){if(NA(d))switch(d.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Jd={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(u,c){return Vr(c).map(function(d){return d.filter(Be)}).map(kc)}},jd={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(u,c){return Vr(c).map(function(d){return d.filter(NA).map(function(f){return f.value}).join(" ")}).map(Zd)}},Zd=function(u){switch(u){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},ga=function(u){return u.AUTO="auto",u.CONTAIN="contain",u.COVER="cover",u}(ga||{}),qd={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(u,c){return Vr(c).map(function(d){return d.filter(tg)})}},tg=function(u){return NA(u)||Be(u)},pa=function(u){return{name:"border-"+u+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},zc=pa("top"),Ag=pa("right"),eg=pa("bottom"),Xc=pa("left"),Ur=function(u){return{name:"border-radius-"+u,initialValue:"0 0",prefix:!1,type:1,parse:function(c,d){return kc(d.filter(Be))}}},$c=Ur("top-left"),mo=Ur("top-right"),ks=Ur("bottom-right"),Si=Ur("bottom-left"),he=function(u){return{name:"border-"+u+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(c,d){switch(d){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Yc=he("top"),rg=he("right"),Jc=he("bottom"),wo=he("left"),Gr=function(u){return{name:"border-"+u+"-width",initialValue:"0",type:0,prefix:!1,parse:function(c,d){return la(d)?d.number:0}}},li=Gr("top"),jc=Gr("right"),Zc=Gr("bottom"),_o=Gr("left"),Er={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},qc={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(u,c){return"rtl"===c?1:0}},Co={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(u,c){return c.filter(NA).reduce(function(d,f){return d|Hs(f.value)},0)}},Hs=function(u){switch(u){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},tu={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(u,c){switch(c){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Au={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(u,c){return 20===c.type&&"normal"===c.value?0:17===c.type||15===c.type?c.number:0}},vo=function(u){return u.NORMAL="normal",u.STRICT="strict",u}(vo||{}),yo={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(u,c){return"strict"===c?vo.STRICT:vo.NORMAL}},eu={name:"line-height",initialValue:"normal",prefix:!1,type:4},ru=function(u,c){return NA(u)&&"normal"===u.value?1.2*c:17===u.type?c*u.number:Be(u)?YA(u,c):c},bo={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(u,c){return 20===c.type&&"none"===c.value?null:Dn_parse(u,c)}},ng={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(u,c){return"inside"===c?0:1}},me={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(u,c){switch(c){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Mn=function(u){return{name:"margin-"+u,initialValue:"0",prefix:!1,type:4}},nu=Mn("top"),iu=Mn("right"),ig=Mn("bottom"),Ss=Mn("left"),au={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(u,c){return c.filter(NA).map(function(d){switch(d.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},ag={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(u,c){return"break-word"===c?"break-word":"normal"}},Ba=function(u){return{name:"padding-"+u,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},ou=Ba("top"),Br=Ba("right"),su=Ba("bottom"),Ps=Ba("left"),Ls={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(u,c){switch(c){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},og={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(u,c){switch(c){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},sg={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(u,c){return 1===c.length&&fo(c[0],"none")?[]:Vr(c).map(function(d){for(var f={color:on.TRANSPARENT,offsetX:Te,offsetY:Te,blur:Te},b=0,D=0;D<d.length;D++){var P=d[D];Qn(P)?(0===b?f.offsetX=P:1===b?f.offsetY=P:f.blur=P,b++):f.color=Un_parse(u,P)}return f})}},Os={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(u,c){switch(c){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},kn={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(u,c){if(20===c.type&&"none"===c.value)return null;if(18===c.type){var d=Pi[c.name];if(typeof d>"u")throw new Error('Attempting to parse an unsupported transform function "'+c.name+'"');return d(c.values)}return null}},Pi={matrix:function(u){var c=u.filter(function(d){return 17===d.type}).map(function(d){return d.number});return 6===c.length?c:null},matrix3d:function(u){var c=u.filter(function(G){return 17===G.type}).map(function(G){return G.number});return 16===c.length?[c[0],c[1],c[4],c[5],c[12],c[13]]:null}},Li={type:16,number:50,flags:4},ma=[Li,Li],cu={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(u,c){var d=c.filter(Be);return 2!==d.length?ma:[d[0],d[1]]}},Qo={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(u,c){switch(c){case"hidden":return 1;case"collapse":return 2;default:return 0}}},Hn=function(u){return u.NORMAL="normal",u.BREAK_ALL="break-all",u.KEEP_ALL="keep-all",u}(Hn||{}),Fo={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(u,c){switch(c){case"break-all":return Hn.BREAK_ALL;case"keep-all":return Hn.KEEP_ALL;default:return Hn.NORMAL}}},ci={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(u,c){if(20===c.type)return{auto:!0,order:0};if(ii(c))return{auto:!1,order:c.number};throw new Error("Invalid z-index number parsed")}},wa={name:"time",parse:function(u,c){if(15===c.type)switch(c.unit.toLowerCase()){case"s":return 1e3*c.number;case"ms":return c.number}throw new Error("Unsupported time type")}},_a={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(u,c){return ii(c)?c.number:1}},uu={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ca={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(u,c){return c.filter(NA).map(function(d){switch(d.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(d){return 0!==d})}},lg={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(u,c){var d=[],f=[];return c.forEach(function(b){switch(b.type){case 20:case 0:d.push(b.value);break;case 17:d.push(b.number.toString());break;case 4:f.push(d.join(" ")),d.length=0}}),d.length&&f.push(d.join(" ")),f.map(function(b){return-1===b.indexOf(" ")?b:"'"+b+"'"})}},va={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Uo={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(u,c){return ii(c)?c.number:NA(c)&&"bold"===c.value?700:400}},hu={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(u,c){return c.filter(NA).map(function(d){return d.value})}},fu={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(u,c){switch(c){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},be=function(u,c){return!!(u&c)},cg={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(u,c){if(0===c.length)return[];var d=c[0];return 20===d.type&&"none"===d.value?[]:c}},Ks={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(u,c){if(0===c.length)return null;var d=c[0];if(20===d.type&&"none"===d.value)return null;for(var f=[],b=c.filter(xs),D=0;D<b.length;D++){var P=b[D],z=b[D+1];if(20===P.type){var G=z&&ii(z)?z.number:1;f.push({counter:P.value,increment:G})}}return f}},Rs={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(u,c){if(0===c.length)return[];for(var d=[],f=c.filter(xs),b=0;b<f.length;b++){var D=f[b],P=f[b+1];if(NA(D)&&"none"!==D.value){var z=P&&ii(P)?P.number:0;d.push({counter:D.value,reset:z})}}return d}},ug={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(u,c){return c.filter(la).map(function(d){return wa.parse(u,d)})}},hg={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(u,c){if(0===c.length)return null;var d=c[0];if(20===d.type&&"none"===d.value)return null;var f=[],b=c.filter(Mc);if(b.length%2!=0)return null;for(var D=0;D<b.length;D+=2)f.push({open:b[D].value,close:b[D+1].value});return f}},Ns=function(u,c,d){if(!u)return"";var f=u[Math.min(c,u.length-1)];return f?d?f.open:f.close:""},Vs={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(u,c){return 1===c.length&&fo(c[0],"none")?[]:Vr(c).map(function(d){for(var f={color:255,offsetX:Te,offsetY:Te,blur:Te,spread:Te,inset:!1},b=0,D=0;D<d.length;D++){var P=d[D];fo(P,"inset")?f.inset=!0:Qn(P)?(0===b?f.offsetX=P:1===b?f.offsetY=P:2===b?f.blur=P:f.spread=P,b++):f.color=Un_parse(u,P)}return f})}},Ws={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(u,c){var f=[];return c.filter(NA).forEach(function(b){switch(b.value){case"stroke":f.push(1);break;case"fill":f.push(0);break;case"markers":f.push(2)}}),[0,1,2].forEach(function(b){-1===f.indexOf(b)&&f.push(b)}),f}},Eo={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},du={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(u,c){return la(c)?c.number:0}},Gs=function(){function u(c,d){var f,b;this.animationDuration=qt(c,ug,d.animationDuration),this.backgroundClip=qt(c,Wd,d.backgroundClip),this.backgroundColor=qt(c,Gd,d.backgroundColor),this.backgroundImage=qt(c,Wr,d.backgroundImage),this.backgroundOrigin=qt(c,Yd,d.backgroundOrigin),this.backgroundPosition=qt(c,Jd,d.backgroundPosition),this.backgroundRepeat=qt(c,jd,d.backgroundRepeat),this.backgroundSize=qt(c,qd,d.backgroundSize),this.borderTopColor=qt(c,zc,d.borderTopColor),this.borderRightColor=qt(c,Ag,d.borderRightColor),this.borderBottomColor=qt(c,eg,d.borderBottomColor),this.borderLeftColor=qt(c,Xc,d.borderLeftColor),this.borderTopLeftRadius=qt(c,$c,d.borderTopLeftRadius),this.borderTopRightRadius=qt(c,mo,d.borderTopRightRadius),this.borderBottomRightRadius=qt(c,ks,d.borderBottomRightRadius),this.borderBottomLeftRadius=qt(c,Si,d.borderBottomLeftRadius),this.borderTopStyle=qt(c,Yc,d.borderTopStyle),this.borderRightStyle=qt(c,rg,d.borderRightStyle),this.borderBottomStyle=qt(c,Jc,d.borderBottomStyle),this.borderLeftStyle=qt(c,wo,d.borderLeftStyle),this.borderTopWidth=qt(c,li,d.borderTopWidth),this.borderRightWidth=qt(c,jc,d.borderRightWidth),this.borderBottomWidth=qt(c,Zc,d.borderBottomWidth),this.borderLeftWidth=qt(c,_o,d.borderLeftWidth),this.boxShadow=qt(c,Vs,d.boxShadow),this.color=qt(c,Er,d.color),this.direction=qt(c,qc,d.direction),this.display=qt(c,Co,d.display),this.float=qt(c,tu,d.cssFloat),this.fontFamily=qt(c,lg,d.fontFamily),this.fontSize=qt(c,va,d.fontSize),this.fontStyle=qt(c,fu,d.fontStyle),this.fontVariant=qt(c,hu,d.fontVariant),this.fontWeight=qt(c,Uo,d.fontWeight),this.letterSpacing=qt(c,Au,d.letterSpacing),this.lineBreak=qt(c,yo,d.lineBreak),this.lineHeight=qt(c,eu,d.lineHeight),this.listStyleImage=qt(c,bo,d.listStyleImage),this.listStylePosition=qt(c,ng,d.listStylePosition),this.listStyleType=qt(c,me,d.listStyleType),this.marginTop=qt(c,nu,d.marginTop),this.marginRight=qt(c,iu,d.marginRight),this.marginBottom=qt(c,ig,d.marginBottom),this.marginLeft=qt(c,Ss,d.marginLeft),this.opacity=qt(c,_a,d.opacity);var D=qt(c,au,d.overflow);this.overflowX=D[0],this.overflowY=D[D.length>1?1:0],this.overflowWrap=qt(c,ag,d.overflowWrap),this.paddingTop=qt(c,ou,d.paddingTop),this.paddingRight=qt(c,Br,d.paddingRight),this.paddingBottom=qt(c,su,d.paddingBottom),this.paddingLeft=qt(c,Ps,d.paddingLeft),this.paintOrder=qt(c,Ws,d.paintOrder),this.position=qt(c,og,d.position),this.textAlign=qt(c,Ls,d.textAlign),this.textDecorationColor=qt(c,uu,null!==(f=d.textDecorationColor)&&void 0!==f?f:d.color),this.textDecorationLine=qt(c,Ca,null!==(b=d.textDecorationLine)&&void 0!==b?b:d.textDecoration),this.textShadow=qt(c,sg,d.textShadow),this.textTransform=qt(c,Os,d.textTransform),this.transform=qt(c,kn,d.transform),this.transformOrigin=qt(c,cu,d.transformOrigin),this.visibility=qt(c,Qo,d.visibility),this.webkitTextStrokeColor=qt(c,Eo,d.webkitTextStrokeColor),this.webkitTextStrokeWidth=qt(c,du,d.webkitTextStrokeWidth),this.wordBreak=qt(c,Fo,d.wordBreak),this.zIndex=qt(c,ci,d.zIndex)}return u.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},u.prototype.isTransparent=function(){return En(this.backgroundColor)},u.prototype.isTransformed=function(){return null!==this.transform},u.prototype.isPositioned=function(){return 0!==this.position},u.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},u.prototype.isFloating=function(){return 0!==this.float},u.prototype.isInlineLevel=function(){return be(this.display,4)||be(this.display,33554432)||be(this.display,268435456)||be(this.display,536870912)||be(this.display,67108864)||be(this.display,134217728)},u}(),xo=function(){return function u(c,d){this.content=qt(c,cg,d.content),this.quotes=qt(c,hg,d.quotes)}}(),ya=function(){return function u(c,d){this.counterIncrement=qt(c,Ks,d.counterIncrement),this.counterReset=qt(c,Rs,d.counterReset)}}(),qt=function(u,c,d){var f=new Ic,b=null!==d&&typeof d<"u"?d.toString():c.initialValue;f.write(b);var D=new Dc(f.read());switch(c.type){case 2:var P=D.parseComponentValue();return c.parse(u,NA(P)?P.value:c.initialValue);case 0:return c.parse(u,D.parseComponentValue());case 1:return c.parse(u,D.parseComponentValues());case 4:return D.parseComponentValue();case 3:switch(c.format){case"angle":return go_parse(u,D.parseComponentValue());case"color":return Un_parse(u,D.parseComponentValue());case"image":return Dn_parse(u,D.parseComponentValue());case"length":var z=D.parseComponentValue();return Qn(z)?z:Te;case"length-percentage":var G=D.parseComponentValue();return Be(G)?G:Te;case"time":return wa.parse(u,D.parseComponentValue())}}},zs=function(u,c){var d=function(u){switch(u.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(u);return 1===d||c===d},Le=function(){return function u(c,d){this.context=c,this.textNodes=[],this.elements=[],this.flags=0,zs(d,3),this.styles=new Gs(c,window.getComputedStyle(d,null)),ol(d)&&(this.styles.animationDuration.some(function(f){return f>0})&&(d.style.animationDuration="0s"),null!==this.styles.transform&&(d.style.transform="none")),this.bounds=xt(this.context,d),zs(d,4)&&(this.flags|=16)}}(),Xs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ui=typeof Uint8Array>"u"?[]:new Uint8Array(256),ba=0;ba<64;ba++)ui[Xs.charCodeAt(ba)]=ba;for(var Bu=function(u,c,d){return u.slice?u.slice(c,d):new Uint16Array(Array.prototype.slice.call(u,c,d))},Ug=function(){function u(c,d,f,b,D,P){this.initialValue=c,this.errorValue=d,this.highStart=f,this.highValueIndex=b,this.index=D,this.data=P}return u.prototype.get=function(c){var d;if(c>=0){if(c<55296||c>56319&&c<=65535)return this.data[d=((d=this.index[c>>5])<<2)+(31&c)];if(c<=65535)return this.data[d=((d=this.index[2048+(c-55296>>5)])<<2)+(31&c)];if(c<this.highStart)return d=this.index[d=2080+(c>>11)],this.data[d=((d=this.index[d+=c>>5&63])<<2)+(31&c)];if(c<=1114111)return this.data[this.highValueIndex]}return this.errorValue},u}(),mu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Eg=typeof Uint8Array>"u"?[]:new Uint8Array(256),Mo=0;Mo<64;Mo++)Eg[mu.charCodeAt(Mo)]=Mo;var Cu=8,Js=9,vu=11,yu=12,Dg=function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];if(String.fromCodePoint)return String.fromCodePoint.apply(String,u);var d=u.length;if(!d)return"";for(var f=[],b=-1,D="";++b<d;){var P=u[b];P<=65535?f.push(P):f.push(55296+((P-=65536)>>10),P%1024+56320),(b+1===d||f.length>16384)&&(D+=String.fromCharCode.apply(String,f),f.length=0)}return D},Mg=function(u){var d=function(u){var f,D,P,z,G,c=.75*u.length,d=u.length,b=0;"="===u[u.length-1]&&(c--,"="===u[u.length-2]&&c--);var ot=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(c):new Array(c),ut=Array.isArray(ot)?ot:new Uint8Array(ot);for(f=0;f<d;f+=4)D=ui[u.charCodeAt(f)],P=ui[u.charCodeAt(f+1)],z=ui[u.charCodeAt(f+2)],G=ui[u.charCodeAt(f+3)],ut[b++]=D<<2|P>>4,ut[b++]=(15&P)<<4|z>>2,ut[b++]=(3&z)<<6|63&G;return ot}(u),f=Array.isArray(d)?function(u){for(var c=u.length,d=[],f=0;f<c;f+=4)d.push(u[f+3]<<24|u[f+2]<<16|u[f+1]<<8|u[f]);return d}(d):new Uint32Array(d),b=Array.isArray(d)?function(u){for(var c=u.length,d=[],f=0;f<c;f+=2)d.push(u[f+1]<<8|u[f]);return d}(d):new Uint16Array(d),P=Bu(b,12,f[4]/2),z=2===f[5]?Bu(b,(24+f[4])/2):function(u,c,d){return u.slice?u.slice(c,d):new Uint32Array(Array.prototype.slice.call(u,c,d))}(f,Math.ceil((24+f[4])/4));return new Ug(f[0],f[1],f[2],f[3],P,z)}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),kg=function(u){return Mg.get(u)},Fu=function(u,c,d){var f=d-2,b=c[f],D=c[d-1],P=c[d];if(2===D&&3===P)return"\xd7";if(2===D||3===D||4===D||2===P||3===P||4===P)return"\xf7";if(D===Cu&&-1!==[Cu,Js,vu,yu].indexOf(P)||(D===vu||D===Js)&&(P===Js||10===P)||(D===yu||10===D)&&10===P||13===P||5===P||7===P||1===D)return"\xd7";if(13===D&&14===P){for(;5===b;)b=c[--f];if(14===b)return"\xd7"}if(15===D&&15===P){for(var z=0;15===b;)z++,b=c[--f];if(z%2==0)return"\xd7"}return"\xf7"},Hg=function(u){var c=function(u){for(var c=[],d=0,f=u.length;d<f;){var b=u.charCodeAt(d++);if(b>=55296&&b<=56319&&d<f){var D=u.charCodeAt(d++);56320==(64512&D)?c.push(((1023&b)<<10)+(1023&D)+65536):(c.push(b),d--)}else c.push(b)}return c}(u),d=c.length,f=0,b=0,D=c.map(kg);return{next:function(){if(f>=d)return{done:!0,value:null};for(var P="\xd7";f<d&&"\xd7"===(P=Fu(0,D,++f)););if("\xd7"!==P||f===d){var z=Dg.apply(null,c.slice(b,f));return b=f,{value:z,done:!1}}return{done:!0,value:null}}}},Uu=function(u){return 0===u[0]&&255===u[1]&&0===u[2]&&255===u[3]},tl=function(u,c,d,f,b){var D="http://www.w3.org/2000/svg",P=document.createElementNS(D,"svg"),z=document.createElementNS(D,"foreignObject");return P.setAttributeNS(null,"width",u.toString()),P.setAttributeNS(null,"height",c.toString()),z.setAttributeNS(null,"width","100%"),z.setAttributeNS(null,"height","100%"),z.setAttributeNS(null,"x",d.toString()),z.setAttributeNS(null,"y",f.toString()),z.setAttributeNS(null,"externalResourcesRequired","true"),P.appendChild(z),z.appendChild(b),P},Eu=function(u){return new Promise(function(c,d){var f=new Image;f.onload=function(){return c(f)},f.onerror=d,f.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(u))})},De={get SUPPORT_RANGE_BOUNDS(){var u=function(u){if(u.createRange){var d=u.createRange();if(d.getBoundingClientRect){var f=u.createElement("boundtest");f.style.height="123px",f.style.display="block",u.body.appendChild(f),d.selectNode(f);var b=d.getBoundingClientRect(),D=Math.round(b.height);if(u.body.removeChild(f),123===D)return!0}}return!1}(document);return Object.defineProperty(De,"SUPPORT_RANGE_BOUNDS",{value:u}),u},get SUPPORT_WORD_BREAKING(){var u=De.SUPPORT_RANGE_BOUNDS&&function(u){var c=u.createElement("boundtest");c.style.width="50px",c.style.display="block",c.style.fontSize="12px",c.style.letterSpacing="0px",c.style.wordSpacing="0px",u.body.appendChild(c);var d=u.createRange();c.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var f=c.firstChild,b=Bt(f.data).map(function(G){return gt(G)}),D=0,P={},z=b.every(function(G,ot){d.setStart(f,D),d.setEnd(f,D+G.length);var ut=d.getBoundingClientRect();D+=G.length;var mt=ut.x>P.x||ut.y>P.y;return P=ut,0===ot||mt});return u.body.removeChild(c),z}(document);return Object.defineProperty(De,"SUPPORT_WORD_BREAKING",{value:u}),u},get SUPPORT_SVG_DRAWING(){var u=function(u){var c=new Image,d=u.createElement("canvas"),f=d.getContext("2d");if(!f)return!1;c.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{f.drawImage(c,0,0),d.toDataURL()}catch{return!1}return!0}(document);return Object.defineProperty(De,"SUPPORT_SVG_DRAWING",{value:u}),u},get SUPPORT_FOREIGNOBJECT_DRAWING(){var u="function"==typeof Array.from&&"function"==typeof window.fetch?function(u){var c=u.createElement("canvas"),d=100;c.width=d,c.height=d;var f=c.getContext("2d");if(!f)return Promise.reject(!1);f.fillStyle="rgb(0, 255, 0)",f.fillRect(0,0,d,d);var b=new Image,D=c.toDataURL();b.src=D;var P=tl(d,d,0,0,b);return f.fillStyle="red",f.fillRect(0,0,d,d),Eu(P).then(function(z){f.drawImage(z,0,0);var G=f.getImageData(0,0,d,d).data;f.fillStyle="red",f.fillRect(0,0,d,d);var ot=u.createElement("div");return ot.style.backgroundImage="url("+D+")",ot.style.height=d+"px",Uu(G)?Eu(tl(d,d,0,0,ot)):Promise.reject(!1)}).then(function(z){return f.drawImage(z,0,0),Uu(f.getImageData(0,0,d,d).data)}).catch(function(){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(De,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:u}),u},get SUPPORT_CORS_IMAGES(){var u=typeof(new Image).crossOrigin<"u";return Object.defineProperty(De,"SUPPORT_CORS_IMAGES",{value:u}),u},get SUPPORT_RESPONSE_TYPE(){var u="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(De,"SUPPORT_RESPONSE_TYPE",{value:u}),u},get SUPPORT_CORS_XHR(){var u="withCredentials"in new XMLHttpRequest;return Object.defineProperty(De,"SUPPORT_CORS_XHR",{value:u}),u},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var u=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(De,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:u}),u}},Fa=function(){return function u(c,d){this.text=c,this.bounds=d}}(),Wg=function(u,c){var d=c.ownerDocument;if(d){var f=d.createElement("html2canvaswrapper");f.appendChild(c.cloneNode(!0));var b=c.parentNode;if(b){b.replaceChild(f,c);var D=xt(u,f);return f.firstChild&&b.replaceChild(f.firstChild,f),D}}return L.EMPTY},xu=function(u,c,d){var f=u.ownerDocument;if(!f)throw new Error("Node has no owner document");var b=f.createRange();return b.setStart(u,c),b.setEnd(u,c+d),b},wr=function(u){if(De.SUPPORT_NATIVE_TEXT_SEGMENTATION){var c=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(c.segment(u)).map(function(d){return d.segment})}return function(u){for(var f,c=Hg(u),d=[];!(f=c.next()).done;)f.value&&d.push(f.value.slice());return d}(u)},Iu=function(u,c){return 0!==c.letterSpacing?wr(u):function(u,c){if(De.SUPPORT_NATIVE_TEXT_SEGMENTATION){var d=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(d.segment(u)).map(function(f){return f.segment})}return Gg(u,c)}(u,c)},sn=[32,160,4961,65792,65793,4153,4241],Gg=function(u,c){for(var b,d=function(u,c){var d=Bt(u),f=Yf(d,c),b=f[0],D=f[1],P=f[2],z=d.length,G=0,ot=0;return{next:function(){if(ot>=z)return{done:!0,value:null};for(var ut=TA;ot<z&&(ut=pc(d,D,b,++ot,P))===TA;);if(ut!==TA||ot===z){var mt=new Jf(d,ut,G,ot);return G=ot,{value:mt,done:!1}}return{done:!0,value:null}}}}(u,{lineBreak:c.lineBreak,wordBreak:"break-word"===c.overflowWrap?"break-word":c.wordBreak}),f=[],D=function(){if(b.value){var P=b.value.slice(),z=Bt(P),G="";z.forEach(function(ot){-1===sn.indexOf(ot)?G+=gt(ot):(G.length&&f.push(G),f.push(gt(ot)),G="")}),G.length&&f.push(G)}};!(b=d.next()).done;)D();return f},zg=function(){return function u(c,d,f){this.text=Al(d.data,f.textTransform),this.textBounds=function(u,c,d,f){var b=Iu(c,d),D=[],P=0;return b.forEach(function(z){if(d.textDecorationLine.length||z.trim().length>0)if(De.SUPPORT_RANGE_BOUNDS){var G=xu(f,P,z.length).getClientRects();if(G.length>1){var ot=wr(z),ut=0;ot.forEach(function(Et){D.push(new Fa(Et,L.fromDOMRectList(u,xu(f,ut+P,Et.length).getClientRects()))),ut+=Et.length})}else D.push(new Fa(z,L.fromDOMRectList(u,G)))}else{var mt=f.splitText(z.length);D.push(new Fa(z,Wg(u,f))),f=mt}else De.SUPPORT_RANGE_BOUNDS||(f=f.splitText(z.length));P+=z.length}),D}(c,this.text,f,d)}}(),Al=function(u,c){switch(c){case 1:return u.toLowerCase();case 3:return u.replace(Xg,$g);case 2:return u.toUpperCase();default:return u}},Xg=/(^|\s|:|-|\(|\))([a-z])/g,$g=function(u,c,d){return u.length>0?c+d.toUpperCase():u},Du=function(u){function c(d,f){var b=u.call(this,d,f)||this;return b.src=f.currentSrc||f.src,b.intrinsicWidth=f.naturalWidth,b.intrinsicHeight=f.naturalHeight,b.context.cache.addImage(b.src),b}return $(c,u),c}(Le),Mu=function(u){function c(d,f){var b=u.call(this,d,f)||this;return b.canvas=f,b.intrinsicWidth=f.width,b.intrinsicHeight=f.height,b}return $(c,u),c}(Le),ku=function(u){function c(d,f){var b=u.call(this,d,f)||this,D=new XMLSerializer,P=xt(d,f);return f.setAttribute("width",P.width+"px"),f.setAttribute("height",P.height+"px"),b.svg="data:image/svg+xml,"+encodeURIComponent(D.serializeToString(f)),b.intrinsicWidth=f.width.baseVal.value,b.intrinsicHeight=f.height.baseVal.value,b.context.cache.addImage(b.svg),b}return $(c,u),c}(Le),ko=function(u){function c(d,f){var b=u.call(this,d,f)||this;return b.value=f.value,b}return $(c,u),c}(Le),el=function(u){function c(d,f){var b=u.call(this,d,f)||this;return b.start=f.start,b.reversed="boolean"==typeof f.reversed&&!0===f.reversed,b}return $(c,u),c}(Le),Yg=[{type:15,flags:0,unit:"px",number:3}],rl=[{type:16,flags:0,number:50}],ln="checkbox",cn="radio",Su="password",Me=707406591,Ue=function(u){function c(d,f){var b=u.call(this,d,f)||this;switch(b.type=f.type.toLowerCase(),b.checked=f.checked,b.value=function(u){var c=u.type===Su?new Array(u.value.length+1).join("\u2022"):u.value;return 0===c.length?u.placeholder||"":c}(f),(b.type===ln||b.type===cn)&&(b.styles.backgroundColor=3739148031,b.styles.borderTopColor=b.styles.borderRightColor=b.styles.borderBottomColor=b.styles.borderLeftColor=2779096575,b.styles.borderTopWidth=b.styles.borderRightWidth=b.styles.borderBottomWidth=b.styles.borderLeftWidth=1,b.styles.borderTopStyle=b.styles.borderRightStyle=b.styles.borderBottomStyle=b.styles.borderLeftStyle=1,b.styles.backgroundClip=[0],b.styles.backgroundOrigin=[0],b.bounds=function(u){return u.width>u.height?new L(u.left+(u.width-u.height)/2,u.top,u.height,u.height):u.width<u.height?new L(u.left,u.top+(u.height-u.width)/2,u.width,u.width):u}(b.bounds)),b.type){case ln:b.styles.borderTopRightRadius=b.styles.borderTopLeftRadius=b.styles.borderBottomRightRadius=b.styles.borderBottomLeftRadius=Yg;break;case cn:b.styles.borderTopRightRadius=b.styles.borderTopLeftRadius=b.styles.borderBottomRightRadius=b.styles.borderBottomLeftRadius=rl}return b}return $(c,u),c}(Le),il=function(u){function c(d,f){var b=u.call(this,d,f)||this,D=f.options[f.selectedIndex||0];return b.value=D&&D.text||"",b}return $(c,u),c}(Le),Ho=function(u){function c(d,f){var b=u.call(this,d,f)||this;return b.value=f.value,b}return $(c,u),c}(Le),Ua=function(u){function c(d,f){var b=u.call(this,d,f)||this;b.src=f.src,b.width=parseInt(f.width,10)||0,b.height=parseInt(f.height,10)||0,b.backgroundColor=b.styles.backgroundColor;try{if(f.contentWindow&&f.contentWindow.document&&f.contentWindow.document.documentElement){b.tree=al(d,f.contentWindow.document.documentElement);var D=f.contentWindow.document.documentElement?ua(d,getComputedStyle(f.contentWindow.document.documentElement).backgroundColor):on.TRANSPARENT,P=f.contentWindow.document.body?ua(d,getComputedStyle(f.contentWindow.document.body).backgroundColor):on.TRANSPARENT;b.backgroundColor=En(D)?En(P)?b.styles.backgroundColor:P:D}}catch{}return b}return $(c,u),c}(Le),So=["OL","UL","MENU"],Po=function(u,c,d,f){for(var b=c.firstChild,D=void 0;b;b=D)if(D=b.nextSibling,Lu(b)&&b.data.trim().length>0)d.textNodes.push(new zg(u,b,d.styles));else if($r(b))if(cl(b)&&b.assignedNodes)b.assignedNodes().forEach(function(z){return Po(u,z,d,f)});else{var P=Xr(u,b);P.styles.isVisible()&&(Pu(b,P,f)?P.flags|=4:Jg(P.styles)&&(P.flags|=2),-1!==So.indexOf(b.tagName)&&(P.flags|=8),d.elements.push(P),b.shadowRoot?Po(u,b.shadowRoot,P,f):!di(b)&&!Ou(b)&&!Ea(b)&&Po(u,b,P,f))}},Xr=function(u,c){return Ko(c)?new Du(u,c):Ku(c)?new Mu(u,c):Ou(c)?new ku(u,c):jg(c)?new ko(u,c):sl(c)?new el(u,c):Zg(c)?new Ue(u,c):Ea(c)?new il(u,c):di(c)?new Ho(u,c):hi(c)?new Ua(u,c):new Le(u,c)},al=function(u,c){var d=Xr(u,c);return d.flags|=4,Po(u,c,d,d),d},Pu=function(u,c,d){return c.styles.isPositionedWithZIndex()||c.styles.opacity<1||c.styles.isTransformed()||ll(u)&&d.styles.isTransparent()},Jg=function(u){return u.isPositioned()||u.isFloating()},Lu=function(u){return u.nodeType===Node.TEXT_NODE},$r=function(u){return u.nodeType===Node.ELEMENT_NODE},ol=function(u){return $r(u)&&typeof u.style<"u"&&!Lo(u)},Lo=function(u){return"object"==typeof u.className},jg=function(u){return"LI"===u.tagName},sl=function(u){return"OL"===u.tagName},Zg=function(u){return"INPUT"===u.tagName},Ou=function(u){return"svg"===u.tagName},ll=function(u){return"BODY"===u.tagName},Ku=function(u){return"CANVAS"===u.tagName},Oo=function(u){return"VIDEO"===u.tagName},Ko=function(u){return"IMG"===u.tagName},hi=function(u){return"IFRAME"===u.tagName},fi=function(u){return"STYLE"===u.tagName},di=function(u){return"TEXTAREA"===u.tagName},Ea=function(u){return"SELECT"===u.tagName},cl=function(u){return"SLOT"===u.tagName},Ro=function(u){return u.tagName.indexOf("-")>0},ul=function(){function u(){this.counters={}}return u.prototype.getCounterValue=function(c){var d=this.counters[c];return d&&d.length?d[d.length-1]:1},u.prototype.getCounterValues=function(c){return this.counters[c]||[]},u.prototype.pop=function(c){var d=this;c.forEach(function(f){return d.counters[f].pop()})},u.prototype.parse=function(c){var d=this,f=c.counterIncrement,b=c.counterReset,D=!0;null!==f&&f.forEach(function(z){var G=d.counters[z.counter];G&&0!==z.increment&&(D=!1,G.length||G.push(1),G[Math.max(0,G.length-1)]+=z.increment)});var P=[];return D&&b.forEach(function(z){var G=d.counters[z.counter];P.push(z.counter),G||(G=d.counters[z.counter]=[]),G.push(z.reset)}),P},u}(),Nu={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Vu={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},t0={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},A0={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},Pn=function(u,c,d,f,b,D){return u<c||u>d?xa(u,b,D.length>0):f.integers.reduce(function(P,z,G){for(;u>=z;)u-=z,P+=f.values[G];return P},"")+D},No=function(u,c,d,f){var b="";do{d||u--,b=f(u)+b,u/=c}while(u*c>=c);return b},ee=function(u,c,d,f,b){var D=d-c+1;return(u<0?"-":"")+(No(Math.abs(u),D,f,function(P){return gt(Math.floor(P%D)+c)})+b)},ir=function(u,c,d){void 0===d&&(d=". ");var f=c.length;return No(Math.abs(u),f,!1,function(b){return c[Math.floor(b%f)]})+d},Tr=function(u,c,d,f,b,D){if(u<-9999||u>9999)return xa(u,4,b.length>0);var P=Math.abs(u),z=b;if(0===P)return c[0]+z;for(var G=0;P>0&&G<=4;G++){var ot=P%10;0===ot&&be(D,1)&&""!==z?z=c[ot]+z:ot>1||1===ot&&0===G||1===ot&&1===G&&be(D,2)||1===ot&&1===G&&be(D,4)&&u>100||1===ot&&G>1&&be(D,8)?z=c[ot]+(G>0?d[G-1]:"")+z:1===ot&&G>0&&(z=d[G-1]+z),P=Math.floor(P/10)}return(u<0?f:"")+z},hl="\ub9c8\uc774\ub108\uc2a4",xa=function(u,c,d){var f=d?". ":"",b=d?"\u3001":"",D=d?", ":"",P=d?" ":"";switch(c){case 0:return"\u2022"+P;case 1:return"\u25e6"+P;case 2:return"\u25fe"+P;case 5:var z=ee(u,48,57,!0,f);return z.length<4?"0"+z:z;case 4:return ir(u,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",b);case 6:return Pn(u,1,3999,Nu,3,f).toLowerCase();case 7:return Pn(u,1,3999,Nu,3,f);case 8:return ee(u,945,969,!1,f);case 9:return ee(u,97,122,!1,f);case 10:return ee(u,65,90,!1,f);case 11:return ee(u,1632,1641,!0,f);case 12:case 49:return Pn(u,1,9999,Vu,3,f);case 35:return Pn(u,1,9999,Vu,3,f).toLowerCase();case 13:return ee(u,2534,2543,!0,f);case 14:case 30:return ee(u,6112,6121,!0,f);case 15:return ir(u,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",b);case 16:return ir(u,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",b);case 17:case 48:return Tr(u,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8ca0",b,14);case 47:return Tr(u,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8ca0",b,15);case 42:return Tr(u,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8d1f",b,14);case 41:return Tr(u,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8d1f",b,15);case 26:return Tr(u,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",b,0);case 25:return Tr(u,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",b,7);case 31:return Tr(u,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",hl,D,7);case 33:return Tr(u,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",hl,D,0);case 32:return Tr(u,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",hl,D,7);case 18:return ee(u,2406,2415,!0,f);case 20:return Pn(u,1,19999,A0,3,f);case 21:return ee(u,2790,2799,!0,f);case 22:return ee(u,2662,2671,!0,f);case 22:return Pn(u,1,10999,t0,3,f);case 23:return ir(u,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return ir(u,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return ee(u,3302,3311,!0,f);case 28:return ir(u,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",b);case 29:return ir(u,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",b);case 34:return ee(u,3792,3801,!0,f);case 37:return ee(u,6160,6169,!0,f);case 38:return ee(u,4160,4169,!0,f);case 39:return ee(u,2918,2927,!0,f);case 40:return ee(u,1776,1785,!0,f);case 43:return ee(u,3046,3055,!0,f);case 44:return ee(u,3174,3183,!0,f);case 45:return ee(u,3664,3673,!0,f);case 46:return ee(u,3872,3881,!0,f);default:return ee(u,48,57,!0,f)}},fl="data-html2canvas-ignore",zu=function(){function u(c,d,f){if(this.context=c,this.options=f,this.scrolledElements=[],this.referenceElement=d,this.counters=new ul,this.quoteDepth=0,!d.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(d.ownerDocument.documentElement,!1)}return u.prototype.toIFrame=function(c,d){var f=this,b=e0(c,d);if(!b.contentWindow)return Promise.reject("Unable to find iframe window");var D=c.defaultView.pageXOffset,P=c.defaultView.pageYOffset,z=b.contentWindow,G=z.document,ot=n0(b).then(function(){return Ct(f,void 0,void 0,function(){var ut,mt;return yt(this,function(Et){switch(Et.label){case 0:return this.scrolledElements.forEach(Yu),z&&(z.scrollTo(d.left,d.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(z.scrollY!==d.top||z.scrollX!==d.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(z.scrollX-d.left,z.scrollY-d.top,0,0))),ut=this.options.onclone,typeof(mt=this.clonedReferenceElement)>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:G.fonts&&G.fonts.ready?[4,G.fonts.ready]:[3,2];case 1:Et.sent(),Et.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Xu(G)]:[3,4];case 3:Et.sent(),Et.label=4;case 4:return"function"==typeof ut?[2,Promise.resolve().then(function(){return ut(G,mt)}).then(function(){return b})]:[2,b]}})})});return G.open(),G.write($u(document.doctype)+"<html></html>"),Go(this.referenceElement.ownerDocument,D,P),G.replaceChild(G.adoptNode(this.documentElement),G.documentElement),G.close(),ot},u.prototype.createElementClone=function(c){if(zs(c,2),Ku(c))return this.createCanvasClone(c);if(Oo(c))return this.createVideoClone(c);if(fi(c))return this.createStyleClone(c);var d=c.cloneNode(!1);return Ko(d)&&(Ko(c)&&c.currentSrc&&c.currentSrc!==c.src&&(d.src=c.currentSrc,d.srcset=""),"lazy"===d.loading&&(d.loading="eager")),Ro(d)?this.createCustomElementClone(d):d},u.prototype.createCustomElementClone=function(c){var d=document.createElement("html2canvascustomelement");return Wo(c.style,d),d},u.prototype.createStyleClone=function(c){try{var d=c.sheet;if(d&&d.cssRules){var f=[].slice.call(d.cssRules,0).reduce(function(D,P){return P&&"string"==typeof P.cssText?D+P.cssText:D},""),b=c.cloneNode(!1);return b.textContent=f,b}}catch(D){if(this.context.logger.error("Unable to access cssRules property",D),"SecurityError"!==D.name)throw D}return c.cloneNode(!1)},u.prototype.createCanvasClone=function(c){var d;if(this.options.inlineImages&&c.ownerDocument){var f=c.ownerDocument.createElement("img");try{return f.src=c.toDataURL(),f}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",c)}}var b=c.cloneNode(!1);try{b.width=c.width,b.height=c.height;var D=c.getContext("2d"),P=b.getContext("2d");if(P)if(!this.options.allowTaint&&D)P.putImageData(D.getImageData(0,0,c.width,c.height),0,0);else{var z=null!==(d=c.getContext("webgl2"))&&void 0!==d?d:c.getContext("webgl");if(z){var G=z.getContextAttributes();!1===G?.preserveDrawingBuffer&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",c)}P.drawImage(c,0,0)}return b}catch{this.context.logger.info("Unable to clone canvas as it is tainted",c)}return b},u.prototype.createVideoClone=function(c){var d=c.ownerDocument.createElement("canvas");d.width=c.offsetWidth,d.height=c.offsetHeight;var f=d.getContext("2d");try{return f&&(f.drawImage(c,0,0,d.width,d.height),this.options.allowTaint||f.getImageData(0,0,d.width,d.height)),d}catch{this.context.logger.info("Unable to clone video as it is tainted",c)}var b=c.ownerDocument.createElement("canvas");return b.width=c.offsetWidth,b.height=c.offsetHeight,b},u.prototype.appendChildNode=function(c,d,f){(!$r(d)||!function(u){return"SCRIPT"===u.tagName}(d)&&!d.hasAttribute(fl)&&("function"!=typeof this.options.ignoreElements||!this.options.ignoreElements(d)))&&(!this.options.copyStyles||!$r(d)||!fi(d))&&c.appendChild(this.cloneNode(d,f))},u.prototype.cloneChildNodes=function(c,d,f){for(var b=this,D=c.shadowRoot?c.shadowRoot.firstChild:c.firstChild;D;D=D.nextSibling)if($r(D)&&cl(D)&&"function"==typeof D.assignedNodes){var P=D.assignedNodes();P.length&&P.forEach(function(z){return b.appendChildNode(d,z,f)})}else this.appendChildNode(d,D,f)},u.prototype.cloneNode=function(c,d){if(Lu(c))return document.createTextNode(c.data);if(!c.ownerDocument)return c.cloneNode(!1);var f=c.ownerDocument.defaultView;if(f&&$r(c)&&(ol(c)||Lo(c))){var b=this.createElementClone(c);b.style.transitionProperty="none";var D=f.getComputedStyle(c),P=f.getComputedStyle(c,":before"),z=f.getComputedStyle(c,":after");this.referenceElement===c&&ol(b)&&(this.clonedReferenceElement=b),ll(b)&&a0(b);var G=this.counters.parse(new ya(this.context,D)),ot=this.resolvePseudoContent(c,b,P,Vo.BEFORE);Ro(c)&&(d=!0),Oo(c)||this.cloneChildNodes(c,b,d),ot&&b.insertBefore(ot,b.firstChild);var ut=this.resolvePseudoContent(c,b,z,Vo.AFTER);return ut&&b.appendChild(ut),this.counters.pop(G),(D&&(this.options.copyStyles||Lo(c))&&!hi(c)||d)&&Wo(D,b),(0!==c.scrollTop||0!==c.scrollLeft)&&this.scrolledElements.push([b,c.scrollLeft,c.scrollTop]),(di(c)||Ea(c))&&(di(b)||Ea(b))&&(b.value=c.value),b}return c.cloneNode(!1)},u.prototype.resolvePseudoContent=function(c,d,f,b){var D=this;if(f){var P=f.content,z=d.ownerDocument;if(z&&P&&"none"!==P&&"-moz-alt-content"!==P&&"none"!==f.display){this.counters.parse(new ya(this.context,f));var G=new xo(this.context,f),ot=z.createElement("html2canvaspseudoelement");Wo(f,ot),G.content.forEach(function(mt){if(0===mt.type)ot.appendChild(z.createTextNode(mt.value));else if(22===mt.type){var Et=z.createElement("img");Et.src=mt.value,Et.style.opacity="1",ot.appendChild(Et)}else if(18===mt.type){if("attr"===mt.name){var jt=mt.values.filter(NA);jt.length&&ot.appendChild(z.createTextNode(c.getAttribute(jt[0].value)||""))}else if("counter"===mt.name){var Nt=mt.values.filter(Ii),CA=Nt[1];if((Vt=Nt[0])&&NA(Vt)){var AA=D.counters.getCounterValue(Vt.value),eA=CA&&NA(CA)?me.parse(D.context,CA.value):3;ot.appendChild(z.createTextNode(xa(AA,eA,!1)))}}else if("counters"===mt.name){var Vt,yA=mt.values.filter(Ii),bA=yA[1];if(CA=yA[2],(Vt=yA[0])&&NA(Vt)){var uA=D.counters.getCounterValues(Vt.value),tA=CA&&NA(CA)?me.parse(D.context,CA.value):3,LA=bA&&0===bA.type?bA.value:"",OA=uA.map(function(tr){return xa(tr,tA,!1)}).join(LA);ot.appendChild(z.createTextNode(OA))}}}else if(20===mt.type)switch(mt.value){case"open-quote":ot.appendChild(z.createTextNode(Ns(G.quotes,D.quoteDepth++,!0)));break;case"close-quote":ot.appendChild(z.createTextNode(Ns(G.quotes,--D.quoteDepth,!1)));break;default:ot.appendChild(z.createTextNode(mt.value))}}),ot.className=zo+" "+Kn;var ut=b===Vo.BEFORE?" "+zo:" "+Kn;return Lo(d)?d.className.baseValue+=ut:d.className+=ut,ot}}},u.destroy=function(c){return!!c.parentNode&&(c.parentNode.removeChild(c),!0)},u}(),Vo=function(u){return u[u.BEFORE=0]="BEFORE",u[u.AFTER=1]="AFTER",u}(Vo||{}),e0=function(u,c){var d=u.createElement("iframe");return d.className="html2canvas-container",d.style.visibility="hidden",d.style.position="fixed",d.style.left="-10000px",d.style.top="0px",d.style.border="0",d.width=c.width.toString(),d.height=c.height.toString(),d.scrolling="no",d.setAttribute(fl,"true"),u.body.appendChild(d),d},r0=function(u){return new Promise(function(c){u.complete?c():u.src?(u.onload=c,u.onerror=c):c()})},Xu=function(u){return Promise.all([].slice.call(u.images,0).map(r0))},n0=function(u){return new Promise(function(c,d){var f=u.contentWindow;if(!f)return d("No window assigned for iframe");var b=f.document;f.onload=u.onload=function(){f.onload=u.onload=null;var D=setInterval(function(){b.body.childNodes.length>0&&"complete"===b.readyState&&(clearInterval(D),c(u))},50)}})},i0=["all","d","content"],Wo=function(u,c){for(var d=u.length-1;d>=0;d--){var f=u.item(d);-1===i0.indexOf(f)&&c.style.setProperty(f,u.getPropertyValue(f))}return c},$u=function(u){var c="";return u&&(c+="<!DOCTYPE ",u.name&&(c+=u.name),u.internalSubset&&(c+=u.internalSubset),u.publicId&&(c+='"'+u.publicId+'"'),u.systemId&&(c+='"'+u.systemId+'"'),c+=">"),c},Go=function(u,c,d){u&&u.defaultView&&(c!==u.defaultView.pageXOffset||d!==u.defaultView.pageYOffset)&&u.defaultView.scrollTo(c,d)},Yu=function(u){var c=u[0],f=u[2];c.scrollLeft=u[1],c.scrollTop=f},zo="___html2canvas___pseudoelement_before",Kn="___html2canvas___pseudoelement_after",dl='{\n    content: "" !important;\n    display: none !important;\n}',a0=function(u){Zu(u,"."+zo+":before"+dl+"\n         ."+Kn+":after"+dl)},Zu=function(u,c){var d=u.ownerDocument;if(d){var f=d.createElement("style");f.textContent=c,u.appendChild(f)}},qu=function(){function u(){}return u.getOrigin=function(c){var d=u._link;return d?(d.href=c,d.href=d.href,d.protocol+d.hostname+d.port):"about:blank"},u.isSameOrigin=function(c){return u.getOrigin(c)===u._origin},u.setContext=function(c){u._link=c.document.createElement("a"),u._origin=u.getOrigin(c.location.href)},u._origin="about:blank",u}(),Xo=function(){function u(c,d){this.context=c,this._options=d,this._cache={}}return u.prototype.addImage=function(c){var d=Promise.resolve();return this.has(c)||(ml(c)||Bl(c))&&(this._cache[c]=this.loadImage(c)).catch(function(){}),d},u.prototype.match=function(c){return this._cache[c]},u.prototype.loadImage=function(c){return Ct(this,void 0,void 0,function(){var d,f,b,D,P=this;return yt(this,function(z){switch(z.label){case 0:return d=qu.isSameOrigin(c),f=!Ta(c)&&!0===this._options.useCORS&&De.SUPPORT_CORS_IMAGES&&!d,b=!Ta(c)&&!d&&!ml(c)&&"string"==typeof this._options.proxy&&De.SUPPORT_CORS_XHR&&!f,d||!1!==this._options.allowTaint||Ta(c)||ml(c)||b||f?(D=c,b?[4,this.proxy(D)]:[3,2]):[2];case 1:D=z.sent(),z.label=2;case 2:return this.context.logger.debug("Added image "+c.substring(0,256)),[4,new Promise(function(G,ot){var ut=new Image;ut.onload=function(){return G(ut)},ut.onerror=ot,(th(D)||f)&&(ut.crossOrigin="anonymous"),ut.src=D,!0===ut.complete&&setTimeout(function(){return G(ut)},500),P._options.imageTimeout>0&&setTimeout(function(){return ot("Timed out ("+P._options.imageTimeout+"ms) loading image")},P._options.imageTimeout)})];case 3:return[2,z.sent()]}})})},u.prototype.has=function(c){return typeof this._cache[c]<"u"},u.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},u.prototype.proxy=function(c){var d=this,f=this._options.proxy;if(!f)throw new Error("No proxy defined");var b=c.substring(0,256);return new Promise(function(D,P){var z=De.SUPPORT_RESPONSE_TYPE?"blob":"text",G=new XMLHttpRequest;G.onload=function(){if(200===G.status)if("text"===z)D(G.response);else{var mt=new FileReader;mt.addEventListener("load",function(){return D(mt.result)},!1),mt.addEventListener("error",function(Et){return P(Et)},!1),mt.readAsDataURL(G.response)}else P("Failed to proxy resource "+b+" with status code "+G.status)},G.onerror=P;var ot=f.indexOf("?")>-1?"&":"?";if(G.open("GET",""+f+ot+"url="+encodeURIComponent(c)+"&responseType="+z),"text"!==z&&G instanceof XMLHttpRequest&&(G.responseType=z),d._options.imageTimeout){var ut=d._options.imageTimeout;G.timeout=ut,G.ontimeout=function(){return P("Timed out ("+ut+"ms) proxying "+b)}}G.send()})},u}(),Ir=/^data:image\/svg\+xml/i,gl=/^data:image\/.*;base64,/i,pl=/^data:image\/.*/i,Bl=function(u){return De.SUPPORT_SVG_DRAWING||!$o(u)},Ta=function(u){return pl.test(u)},th=function(u){return gl.test(u)},ml=function(u){return"blob"===u.substr(0,4)},$o=function(u){return"svg"===u.substr(-3).toLowerCase()||Ir.test(u)},Xt=function(){function u(c,d){this.type=0,this.x=c,this.y=d}return u.prototype.add=function(c,d){return new u(this.x+c,this.y+d)},u}(),gi=function(u,c,d){return new Xt(u.x+(c.x-u.x)*d,u.y+(c.y-u.y)*d)},Ia=function(){function u(c,d,f,b){this.type=1,this.start=c,this.startControl=d,this.endControl=f,this.end=b}return u.prototype.subdivide=function(c,d){var f=gi(this.start,this.startControl,c),b=gi(this.startControl,this.endControl,c),D=gi(this.endControl,this.end,c),P=gi(f,b,c),z=gi(b,D,c),G=gi(P,z,c);return d?new u(this.start,f,P,G):new u(G,z,D,this.end)},u.prototype.add=function(c,d){return new u(this.start.add(c,d),this.startControl.add(c,d),this.endControl.add(c,d),this.end.add(c,d))},u.prototype.reverse=function(){return new u(this.end,this.endControl,this.startControl,this.start)},u}(),je=function(u){return 1===u.type},wl=function(){return function u(c){var d=c.styles,f=c.bounds,b=ca(d.borderTopLeftRadius,f.width,f.height),D=b[0],P=b[1],z=ca(d.borderTopRightRadius,f.width,f.height),G=z[0],ot=z[1],ut=ca(d.borderBottomRightRadius,f.width,f.height),mt=ut[0],Et=ut[1],jt=ca(d.borderBottomLeftRadius,f.width,f.height),Nt=jt[0],Vt=jt[1],CA=[];CA.push((D+G)/f.width),CA.push((Nt+mt)/f.width),CA.push((P+Vt)/f.height),CA.push((ot+Et)/f.height);var AA=Math.max.apply(Math,CA);AA>1&&(D/=AA,P/=AA,G/=AA,ot/=AA,mt/=AA,Et/=AA,Nt/=AA,Vt/=AA);var eA=f.width-G,yA=f.height-Et,bA=f.width-mt,uA=f.height-Vt,tA=d.borderTopWidth,LA=d.borderRightWidth,OA=d.borderBottomWidth,vA=d.borderLeftWidth,we=YA(d.paddingTop,c.bounds.width),tr=YA(d.paddingRight,c.bounds.width),_e=YA(d.paddingBottom,c.bounds.width),HA=YA(d.paddingLeft,c.bounds.width);this.topLeftBorderDoubleOuterBox=D>0||P>0?WA(f.left+vA/3,f.top+tA/3,D-vA/3,P-tA/3,KA.TOP_LEFT):new Xt(f.left+vA/3,f.top+tA/3),this.topRightBorderDoubleOuterBox=D>0||P>0?WA(f.left+eA,f.top+tA/3,G-LA/3,ot-tA/3,KA.TOP_RIGHT):new Xt(f.left+f.width-LA/3,f.top+tA/3),this.bottomRightBorderDoubleOuterBox=mt>0||Et>0?WA(f.left+bA,f.top+yA,mt-LA/3,Et-OA/3,KA.BOTTOM_RIGHT):new Xt(f.left+f.width-LA/3,f.top+f.height-OA/3),this.bottomLeftBorderDoubleOuterBox=Nt>0||Vt>0?WA(f.left+vA/3,f.top+uA,Nt-vA/3,Vt-OA/3,KA.BOTTOM_LEFT):new Xt(f.left+vA/3,f.top+f.height-OA/3),this.topLeftBorderDoubleInnerBox=D>0||P>0?WA(f.left+2*vA/3,f.top+2*tA/3,D-2*vA/3,P-2*tA/3,KA.TOP_LEFT):new Xt(f.left+2*vA/3,f.top+2*tA/3),this.topRightBorderDoubleInnerBox=D>0||P>0?WA(f.left+eA,f.top+2*tA/3,G-2*LA/3,ot-2*tA/3,KA.TOP_RIGHT):new Xt(f.left+f.width-2*LA/3,f.top+2*tA/3),this.bottomRightBorderDoubleInnerBox=mt>0||Et>0?WA(f.left+bA,f.top+yA,mt-2*LA/3,Et-2*OA/3,KA.BOTTOM_RIGHT):new Xt(f.left+f.width-2*LA/3,f.top+f.height-2*OA/3),this.bottomLeftBorderDoubleInnerBox=Nt>0||Vt>0?WA(f.left+2*vA/3,f.top+uA,Nt-2*vA/3,Vt-2*OA/3,KA.BOTTOM_LEFT):new Xt(f.left+2*vA/3,f.top+f.height-2*OA/3),this.topLeftBorderStroke=D>0||P>0?WA(f.left+vA/2,f.top+tA/2,D-vA/2,P-tA/2,KA.TOP_LEFT):new Xt(f.left+vA/2,f.top+tA/2),this.topRightBorderStroke=D>0||P>0?WA(f.left+eA,f.top+tA/2,G-LA/2,ot-tA/2,KA.TOP_RIGHT):new Xt(f.left+f.width-LA/2,f.top+tA/2),this.bottomRightBorderStroke=mt>0||Et>0?WA(f.left+bA,f.top+yA,mt-LA/2,Et-OA/2,KA.BOTTOM_RIGHT):new Xt(f.left+f.width-LA/2,f.top+f.height-OA/2),this.bottomLeftBorderStroke=Nt>0||Vt>0?WA(f.left+vA/2,f.top+uA,Nt-vA/2,Vt-OA/2,KA.BOTTOM_LEFT):new Xt(f.left+vA/2,f.top+f.height-OA/2),this.topLeftBorderBox=D>0||P>0?WA(f.left,f.top,D,P,KA.TOP_LEFT):new Xt(f.left,f.top),this.topRightBorderBox=G>0||ot>0?WA(f.left+eA,f.top,G,ot,KA.TOP_RIGHT):new Xt(f.left+f.width,f.top),this.bottomRightBorderBox=mt>0||Et>0?WA(f.left+bA,f.top+yA,mt,Et,KA.BOTTOM_RIGHT):new Xt(f.left+f.width,f.top+f.height),this.bottomLeftBorderBox=Nt>0||Vt>0?WA(f.left,f.top+uA,Nt,Vt,KA.BOTTOM_LEFT):new Xt(f.left,f.top+f.height),this.topLeftPaddingBox=D>0||P>0?WA(f.left+vA,f.top+tA,Math.max(0,D-vA),Math.max(0,P-tA),KA.TOP_LEFT):new Xt(f.left+vA,f.top+tA),this.topRightPaddingBox=G>0||ot>0?WA(f.left+Math.min(eA,f.width-LA),f.top+tA,eA>f.width+LA?0:Math.max(0,G-LA),Math.max(0,ot-tA),KA.TOP_RIGHT):new Xt(f.left+f.width-LA,f.top+tA),this.bottomRightPaddingBox=mt>0||Et>0?WA(f.left+Math.min(bA,f.width-vA),f.top+Math.min(yA,f.height-OA),Math.max(0,mt-LA),Math.max(0,Et-OA),KA.BOTTOM_RIGHT):new Xt(f.left+f.width-LA,f.top+f.height-OA),this.bottomLeftPaddingBox=Nt>0||Vt>0?WA(f.left+vA,f.top+Math.min(uA,f.height-OA),Math.max(0,Nt-vA),Math.max(0,Vt-OA),KA.BOTTOM_LEFT):new Xt(f.left+vA,f.top+f.height-OA),this.topLeftContentBox=D>0||P>0?WA(f.left+vA+HA,f.top+tA+we,Math.max(0,D-(vA+HA)),Math.max(0,P-(tA+we)),KA.TOP_LEFT):new Xt(f.left+vA+HA,f.top+tA+we),this.topRightContentBox=G>0||ot>0?WA(f.left+Math.min(eA,f.width+vA+HA),f.top+tA+we,eA>f.width+vA+HA?0:G-vA+HA,ot-(tA+we),KA.TOP_RIGHT):new Xt(f.left+f.width-(LA+tr),f.top+tA+we),this.bottomRightContentBox=mt>0||Et>0?WA(f.left+Math.min(bA,f.width-(vA+HA)),f.top+Math.min(yA,f.height+tA+we),Math.max(0,mt-(LA+tr)),Et-(OA+_e),KA.BOTTOM_RIGHT):new Xt(f.left+f.width-(LA+tr),f.top+f.height-(OA+_e)),this.bottomLeftContentBox=Nt>0||Vt>0?WA(f.left+vA+HA,f.top+uA,Math.max(0,Nt-(vA+HA)),Vt-(OA+_e),KA.BOTTOM_LEFT):new Xt(f.left+vA+HA,f.top+f.height-(OA+_e))}}(),KA=function(u){return u[u.TOP_LEFT=0]="TOP_LEFT",u[u.TOP_RIGHT=1]="TOP_RIGHT",u[u.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",u[u.BOTTOM_LEFT=3]="BOTTOM_LEFT",u}(KA||{}),WA=function(u,c,d,f,b){var D=(Math.sqrt(2)-1)/3*4,P=d*D,z=f*D,G=u+d,ot=c+f;switch(b){case KA.TOP_LEFT:return new Ia(new Xt(u,ot),new Xt(u,ot-z),new Xt(G-P,c),new Xt(G,c));case KA.TOP_RIGHT:return new Ia(new Xt(u,c),new Xt(u+P,c),new Xt(G,ot-z),new Xt(G,ot));case KA.BOTTOM_RIGHT:return new Ia(new Xt(G,c),new Xt(G,c+z),new Xt(u+P,ot),new Xt(u,ot));default:return new Ia(new Xt(G,ot),new Xt(G-P,ot),new Xt(u,c+z),new Xt(u,c))}},Da=function(u){return[u.topLeftBorderBox,u.topRightBorderBox,u.bottomRightBorderBox,u.bottomLeftBorderBox]},Ma=function(u){return[u.topLeftPaddingBox,u.topRightPaddingBox,u.bottomRightPaddingBox,u.bottomLeftPaddingBox]},o0=function(){return function u(c,d,f){this.offsetX=c,this.offsetY=d,this.matrix=f,this.type=0,this.target=6}}(),Ze=function(){return function u(c,d){this.path=c,this.target=d,this.type=1}}(),pi=function(){return function u(c){this.opacity=c,this.type=2,this.target=6}}(),_l=function(u){return 1===u.type},eh=function(u,c){return u.length===c.length&&u.some(function(d,f){return d===c[f]})},rh=function(){return function u(c){this.element=c,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}}(),nh=function(){function u(c,d){if(this.container=c,this.parent=d,this.effects=[],this.curves=new wl(this.container),this.container.styles.opacity<1&&this.effects.push(new pi(this.container.styles.opacity)),null!==this.container.styles.transform&&this.effects.push(new o0(this.container.bounds.left+this.container.styles.transformOrigin[0].number,this.container.bounds.top+this.container.styles.transformOrigin[1].number,this.container.styles.transform)),0!==this.container.styles.overflowX){var P=Da(this.curves),z=Ma(this.curves);eh(P,z)?this.effects.push(new Ze(P,6)):(this.effects.push(new Ze(P,2)),this.effects.push(new Ze(z,4)))}}return u.prototype.getEffects=function(c){for(var d=-1===[2,3].indexOf(this.container.styles.position),f=this.parent,b=this.effects.slice(0);f;){var D=f.effects.filter(function(G){return!_l(G)});if(d||0!==f.container.styles.position||!f.parent){if(b.unshift.apply(b,D),d=-1===[2,3].indexOf(f.container.styles.position),0!==f.container.styles.overflowX){var P=Da(f.curves),z=Ma(f.curves);eh(P,z)||b.unshift(new Ze(z,6))}}else b.unshift.apply(b,D);f=f.parent}return b.filter(function(G){return be(G.target,c)})},u}(),Cl=function(u,c,d,f){u.container.elements.forEach(function(b){var D=be(b.flags,4),P=be(b.flags,2),z=new nh(b,u);be(b.styles.display,2048)&&f.push(z);var G=be(b.flags,8)?[]:f;if(D||P){var ot=D||b.styles.isPositioned()?d:c,ut=new rh(z);if(b.styles.isPositioned()||b.styles.opacity<1||b.styles.isTransformed()){var mt=b.styles.zIndex.order;if(mt<0){var Et=0;ot.negativeZIndex.some(function(Nt,Vt){return mt>Nt.element.container.styles.zIndex.order?(Et=Vt,!1):Et>0}),ot.negativeZIndex.splice(Et,0,ut)}else if(mt>0){var jt=0;ot.positiveZIndex.some(function(Nt,Vt){return mt>=Nt.element.container.styles.zIndex.order?(jt=Vt+1,!1):jt>0}),ot.positiveZIndex.splice(jt,0,ut)}else ot.zeroOrAutoZIndexOrTransformedOrOpacity.push(ut)}else b.styles.isFloating()?ot.nonPositionedFloats.push(ut):ot.nonPositionedInlineLevel.push(ut);Cl(z,ut,D?ut:d,G)}else b.styles.isInlineLevel()?c.inlineLevel.push(z):c.nonInlineLevel.push(z),Cl(z,c,d,G);be(b.flags,8)&&ih(b,G)})},ih=function(u,c){for(var d=u instanceof el?u.start:1,f=u instanceof el&&u.reversed,b=0;b<c.length;b++){var D=c[b];D.container instanceof ko&&"number"==typeof D.container.value&&0!==D.container.value&&(d=D.container.value),D.listValue=xa(d,D.container.styles.listStyleType,!0),d+=f?-1:1}},ah=function(u,c){switch(c){case 0:return qe(u.topLeftBorderBox,u.topLeftPaddingBox,u.topRightBorderBox,u.topRightPaddingBox);case 1:return qe(u.topRightBorderBox,u.topRightPaddingBox,u.bottomRightBorderBox,u.bottomRightPaddingBox);case 2:return qe(u.bottomRightBorderBox,u.bottomRightPaddingBox,u.bottomLeftBorderBox,u.bottomLeftPaddingBox);default:return qe(u.bottomLeftBorderBox,u.bottomLeftPaddingBox,u.topLeftBorderBox,u.topLeftPaddingBox)}},Yr=function(u,c){var d=[];return je(u)?d.push(u.subdivide(.5,!1)):d.push(u),je(c)?d.push(c.subdivide(.5,!0)):d.push(c),d},qe=function(u,c,d,f){var b=[];return je(u)?b.push(u.subdivide(.5,!1)):b.push(u),je(d)?b.push(d.subdivide(.5,!0)):b.push(d),je(f)?b.push(f.subdivide(.5,!0).reverse()):b.push(f),je(c)?b.push(c.subdivide(.5,!1).reverse()):b.push(c),b},yl=function(u){var d=u.styles;return u.bounds.add(d.borderLeftWidth,d.borderTopWidth,-(d.borderRightWidth+d.borderLeftWidth),-(d.borderTopWidth+d.borderBottomWidth))},Yo=function(u){var c=u.styles,d=u.bounds,f=YA(c.paddingLeft,d.width),b=YA(c.paddingRight,d.width),D=YA(c.paddingTop,d.width),P=YA(c.paddingBottom,d.width);return d.add(f+c.borderLeftWidth,D+c.borderTopWidth,-(c.borderRightWidth+c.borderLeftWidth+f+b),-(c.borderTopWidth+c.borderBottomWidth+D+P))},bl=function(u,c,d){var f=function(u,c){return 0===u?c.bounds:2===u?Yo(c):yl(c)}(Jr(u.styles.backgroundOrigin,c),u),b=function(u,c){return 0===u?c.bounds:2===u?Yo(c):yl(c)}(Jr(u.styles.backgroundClip,c),u),D=d0(Jr(u.styles.backgroundSize,c),d,f),P=D[0],z=D[1],G=ca(Jr(u.styles.backgroundPosition,c),f.width-P,f.height-z);return[SB(Jr(u.styles.backgroundRepeat,c),G,D,f,b),Math.round(f.left+G[0]),Math.round(f.top+G[1]),P,z]},kA=function(u){return NA(u)&&u.value===ga.AUTO},oe=function(u){return"number"==typeof u},d0=function(u,c,d){var f=c[0],b=c[1],D=c[2],P=u[0],z=u[1];if(!P)return[0,0];if(Be(P)&&z&&Be(z))return[YA(P,d.width),YA(z,d.height)];var G=oe(D);if(NA(P)&&(P.value===ga.CONTAIN||P.value===ga.COVER))return oe(D)?d.width/d.height<D!=(P.value===ga.COVER)?[d.width,d.width/D]:[d.height*D,d.height]:[d.width,d.height];var ut=oe(f),mt=oe(b),Et=ut||mt;if(kA(P)&&(!z||kA(z)))return ut&&mt?[f,b]:G||Et?Et&&G?[ut?f:b*D,mt?b:f/D]:[ut?f:d.width,mt?b:d.height]:[d.width,d.height];if(G){var AA=0,eA=0;return Be(P)?AA=YA(P,d.width):Be(z)&&(eA=YA(z,d.height)),kA(P)?AA=eA*D:(!z||kA(z))&&(eA=AA/D),[AA,eA]}var yA=null,bA=null;if(Be(P)?yA=YA(P,d.width):z&&Be(z)&&(bA=YA(z,d.height)),null!==yA&&(!z||kA(z))&&(bA=ut&&mt?yA/f*b:d.height),null!==bA&&kA(P)&&(yA=ut&&mt?bA/b*f:d.width),null!==yA&&null!==bA)return[yA,bA];throw new Error("Unable to calculate background-size for element")},Jr=function(u,c){var d=u[c];return typeof d>"u"?u[0]:d},SB=function(u,c,d,f,b){var D=c[0],P=c[1],z=d[0],G=d[1];switch(u){case 2:return[new Xt(Math.round(f.left),Math.round(f.top+P)),new Xt(Math.round(f.left+f.width),Math.round(f.top+P)),new Xt(Math.round(f.left+f.width),Math.round(G+f.top+P)),new Xt(Math.round(f.left),Math.round(G+f.top+P))];case 3:return[new Xt(Math.round(f.left+D),Math.round(f.top)),new Xt(Math.round(f.left+D+z),Math.round(f.top)),new Xt(Math.round(f.left+D+z),Math.round(f.height+f.top)),new Xt(Math.round(f.left+D),Math.round(f.height+f.top))];case 1:return[new Xt(Math.round(f.left+D),Math.round(f.top+P)),new Xt(Math.round(f.left+D+z),Math.round(f.top+P)),new Xt(Math.round(f.left+D+z),Math.round(f.top+P+G)),new Xt(Math.round(f.left+D),Math.round(f.top+P+G))];default:return[new Xt(Math.round(b.left),Math.round(b.top)),new Xt(Math.round(b.left+b.width),Math.round(b.top)),new Xt(Math.round(b.left+b.width),Math.round(b.height+b.top)),new Xt(Math.round(b.left),Math.round(b.height+b.top))]}},g0="Hidden Text",p0=function(){function u(c){this._data={},this._document=c}return u.prototype.parseMetrics=function(c,d){var f=this._document.createElement("div"),b=this._document.createElement("img"),D=this._document.createElement("span"),P=this._document.body;f.style.visibility="hidden",f.style.fontFamily=c,f.style.fontSize=d,f.style.margin="0",f.style.padding="0",f.style.whiteSpace="nowrap",P.appendChild(f),b.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",b.width=1,b.height=1,b.style.margin="0",b.style.padding="0",b.style.verticalAlign="baseline",D.style.fontFamily=c,D.style.fontSize=d,D.style.margin="0",D.style.padding="0",D.appendChild(this._document.createTextNode(g0)),f.appendChild(D),f.appendChild(b);var z=b.offsetTop-D.offsetTop+2;f.removeChild(D),f.appendChild(this._document.createTextNode(g0)),f.style.lineHeight="normal",b.style.verticalAlign="super";var G=b.offsetTop-f.offsetTop+2;return P.removeChild(f),{baseline:z,middle:G}},u.prototype.getMetrics=function(c,d){var f=c+" "+d;return typeof this._data[f]>"u"&&(this._data[f]=this.parseMetrics(c,d)),this._data[f]},u}(),Ht=function(){return function u(c,d){this.context=c,this.options=d}}(),m0=function(u){function c(d,f){var b=u.call(this,d,f)||this;return b._activeEffects=[],b.canvas=f.canvas?f.canvas:document.createElement("canvas"),b.ctx=b.canvas.getContext("2d"),f.canvas||(b.canvas.width=Math.floor(f.width*f.scale),b.canvas.height=Math.floor(f.height*f.scale),b.canvas.style.width=f.width+"px",b.canvas.style.height=f.height+"px"),b.fontMetrics=new p0(document),b.ctx.scale(b.options.scale,b.options.scale),b.ctx.translate(-f.x,-f.y),b.ctx.textBaseline="bottom",b._activeEffects=[],b.context.logger.debug("Canvas renderer initialized ("+f.width+"x"+f.height+") with scale "+f.scale),b}return $(c,u),c.prototype.applyEffects=function(d){for(var f=this;this._activeEffects.length;)this.popEffect();d.forEach(function(b){return f.applyEffect(b)})},c.prototype.applyEffect=function(d){this.ctx.save(),function(u){return 2===u.type}(d)&&(this.ctx.globalAlpha=d.opacity),function(u){return 0===u.type}(d)&&(this.ctx.translate(d.offsetX,d.offsetY),this.ctx.transform(d.matrix[0],d.matrix[1],d.matrix[2],d.matrix[3],d.matrix[4],d.matrix[5]),this.ctx.translate(-d.offsetX,-d.offsetY)),_l(d)&&(this.path(d.path),this.ctx.clip()),this._activeEffects.push(d)},c.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},c.prototype.renderStack=function(d){return Ct(this,void 0,void 0,function(){return yt(this,function(b){switch(b.label){case 0:return d.element.container.styles.isVisible()?[4,this.renderStackContent(d)]:[3,2];case 1:b.sent(),b.label=2;case 2:return[2]}})})},c.prototype.renderNode=function(d){return Ct(this,void 0,void 0,function(){return yt(this,function(f){switch(f.label){case 0:return be(d.container.flags,16),d.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(d)]:[3,3];case 1:return f.sent(),[4,this.renderNodeContent(d)];case 2:f.sent(),f.label=3;case 3:return[2]}})})},c.prototype.renderTextWithLetterSpacing=function(d,f,b){var D=this;0===f?this.ctx.fillText(d.text,d.bounds.left,d.bounds.top+b):wr(d.text).reduce(function(z,G){return D.ctx.fillText(G,z,d.bounds.top+b),z+D.ctx.measureText(G).width},d.bounds.left)},c.prototype.createFontStyle=function(d){var f=d.fontVariant.filter(function(P){return"normal"===P||"small-caps"===P}).join(""),b=lh(d.fontFamily).join(", "),D=la(d.fontSize)?""+d.fontSize.number+d.fontSize.unit:d.fontSize.number+"px";return[[d.fontStyle,f,d.fontWeight,D,b].join(" "),b,D]},c.prototype.renderTextNode=function(d,f){return Ct(this,void 0,void 0,function(){var b,P,z,G,ot,ut,mt,Et=this;return yt(this,function(jt){return b=this.createFontStyle(f),P=b[1],z=b[2],this.ctx.font=b[0],this.ctx.direction=1===f.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",G=this.fontMetrics.getMetrics(P,z),ot=G.baseline,ut=G.middle,mt=f.paintOrder,d.textBounds.forEach(function(Nt){mt.forEach(function(Vt){switch(Vt){case 0:Et.ctx.fillStyle=Fe(f.color),Et.renderTextWithLetterSpacing(Nt,f.letterSpacing,ot);var CA=f.textShadow;CA.length&&Nt.text.trim().length&&(CA.slice(0).reverse().forEach(function(AA){Et.ctx.shadowColor=Fe(AA.color),Et.ctx.shadowOffsetX=AA.offsetX.number*Et.options.scale,Et.ctx.shadowOffsetY=AA.offsetY.number*Et.options.scale,Et.ctx.shadowBlur=AA.blur.number,Et.renderTextWithLetterSpacing(Nt,f.letterSpacing,ot)}),Et.ctx.shadowColor="",Et.ctx.shadowOffsetX=0,Et.ctx.shadowOffsetY=0,Et.ctx.shadowBlur=0),f.textDecorationLine.length&&(Et.ctx.fillStyle=Fe(f.textDecorationColor||f.color),f.textDecorationLine.forEach(function(AA){switch(AA){case 1:Et.ctx.fillRect(Nt.bounds.left,Math.round(Nt.bounds.top+ot),Nt.bounds.width,1);break;case 2:Et.ctx.fillRect(Nt.bounds.left,Math.round(Nt.bounds.top),Nt.bounds.width,1);break;case 3:Et.ctx.fillRect(Nt.bounds.left,Math.ceil(Nt.bounds.top+ut),Nt.bounds.width,1)}}));break;case 1:f.webkitTextStrokeWidth&&Nt.text.trim().length&&(Et.ctx.strokeStyle=Fe(f.webkitTextStrokeColor),Et.ctx.lineWidth=f.webkitTextStrokeWidth,Et.ctx.lineJoin=window.chrome?"miter":"round",Et.ctx.strokeText(Nt.text,Nt.bounds.left,Nt.bounds.top+ot)),Et.ctx.strokeStyle="",Et.ctx.lineWidth=0,Et.ctx.lineJoin="miter"}})}),[2]})})},c.prototype.renderReplacedElement=function(d,f,b){if(b&&d.intrinsicWidth>0&&d.intrinsicHeight>0){var D=Yo(d),P=Ma(f);this.path(P),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(b,0,0,d.intrinsicWidth,d.intrinsicHeight,D.left,D.top,D.width,D.height),this.ctx.restore()}},c.prototype.renderNodeContent=function(d){return Ct(this,void 0,void 0,function(){var f,b,D,P,z,ut,mt,Et,Nt,Vt,CA,AA,eA,yA,bA,uA;return yt(this,function(tA){switch(tA.label){case 0:this.applyEffects(d.getEffects(4)),b=d.curves,D=(f=d.container).styles,P=0,z=f.textNodes,tA.label=1;case 1:return P<z.length?[4,this.renderTextNode(z[P],D)]:[3,4];case 2:tA.sent(),tA.label=3;case 3:return P++,[3,1];case 4:if(!(f instanceof Du))return[3,8];tA.label=5;case 5:return tA.trys.push([5,7,,8]),[4,this.context.cache.match(f.src)];case 6:return eA=tA.sent(),this.renderReplacedElement(f,b,eA),[3,8];case 7:return tA.sent(),this.context.logger.error("Error loading image "+f.src),[3,8];case 8:if(f instanceof Mu&&this.renderReplacedElement(f,b,f.canvas),!(f instanceof ku))return[3,12];tA.label=9;case 9:return tA.trys.push([9,11,,12]),[4,this.context.cache.match(f.svg)];case 10:return eA=tA.sent(),this.renderReplacedElement(f,b,eA),[3,12];case 11:return tA.sent(),this.context.logger.error("Error loading svg "+f.svg.substring(0,255)),[3,12];case 12:return f instanceof Ua&&f.tree?[4,new c(this.context,{scale:this.options.scale,backgroundColor:f.backgroundColor,x:0,y:0,width:f.width,height:f.height}).render(f.tree)]:[3,14];case 13:ut=tA.sent(),f.width&&f.height&&this.ctx.drawImage(ut,0,0,f.width,f.height,f.bounds.left,f.bounds.top,f.bounds.width,f.bounds.height),tA.label=14;case 14:if(f instanceof Ue&&(mt=Math.min(f.bounds.width,f.bounds.height),f.type===ln?f.checked&&(this.ctx.save(),this.path([new Xt(f.bounds.left+.39363*mt,f.bounds.top+.79*mt),new Xt(f.bounds.left+.16*mt,f.bounds.top+.5549*mt),new Xt(f.bounds.left+.27347*mt,f.bounds.top+.44071*mt),new Xt(f.bounds.left+.39694*mt,f.bounds.top+.5649*mt),new Xt(f.bounds.left+.72983*mt,f.bounds.top+.23*mt),new Xt(f.bounds.left+.84*mt,f.bounds.top+.34085*mt),new Xt(f.bounds.left+.39363*mt,f.bounds.top+.79*mt)]),this.ctx.fillStyle=Fe(Me),this.ctx.fill(),this.ctx.restore()):f.type===cn&&f.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(f.bounds.left+mt/2,f.bounds.top+mt/2,mt/4,0,2*Math.PI,!0),this.ctx.fillStyle=Fe(Me),this.ctx.fill(),this.ctx.restore())),w0(f)&&f.value.length){switch(Et=this.createFontStyle(D),Nt=this.fontMetrics.getMetrics(bA=Et[0],Et[1]).baseline,this.ctx.font=bA,this.ctx.fillStyle=Fe(D.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=oh(f.styles.textAlign),uA=Yo(f),Vt=0,f.styles.textAlign){case 1:Vt+=uA.width/2;break;case 2:Vt+=uA.width}CA=uA.add(Vt,0,0,-uA.height/2+1),this.ctx.save(),this.path([new Xt(uA.left,uA.top),new Xt(uA.left+uA.width,uA.top),new Xt(uA.left+uA.width,uA.top+uA.height),new Xt(uA.left,uA.top+uA.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Fa(f.value,CA),D.letterSpacing,Nt),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!be(f.styles.display,2048))return[3,20];if(null===f.styles.listStyleImage)return[3,19];if(0!==(AA=f.styles.listStyleImage).type)return[3,18];eA=void 0,yA=AA.url,tA.label=15;case 15:return tA.trys.push([15,17,,18]),[4,this.context.cache.match(yA)];case 16:return eA=tA.sent(),this.ctx.drawImage(eA,f.bounds.left-(eA.width+10),f.bounds.top),[3,18];case 17:return tA.sent(),this.context.logger.error("Error loading list-style-image "+yA),[3,18];case 18:return[3,20];case 19:d.listValue&&-1!==f.styles.listStyleType&&(bA=this.createFontStyle(D)[0],this.ctx.font=bA,this.ctx.fillStyle=Fe(D.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",uA=new L(f.bounds.left,f.bounds.top+YA(f.styles.paddingTop,f.bounds.width),f.bounds.width,ru(D.lineHeight,D.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Fa(d.listValue,uA),D.letterSpacing,ru(D.lineHeight,D.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),tA.label=20;case 20:return[2]}})})},c.prototype.renderStackContent=function(d){return Ct(this,void 0,void 0,function(){var f,b,D,P,z,G,ot,ut,mt,Et,jt,Nt,Vt,CA;return yt(this,function(eA){switch(eA.label){case 0:return be(d.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(d.element)];case 1:eA.sent(),f=0,b=d.negativeZIndex,eA.label=2;case 2:return f<b.length?[4,this.renderStack(b[f])]:[3,5];case 3:eA.sent(),eA.label=4;case 4:return f++,[3,2];case 5:return[4,this.renderNodeContent(d.element)];case 6:eA.sent(),D=0,P=d.nonInlineLevel,eA.label=7;case 7:return D<P.length?[4,this.renderNode(P[D])]:[3,10];case 8:eA.sent(),eA.label=9;case 9:return D++,[3,7];case 10:z=0,G=d.nonPositionedFloats,eA.label=11;case 11:return z<G.length?[4,this.renderStack(G[z])]:[3,14];case 12:eA.sent(),eA.label=13;case 13:return z++,[3,11];case 14:ot=0,ut=d.nonPositionedInlineLevel,eA.label=15;case 15:return ot<ut.length?[4,this.renderStack(ut[ot])]:[3,18];case 16:eA.sent(),eA.label=17;case 17:return ot++,[3,15];case 18:mt=0,Et=d.inlineLevel,eA.label=19;case 19:return mt<Et.length?[4,this.renderNode(Et[mt])]:[3,22];case 20:eA.sent(),eA.label=21;case 21:return mt++,[3,19];case 22:jt=0,Nt=d.zeroOrAutoZIndexOrTransformedOrOpacity,eA.label=23;case 23:return jt<Nt.length?[4,this.renderStack(Nt[jt])]:[3,26];case 24:eA.sent(),eA.label=25;case 25:return jt++,[3,23];case 26:Vt=0,CA=d.positiveZIndex,eA.label=27;case 27:return Vt<CA.length?[4,this.renderStack(CA[Vt])]:[3,30];case 28:eA.sent(),eA.label=29;case 29:return Vt++,[3,27];case 30:return[2]}})})},c.prototype.mask=function(d){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(d.slice(0).reverse()),this.ctx.closePath()},c.prototype.path=function(d){this.ctx.beginPath(),this.formatPath(d),this.ctx.closePath()},c.prototype.formatPath=function(d){var f=this;d.forEach(function(b,D){var P=je(b)?b.start:b;0===D?f.ctx.moveTo(P.x,P.y):f.ctx.lineTo(P.x,P.y),je(b)&&f.ctx.bezierCurveTo(b.startControl.x,b.startControl.y,b.endControl.x,b.endControl.y,b.end.x,b.end.y)})},c.prototype.renderRepeat=function(d,f,b,D){this.path(d),this.ctx.fillStyle=f,this.ctx.translate(b,D),this.ctx.fill(),this.ctx.translate(-b,-D)},c.prototype.resizeImage=function(d,f,b){var D;if(d.width===f&&d.height===b)return d;var z=(null!==(D=this.canvas.ownerDocument)&&void 0!==D?D:document).createElement("canvas");return z.width=Math.max(1,f),z.height=Math.max(1,b),z.getContext("2d").drawImage(d,0,0,d.width,d.height,0,0,f,b),z},c.prototype.renderBackgroundImage=function(d){return Ct(this,void 0,void 0,function(){var f,b,D,P,z;return yt(this,function(ot){switch(ot.label){case 0:f=d.styles.backgroundImage.length-1,b=function(ut){var mt,Et,jt,Nt,Vt,CA,AA,eA,yA,bA,uA,tA,LA,OA,vA,we,tr,_e,HA,qA,ke,re,ne,fe,te,jr,dn,gn,Dr,pn,Mr;return yt(this,function(Bn){switch(Bn.label){case 0:if(0!==ut.type)return[3,5];mt=void 0,Et=ut.url,Bn.label=1;case 1:return Bn.trys.push([1,3,,4]),[4,D.context.cache.match(Et)];case 2:return mt=Bn.sent(),[3,4];case 3:return Bn.sent(),D.context.logger.error("Error loading background-image "+Et),[3,4];case 4:return mt&&(jt=bl(d,f,[mt.width,mt.height,mt.width/mt.height]),we=jt[0],re=jt[1],ne=jt[2],OA=D.ctx.createPattern(D.resizeImage(mt,HA=jt[3],qA=jt[4]),"repeat"),D.renderRepeat(we,OA,re,ne)),[3,6];case 5:!function(u){return 1===u.type}(ut)?function(u){return 2===u.type}(ut)&&(vA=bl(d,f,[null,null,null]),we=vA[0],tr=vA[1],_e=vA[2],qA=vA[4],re=YA((ke=0===ut.position.length?[Ts]:ut.position)[0],HA=vA[3]),ne=YA(ke[ke.length-1],qA),fe=function(u,c,d,f,b){var D=0,P=0;switch(u.size){case 0:0===u.shape?D=P=Math.min(Math.abs(c),Math.abs(c-f),Math.abs(d),Math.abs(d-b)):1===u.shape&&(D=Math.min(Math.abs(c),Math.abs(c-f)),P=Math.min(Math.abs(d),Math.abs(d-b)));break;case 2:if(0===u.shape)D=P=Math.min(Fr(c,d),Fr(c,d-b),Fr(c-f,d),Fr(c-f,d-b));else if(1===u.shape){var z=Math.min(Math.abs(d),Math.abs(d-b))/Math.min(Math.abs(c),Math.abs(c-f)),G=Wc(f,b,c,d,!0);P=z*(D=Fr(G[0]-c,(G[1]-d)/z))}break;case 1:0===u.shape?D=P=Math.max(Math.abs(c),Math.abs(c-f),Math.abs(d),Math.abs(d-b)):1===u.shape&&(D=Math.max(Math.abs(c),Math.abs(c-f)),P=Math.max(Math.abs(d),Math.abs(d-b)));break;case 3:if(0===u.shape)D=P=Math.max(Fr(c,d),Fr(c,d-b),Fr(c-f,d),Fr(c-f,d-b));else if(1===u.shape){z=Math.max(Math.abs(d),Math.abs(d-b))/Math.max(Math.abs(c),Math.abs(c-f));var mt=Wc(f,b,c,d,!1);P=z*(D=Fr(mt[0]-c,(mt[1]-d)/z))}}return Array.isArray(u.size)&&(D=YA(u.size[0],f),P=2===u.size.length?YA(u.size[1],b):D),[D,P]}(ut,re,ne,HA,qA),jr=fe[1],(te=fe[0])>0&&jr>0&&(dn=D.ctx.createRadialGradient(tr+re,_e+ne,0,tr+re,_e+ne,te),Ds(ut.stops,2*te).forEach(function(Nn){return dn.addColorStop(Nn.stop,Fe(Nn.color))}),D.path(we),D.ctx.fillStyle=dn,te!==jr?(gn=d.bounds.left+.5*d.bounds.width,Dr=d.bounds.top+.5*d.bounds.height,Mr=1/(pn=jr/te),D.ctx.save(),D.ctx.translate(gn,Dr),D.ctx.transform(1,0,0,pn,0,0),D.ctx.translate(-gn,-Dr),D.ctx.fillRect(tr,Mr*(_e-Dr)+Dr,HA,qA*Mr),D.ctx.restore()):D.ctx.fill())):(Nt=bl(d,f,[null,null,null]),we=Nt[0],re=Nt[1],ne=Nt[2],Vt=Xd(ut.angle,HA=Nt[3],qA=Nt[4]),CA=Vt[0],AA=Vt[1],eA=Vt[2],yA=Vt[3],bA=Vt[4],(uA=document.createElement("canvas")).width=HA,uA.height=qA,tA=uA.getContext("2d"),LA=tA.createLinearGradient(AA,yA,eA,bA),Ds(ut.stops,CA).forEach(function(Nn){return LA.addColorStop(Nn.stop,Fe(Nn.color))}),tA.fillStyle=LA,tA.fillRect(0,0,HA,qA),HA>0&&qA>0&&(OA=D.ctx.createPattern(uA,"repeat"),D.renderRepeat(we,OA,re,ne))),Bn.label=6;case 6:return f--,[2]}})},D=this,P=0,z=d.styles.backgroundImage.slice(0).reverse(),ot.label=1;case 1:return P<z.length?[5,b(z[P])]:[3,4];case 2:ot.sent(),ot.label=3;case 3:return P++,[3,1];case 4:return[2]}})})},c.prototype.renderSolidBorder=function(d,f,b){return Ct(this,void 0,void 0,function(){return yt(this,function(D){return this.path(ah(b,f)),this.ctx.fillStyle=Fe(d),this.ctx.fill(),[2]})})},c.prototype.renderDoubleBorder=function(d,f,b,D){return Ct(this,void 0,void 0,function(){var P,z;return yt(this,function(G){switch(G.label){case 0:return f<3?[4,this.renderSolidBorder(d,b,D)]:[3,2];case 1:return G.sent(),[2];case 2:return P=function(u,c){switch(c){case 0:return qe(u.topLeftBorderBox,u.topLeftBorderDoubleOuterBox,u.topRightBorderBox,u.topRightBorderDoubleOuterBox);case 1:return qe(u.topRightBorderBox,u.topRightBorderDoubleOuterBox,u.bottomRightBorderBox,u.bottomRightBorderDoubleOuterBox);case 2:return qe(u.bottomRightBorderBox,u.bottomRightBorderDoubleOuterBox,u.bottomLeftBorderBox,u.bottomLeftBorderDoubleOuterBox);default:return qe(u.bottomLeftBorderBox,u.bottomLeftBorderDoubleOuterBox,u.topLeftBorderBox,u.topLeftBorderDoubleOuterBox)}}(D,b),this.path(P),this.ctx.fillStyle=Fe(d),this.ctx.fill(),z=function(u,c){switch(c){case 0:return qe(u.topLeftBorderDoubleInnerBox,u.topLeftPaddingBox,u.topRightBorderDoubleInnerBox,u.topRightPaddingBox);case 1:return qe(u.topRightBorderDoubleInnerBox,u.topRightPaddingBox,u.bottomRightBorderDoubleInnerBox,u.bottomRightPaddingBox);case 2:return qe(u.bottomRightBorderDoubleInnerBox,u.bottomRightPaddingBox,u.bottomLeftBorderDoubleInnerBox,u.bottomLeftPaddingBox);default:return qe(u.bottomLeftBorderDoubleInnerBox,u.bottomLeftPaddingBox,u.topLeftBorderDoubleInnerBox,u.topLeftPaddingBox)}}(D,b),this.path(z),this.ctx.fill(),[2]}})})},c.prototype.renderNodeBackgroundAndBorders=function(d){return Ct(this,void 0,void 0,function(){var f,b,D,P,z,G,ot,ut,mt=this;return yt(this,function(Et){switch(Et.label){case 0:return this.applyEffects(d.getEffects(2)),b=!En((f=d.container.styles).backgroundColor)||f.backgroundImage.length,D=[{style:f.borderTopStyle,color:f.borderTopColor,width:f.borderTopWidth},{style:f.borderRightStyle,color:f.borderRightColor,width:f.borderRightWidth},{style:f.borderBottomStyle,color:f.borderBottomColor,width:f.borderBottomWidth},{style:f.borderLeftStyle,color:f.borderLeftColor,width:f.borderLeftWidth}],P=Ki(Jr(f.backgroundClip,0),d.curves),b||f.boxShadow.length?(this.ctx.save(),this.path(P),this.ctx.clip(),En(f.backgroundColor)||(this.ctx.fillStyle=Fe(f.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(d.container)]):[3,2];case 1:Et.sent(),this.ctx.restore(),f.boxShadow.slice(0).reverse().forEach(function(jt){mt.ctx.save();var Nt=Da(d.curves),Vt=jt.inset?0:1e4,CA=function(u,c,d,f,b){return u.map(function(D,P){switch(P){case 0:return D.add(c,d);case 1:return D.add(c+f,d);case 2:return D.add(c+f,d+b);case 3:return D.add(c,d+b)}return D})}(Nt,(jt.inset?1:-1)*jt.spread.number-Vt,(jt.inset?1:-1)*jt.spread.number,jt.spread.number*(jt.inset?-2:2),jt.spread.number*(jt.inset?-2:2));jt.inset?(mt.path(Nt),mt.ctx.clip(),mt.mask(CA)):(mt.mask(Nt),mt.ctx.clip(),mt.path(CA)),mt.ctx.shadowOffsetX=jt.offsetX.number+Vt,mt.ctx.shadowOffsetY=jt.offsetY.number,mt.ctx.shadowColor=Fe(jt.color),mt.ctx.shadowBlur=jt.blur.number,mt.ctx.fillStyle=jt.inset?Fe(jt.color):"rgba(0,0,0,1)",mt.ctx.fill(),mt.ctx.restore()}),Et.label=2;case 2:z=0,G=0,ot=D,Et.label=3;case 3:return G<ot.length?0!==(ut=ot[G]).style&&!En(ut.color)&&ut.width>0?2!==ut.style?[3,5]:[4,this.renderDashedDottedBorder(ut.color,ut.width,z,d.curves,2)]:[3,11]:[3,13];case 4:return Et.sent(),[3,11];case 5:return 3!==ut.style?[3,7]:[4,this.renderDashedDottedBorder(ut.color,ut.width,z,d.curves,3)];case 6:return Et.sent(),[3,11];case 7:return 4!==ut.style?[3,9]:[4,this.renderDoubleBorder(ut.color,ut.width,z,d.curves)];case 8:return Et.sent(),[3,11];case 9:return[4,this.renderSolidBorder(ut.color,z,d.curves)];case 10:Et.sent(),Et.label=11;case 11:z++,Et.label=12;case 12:return G++,[3,3];case 13:return[2]}})})},c.prototype.renderDashedDottedBorder=function(d,f,b,D,P){return Ct(this,void 0,void 0,function(){var z,G,ot,ut,mt,Et,jt,Nt,Vt,CA,AA,eA,yA,bA,uA,tA;return yt(this,function(LA){return this.ctx.save(),z=function(u,c){switch(c){case 0:return Yr(u.topLeftBorderStroke,u.topRightBorderStroke);case 1:return Yr(u.topRightBorderStroke,u.bottomRightBorderStroke);case 2:return Yr(u.bottomRightBorderStroke,u.bottomLeftBorderStroke);default:return Yr(u.bottomLeftBorderStroke,u.topLeftBorderStroke)}}(D,b),G=ah(D,b),2===P&&(this.path(G),this.ctx.clip()),je(G[0])?(ot=G[0].start.x,ut=G[0].start.y):(ot=G[0].x,ut=G[0].y),je(G[1])?(mt=G[1].end.x,Et=G[1].end.y):(mt=G[1].x,Et=G[1].y),jt=0===b||2===b?Math.abs(ot-mt):Math.abs(ut-Et),this.ctx.beginPath(),this.formatPath(3===P?z:G.slice(0,2)),Nt=f<3?3*f:2*f,Vt=f<3?2*f:f,3===P&&(Nt=f,Vt=f),CA=!0,jt<=2*Nt?CA=!1:jt<=2*Nt+Vt?(Nt*=AA=jt/(2*Nt+Vt),Vt*=AA):(eA=Math.floor((jt+Vt)/(Nt+Vt)),yA=(jt-eA*Nt)/(eA-1),Vt=(bA=(jt-(eA+1)*Nt)/eA)<=0||Math.abs(Vt-yA)<Math.abs(Vt-bA)?yA:bA),CA&&this.ctx.setLineDash(3===P?[0,Nt+Vt]:[Nt,Vt]),3===P?(this.ctx.lineCap="round",this.ctx.lineWidth=f):this.ctx.lineWidth=2*f+1.1,this.ctx.strokeStyle=Fe(d),this.ctx.stroke(),this.ctx.setLineDash([]),2===P&&(je(G[0])&&(uA=G[3],tA=G[0],this.ctx.beginPath(),this.formatPath([new Xt(uA.end.x,uA.end.y),new Xt(tA.start.x,tA.start.y)]),this.ctx.stroke()),je(G[1])&&(uA=G[1],tA=G[2],this.ctx.beginPath(),this.formatPath([new Xt(uA.end.x,uA.end.y),new Xt(tA.start.x,tA.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},c.prototype.render=function(d){return Ct(this,void 0,void 0,function(){var f;return yt(this,function(b){switch(b.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Fe(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),f=function(u){var c=new nh(u,null),d=new rh(c),f=[];return Cl(c,d,d,f),ih(c.container,f),d}(d),[4,this.renderStack(f)];case 1:return b.sent(),this.applyEffects([]),[2,this.canvas]}})})},c}(Ht),w0=function(u){return u instanceof Ho||u instanceof il||u instanceof Ue&&u.type!==cn&&u.type!==ln},Ki=function(u,c){switch(u){case 0:return Da(c);case 2:return function(u){return[u.topLeftContentBox,u.topRightContentBox,u.bottomRightContentBox,u.bottomLeftContentBox]}(c);default:return Ma(c)}},oh=function(u){switch(u){case 1:return"center";case 2:return"right";default:return"left"}},sh=["-apple-system","system-ui"],lh=function(u){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?u.filter(function(c){return-1===sh.indexOf(c)}):u},Xe=function(u){function c(d,f){var b=u.call(this,d,f)||this;return b.canvas=f.canvas?f.canvas:document.createElement("canvas"),b.ctx=b.canvas.getContext("2d"),b.options=f,b.canvas.width=Math.floor(f.width*f.scale),b.canvas.height=Math.floor(f.height*f.scale),b.canvas.style.width=f.width+"px",b.canvas.style.height=f.height+"px",b.ctx.scale(b.options.scale,b.options.scale),b.ctx.translate(-f.x,-f.y),b.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+f.width+"x"+f.height+" at "+f.x+","+f.y+") with scale "+f.scale),b}return $(c,u),c.prototype.render=function(d){return Ct(this,void 0,void 0,function(){var f,b;return yt(this,function(D){switch(D.label){case 0:return f=tl(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,d),[4,_0(f)];case 1:return b=D.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Fe(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(b,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},c}(Ht),_0=function(u){return new Promise(function(c,d){var f=new Image;f.onload=function(){c(f)},f.onerror=d,f.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(u))})},Jo=function(){function u(c){var f=c.enabled;this.id=c.id,this.enabled=f,this.start=Date.now()}return u.prototype.debug=function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.debug?console.debug.apply(console,Mt([this.id,this.getTime()+"ms"],c)):this.info.apply(this,c))},u.prototype.getTime=function(){return Date.now()-this.start},u.prototype.info=function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];this.enabled&&typeof window<"u"&&window.console&&"function"==typeof console.info&&console.info.apply(console,Mt([this.id,this.getTime()+"ms"],c))},u.prototype.warn=function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.warn?console.warn.apply(console,Mt([this.id,this.getTime()+"ms"],c)):this.info.apply(this,c))},u.prototype.error=function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.error?console.error.apply(console,Mt([this.id,this.getTime()+"ms"],c)):this.info.apply(this,c))},u.instances={},u}(),LB=function(){function u(c,d){var f;this.windowBounds=d,this.instanceName="#"+u.instanceCount++,this.logger=new Jo({id:this.instanceName,enabled:c.logging}),this.cache=null!==(f=c.cache)&&void 0!==f?f:new Xo(this,c)}return u.instanceCount=1,u}();typeof window<"u"&&qu.setContext(window);var v0=function(u,c){return Ct(void 0,void 0,void 0,function(){var d,f,b,D,P,z,G,ot,ut,mt,Et,jt,Nt,Vt,CA,AA,eA,yA,bA,uA,tA,OA,vA,we,tr,_e,HA,qA,ke,re,ne,fe,te,jr,dn,gn,Dr,pn;return yt(this,function(Mr){switch(Mr.label){case 0:if(!u||"object"!=typeof u)return[2,Promise.reject("Invalid element provided as first argument")];if(!(d=u.ownerDocument))throw new Error("Element is not attached to a Document");if(!(f=d.defaultView))throw new Error("Document is not attached to a Window");return b={allowTaint:null!==(OA=c.allowTaint)&&void 0!==OA&&OA,imageTimeout:null!==(vA=c.imageTimeout)&&void 0!==vA?vA:15e3,proxy:c.proxy,useCORS:null!==(we=c.useCORS)&&void 0!==we&&we},D=H({logging:null===(tr=c.logging)||void 0===tr||tr,cache:c.cache},b),P={windowWidth:null!==(_e=c.windowWidth)&&void 0!==_e?_e:f.innerWidth,windowHeight:null!==(HA=c.windowHeight)&&void 0!==HA?HA:f.innerHeight,scrollX:null!==(qA=c.scrollX)&&void 0!==qA?qA:f.pageXOffset,scrollY:null!==(ke=c.scrollY)&&void 0!==ke?ke:f.pageYOffset},z=new L(P.scrollX,P.scrollY,P.windowWidth,P.windowHeight),G=new LB(D,z),ot=null!==(re=c.foreignObjectRendering)&&void 0!==re&&re,ut={allowTaint:null!==(ne=c.allowTaint)&&void 0!==ne&&ne,onclone:c.onclone,ignoreElements:c.ignoreElements,inlineImages:ot,copyStyles:ot},G.logger.debug("Starting document clone with size "+z.width+"x"+z.height+" scrolled to "+-z.left+","+-z.top),mt=new zu(G,u,ut),(Et=mt.clonedReferenceElement)?[4,mt.toIFrame(d,z)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return jt=Mr.sent(),Nt=ll(Et)||function(u){return"HTML"===u.tagName}(Et)?function(u){var c=u.body,d=u.documentElement;if(!c||!d)throw new Error("Unable to get document size");var f=Math.max(Math.max(c.scrollWidth,d.scrollWidth),Math.max(c.offsetWidth,d.offsetWidth),Math.max(c.clientWidth,d.clientWidth)),b=Math.max(Math.max(c.scrollHeight,d.scrollHeight),Math.max(c.offsetHeight,d.offsetHeight),Math.max(c.clientHeight,d.clientHeight));return new L(0,0,f,b)}(Et.ownerDocument):xt(G,Et),Vt=Nt.width,CA=Nt.height,AA=Nt.left,eA=Nt.top,yA=y0(G,Et,c.backgroundColor),bA={canvas:c.canvas,backgroundColor:yA,scale:null!==(te=null!==(fe=c.scale)&&void 0!==fe?fe:f.devicePixelRatio)&&void 0!==te?te:1,x:(null!==(jr=c.x)&&void 0!==jr?jr:0)+AA,y:(null!==(dn=c.y)&&void 0!==dn?dn:0)+eA,width:null!==(gn=c.width)&&void 0!==gn?gn:Math.ceil(Vt),height:null!==(Dr=c.height)&&void 0!==Dr?Dr:Math.ceil(CA)},ot?(G.logger.debug("Document cloned, using foreign object rendering"),[4,new Xe(G,bA).render(Et)]):[3,3];case 2:return uA=Mr.sent(),[3,5];case 3:return G.logger.debug("Document cloned, element located at "+AA+","+eA+" with size "+Vt+"x"+CA+" using computed rendering"),G.logger.debug("Starting DOM parsing"),tA=al(G,Et),yA===tA.styles.backgroundColor&&(tA.styles.backgroundColor=on.TRANSPARENT),G.logger.debug("Starting renderer for element at "+bA.x+","+bA.y+" with size "+bA.width+"x"+bA.height),[4,new m0(G,bA).render(tA)];case 4:uA=Mr.sent(),Mr.label=5;case 5:return(!(null!==(pn=c.removeContainer)&&void 0!==pn)||pn)&&(zu.destroy(jt)||G.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),G.logger.debug("Finished rendering"),[2,uA]}})})},y0=function(u,c,d){var f=c.ownerDocument,b=f.documentElement?ua(u,getComputedStyle(f.documentElement).backgroundColor):on.TRANSPARENT,D=f.body?ua(u,getComputedStyle(f.body).backgroundColor):on.TRANSPARENT,P="string"==typeof d?ua(u,d):null===d?on.TRANSPARENT:4294967295;return c===f.documentElement?En(b)?En(D)?P:D:b:P};return function(u,c){return void 0===c&&(c={}),v0(u,c)}}()},1986:(IA,Yt,$)=>{"use strict";$.d(Yt,{c:()=>o});var H=$(3236),Ct=$(8793),yt=$(6697),Mt=$(9974),L=$(4360),xt=$(5343),Bt=$(3703),gt=$(1397),ft=$(8750);function st(m,C){return C?_=>(0,Ct.x)(C.pipe((0,yt.s)(1),function dt(){return(0,Mt.N)((m,C)=>{m.subscribe((0,L._)(C,xt.l))})}()),_.pipe(st(m))):(0,gt.Z)((_,U)=>(0,ft.Tg)(m(_,U)).pipe((0,yt.s)(1),(0,Bt.u)(_)))}var Ot=$(1584);function o(m,C=H.E){const _=(0,Ot.O)(m,C);return st(()=>_)}},6712:(IA,Yt,$)=>{"use strict";function H(t,A){return null==t||null==A?NaN:t<A?-1:t>A?1:t>=A?0:NaN}function Ct(t,A){return null==t||null==A?NaN:A<t?-1:A>t?1:A>=t?0:NaN}function yt(t){let A,e,r;function n(s,h,l=0,g=s.length){if(l<g){if(0!==A(h,h))return g;do{const B=l+g>>>1;e(s[B],h)<0?l=B+1:g=B}while(l<g)}return l}return 2!==t.length?(A=H,e=(s,h)=>H(t(s),h),r=(s,h)=>t(s)-h):(A=t===H||t===Ct?t:Mt,e=t,r=t),{left:n,center:function a(s,h,l=0,g=s.length){const B=n(s,h,l,g-1);return B>l&&r(s[B-1],h)>-r(s[B],h)?B-1:B},right:function i(s,h,l=0,g=s.length){if(l<g){if(0!==A(h,h))return g;do{const B=l+g>>>1;e(s[B],h)<=0?l=B+1:g=B}while(l<g)}return l}}}function Mt(){return 0}function L(t){return null===t?NaN:+t}$.r(Yt),$.d(Yt,{Adder:()=>XA,Delaunay:()=>K0,FormatSpecifier:()=>bh,InternMap:()=>gr,InternSet:()=>Ve,Node:()=>$a,Path:()=>hn,Voronoi:()=>tm,ZoomTransform:()=>Yn,active:()=>ku,arc:()=>ox,area:()=>lC,areaRadial:()=>fC,ascending:()=>H,autoType:()=>Wv,axisBottom:()=>ao,axisLeft:()=>hd,axisRight:()=>ud,axisTop:()=>cd,bin:()=>$t,bisect:()=>st,bisectCenter:()=>ft,bisectLeft:()=>gt,bisectRight:()=>Bt,bisector:()=>yt,blob:()=>my,blur:()=>Ot,blur2:()=>o,blurImage:()=>m,brush:()=>Ku,brushSelection:()=>qg,brushX:()=>Ou,brushY:()=>ll,buffer:()=>_y,chord:()=>Vu,chordDirected:()=>A0,chordTranspose:()=>t0,cluster:()=>LQ,color:()=>Ur,contourDensity:()=>bl,contours:()=>vl,count:()=>rt,create:()=>YE,creator:()=>Ge,cross:()=>Tt,csv:()=>yy,csvFormat:()=>Mv,csvFormatBody:()=>kv,csvFormatRow:()=>Sv,csvFormatRows:()=>Hv,csvFormatValue:()=>Pv,csvParse:()=>nm,csvParseRows:()=>Dv,cubehelix:()=>Ze,cumsum:()=>oA,curveBasis:()=>Ex,curveBasisClosed:()=>xx,curveBasisOpen:()=>Tx,curveBumpX:()=>gC,curveBumpY:()=>pC,curveBundle:()=>Ix,curveCardinal:()=>Dx,curveCardinalClosed:()=>Mx,curveCardinalOpen:()=>kx,curveCatmullRom:()=>Hx,curveCatmullRomClosed:()=>Sx,curveCatmullRomOpen:()=>Px,curveLinear:()=>kf,curveLinearClosed:()=>Lx,curveMonotoneX:()=>Ox,curveMonotoneY:()=>Kx,curveNatural:()=>Rx,curveStep:()=>Nx,curveStepAfter:()=>Wx,curveStepBefore:()=>Vx,descending:()=>Ct,deviation:()=>gA,difference:()=>mc,disjoint:()=>na,dispatch:()=>xi,drag:()=>Ev,dragDisable:()=>fa,dragEnable:()=>da,dsv:()=>vy,dsvFormat:()=>wh,easeBack:()=>fm,easeBackIn:()=>fy,easeBackInOut:()=>fm,easeBackOut:()=>dy,easeBounce:()=>Tl,easeBounceIn:()=>uy,easeBounceInOut:()=>hy,easeBounceOut:()=>Tl,easeCircle:()=>hm,easeCircleIn:()=>Ay,easeCircleInOut:()=>hm,easeCircleOut:()=>ey,easeCubic:()=>Al,easeCubicIn:()=>Gg,easeCubicInOut:()=>Al,easeCubicOut:()=>zg,easeElastic:()=>dm,easeElasticIn:()=>gy,easeElasticInOut:()=>py,easeElasticOut:()=>dm,easeExp:()=>um,easeExpIn:()=>qv,easeExpInOut:()=>um,easeExpOut:()=>ty,easeLinear:()=>zv,easePoly:()=>om,easePolyIn:()=>Yv,easePolyInOut:()=>om,easePolyOut:()=>Jv,easeQuad:()=>am,easeQuadIn:()=>Xv,easeQuadInOut:()=>am,easeQuadOut:()=>$v,easeSin:()=>cm,easeSinIn:()=>jv,easeSinInOut:()=>cm,easeSinOut:()=>Zv,every:()=>jf,extent:()=>mA,fcumsum:()=>Jn,filter:()=>qf,flatGroup:()=>Pt,flatRollup:()=>Wt,forceCenter:()=>Iy,forceCollide:()=>Jy,forceLink:()=>Zy,forceManyBody:()=>ob,forceRadial:()=>sb,forceSimulation:()=>ab,forceX:()=>lb,forceY:()=>cb,format:()=>Fh,formatDefaultLocale:()=>Um,formatLocale:()=>Fm,formatPrefix:()=>Z0,formatSpecifier:()=>es,fsum:()=>br,geoAlbers:()=>W1,geoAlbersUsa:()=>pQ,geoArea:()=>_b,geoAzimuthalEqualArea:()=>BQ,geoAzimuthalEqualAreaRaw:()=>Pp,geoAzimuthalEquidistant:()=>mQ,geoAzimuthalEquidistantRaw:()=>Lp,geoBounds:()=>bb,geoCentroid:()=>Tb,geoCircle:()=>Ib,geoClipAntimeridian:()=>pp,geoClipCircle:()=>l1,geoClipExtent:()=>Lb,geoClipRectangle:()=>Xh,geoConicConformal:()=>_Q,geoConicConformalRaw:()=>X1,geoConicEqualArea:()=>of,geoConicEqualAreaRaw:()=>V1,geoConicEquidistant:()=>vQ,geoConicEquidistantRaw:()=>$1,geoContains:()=>Gb,geoDistance:()=>Jh,geoEqualEarth:()=>bQ,geoEqualEarthRaw:()=>Op,geoEquirectangular:()=>CQ,geoEquirectangularRaw:()=>Gl,geoGnomonic:()=>QQ,geoGnomonicRaw:()=>Kp,geoGraticule:()=>w1,geoGraticule10:()=>zb,geoIdentity:()=>FQ,geoInterpolate:()=>Xb,geoLength:()=>c1,geoMercator:()=>wQ,geoMercatorRaw:()=>Wl,geoNaturalEarth1:()=>UQ,geoNaturalEarth1Raw:()=>Rp,geoOrthographic:()=>EQ,geoOrthographicRaw:()=>Np,geoPath:()=>aQ,geoProjection:()=>zn,geoProjectionMutator:()=>Hp,geoRotation:()=>A1,geoStereographic:()=>xQ,geoStereographicRaw:()=>Vp,geoStream:()=>wn,geoTransform:()=>oQ,geoTransverseMercator:()=>TQ,geoTransverseMercatorRaw:()=>Wp,gray:()=>qu,greatest:()=>Pe,greatestIndex:()=>dc,group:()=>Rt,groupSort:()=>Zn,groups:()=>pA,hcl:()=>$o,hierarchy:()=>Gp,histogram:()=>$t,hsl:()=>_o,html:()=>xy,image:()=>Qy,index:()=>Qe,indexes:()=>Ye,interpolate:()=>kn,interpolateArray:()=>ag,interpolateBasis:()=>Au,interpolateBasisClosed:()=>vo,interpolateBlues:()=>TE,interpolateBrBG:()=>lE,interpolateBuGn:()=>mE,interpolateBuPu:()=>wE,interpolateCividis:()=>SE,interpolateCool:()=>OE,interpolateCubehelix:()=>RF,interpolateCubehelixDefault:()=>PE,interpolateCubehelixLong:()=>pf,interpolateDate:()=>ou,interpolateDiscrete:()=>IF,interpolateGnBu:()=>_E,interpolateGreens:()=>IE,interpolateGreys:()=>DE,interpolateHcl:()=>OF,interpolateHclLong:()=>KF,interpolateHsl:()=>SF,interpolateHslLong:()=>PF,interpolateHue:()=>DF,interpolateInferno:()=>XE,interpolateLab:()=>LF,interpolateMagma:()=>zE,interpolateNumber:()=>Br,interpolateNumberArray:()=>Ss,interpolateObject:()=>su,interpolateOrRd:()=>CE,interpolateOranges:()=>HE,interpolatePRGn:()=>cE,interpolatePiYG:()=>uE,interpolatePlasma:()=>$E,interpolatePuBu:()=>yE,interpolatePuBuGn:()=>vE,interpolatePuOr:()=>hE,interpolatePuRd:()=>bE,interpolatePurples:()=>ME,interpolateRainbow:()=>KE,interpolateRdBu:()=>fE,interpolateRdGy:()=>dE,interpolateRdPu:()=>QE,interpolateRdYlBu:()=>gE,interpolateRdYlGn:()=>pE,interpolateReds:()=>kE,interpolateRgb:()=>Mn,interpolateRgbBasis:()=>iu,interpolateRgbBasisClosed:()=>ig,interpolateRound:()=>gf,interpolateSinebow:()=>VE,interpolateSpectral:()=>BE,interpolateString:()=>Os,interpolateTransformCss:()=>Io,interpolateTransformSvg:()=>Do,interpolateTurbo:()=>WE,interpolateViridis:()=>GE,interpolateWarm:()=>LE,interpolateYlGn:()=>UE,interpolateYlGnBu:()=>FE,interpolateYlOrBr:()=>EE,interpolateYlOrRd:()=>xE,interpolateZoom:()=>dw,interrupt:()=>Le,intersection:()=>td,interval:()=>s4,isoFormat:()=>n4,isoParse:()=>o4,json:()=>Uy,lab:()=>Xo,lch:()=>ml,least:()=>hc,leastIndex:()=>fc,line:()=>QB,lineRadial:()=>hC,link:()=>Hf,linkHorizontal:()=>px,linkRadial:()=>mx,linkVertical:()=>Bx,local:()=>iC,map:()=>ra,matcher:()=>ys,max:()=>cA,maxIndex:()=>xA,mean:()=>lc,median:()=>Gf,medianIndex:()=>zf,merge:()=>TA,min:()=>$A,minIndex:()=>MA,mode:()=>eo,namespace:()=>sa,namespaces:()=>Fs,nice:()=>xe,now:()=>Ca,pack:()=>dF,packEnclose:()=>sF,packSiblings:()=>hF,pairs:()=>_s,partition:()=>gF,path:()=>Tr,pathRound:()=>Wu,permute:()=>pr,pie:()=>ux,piecewise:()=>mw,pointRadial:()=>oc,pointer:()=>nr,pointers:()=>jE,polygonArea:()=>VF,polygonCentroid:()=>WF,polygonContains:()=>$F,polygonHull:()=>XF,polygonLength:()=>YF,precisionFixed:()=>Em,precisionPrefix:()=>xm,precisionRound:()=>Tm,quadtree:()=>vh,quantile:()=>Je,quantileIndex:()=>ea,quantileSorted:()=>Aa,quantize:()=>NF,quickselect:()=>ae,radialArea:()=>fC,radialLine:()=>hC,randomBates:()=>qF,randomBernoulli:()=>e2,randomBeta:()=>vw,randomBinomial:()=>yw,randomCauchy:()=>n2,randomExponential:()=>t2,randomGamma:()=>tB,randomGeometric:()=>Cw,randomInt:()=>jF,randomIrwinHall:()=>_w,randomLcg:()=>l2,randomLogNormal:()=>ZF,randomLogistic:()=>i2,randomNormal:()=>qp,randomPareto:()=>A2,randomPoisson:()=>a2,randomUniform:()=>JF,randomWeibull:()=>r2,range:()=>Nr,rank:()=>uc,reduce:()=>Bc,reverse:()=>no,rgb:()=>Si,ribbon:()=>n0,ribbonArrow:()=>i0,rollup:()=>Jt,rollups:()=>EA,scaleBand:()=>rB,scaleDiverging:()=>x_,scaleDivergingLog:()=>T_,scaleDivergingPow:()=>CB,scaleDivergingSqrt:()=>jU,scaleDivergingSymlog:()=>I_,scaleIdentity:()=>xw,scaleImplicit:()=>AB,scaleLinear:()=>Ew,scaleLog:()=>kw,scaleOrdinal:()=>eB,scalePoint:()=>c2,scalePow:()=>lB,scaleQuantile:()=>Rw,scaleQuantize:()=>Nw,scaleRadial:()=>Kw,scaleSequential:()=>Q_,scaleSequentialLog:()=>F_,scaleSequentialPow:()=>_B,scaleSequentialQuantile:()=>E_,scaleSequentialSqrt:()=>JU,scaleSequentialSymlog:()=>U_,scaleSqrt:()=>v2,scaleSymlog:()=>Pw,scaleThreshold:()=>Vw,scaleTime:()=>$U,scaleUtc:()=>YU,scan:()=>Xf,schemeAccent:()=>qU,schemeBlues:()=>q_,schemeBrBG:()=>D_,schemeBuGn:()=>R_,schemeBuPu:()=>N_,schemeCategory10:()=>ZU,schemeDark2:()=>tE,schemeGnBu:()=>V_,schemeGreens:()=>tC,schemeGreys:()=>AC,schemeObservable10:()=>AE,schemeOrRd:()=>W_,schemeOranges:()=>nC,schemePRGn:()=>M_,schemePaired:()=>eE,schemePastel1:()=>rE,schemePastel2:()=>nE,schemePiYG:()=>k_,schemePuBu:()=>z_,schemePuBuGn:()=>G_,schemePuOr:()=>H_,schemePuRd:()=>X_,schemePurples:()=>eC,schemeRdBu:()=>S_,schemeRdGy:()=>P_,schemeRdPu:()=>$_,schemeRdYlBu:()=>L_,schemeRdYlGn:()=>O_,schemeReds:()=>rC,schemeSet1:()=>iE,schemeSet2:()=>aE,schemeSet3:()=>oE,schemeSpectral:()=>K_,schemeTableau10:()=>sE,schemeYlGn:()=>J_,schemeYlGnBu:()=>Y_,schemeYlOrBr:()=>j_,schemeYlOrRd:()=>Z_,select:()=>Ie,selectAll:()=>ZE,selection:()=>ai,selector:()=>so,selectorAll:()=>vs,shuffle:()=>$f,shuffler:()=>ro,some:()=>Zf,sort:()=>nn,stack:()=>Xx,stackOffsetDiverging:()=>Yx,stackOffsetExpand:()=>$x,stackOffsetNone:()=>Bs,stackOffsetSilhouette:()=>Jx,stackOffsetWiggle:()=>jx,stackOrderAppearance:()=>GC,stackOrderAscending:()=>zC,stackOrderDescending:()=>qx,stackOrderInsideOut:()=>t4,stackOrderNone:()=>ms,stackOrderReverse:()=>A4,stratify:()=>wF,style:()=>ni,subset:()=>ed,sum:()=>gc,superset:()=>ia,svg:()=>Ty,symbol:()=>Ux,symbolAsterisk:()=>BC,symbolCircle:()=>Sf,symbolCross:()=>mC,symbolDiamond:()=>_C,symbolDiamond2:()=>CC,symbolPlus:()=>vC,symbolSquare:()=>yC,symbolSquare2:()=>bC,symbolStar:()=>FC,symbolTimes:()=>xB,symbolTriangle:()=>UC,symbolTriangle2:()=>EC,symbolWye:()=>xC,symbolX:()=>xB,symbols:()=>TC,symbolsFill:()=>TC,symbolsStroke:()=>Fx,text:()=>Ch,thresholdFreedmanDiaconis:()=>Ao,thresholdScott:()=>ws,thresholdSturges:()=>vt,tickFormat:()=>Uw,tickIncrement:()=>ue,tickStep:()=>Zt,ticks:()=>rr,timeDay:()=>hs,timeDays:()=>E2,timeFormat:()=>BB,timeFormatDefaultLocale:()=>b_,timeFormatLocale:()=>s_,timeFriday:()=>Yw,timeFridays:()=>H2,timeHour:()=>Cf,timeHours:()=>F2,timeInterval:()=>Ee,timeMillisecond:()=>us,timeMilliseconds:()=>Gw,timeMinute:()=>wf,timeMinutes:()=>b2,timeMonday:()=>tc,timeMondays:()=>I2,timeMonth:()=>yf,timeMonths:()=>V2,timeParse:()=>y_,timeSaturday:()=>Jw,timeSaturdays:()=>S2,timeSecond:()=>yi,timeSeconds:()=>zw,timeSunday:()=>fs,timeSundays:()=>jw,timeThursday:()=>ja,timeThursdays:()=>k2,timeTickInterval:()=>o_,timeTicks:()=>a_,timeTuesday:()=>Xw,timeTuesdays:()=>D2,timeWednesday:()=>$w,timeWednesdays:()=>M2,timeWeek:()=>fs,timeWeeks:()=>jw,timeYear:()=>Xn,timeYears:()=>G2,timeout:()=>Rs,timer:()=>Uo,timerFlush:()=>hu,transition:()=>Tu,transpose:()=>pc,tree:()=>FF,treemap:()=>UF,treemapBinary:()=>EF,treemapDice:()=>jl,treemapResquarify:()=>TF,treemapSlice:()=>df,treemapSliceDice:()=>xF,treemapSquarify:()=>hw,tsv:()=>by,tsvFormat:()=>Ov,tsvFormatBody:()=>Kv,tsvFormatRow:()=>Nv,tsvFormatRows:()=>Rv,tsvFormatValue:()=>Vv,tsvParse:()=>im,tsvParseRows:()=>Lv,union:()=>rd,unixDay:()=>dB,unixDays:()=>T2,utcDay:()=>ql,utcDays:()=>x2,utcFormat:()=>Qf,utcFriday:()=>t_,utcFridays:()=>R2,utcHour:()=>vf,utcHours:()=>U2,utcMillisecond:()=>us,utcMilliseconds:()=>Gw,utcMinute:()=>_f,utcMinutes:()=>Q2,utcMonday:()=>Ac,utcMondays:()=>P2,utcMonth:()=>bf,utcMonths:()=>W2,utcParse:()=>mB,utcSaturday:()=>A_,utcSaturdays:()=>N2,utcSecond:()=>yi,utcSeconds:()=>zw,utcSunday:()=>ds,utcSundays:()=>e_,utcThursday:()=>qa,utcThursdays:()=>K2,utcTickInterval:()=>i_,utcTicks:()=>n_,utcTuesday:()=>Zw,utcTuesdays:()=>L2,utcWednesday:()=>qw,utcWednesdays:()=>O2,utcWeek:()=>ds,utcWeeks:()=>e_,utcYear:()=>$n,utcYears:()=>z2,variance:()=>dA,window:()=>Us,xml:()=>Ey,zip:()=>Jf,zoom:()=>g4,zoomIdentity:()=>Vf,zoomTransform:()=>YC});const dt=yt(H),Bt=dt.right,gt=dt.left,ft=yt(L).center,st=Bt;function Ot(t,A){if(!((A=+A)>=0))throw new RangeError("invalid r");let e=t.length;if(!((e=Math.floor(e))>=0))throw new RangeError("invalid length");if(!e||!A)return t;const r=S(A),n=t.slice();return r(t,n,0,e,1),r(n,t,0,e,1),r(t,n,0,e,1),t}const o=C(S),m=C(function E(t){const A=S(t);return(e,r,n,i,a)=>{A(e,r,0+(n<<=2),0+(i<<=2),a<<=2),A(e,r,n+1,i+1,a),A(e,r,n+2,i+2,a),A(e,r,n+3,i+3,a)}});function C(t){return function(A,e,r=e){if(!((e=+e)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:n,width:i,height:a}=A;if(!((i=Math.floor(i))>=0))throw new RangeError("invalid width");if(!((a=Math.floor(void 0!==a?a:n.length/i))>=0))throw new RangeError("invalid height");if(!i||!a||!e&&!r)return A;const s=e&&t(e),h=r&&t(r),l=n.slice();return s&&h?(_(s,l,n,i,a),_(s,n,l,i,a),_(s,l,n,i,a),U(h,n,l,i,a),U(h,l,n,i,a),U(h,n,l,i,a)):s?(_(s,n,l,i,a),_(s,l,n,i,a),_(s,n,l,i,a)):h&&(U(h,n,l,i,a),U(h,l,n,i,a),U(h,n,l,i,a)),A}}function _(t,A,e,r,n){for(let i=0,a=r*n;i<a;)t(A,e,i,i+=r,1)}function U(t,A,e,r,n){for(let i=0,a=r*n;i<r;++i)t(A,e,i,i+a,r)}function S(t){const A=Math.floor(t);if(A===t)return function V(t){const A=2*t+1;return(e,r,n,i,a)=>{if(!((i-=a)>=n))return;let s=t*r[n];const h=a*t;for(let l=n,g=n+h;l<g;l+=a)s+=r[Math.min(i,l)];for(let l=n,g=i;l<=g;l+=a)s+=r[Math.min(i,l+h)],e[l]=s/A,s-=r[Math.max(n,l-h)]}}(t);const e=t-A,r=2*t+1;return(n,i,a,s,h)=>{if(!((s-=h)>=a))return;let l=A*i[a];const g=h*A,B=g+h;for(let p=a,w=a+g;p<w;p+=h)l+=i[Math.min(s,p)];for(let p=a,w=s;p<=w;p+=h)l+=i[Math.min(s,p+g)],n[p]=(l+e*(i[Math.max(a,p-B)]+i[Math.min(s,p+B)]))/r,l-=i[Math.max(a,p-g)]}}function rt(t,A){let e=0;if(void 0===A)for(let r of t)null!=r&&(r=+r)>=r&&++e;else{let r=-1;for(let n of t)null!=(n=A(n,++r,t))&&(n=+n)>=n&&++e}return e}function nt(t){return 0|t.length}function j(t){return!(t>0)}function At(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function Tt(...t){const A="function"==typeof t[t.length-1]&&function ct(t){return A=>t(...A)}(t.pop()),e=(t=t.map(At)).map(nt),r=t.length-1,n=new Array(r+1).fill(0),i=[];if(r<0||e.some(j))return i;for(;;){i.push(n.map((s,h)=>t[h][s]));let a=r;for(;++n[a]===e[a];){if(0===a)return A?i.map(A):i;n[a--]=0}}}function oA(t,A){var e=0,r=0;return Float64Array.from(t,void 0===A?n=>e+=+n||0:n=>e+=+A(n,r++,t)||0)}function dA(t,A){let r,e=0,n=0,i=0;if(void 0===A)for(let a of t)null!=a&&(a=+a)>=a&&(r=a-n,n+=r/++e,i+=r*(a-n));else{let a=-1;for(let s of t)null!=(s=A(s,++a,t))&&(s=+s)>=s&&(r=s-n,n+=r/++e,i+=r*(s-n))}if(e>1)return i/(e-1)}function gA(t,A){const e=dA(t,A);return e&&Math.sqrt(e)}function mA(t,A){let e,r;if(void 0===A)for(const n of t)null!=n&&(void 0===e?n>=n&&(e=r=n):(e>n&&(e=n),r<n&&(r=n)));else{let n=-1;for(let i of t)null!=(i=A(i,++n,t))&&(void 0===e?i>=i&&(e=r=i):(e>i&&(e=i),r<i&&(r=i)))}return[e,r]}class XA{constructor(){this._partials=new Float64Array(32),this._n=0}add(A){const e=this._partials;let r=0;for(let n=0;n<this._n&&n<32;n++){const i=e[n],a=A+i,s=Math.abs(A)<Math.abs(i)?A-(a-i):i-(a-A);s&&(e[r++]=s),A=a}return e[r]=A,this._n=r+1,this}valueOf(){const A=this._partials;let r,n,i,e=this._n,a=0;if(e>0){for(a=A[--e];e>0&&(r=a,n=A[--e],a=r+n,i=n-(a-r),!i););e>0&&(i<0&&A[e-1]<0||i>0&&A[e-1]>0)&&(n=2*i,r=a+n,n==r-a&&(a=r))}return a}}function br(t,A){const e=new XA;if(void 0===A)for(let r of t)(r=+r)&&e.add(r);else{let r=-1;for(let n of t)(n=+A(n,++r,t))&&e.add(n)}return+e}function Jn(t,A){const e=new XA;let r=-1;return Float64Array.from(t,void 0===A?n=>e.add(+n||0):n=>e.add(+A(n,++r,t)||0))}class gr extends Map{constructor(A,e=aA){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=A)for(const[r,n]of A)this.set(r,n)}get(A){return super.get(zt(this,A))}has(A){return super.has(zt(this,A))}set(A,e){return super.set(PA(this,A),e)}delete(A){return super.delete(Kt(this,A))}}class Ve extends Set{constructor(A,e=aA){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=A)for(const r of A)this.add(r)}has(A){return super.has(zt(this,A))}add(A){return super.add(PA(this,A))}delete(A){return super.delete(Kt(this,A))}}function zt({_intern:t,_key:A},e){const r=A(e);return t.has(r)?t.get(r):e}function PA({_intern:t,_key:A},e){const r=A(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function Kt({_intern:t,_key:A},e){const r=A(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function aA(t){return null!==t&&"object"==typeof t?t.valueOf():t}function QA(t){return t}function Rt(t,...A){return Ae(t,QA,QA,A)}function pA(t,...A){return Ae(t,Array.from,QA,A)}function Qt(t,A){for(let e=1,r=A.length;e<r;++e)t=t.flatMap(n=>n.pop().map(([i,a])=>[...n,i,a]));return t}function Pt(t,...A){return Qt(pA(t,...A),A)}function Wt(t,A,...e){return Qt(EA(t,A,...e),e)}function Jt(t,A,...e){return Ae(t,QA,A,e)}function EA(t,A,...e){return Ae(t,Array.from,A,e)}function Qe(t,...A){return Ae(t,QA,Se,A)}function Ye(t,...A){return Ae(t,Array.from,Se,A)}function Se(t){if(1!==t.length)throw new Error("duplicate key");return t[0]}function Ae(t,A,e,r){return function n(i,a){if(a>=r.length)return e(i);const s=new gr,h=r[a++];let l=-1;for(const g of i){const B=h(g,++l,i),p=s.get(B);p?p.push(g):s.set(B,[g])}for(const[g,B]of s)s.set(g,n(B,a));return A(s)}(t,0)}function pr(t,A){return Array.from(A,e=>t[e])}function nn(t,...A){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[e]=A;if(e&&2!==e.length||A.length>1){const r=Uint32Array.from(t,(n,i)=>i);return A.length>1?(A=A.map(n=>t.map(n)),r.sort((n,i)=>{for(const a of A){const s=vn(a[n],a[i]);if(s)return s}})):(e=t.map(e),r.sort((n,i)=>vn(e[n],e[i]))),pr(t,r)}return t.sort(jn(e))}function jn(t=H){if(t===H)return vn;if("function"!=typeof t)throw new TypeError("compare is not a function");return(A,e)=>{const r=t(A,e);return r||0===r?r:(0===t(e,e))-(0===t(A,A))}}function vn(t,A){return(null==t||!(t>=t))-(null==A||!(A>=A))||(t<A?-1:t>A?1:0)}function Zn(t,A,e){return(2!==A.length?nn(Jt(t,A,e),([r,n],[i,a])=>H(n,a)||H(r,i)):nn(Rt(t,e),([r,n],[i,a])=>A(n,a)||H(r,i))).map(([r])=>r)}var Fi=Array.prototype.slice;function qi(t){return()=>t}const to=Math.sqrt(50),ta=Math.sqrt(10),qn=Math.sqrt(2);function ti(t,A,e){const r=(A-t)/Math.max(0,e),n=Math.floor(Math.log10(r)),i=r/Math.pow(10,n),a=i>=to?10:i>=ta?5:i>=qn?2:1;let s,h,l;return n<0?(l=Math.pow(10,-n)/a,s=Math.round(t*l),h=Math.round(A*l),s/l<t&&++s,h/l>A&&--h,l=-l):(l=Math.pow(10,n)*a,s=Math.round(t/l),h=Math.round(A/l),s*l<t&&++s,h*l>A&&--h),h<s&&.5<=e&&e<2?ti(t,A,2*e):[s,h,l]}function rr(t,A,e){if(!((e=+e)>0))return[];if((t=+t)==(A=+A))return[t];const r=A<t,[n,i,a]=r?ti(A,t,e):ti(t,A,e);if(!(i>=n))return[];const s=i-n+1,h=new Array(s);if(r)if(a<0)for(let l=0;l<s;++l)h[l]=(i-l)/-a;else for(let l=0;l<s;++l)h[l]=(i-l)*a;else if(a<0)for(let l=0;l<s;++l)h[l]=(n+l)/-a;else for(let l=0;l<s;++l)h[l]=(n+l)*a;return h}function ue(t,A,e){return ti(t=+t,A=+A,e=+e)[2]}function Zt(t,A,e){e=+e;const r=(A=+A)<(t=+t),n=r?ue(A,t,e):ue(t,A,e);return(r?-1:1)*(n<0?1/-n:n)}function xe(t,A,e){let r;for(;;){const n=ue(t,A,e);if(n===r||0===n||!isFinite(n))return[t,A];n>0?(t=Math.floor(t/n)*n,A=Math.ceil(A/n)*n):n<0&&(t=Math.ceil(t*n)/n,A=Math.floor(A*n)/n),r=n}}function vt(t){return Math.max(1,Math.ceil(Math.log(rt(t))/Math.LN2)+1)}function $t(){var t=QA,A=mA,e=vt;function r(n){Array.isArray(n)||(n=Array.from(n));var i,s,h,a=n.length,l=new Array(a);for(i=0;i<a;++i)l[i]=t(n[i],i,n);var g=A(l),B=g[0],p=g[1],w=e(l,B,p);if(!Array.isArray(w)){const T=p,x=+w;if(A===mA&&([B,p]=xe(B,p,x)),(w=rr(B,p,x))[0]<=B&&(h=ue(B,p,x)),w[w.length-1]>=p)if(T>=p&&A===mA){const k=ue(B,p,x);isFinite(k)&&(k>0?p=(Math.floor(p/k)+1)*k:k<0&&(p=(Math.ceil(p*-k)+1)/-k))}else w.pop()}for(var F=w.length,v=0,y=F;w[v]<=B;)++v;for(;w[y-1]>p;)--y;(v||y<F)&&(w=w.slice(v,y),F=y-v);var I,Q=new Array(F+1);for(i=0;i<=F;++i)(I=Q[i]=[]).x0=i>0?w[i-1]:B,I.x1=i<F?w[i]:p;if(isFinite(h)){if(h>0)for(i=0;i<a;++i)null!=(s=l[i])&&B<=s&&s<=p&&Q[Math.min(F,Math.floor((s-B)/h))].push(n[i]);else if(h<0)for(i=0;i<a;++i)if(null!=(s=l[i])&&B<=s&&s<=p){const T=Math.floor((B-s)*h);Q[Math.min(F,T+(w[T]<=s))].push(n[i])}}else for(i=0;i<a;++i)null!=(s=l[i])&&B<=s&&s<=p&&Q[st(w,s,0,F)].push(n[i]);return Q}return r.value=function(n){return arguments.length?(t="function"==typeof n?n:qi(n),r):t},r.domain=function(n){return arguments.length?(A="function"==typeof n?n:qi([n[0],n[1]]),r):A},r.thresholds=function(n){return arguments.length?(e="function"==typeof n?n:qi(Array.isArray(n)?Fi.call(n):n),r):e},r}function cA(t,A){let e;if(void 0===A)for(const r of t)null!=r&&(e<r||void 0===e&&r>=r)&&(e=r);else{let r=-1;for(let n of t)null!=(n=A(n,++r,t))&&(e<n||void 0===e&&n>=n)&&(e=n)}return e}function xA(t,A){let e,r=-1,n=-1;if(void 0===A)for(const i of t)++n,null!=i&&(e<i||void 0===e&&i>=i)&&(e=i,r=n);else for(let i of t)null!=(i=A(i,++n,t))&&(e<i||void 0===e&&i>=i)&&(e=i,r=n);return r}function $A(t,A){let e;if(void 0===A)for(const r of t)null!=r&&(e>r||void 0===e&&r>=r)&&(e=r);else{let r=-1;for(let n of t)null!=(n=A(n,++r,t))&&(e>n||void 0===e&&n>=n)&&(e=n)}return e}function MA(t,A){let e,r=-1,n=-1;if(void 0===A)for(const i of t)++n,null!=i&&(e>i||void 0===e&&i>=i)&&(e=i,r=n);else for(let i of t)null!=(i=A(i,++n,t))&&(e>i||void 0===e&&i>=i)&&(e=i,r=n);return r}function ae(t,A,e=0,r=1/0,n){if(A=Math.floor(A),e=Math.floor(Math.max(0,e)),r=Math.floor(Math.min(t.length-1,r)),!(e<=A&&A<=r))return t;for(n=void 0===n?vn:jn(n);r>e;){if(r-e>600){const h=r-e+1,l=A-e+1,g=Math.log(h),B=.5*Math.exp(2*g/3),p=.5*Math.sqrt(g*B*(h-B)/h)*(l-h/2<0?-1:1);ae(t,A,Math.max(e,Math.floor(A-l*B/h+p)),Math.min(r,Math.floor(A+(h-l)*B/h+p)),n)}const i=t[A];let a=e,s=r;for(pe(t,e,A),n(t[r],i)>0&&pe(t,e,r);a<s;){for(pe(t,a,s),++a,--s;n(t[a],i)<0;)++a;for(;n(t[s],i)>0;)--s}0===n(t[e],i)?pe(t,e,s):(++s,pe(t,s,r)),s<=A&&(e=s+1),A<=s&&(r=s-1)}return t}function pe(t,A,e){const r=t[A];t[A]=t[e],t[e]=r}function Pe(t,A=H){let e,r=!1;if(1===A.length){let n;for(const i of t){const a=A(i);(r?H(a,n)>0:0===H(a,a))&&(e=i,n=a,r=!0)}}else for(const n of t)(r?A(n,e)>0:0===A(n,n))&&(e=n,r=!0);return e}function Je(t,A,e){if(t=Float64Array.from(function*xt(t,A){if(void 0===A)for(let e of t)null!=e&&(e=+e)>=e&&(yield e);else{let e=-1;for(let r of t)null!=(r=A(r,++e,t))&&(r=+r)>=r&&(yield r)}}(t,e)),(r=t.length)&&!isNaN(A=+A)){if(A<=0||r<2)return $A(t);if(A>=1)return cA(t);var r,n=(r-1)*A,i=Math.floor(n),a=cA(ae(t,i).subarray(0,i+1));return a+($A(t.subarray(i+1))-a)*(n-i)}}function Aa(t,A,e=L){if((r=t.length)&&!isNaN(A=+A)){if(A<=0||r<2)return+e(t[0],0,t);if(A>=1)return+e(t[r-1],r-1,t);var r,n=(r-1)*A,i=Math.floor(n),a=+e(t[i],i,t);return a+(+e(t[i+1],i+1,t)-a)*(n-i)}}function ea(t,A,e=L){if(!isNaN(A=+A)){if(r=Float64Array.from(t,(s,h)=>L(e(t[h],h,t))),A<=0)return MA(r);if(A>=1)return xA(r);var r,n=Uint32Array.from(t,(s,h)=>h),i=r.length-1,a=Math.floor(i*A);return ae(n,a,0,i,(s,h)=>vn(r[s],r[h])),(a=Pe(n.subarray(0,a+1),s=>r[s]))>=0?a:-1}}function Ao(t,A,e){const r=rt(t),n=Je(t,.75)-Je(t,.25);return r&&n?Math.ceil((e-A)/(2*n*Math.pow(r,-1/3))):1}function ws(t,A,e){const r=rt(t),n=gA(t);return r&&n?Math.ceil((e-A)*Math.cbrt(r)/(3.49*n)):1}function lc(t,A){let e=0,r=0;if(void 0===A)for(let n of t)null!=n&&(n=+n)>=n&&(++e,r+=n);else{let n=-1;for(let i of t)null!=(i=A(i,++n,t))&&(i=+i)>=i&&(++e,r+=i)}if(e)return r/e}function Gf(t,A){return Je(t,.5,A)}function zf(t,A){return ea(t,.5,A)}function TA(t){return Array.from(function*cc(t){for(const A of t)yield*A}(t))}function eo(t,A){const e=new gr;if(void 0===A)for(let i of t)null!=i&&i>=i&&e.set(i,(e.get(i)||0)+1);else{let i=-1;for(let a of t)null!=(a=A(a,++i,t))&&a>=a&&e.set(a,(e.get(a)||0)+1)}let r,n=0;for(const[i,a]of e)a>n&&(n=a,r=i);return r}function _s(t,A=an){const e=[];let r,n=!1;for(const i of t)n&&e.push(A(r,i)),r=i,n=!0;return e}function an(t,A){return[t,A]}function Nr(t,A,e){t=+t,A=+A,e=(n=arguments.length)<2?(A=t,t=0,1):n<3?1:+e;for(var r=-1,n=0|Math.max(0,Math.ceil((A-t)/e)),i=new Array(n);++r<n;)i[r]=t+r*e;return i}function uc(t,A=H){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");let e=Array.from(t);const r=new Float64Array(e.length);2!==A.length&&(e=e.map(A),A=H);const n=(s,h)=>A(e[s],e[h]);let i,a;return(t=Uint32Array.from(e,(s,h)=>h)).sort(A===H?(s,h)=>vn(e[s],e[h]):jn(n)),t.forEach((s,h)=>{const l=n(s,void 0===i?s:i);l>=0?((void 0===i||l>0)&&(i=s,a=h),r[s]=a):r[s]=NaN}),r}function hc(t,A=H){let e,r=!1;if(1===A.length){let n;for(const i of t){const a=A(i);(r?H(a,n)<0:0===H(a,a))&&(e=i,n=a,r=!0)}}else for(const n of t)(r?A(n,e)<0:0===A(n,n))&&(e=n,r=!0);return e}function fc(t,A=H){if(1===A.length)return MA(t,A);let e,r=-1,n=-1;for(const i of t)++n,(r<0?0===A(i,i):A(i,e)<0)&&(e=i,r=n);return r}function dc(t,A=H){if(1===A.length)return xA(t,A);let e,r=-1,n=-1;for(const i of t)++n,(r<0?0===A(i,i):A(i,e)>0)&&(e=i,r=n);return r}function Xf(t,A){const e=fc(t,A);return e<0?void 0:e}const $f=ro(Math.random);function ro(t){return function(e,r=0,n=e.length){let i=n-(r=+r);for(;i;){const a=t()*i--|0,s=e[i+r];e[i+r]=e[a+r],e[a+r]=s}return e}}function gc(t,A){let e=0;if(void 0===A)for(let r of t)(r=+r)&&(e+=r);else{let r=-1;for(let n of t)(n=+A(n,++r,t))&&(e+=n)}return e}function pc(t){if(!(i=t.length))return[];for(var A=-1,e=$A(t,Yf),r=new Array(e);++A<e;)for(var i,n=-1,a=r[A]=new Array(i);++n<i;)a[n]=t[n][A];return r}function Yf(t){return t.length}function Jf(){return pc(arguments)}function jf(t,A){if("function"!=typeof A)throw new TypeError("test is not a function");let e=-1;for(const r of t)if(!A(r,++e,t))return!1;return!0}function Zf(t,A){if("function"!=typeof A)throw new TypeError("test is not a function");let e=-1;for(const r of t)if(A(r,++e,t))return!0;return!1}function qf(t,A){if("function"!=typeof A)throw new TypeError("test is not a function");const e=[];let r=-1;for(const n of t)A(n,++r,t)&&e.push(n);return e}function ra(t,A){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof A)throw new TypeError("mapper is not a function");return Array.from(t,(e,r)=>A(e,r,t))}function Bc(t,A,e){if("function"!=typeof A)throw new TypeError("reducer is not a function");const r=t[Symbol.iterator]();let n,i,a=-1;if(arguments.length<3){if(({done:n,value:e}=r.next()),n)return;++a}for(;({done:n,value:i}=r.next()),!n;)e=A(e,i,++a,t);return e}function no(t){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(t).reverse()}function mc(t,...A){t=new Ve(t);for(const e of A)for(const r of e)t.delete(r);return t}function na(t,A){const e=A[Symbol.iterator](),r=new Ve;for(const n of t){if(r.has(n))return!1;let i,a;for(;({value:i,done:a}=e.next())&&!a;){if(Object.is(n,i))return!1;r.add(i)}}return!0}function td(t,...A){t=new Ve(t),A=A.map(Ad);t:for(const e of t)for(const r of A)if(!r.has(e)){t.delete(e);continue t}return t}function Ad(t){return t instanceof Ve?t:new Ve(t)}function ia(t,A){const e=t[Symbol.iterator](),r=new Set;for(const n of A){const i=Ei(n);if(r.has(i))continue;let a,s;for(;({value:a,done:s}=e.next());){if(s)return!1;const h=Ei(a);if(r.add(h),Object.is(i,h))break}}return!0}function Ei(t){return null!==t&&"object"==typeof t?t.valueOf():t}function ed(t,A){return ia(A,t)}function rd(...t){const A=new Ve;for(const e of t)for(const r of e)A.add(r);return A}function nd(t){return t}var Ai=1,ei=2,ri=3,aa=4,We=1e-6;function id(t){return"translate("+t+",0)"}function ad(t){return"translate(0,"+t+")"}function od(t){return A=>+t(A)}function sd(t,A){return A=Math.max(0,t.bandwidth()-2*A)/2,t.round()&&(A=Math.round(A)),e=>+t(e)+A}function ld(){return!this.__axis}function io(t,A){var e=[],r=null,n=null,i=6,a=6,s=3,h=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=t===Ai||t===aa?-1:1,g=t===aa||t===ei?"x":"y",B=t===Ai||t===ri?id:ad;function p(w){var F=r??(A.ticks?A.ticks.apply(A,e):A.domain()),v=n??(A.tickFormat?A.tickFormat.apply(A,e):nd),y=Math.max(i,0)+s,Q=A.range(),I=+Q[0]+h,T=+Q[Q.length-1]+h,x=(A.bandwidth?sd:od)(A.copy(),h),k=w.selection?w.selection():w,K=k.selectAll(".domain").data([null]),N=k.selectAll(".tick").data(F,A).order(),Y=N.exit(),q=N.enter().append("g").attr("class","tick"),tt=N.select("line"),J=N.select("text");K=K.merge(K.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),N=N.merge(q),tt=tt.merge(q.append("line").attr("stroke","currentColor").attr(g+"2",l*i)),J=J.merge(q.append("text").attr("fill","currentColor").attr(g,l*y).attr("dy",t===Ai?"0em":t===ri?"0.71em":"0.32em")),w!==k&&(K=K.transition(w),N=N.transition(w),tt=tt.transition(w),J=J.transition(w),Y=Y.transition(w).attr("opacity",We).attr("transform",function(lt){return isFinite(lt=x(lt))?B(lt+h):this.getAttribute("transform")}),q.attr("opacity",We).attr("transform",function(lt){var at=this.parentNode.__axis;return B((at&&isFinite(at=at(lt))?at:x(lt))+h)})),Y.remove(),K.attr("d",t===aa||t===ei?a?"M"+l*a+","+I+"H"+h+"V"+T+"H"+l*a:"M"+h+","+I+"V"+T:a?"M"+I+","+l*a+"V"+h+"H"+T+"V"+l*a:"M"+I+","+h+"H"+T),N.attr("opacity",1).attr("transform",function(lt){return B(x(lt)+h)}),tt.attr(g+"2",l*i),J.attr(g,l*y).text(v),k.filter(ld).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===ei?"start":t===aa?"end":"middle"),k.each(function(){this.__axis=x})}return p.scale=function(w){return arguments.length?(A=w,p):A},p.ticks=function(){return e=Array.from(arguments),p},p.tickArguments=function(w){return arguments.length?(e=null==w?[]:Array.from(w),p):e.slice()},p.tickValues=function(w){return arguments.length?(r=null==w?null:Array.from(w),p):r&&r.slice()},p.tickFormat=function(w){return arguments.length?(n=w,p):n},p.tickSize=function(w){return arguments.length?(i=a=+w,p):i},p.tickSizeInner=function(w){return arguments.length?(i=+w,p):i},p.tickSizeOuter=function(w){return arguments.length?(a=+w,p):a},p.tickPadding=function(w){return arguments.length?(s=+w,p):s},p.offset=function(w){return arguments.length?(h=+w,p):h},p}function cd(t){return io(Ai,t)}function ud(t){return io(ei,t)}function ao(t){return io(ri,t)}function hd(t){return io(aa,t)}var wc={value:()=>{}};function _c(){for(var r,t=0,A=arguments.length,e={};t<A;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new oo(e)}function oo(t){this._=t}function Cs(t,A){for(var n,e=0,r=t.length;e<r;++e)if((n=t[e]).name===A)return n.value}function yn(t,A,e){for(var r=0,n=t.length;r<n;++r)if(t[r].name===A){t[r]=wc,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:A,value:e}),t}oo.prototype=_c.prototype={constructor:oo,on:function(t,A){var n,e=this._,r=function Cc(t,A){return t.trim().split(/^|\s+/).map(function(e){var r="",n=e.indexOf(".");if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e&&!A.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}(t+"",e),i=-1,a=r.length;if(!(arguments.length<2)){if(null!=A&&"function"!=typeof A)throw new Error("invalid callback: "+A);for(;++i<a;)if(n=(t=r[i]).type)e[n]=yn(e[n],t.name,A);else if(null==A)for(n in e)e[n]=yn(e[n],t.name,null);return this}for(;++i<a;)if((n=(t=r[i]).type)&&(n=Cs(e[n],t.name)))return n},copy:function(){var t={},A=this._;for(var e in A)t[e]=A[e].slice();return new oo(t)},call:function(t,A){if((n=arguments.length-2)>0)for(var n,i,e=new Array(n),r=0;r<n;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=0,n=(i=this._[t]).length;r<n;++r)i[r].value.apply(A,e)},apply:function(t,A,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],n=0,i=r.length;n<i;++n)r[n].value.apply(A,e)}};const xi=_c;function fd(){}function so(t){return null==t?fd:function(){return this.querySelector(t)}}function vc(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function dd(){return[]}function vs(t){return null==t?dd:function(){return this.querySelectorAll(t)}}function ys(t){return function(){return this.matches(t)}}function Qr(t){return function(A){return A.matches(t)}}var yc=Array.prototype.find;function Qc(){return this.firstElementChild}var md=Array.prototype.filter;function wd(){return Array.from(this.children)}function xc(t){return new Array(t.length)}function ye(t,A){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=A}function Ti(t,A,e,r,n,i){for(var s,a=0,h=A.length,l=i.length;a<l;++a)(s=A[a])?(s.__data__=i[a],r[a]=s):e[a]=new ye(t,i[a]);for(;a<h;++a)(s=A[a])&&(n[a]=s)}function vd(t,A,e,r,n,i,a){var s,h,w,l=new Map,g=A.length,B=i.length,p=new Array(g);for(s=0;s<g;++s)(h=A[s])&&(p[s]=w=a.call(h,h.__data__,s,A)+"",l.has(w)?n[s]=h:l.set(w,h));for(s=0;s<B;++s)w=a.call(t,i[s],s,i)+"",(h=l.get(w))?(r[s]=h,h.__data__=i[s],l.delete(w)):e[s]=new ye(t,i[s]);for(s=0;s<g;++s)(h=A[s])&&l.get(p[s])===h&&(n[s]=h)}function yd(t){return t.__data__}function Qd(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function uo(t,A){return t<A?-1:t>A?1:t>=A?0:NaN}ye.prototype={constructor:ye,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,A){return this._parent.insertBefore(t,A)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Qs="http://www.w3.org/1999/xhtml";const Fs={svg:"http://www.w3.org/2000/svg",xhtml:Qs,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function sa(t){var A=t+="",e=A.indexOf(":");return e>=0&&"xmlns"!==(A=t.slice(0,e))&&(t=t.slice(e+1)),Fs.hasOwnProperty(A)?{space:Fs[A],local:t}:t}function Dd(t){return function(){this.removeAttribute(t)}}function Md(t){return function(){this.removeAttributeNS(t.space,t.local)}}function kd(t,A){return function(){this.setAttribute(t,A)}}function Hd(t,A){return function(){this.setAttributeNS(t.space,t.local,A)}}function ho(t,A){return function(){var e=A.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function Sd(t,A){return function(){var e=A.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Us(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ld(t){return function(){this.style.removeProperty(t)}}function Od(t,A,e){return function(){this.style.setProperty(t,A,e)}}function Kd(t,A,e){return function(){var r=A.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function ni(t,A){return t.style.getPropertyValue(A)||Us(t).getComputedStyle(t,null).getPropertyValue(A)}function Es(t){return function(){delete this[t]}}function Ic(t,A){return function(){this[t]=A}}function Dc(t,A){return function(){var e=A.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function ii(t){return t.trim().split(/^|\s+/)}function NA(t){return t.classList||new Mc(t)}function Mc(t){this._node=t,this._names=ii(t.getAttribute("class")||"")}function fo(t,A){for(var e=NA(t),r=-1,n=A.length;++r<n;)e.add(A[r])}function xs(t,A){for(var e=NA(t),r=-1,n=A.length;++r<n;)e.remove(A[r])}function Ii(t){return function(){fo(this,t)}}function Vr(t){return function(){xs(this,t)}}function Nd(t,A){return function(){(A.apply(this,arguments)?fo:xs)(this,t)}}function Be(){this.textContent=""}function kc(t){return function(){this.textContent=t}}function Te(t){return function(){var A=t.apply(this,arguments);this.textContent=A??""}}function Fn(){this.innerHTML=""}function ca(t){return function(){this.innerHTML=t}}function YA(t){return function(){var A=t.apply(this,arguments);this.innerHTML=A??""}}function Sc(){this.nextSibling&&this.parentNode.appendChild(this)}function Lc(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Oc(t){return function(){var A=this.ownerDocument,e=this.namespaceURI;return e===Qs&&A.documentElement.namespaceURI===Qs?A.createElement(t):A.createElementNS(e,t)}}function Kc(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ge(t){var A=sa(t);return(A.local?Kc:Oc)(A)}function En(){return null}function xn(){var t=this.parentNode;t&&t.removeChild(this)}function Nc(){var t=this.cloneNode(!1),A=this.parentNode;return A?A.insertBefore(t,this.nextSibling):t}function Is(){var t=this.cloneNode(!0),A=this.parentNode;return A?A.insertBefore(t,this.nextSibling):t}function Wd(t){return function(){var A=this.__on;if(A){for(var i,e=0,r=-1,n=A.length;e<n;++e)i=A[e],t.type&&i.type!==t.type||i.name!==t.name?A[++r]=i:this.removeEventListener(i.type,i.listener,i.options);++r?A.length=r:delete this.__on}}}function Gd(t,A,e){return function(){var n,r=this.__on,i=function ua(t){return function(A){t.call(this,A,this.__data__)}}(A);if(r)for(var a=0,s=r.length;a<s;++a)if((n=r[a]).type===t.type&&n.name===t.name)return this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=i,n.options=e),void(n.value=A);this.addEventListener(t.type,i,e),n={type:t.type,name:t.name,value:A,listener:i,options:e},r?r.push(n):this.__on=[n]}}function Ds(t,A,e){var r=Us(t),n=r.CustomEvent;"function"==typeof n?n=new n(A,e):(n=r.document.createEvent("Event"),e?(n.initEvent(A,e.bubbles,e.cancelable),n.detail=e.detail):n.initEvent(A,!1,!1)),t.dispatchEvent(n)}function zd(t,A){return function(){return Ds(this,t,A)}}function Xd(t,A){return function(){return Ds(this,t,A.apply(this,arguments))}}Mc.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var A=this._names.indexOf(t);A>=0&&(this._names.splice(A,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Ms=[null];function ze(t,A){this._groups=t,this._parents=A}function ha(){return new ze([[document.documentElement]],Ms)}ze.prototype=ha.prototype={constructor:ze,select:function oa(t){"function"!=typeof t&&(t=so(t));for(var A=this._groups,e=A.length,r=new Array(e),n=0;n<e;++n)for(var h,l,i=A[n],a=i.length,s=r[n]=new Array(a),g=0;g<a;++g)(h=i[g])&&(l=t.call(h,h.__data__,g,i))&&("__data__"in h&&(l.__data__=h.__data__),s[g]=l);return new ze(r,this._parents)},selectAll:function pd(t){t="function"==typeof t?function gd(t){return function(){return vc(t.apply(this,arguments))}}(t):vs(t);for(var A=this._groups,e=A.length,r=[],n=[],i=0;i<e;++i)for(var h,a=A[i],s=a.length,l=0;l<s;++l)(h=a[l])&&(r.push(t.call(h,h.__data__,l,a)),n.push(h));return new ze(r,n)},selectChild:function Bd(t){return this.select(null==t?Qc:function bc(t){return function(){return yc.call(this.children,t)}}("function"==typeof t?t:Qr(t)))},selectChildren:function Uc(t){return this.selectAll(null==t?wd:function Fc(t){return function(){return md.call(this.children,t)}}("function"==typeof t?t:Qr(t)))},filter:function Ec(t){"function"!=typeof t&&(t=ys(t));for(var A=this._groups,e=A.length,r=new Array(e),n=0;n<e;++n)for(var h,i=A[n],a=i.length,s=r[n]=[],l=0;l<a;++l)(h=i[l])&&t.call(h,h.__data__,l,i)&&s.push(h);return new ze(r,this._parents)},data:function bd(t,A){if(!arguments.length)return Array.from(this,yd);var e=A?vd:Ti,r=this._parents,n=this._groups;"function"!=typeof t&&(t=function Cd(t){return function(){return t}}(t));for(var i=n.length,a=new Array(i),s=new Array(i),h=new Array(i),l=0;l<i;++l){var g=r[l],B=n[l],p=B.length,w=Qd(t.call(g,g&&g.__data__,l,r)),F=w.length,v=s[l]=new Array(F),y=a[l]=new Array(F);e(g,B,v,y,h[l]=new Array(p),w,A);for(var x,k,I=0,T=0;I<F;++I)if(x=v[I]){for(I>=T&&(T=I+1);!(k=y[T])&&++T<F;);x._next=k||null}}return(a=new ze(a,r))._enter=s,a._exit=h,a},enter:function _d(){return new ze(this._enter||this._groups.map(xc),this._parents)},exit:function lo(){return new ze(this._exit||this._groups.map(xc),this._parents)},join:function co(t,A,e){var r=this.enter(),n=this,i=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=A&&(n=A(n))&&(n=n.selection()),null==e?i.remove():e(i),r&&n?r.merge(n).order():n},merge:function Tc(t){for(var A=t.selection?t.selection():t,e=this._groups,r=A._groups,n=e.length,a=Math.min(n,r.length),s=new Array(n),h=0;h<a;++h)for(var w,l=e[h],g=r[h],B=l.length,p=s[h]=new Array(B),F=0;F<B;++F)(w=l[F]||g[F])&&(p[F]=w);for(;h<n;++h)s[h]=e[h];return new ze(s,this._parents)},selection:function $d(){return this},order:function Fd(){for(var t=this._groups,A=-1,e=t.length;++A<e;)for(var a,r=t[A],n=r.length-1,i=r[n];--n>=0;)(a=r[n])&&(i&&4^a.compareDocumentPosition(i)&&i.parentNode.insertBefore(a,i),i=a);return this},sort:function bn(t){function A(B,p){return B&&p?t(B.__data__,p.__data__):!B-!p}t||(t=uo);for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i){for(var l,a=e[i],s=a.length,h=n[i]=new Array(s),g=0;g<s;++g)(l=a[g])&&(h[g]=l);h.sort(A)}return new ze(n,this._parents).order()},call:function bs(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function Ud(){return Array.from(this)},node:function Ed(){for(var t=this._groups,A=0,e=t.length;A<e;++A)for(var r=t[A],n=0,i=r.length;n<i;++n){var a=r[n];if(a)return a}return null},size:function xd(){let t=0;for(const A of this)++t;return t},empty:function Td(){return!this.node()},each:function Id(t){for(var A=this._groups,e=0,r=A.length;e<r;++e)for(var s,n=A[e],i=0,a=n.length;i<a;++i)(s=n[i])&&t.call(s,s.__data__,i,n);return this},attr:function Pd(t,A){var e=sa(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==A?e.local?Md:Dd:"function"==typeof A?e.local?Sd:ho:e.local?Hd:kd)(e,A))},style:function Rd(t,A,e){return arguments.length>1?this.each((null==A?Ld:"function"==typeof A?Kd:Od)(t,A,e??"")):ni(this.node(),t)},property:function la(t,A){return arguments.length>1?this.each((null==A?Es:"function"==typeof A?Dc:Ic)(t,A)):this.node()[t]},classed:function Qn(t,A){var e=ii(t+"");if(arguments.length<2){for(var r=NA(this.node()),n=-1,i=e.length;++n<i;)if(!r.contains(e[n]))return!1;return!0}return this.each(("function"==typeof A?Nd:A?Ii:Vr)(e,A))},text:function Ts(t){return arguments.length?this.each(null==t?Be:("function"==typeof t?Te:kc)(t)):this.node().textContent},html:function Hc(t){return arguments.length?this.each(null==t?Fn:("function"==typeof t?YA:ca)(t)):this.node().innerHTML},raise:function Pc(){return this.each(Sc)},lower:function go(){return this.each(Lc)},append:function Un(t){var A="function"==typeof t?t:Ge(t);return this.select(function(){return this.appendChild(A.apply(this,arguments))})},insert:function Fe(t,A){var e="function"==typeof t?t:Ge(t),r=null==A?En:"function"==typeof A?A:so(A);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function Rc(){return this.each(xn)},clone:function Vc(t){return this.select(t?Is:Nc)},datum:function Vd(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function po(t,A,e){var n,a,r=function on(t){return t.trim().split(/^|\s+/).map(function(A){var e="",r=A.indexOf(".");return r>=0&&(e=A.slice(r+1),A=A.slice(0,r)),{type:A,name:e}})}(t+""),i=r.length;if(!(arguments.length<2)){for(s=A?Gd:Wd,n=0;n<i;++n)this.each(s(r[n],A,e));return this}var s=this.node().__on;if(s)for(var g,h=0,l=s.length;h<l;++h)for(n=0,g=s[h];n<i;++n)if((a=r[n]).type===g.type&&a.name===g.name)return g.value},dispatch:function Fr(t,A){return this.each(("function"==typeof A?Xd:zd)(t,A))},[Symbol.iterator]:function*Wc(){for(var t=this._groups,A=0,e=t.length;A<e;++A)for(var a,r=t[A],n=0,i=r.length;n<i;++n)(a=r[n])&&(yield a)}};const ai=ha;function Ie(t){return"string"==typeof t?new ze([[document.querySelector(t)]],[document.documentElement]):new ze([[t]],Ms)}const Gc={passive:!1},Di={capture:!0,passive:!1};function Bo(t){t.stopImmediatePropagation()}function oi(t){t.preventDefault(),t.stopImmediatePropagation()}function fa(t){var A=t.document.documentElement,e=Ie(t).on("dragstart.drag",oi,Di);"onselectstart"in A?e.on("selectstart.drag",oi,Di):(A.__noselect=A.style.MozUserSelect,A.style.MozUserSelect="none")}function da(t,A){var e=t.document.documentElement,r=Ie(t).on("dragstart.drag",null);A&&(r.on("click.drag",oi,Di),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function Mi(t,A,e){t.prototype=A.prototype=e,e.constructor=t}function Tn(t,A){var e=Object.create(t.prototype);for(var r in A)e[r]=A[r];return e}function In(){}var Dn=1/.7,ki="\\s*([+-]?\\d+)\\s*",Hi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Yd=/^#([0-9a-f]{3,8})$/,Jd=new RegExp(`^rgb\\(${ki},${ki},${ki}\\)$`),jd=new RegExp(`^rgb\\(${Wr},${Wr},${Wr}\\)$`),Zd=new RegExp(`^rgba\\(${ki},${ki},${ki},${Hi}\\)$`),ga=new RegExp(`^rgba\\(${Wr},${Wr},${Wr},${Hi}\\)$`),qd=new RegExp(`^hsl\\(${Hi},${Wr},${Wr}\\)$`),tg=new RegExp(`^hsla\\(${Hi},${Wr},${Wr},${Hi}\\)$`),pa={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function zc(){return this.rgb().formatHex()}function Xc(){return this.rgb().formatRgb()}function Ur(t){var A,e;return t=(t+"").trim().toLowerCase(),(A=Yd.exec(t))?(e=A[1].length,A=parseInt(A[1],16),6===e?$c(A):3===e?new he(A>>8&15|A>>4&240,A>>4&15|240&A,(15&A)<<4|15&A,1):8===e?mo(A>>24&255,A>>16&255,A>>8&255,(255&A)/255):4===e?mo(A>>12&15|A>>8&240,A>>8&15|A>>4&240,A>>4&15|240&A,((15&A)<<4|15&A)/255):null):(A=Jd.exec(t))?new he(A[1],A[2],A[3],1):(A=jd.exec(t))?new he(255*A[1]/100,255*A[2]/100,255*A[3]/100,1):(A=Zd.exec(t))?mo(A[1],A[2],A[3],A[4]):(A=ga.exec(t))?mo(255*A[1]/100,255*A[2]/100,255*A[3]/100,A[4]):(A=qd.exec(t))?jc(A[1],A[2]/100,A[3]/100,1):(A=tg.exec(t))?jc(A[1],A[2]/100,A[3]/100,A[4]):pa.hasOwnProperty(t)?$c(pa[t]):"transparent"===t?new he(NaN,NaN,NaN,0):null}function $c(t){return new he(t>>16&255,t>>8&255,255&t,1)}function mo(t,A,e,r){return r<=0&&(t=A=e=NaN),new he(t,A,e,r)}function ks(t){return t instanceof In||(t=Ur(t)),t?new he((t=t.rgb()).r,t.g,t.b,t.opacity):new he}function Si(t,A,e,r){return 1===arguments.length?ks(t):new he(t,A,e,r??1)}function he(t,A,e,r){this.r=+t,this.g=+A,this.b=+e,this.opacity=+r}function Yc(){return`#${li(this.r)}${li(this.g)}${li(this.b)}`}function Jc(){const t=wo(this.opacity);return`${1===t?"rgb(":"rgba("}${Gr(this.r)}, ${Gr(this.g)}, ${Gr(this.b)}${1===t?")":`, ${t})`}`}function wo(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Gr(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function li(t){return((t=Gr(t))<16?"0":"")+t.toString(16)}function jc(t,A,e,r){return r<=0?t=A=e=NaN:e<=0||e>=1?t=A=NaN:A<=0&&(t=NaN),new Er(t,A,e,r)}function Zc(t){if(t instanceof Er)return new Er(t.h,t.s,t.l,t.opacity);if(t instanceof In||(t=Ur(t)),!t)return new Er;if(t instanceof Er)return t;var A=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,n=Math.min(A,e,r),i=Math.max(A,e,r),a=NaN,s=i-n,h=(i+n)/2;return s?(a=A===i?(e-r)/s+6*(e<r):e===i?(r-A)/s+2:(A-e)/s+4,s/=h<.5?i+n:2-i-n,a*=60):s=h>0&&h<1?0:a,new Er(a,s,h,t.opacity)}function _o(t,A,e,r){return 1===arguments.length?Zc(t):new Er(t,A,e,r??1)}function Er(t,A,e,r){this.h=+t,this.s=+A,this.l=+e,this.opacity=+r}function qc(t){return(t=(t||0)%360)<0?t+360:t}function Co(t){return Math.max(0,Math.min(1,t||0))}function Hs(t,A,e){return 255*(t<60?A+(e-A)*t/60:t<180?e:t<240?A+(e-A)*(240-t)/60:A)}function tu(t,A,e,r,n){var i=t*t,a=i*t;return((1-3*t+3*i-a)*A+(4-6*i+3*a)*e+(1+3*t+3*i-3*a)*r+a*n)/6}function Au(t){var A=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,A-1):Math.floor(e*A),n=t[r],i=t[r+1];return tu((e-r/A)*A,r>0?t[r-1]:2*n-i,n,i,r<A-1?t[r+2]:2*i-n)}}function vo(t){var A=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*A);return tu((e-r/A)*A,t[(r+A-1)%A],t[r%A],t[(r+1)%A],t[(r+2)%A])}}Mi(In,Ur,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:zc,formatHex:zc,formatHex8:function Ag(){return this.rgb().formatHex8()},formatHsl:function eg(){return Zc(this).formatHsl()},formatRgb:Xc,toString:Xc}),Mi(he,Si,Tn(In,{brighter(t){return t=null==t?Dn:Math.pow(Dn,t),new he(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new he(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new he(Gr(this.r),Gr(this.g),Gr(this.b),wo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Yc,formatHex:Yc,formatHex8:function rg(){return`#${li(this.r)}${li(this.g)}${li(this.b)}${li(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Jc,toString:Jc})),Mi(Er,_o,Tn(In,{brighter(t){return t=null==t?Dn:Math.pow(Dn,t),new Er(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new Er(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),A=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*A,n=2*e-r;return new he(Hs(t>=240?t-240:t+120,n,r),Hs(t,n,r),Hs(t<120?t+240:t-120,n,r),this.opacity)},clamp(){return new Er(qc(this.h),Co(this.s),Co(this.l),wo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=wo(this.opacity);return`${1===t?"hsl(":"hsla("}${qc(this.h)}, ${100*Co(this.s)}%, ${100*Co(this.l)}%${1===t?")":`, ${t})`}`}}));const yo=t=>()=>t;function eu(t,A){return function(e){return t+e*A}}function bo(t,A){var e=A-t;return e?eu(t,e>180||e<-180?e-360*Math.round(e/360):e):yo(isNaN(t)?A:t)}function me(t,A){var e=A-t;return e?eu(t,e):yo(isNaN(t)?A:t)}const Mn=function t(A){var e=function ng(t){return 1==(t=+t)?me:function(A,e){return e-A?function ru(t,A,e){return t=Math.pow(t,e),A=Math.pow(A,e)-t,e=1/e,function(r){return Math.pow(t+r*A,e)}}(A,e,t):yo(isNaN(A)?e:A)}}(A);function r(n,i){var a=e((n=Si(n)).r,(i=Si(i)).r),s=e(n.g,i.g),h=e(n.b,i.b),l=me(n.opacity,i.opacity);return function(g){return n.r=a(g),n.g=s(g),n.b=h(g),n.opacity=l(g),n+""}}return r.gamma=t,r}(1);function nu(t){return function(A){var a,s,e=A.length,r=new Array(e),n=new Array(e),i=new Array(e);for(a=0;a<e;++a)s=Si(A[a]),r[a]=s.r||0,n[a]=s.g||0,i[a]=s.b||0;return r=t(r),n=t(n),i=t(i),s.opacity=1,function(h){return s.r=r(h),s.g=n(h),s.b=i(h),s+""}}}var iu=nu(Au),ig=nu(vo);function Ss(t,A){A||(A=[]);var n,e=t?Math.min(A.length,t.length):0,r=A.slice();return function(i){for(n=0;n<e;++n)r[n]=t[n]*(1-i)+A[n]*i;return r}}function au(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ag(t,A){return(au(A)?Ss:Ba)(t,A)}function Ba(t,A){var a,e=A?A.length:0,r=t?Math.min(e,t.length):0,n=new Array(r),i=new Array(e);for(a=0;a<r;++a)n[a]=kn(t[a],A[a]);for(;a<e;++a)i[a]=A[a];return function(s){for(a=0;a<r;++a)i[a]=n[a](s);return i}}function ou(t,A){var e=new Date;return t=+t,A=+A,function(r){return e.setTime(t*(1-r)+A*r),e}}function Br(t,A){return t=+t,A=+A,function(e){return t*(1-e)+A*e}}function su(t,A){var n,e={},r={};for(n in(null===t||"object"!=typeof t)&&(t={}),(null===A||"object"!=typeof A)&&(A={}),A)n in t?e[n]=kn(t[n],A[n]):r[n]=A[n];return function(i){for(n in e)r[n]=e[n](i);return r}}var Ps=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ls=new RegExp(Ps.source,"g");function Os(t,A){var r,n,i,e=Ps.lastIndex=Ls.lastIndex=0,a=-1,s=[],h=[];for(t+="",A+="";(r=Ps.exec(t))&&(n=Ls.exec(A));)(i=n.index)>e&&(i=A.slice(e,i),s[a]?s[a]+=i:s[++a]=i),(r=r[0])===(n=n[0])?s[a]?s[a]+=n:s[++a]=n:(s[++a]=null,h.push({i:a,x:Br(r,n)})),e=Ls.lastIndex;return e<A.length&&(i=A.slice(e),s[a]?s[a]+=i:s[++a]=i),s.length<2?h[0]?function sg(t){return function(A){return t(A)+""}}(h[0].x):function og(t){return function(){return t}}(A):(A=h.length,function(l){for(var B,g=0;g<A;++g)s[(B=h[g]).i]=B.x(l);return s.join("")})}function kn(t,A){var r,e=typeof A;return null==A||"boolean"===e?yo(A):("number"===e?Br:"string"===e?(r=Ur(A))?(A=r,Mn):Os:A instanceof Ur?Mn:A instanceof Date?ou:au(A)?Ss:Array.isArray(A)?Ba:"function"!=typeof A.valueOf&&"function"!=typeof A.toString||isNaN(A)?su:Br)(t,A)}function lu(t){let A;for(;A=t.sourceEvent;)t=A;return t}function nr(t,A){if(t=lu(t),void 0===A&&(A=t.currentTarget),A){var e=A.ownerSVGElement||A;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(A.getScreenCTM().inverse())).x,r.y]}if(A.getBoundingClientRect){var n=A.getBoundingClientRect();return[t.clientX-n.left-A.clientLeft,t.clientY-n.top-A.clientTop]}}return[t.pageX,t.pageY]}var Qo,Hn,Pi=0,Li=0,ma=0,Fo=0,ci=0,wa=0,_a="object"==typeof performance&&performance.now?performance:Date,uu="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ca(){return ci||(uu(lg),ci=_a.now()+wa)}function lg(){ci=0}function va(){this._call=this._time=this._next=null}function Uo(t,A,e){var r=new va;return r.restart(t,A,e),r}function hu(){Ca(),++Pi;for(var A,t=Qo;t;)(A=ci-t._time)>=0&&t._call.call(void 0,A),t=t._next;--Pi}function fu(){ci=(Fo=_a.now())+wa,Pi=Li=0;try{hu()}finally{Pi=0,function cg(){for(var t,e,A=Qo,r=1/0;A;)A._call?(r>A._time&&(r=A._time),t=A,A=A._next):(e=A._next,A._next=null,A=t?t._next=e:Qo=e);Hn=t,Ks(r)}(),ci=0}}function be(){var t=_a.now(),A=t-Fo;A>1e3&&(wa-=A,Fo=t)}function Ks(t){Pi||(Li&&(Li=clearTimeout(Li)),t-ci>24?(t<1/0&&(Li=setTimeout(fu,t-_a.now()-wa)),ma&&(ma=clearInterval(ma))):(ma||(Fo=_a.now(),ma=setInterval(be,1e3)),Pi=1,uu(fu)))}function Rs(t,A,e){var r=new va;return r.restart(n=>{r.stop(),t(n+A)},A=null==A?0:+A,e),r}va.prototype=Uo.prototype={constructor:va,restart:function(t,A,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Ca():+e)+(null==A?0:+A),!this._next&&Hn!==this&&(Hn?Hn._next=this:Qo=this,Hn=this),this._call=t,this._time=e,Ks()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ks())}};var ug=xi("start","end","cancel","interrupt"),hg=[],Vs=1,Ws=2,Gs=5,xo=6;function ya(t,A,e,r,n,i){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function zs(t,A,e){var n,r=t.__transition;function a(l){var g,B,p,w;if(e.state!==Vs)return h();for(g in r)if((w=r[g]).name===e.name){if(3===w.state)return Rs(a);4===w.state?(w.state=xo,w.timer.stop(),w.on.call("interrupt",t,t.__data__,w.index,w.group),delete r[g]):+g<A&&(w.state=xo,w.timer.stop(),w.on.call("cancel",t,t.__data__,w.index,w.group),delete r[g])}if(Rs(function(){3===e.state&&(e.state=4,e.timer.restart(s,e.delay,e.time),s(l))}),e.state=Ws,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Ws){for(e.state=3,n=new Array(p=e.tween.length),g=0,B=-1;g<p;++g)(w=e.tween[g].value.call(t,t.__data__,e.index,e.group))&&(n[++B]=w);n.length=B+1}}function s(l){for(var g=l<e.duration?e.ease.call(null,l/e.duration):(e.timer.restart(h),e.state=Gs,1),B=-1,p=n.length;++B<p;)n[B].call(t,g);e.state===Gs&&(e.on.call("end",t,t.__data__,e.index,e.group),h())}function h(){for(var l in e.state=xo,e.timer.stop(),delete r[A],r)return;delete t.__transition}r[A]=e,e.timer=Uo(function i(l){e.state=Vs,e.timer.restart(a,e.delay,e.time),e.delay<=l&&a(l-e.delay)},0,e.time)}(t,e,{name:A,index:r,group:n,on:ug,tween:hg,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function qt(t,A){var e=xr(t,A);if(e.state>0)throw new Error("too late; already scheduled");return e}function zr(t,A){var e=xr(t,A);if(e.state>3)throw new Error("too late; already running");return e}function xr(t,A){var e=t.__transition;if(!e||!(e=e[A]))throw new Error("transition not found");return e}function Le(t,A){var r,n,a,e=t.__transition,i=!0;if(e){for(a in A=null==A?null:A+"",e)(r=e[a]).name===A?(n=r.state>Ws&&r.state<Gs,r.state=xo,r.timer.stop(),r.on.call(n?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[a]):i=!1;i&&delete t.__transition}}var To,Xs=180/Math.PI,ui={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ba(t,A,e,r,n,i){var a,s,h;return(a=Math.sqrt(t*t+A*A))&&(t/=a,A/=a),(h=t*e+A*r)&&(e-=t*h,r-=A*h),(s=Math.sqrt(e*e+r*r))&&(e/=s,r/=s,h/=s),t*r<A*e&&(t=-t,A=-A,h=-h,a=-a),{translateX:n,translateY:i,rotate:Math.atan2(A,t)*Xs,skewX:Math.atan(h)*Xs,scaleX:a,scaleY:s}}function Sn(t,A,e,r){function n(l){return l.length?l.pop()+" ":""}return function(l,g){var B=[],p=[];return l=t(l),g=t(g),function i(l,g,B,p,w,F){if(l!==B||g!==p){var v=w.push("translate(",null,A,null,e);F.push({i:v-4,x:Br(l,B)},{i:v-2,x:Br(g,p)})}else(B||p)&&w.push("translate("+B+A+p+e)}(l.translateX,l.translateY,g.translateX,g.translateY,B,p),function a(l,g,B,p){l!==g?(l-g>180?g+=360:g-l>180&&(l+=360),p.push({i:B.push(n(B)+"rotate(",null,r)-2,x:Br(l,g)})):g&&B.push(n(B)+"rotate("+g+r)}(l.rotate,g.rotate,B,p),function s(l,g,B,p){l!==g?p.push({i:B.push(n(B)+"skewX(",null,r)-2,x:Br(l,g)}):g&&B.push(n(B)+"skewX("+g+r)}(l.skewX,g.skewX,B,p),function h(l,g,B,p,w,F){if(l!==B||g!==p){var v=w.push(n(w)+"scale(",null,",",null,")");F.push({i:v-4,x:Br(l,B)},{i:v-2,x:Br(g,p)})}else(1!==B||1!==p)&&w.push(n(w)+"scale("+B+","+p+")")}(l.scaleX,l.scaleY,g.scaleX,g.scaleY,B,p),l=g=null,function(w){for(var y,F=-1,v=p.length;++F<v;)B[(y=p[F]).i]=y.x(w);return B.join("")}}}var Io=Sn(function dg(t){const A=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return A.isIdentity?ui:ba(A.a,A.b,A.c,A.d,A.e,A.f)},"px, ","px)","deg)"),Do=Sn(function gg(t){return null!=t&&(To||(To=document.createElementNS("http://www.w3.org/2000/svg","g")),To.setAttribute("transform",t),t=To.transform.baseVal.consolidate())?ba((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):ui},", ",")",")");function pg(t,A){var e,r;return function(){var n=zr(this,t),i=n.tween;if(i!==e)for(var a=0,s=(r=e=i).length;a<s;++a)if(r[a].name===A){(r=r.slice()).splice(a,1);break}n.tween=r}}function gu(t,A,e){var r,n;if("function"!=typeof e)throw new Error;return function(){var i=zr(this,t),a=i.tween;if(a!==r){n=(r=a).slice();for(var s={name:A,value:e},h=0,l=n.length;h<l;++h)if(n[h].name===A){n[h]=s;break}h===l&&n.push(s)}i.tween=n}}function Qa(t,A,e){var r=t._id;return t.each(function(){var n=zr(this,r);(n.value||(n.value={}))[A]=e.apply(this,arguments)}),function(n){return xr(n,r).value[A]}}function pu(t,A){var e;return("number"==typeof A?Br:A instanceof Ur?Mn:(e=Ur(A))?(A=e,Mn):Os)(t,A)}function mg(t){return function(){this.removeAttribute(t)}}function wg(t){return function(){this.removeAttributeNS(t.space,t.local)}}function _g(t,A,e){var r,i,n=e+"";return function(){var a=this.getAttribute(t);return a===n?null:a===r?i:i=A(r=a,e)}}function Cg(t,A,e){var r,i,n=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===n?null:a===r?i:i=A(r=a,e)}}function vg(t,A,e){var r,n,i;return function(){var a,h,s=e(this);return null==s?void this.removeAttribute(t):(a=this.getAttribute(t))===(h=s+"")?null:a===r&&h===n?i:(n=h,i=A(r=a,s))}}function yg(t,A,e){var r,n,i;return function(){var a,h,s=e(this);return null==s?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local))===(h=s+"")?null:a===r&&h===n?i:(n=h,i=A(r=a,s))}}function Fg(t,A){var e,r;function n(){var i=A.apply(this,arguments);return i!==r&&(e=(r=i)&&function Qg(t,A){return function(e){this.setAttributeNS(t.space,t.local,A.call(this,e))}}(t,i)),e}return n._value=A,n}function Ug(t,A){var e,r;function n(){var i=A.apply(this,arguments);return i!==r&&(e=(r=i)&&function Bu(t,A){return function(e){this.setAttribute(t,A.call(this,e))}}(t,i)),e}return n._value=A,n}function Eg(t,A){return function(){qt(this,t).delay=+A.apply(this,arguments)}}function Mo(t,A){return A=+A,function(){qt(this,t).delay=A}}function $s(t,A){return function(){zr(this,t).duration=+A.apply(this,arguments)}}function Ys(t,A){return A=+A,function(){zr(this,t).duration=A}}var mr=ai.prototype.constructor;function Fu(t){return function(){this.style.removeProperty(t)}}var xu=0;function wr(t,A,e,r){this._groups=t,this._parents=A,this._name=e,this._id=r}function Tu(t){return ai().transition(t)}function Iu(){return++xu}var sn=ai.prototype;function Gg(t){return t*t*t}function zg(t){return--t*t*t+1}function Al(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}wr.prototype=Tu.prototype={constructor:wr,select:function Dg(t){var A=this._name,e=this._id;"function"!=typeof t&&(t=so(t));for(var r=this._groups,n=r.length,i=new Array(n),a=0;a<n;++a)for(var g,B,s=r[a],h=s.length,l=i[a]=new Array(h),p=0;p<h;++p)(g=s[p])&&(B=t.call(g,g.__data__,p,s))&&("__data__"in g&&(B.__data__=g.__data__),l[p]=B,ya(l[p],A,e,p,l,xr(g,e)));return new wr(i,this._parents,A,e)},selectAll:function Mg(t){var A=this._name,e=this._id;"function"!=typeof t&&(t=vs(t));for(var r=this._groups,n=r.length,i=[],a=[],s=0;s<n;++s)for(var g,h=r[s],l=h.length,B=0;B<l;++B)if(g=h[B]){for(var w,p=t.call(g,g.__data__,B,h),F=xr(g,e),v=0,y=p.length;v<y;++v)(w=p[v])&&ya(w,A,e,v,p,F);i.push(p),a.push(g)}return new wr(i,a,A,e)},selectChild:sn.selectChild,selectChildren:sn.selectChildren,filter:function js(t){"function"!=typeof t&&(t=ys(t));for(var A=this._groups,e=A.length,r=new Array(e),n=0;n<e;++n)for(var h,i=A[n],a=i.length,s=r[n]=[],l=0;l<a;++l)(h=i[l])&&t.call(h,h.__data__,l,i)&&s.push(h);return new wr(r,this._parents,this._name,this._id)},merge:function vu(t){if(t._id!==this._id)throw new Error;for(var A=this._groups,e=t._groups,r=A.length,i=Math.min(r,e.length),a=new Array(r),s=0;s<i;++s)for(var p,h=A[s],l=e[s],g=h.length,B=a[s]=new Array(g),w=0;w<g;++w)(p=h[w]||l[w])&&(B[w]=p);for(;s<r;++s)a[s]=A[s];return new wr(a,this._parents,this._name,this._id)},selection:function qs(){return new mr(this._groups,this._parents)},transition:function Vg(){for(var t=this._name,A=this._id,e=Iu(),r=this._groups,n=r.length,i=0;i<n;++i)for(var h,a=r[i],s=a.length,l=0;l<s;++l)if(h=a[l]){var g=xr(h,A);ya(h,t,e,l,a,{time:g.time+g.delay+g.duration,delay:0,duration:g.duration,ease:g.ease})}return new wr(r,this._parents,t,e)},call:sn.call,nodes:sn.nodes,node:sn.node,size:sn.size,empty:sn.empty,each:sn.each,on:function Qu(t,A){var e=this._id;return arguments.length<2?xr(this.node(),e).on.on(t):this.each(function bu(t,A,e){var r,n,i=function yu(t){return(t+"").trim().split(/^|\s+/).every(function(A){var e=A.indexOf(".");return e>=0&&(A=A.slice(0,e)),!A||"start"===A})}(A)?qt:zr;return function(){var a=i(this,t),s=a.on;s!==r&&(n=(r=s).copy()).on(A,e),a.on=n}}(e,t,A))},attr:function bg(t,A){var e=sa(t),r="transform"===e?Do:pu;return this.attrTween(t,"function"==typeof A?(e.local?yg:vg)(e,r,Qa(this,"attr."+t,A)):null==A?(e.local?wg:mg)(e):(e.local?Cg:_g)(e,r,A))},attrTween:function mu(t,A){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==A)return this.tween(e,null);if("function"!=typeof A)throw new Error;var r=sa(t);return this.tween(e,(r.local?Fg:Ug)(r,A))},style:function Lg(t,A,e){var r="transform"==(t+="")?Io:pu;return null==A?this.styleTween(t,function kg(t,A){var e,r,n;return function(){var i=ni(this,t),a=(this.style.removeProperty(t),ni(this,t));return i===a?null:i===e&&a===r?n:n=A(e=i,r=a)}}(t,r)).on("end.style."+t,Fu(t)):"function"==typeof A?this.styleTween(t,function Sg(t,A,e){var r,n,i;return function(){var a=ni(this,t),s=e(this),h=s+"";return null==s&&(this.style.removeProperty(t),h=s=ni(this,t)),a===h?null:a===r&&h===n?i:(n=h,i=A(r=a,s))}}(t,r,Qa(this,"style."+t,A))).each(function Pg(t,A){var e,r,n,s,i="style."+A,a="end."+i;return function(){var h=zr(this,t),l=h.on,g=null==h.value[i]?s||(s=Fu(A)):void 0;(l!==e||n!==g)&&(r=(e=l).copy()).on(a,n=g),h.on=r}}(this._id,t)):this.styleTween(t,function Hg(t,A,e){var r,i,n=e+"";return function(){var a=ni(this,t);return a===n?null:a===r?i:i=A(r=a,e)}}(t,r,A),e).on("end.style."+t,null)},styleTween:function Rg(t,A,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==A)return this.tween(r,null);if("function"!=typeof A)throw new Error;return this.tween(r,function Kg(t,A,e){var r,n;function i(){var a=A.apply(this,arguments);return a!==n&&(r=(n=a)&&function Og(t,A,e){return function(r){this.style.setProperty(t,A.call(this,r),e)}}(t,a,e)),r}return i._value=A,i}(t,A,e??""))},text:function tl(t){return this.tween("text","function"==typeof t?function Ng(t){return function(){var A=t(this);this.textContent=A??""}}(Qa(this,"text",t)):function Uu(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function Fa(t){var A="text";if(arguments.length<1)return(A=this.tween(A))&&A._value;if(null==t)return this.tween(A,null);if("function"!=typeof t)throw new Error;return this.tween(A,function De(t){var A,e;function r(){var n=t.apply(this,arguments);return n!==e&&(A=(e=n)&&function Eu(t){return function(A){this.textContent=t.call(this,A)}}(n)),A}return r._value=t,r}(t))},remove:function Ig(){return this.on("end.remove",function Zs(t){return function(){var A=this.parentNode;for(var e in this.__transition)if(+e!==t)return;A&&A.removeChild(this)}}(this._id))},tween:function Bg(t,A){var e=this._id;if(t+="",arguments.length<2){for(var a,r=xr(this.node(),e).tween,n=0,i=r.length;n<i;++n)if((a=r[n]).name===t)return a.value;return null}return this.each((null==A?pg:gu)(e,t,A))},delay:function xg(t){var A=this._id;return arguments.length?this.each(("function"==typeof t?Eg:Mo)(A,t)):xr(this.node(),A).delay},duration:function wu(t){var A=this._id;return arguments.length?this.each(("function"==typeof t?$s:Ys)(A,t)):xr(this.node(),A).duration},ease:function Tg(t){var A=this._id;return arguments.length?this.each(function _u(t,A){if("function"!=typeof A)throw new Error;return function(){zr(this,t).ease=A}}(A,t)):xr(this.node(),A).ease},easeVarying:function Js(t){if("function"!=typeof t)throw new Error;return this.each(function Cu(t,A){return function(){var e=A.apply(this,arguments);if("function"!=typeof e)throw new Error;zr(this,t).ease=e}}(this._id,t))},end:function Wg(){var t,A,e=this,r=e._id,n=e.size();return new Promise(function(i,a){var s={value:a},h={value:function(){0==--n&&i()}};e.each(function(){var l=zr(this,r),g=l.on;g!==t&&((A=(t=g).copy())._.cancel.push(s),A._.interrupt.push(s),A._.end.push(h)),l.on=A}),0===n&&i()})},[Symbol.iterator]:sn[Symbol.iterator]};var Xg={time:null,delay:0,duration:250,ease:Al};function $g(t,A){for(var e;!(e=t.__transition)||!(e=e[A]);)if(!(t=t.parentNode))throw new Error(`transition ${A} not found`);return e}ai.prototype.interrupt=function fg(t){return this.each(function(){Le(this,t)})},ai.prototype.transition=function Du(t){var A,e;t instanceof wr?(A=t._id,t=t._name):(A=Iu(),(e=Xg).time=Ca(),t=null==t?null:t+"");for(var r=this._groups,n=r.length,i=0;i<n;++i)for(var h,a=r[i],s=a.length,l=0;l<s;++l)(h=a[l])&&ya(h,t,A,l,a,e||$g(h,A));return new wr(r,this._parents,t,A)};var Mu=[null];function ku(t,A){var r,n,e=t.__transition;if(e)for(n in A=null==A?null:A+"",e)if((r=e[n]).state>Vs&&r.name===A)return new wr([[t]],Mu,A,+n);return null}const ko=t=>()=>t;function el(t,{sourceEvent:A,target:e,selection:r,mode:n,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:A,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:n,enumerable:!0,configurable:!0},_:{value:i}})}function rl(t){t.preventDefault(),t.stopImmediatePropagation()}var Hu={name:"drag"},nl={name:"space"},ln={name:"handle"},cn={name:"center"};const{abs:Su,max:Me,min:Ue}=Math;function il(t){return[+t[0],+t[1]]}function Ho(t){return[il(t[0]),il(t[1])]}var Ua={name:"x",handles:["w","e"].map($r),input:function(t,A){return null==t?null:[[+t[0],A[0][1]],[+t[1],A[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},So={name:"y",handles:["n","s"].map($r),input:function(t,A){return null==t?null:[[A[0][0],+t[0]],[A[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Po={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map($r),input:function(t){return null==t?null:Ho(t)},output:function(t){return t}},Xr={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},al={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Pu={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Jg={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Lu={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function $r(t){return{type:t}}function ol(t){return!t.ctrlKey&&!t.button}function Lo(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function jg(){return navigator.maxTouchPoints||"ontouchstart"in this}function sl(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function qg(t){var A=t.__brush;return A?A.dim.output(A.selection):null}function Ou(){return Oo(Ua)}function ll(){return Oo(So)}function Ku(){return Oo(Po)}function Oo(t){var s,A=Lo,e=ol,r=jg,n=!0,i=xi("start","brush","end"),a=6;function h(y){var Q=y.property("__brush",v).selectAll(".overlay").data([$r("overlay")]);Q.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Xr.overlay).merge(Q).each(function(){var T=sl(this).extent;Ie(this).attr("x",T[0][0]).attr("y",T[0][1]).attr("width",T[1][0]-T[0][0]).attr("height",T[1][1]-T[0][1])}),y.selectAll(".selection").data([$r("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Xr.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var I=y.selectAll(".handle").data(t.handles,function(T){return T.type});I.exit().remove(),I.enter().append("rect").attr("class",function(T){return"handle handle--"+T.type}).attr("cursor",function(T){return Xr[T.type]}),y.each(l).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",p).filter(r).on("touchstart.brush",p).on("touchmove.brush",w).on("touchend.brush touchcancel.brush",F).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function l(){var y=Ie(this),Q=sl(this).selection;Q?(y.selectAll(".selection").style("display",null).attr("x",Q[0][0]).attr("y",Q[0][1]).attr("width",Q[1][0]-Q[0][0]).attr("height",Q[1][1]-Q[0][1]),y.selectAll(".handle").style("display",null).attr("x",function(I){return"e"===I.type[I.type.length-1]?Q[1][0]-a/2:Q[0][0]-a/2}).attr("y",function(I){return"s"===I.type[0]?Q[1][1]-a/2:Q[0][1]-a/2}).attr("width",function(I){return"n"===I.type||"s"===I.type?Q[1][0]-Q[0][0]+a:a}).attr("height",function(I){return"e"===I.type||"w"===I.type?Q[1][1]-Q[0][1]+a:a})):y.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function g(y,Q,I){var T=y.__brush.emitter;return!T||I&&T.clean?new B(y,Q,I):T}function B(y,Q,I){this.that=y,this.args=Q,this.state=y.__brush,this.active=0,this.clean=I}function p(y){if((!s||y.touches)&&e.apply(this,arguments)){var tt,J,at,M,R,et,Z,X,wt,bt,Dt,Q=this,I=y.target.__data__.type,T="selection"===(n&&y.metaKey?I="overlay":I)?Hu:n&&y.altKey?cn:ln,x=t===So?null:Jg[I],k=t===Ua?null:Lu[I],K=sl(Q),N=K.extent,Y=K.selection,q=N[0][0],lt=N[0][1],O=N[1][0],W=N[1][1],it=0,ht=0,pt=x&&k&&n&&y.shiftKey,Ut=Array.from(y.touches||[y],St=>{const _A=St.identifier;return(St=nr(St,Q)).point0=St.slice(),St.identifier=_A,St});Le(Q);var Lt=g(Q,arguments,!0).beforestart();if("overlay"===I){Y&&(wt=!0);const St=[Ut[0],Ut[1]||Ut[0]];K.selection=Y=[[tt=t===So?q:Ue(St[0][0],St[1][0]),at=t===Ua?lt:Ue(St[0][1],St[1][1])],[R=t===So?O:Me(St[0][0],St[1][0]),Z=t===Ua?W:Me(St[0][1],St[1][1])]],Ut.length>1&&Gt(y)}else tt=Y[0][0],at=Y[0][1],R=Y[1][0],Z=Y[1][1];J=tt,M=at,et=R,X=Z;var Ft=Ie(Q).attr("pointer-events","none"),It=Ft.selectAll(".overlay").attr("cursor",Xr[I]);if(y.touches)Lt.moved=_t,Lt.ended=rA;else{var kt=Ie(y.view).on("mousemove.brush",_t,!0).on("mouseup.brush",rA,!0);n&&kt.on("keydown.brush",function wA(St){switch(St.keyCode){case 16:pt=x&&k;break;case 18:T===ln&&(x&&(R=et-it*x,tt=J+it*x),k&&(Z=X-ht*k,at=M+ht*k),T=cn,Gt(St));break;case 32:(T===ln||T===cn)&&(x<0?R=et-it:x>0&&(tt=J-it),k<0?Z=X-ht:k>0&&(at=M-ht),T=nl,It.attr("cursor",Xr.selection),Gt(St));break;default:return}rl(St)},!0).on("keyup.brush",function sA(St){switch(St.keyCode){case 16:pt&&(bt=Dt=pt=!1,Gt(St));break;case 18:T===cn&&(x<0?R=et:x>0&&(tt=J),k<0?Z=X:k>0&&(at=M),T=ln,Gt(St));break;case 32:T===nl&&(St.altKey?(x&&(R=et-it*x,tt=J+it*x),k&&(Z=X-ht*k,at=M+ht*k),T=cn):(x<0?R=et:x>0&&(tt=J),k<0?Z=X:k>0&&(at=M),T=ln),It.attr("cursor",Xr[I]),Gt(St));break;default:return}rl(St)},!0),fa(y.view)}l.call(Q),Lt.start(y,T.name)}function _t(St){for(const _A of St.changedTouches||[St])for(const ce of Ut)ce.identifier===_A.identifier&&(ce.cur=nr(_A,Q));if(pt&&!bt&&!Dt&&1===Ut.length){const _A=Ut[0];Su(_A.cur[0]-_A[0])>Su(_A.cur[1]-_A[1])?Dt=!0:bt=!0}for(const _A of Ut)_A.cur&&(_A[0]=_A.cur[0],_A[1]=_A.cur[1]);wt=!0,rl(St),Gt(St)}function Gt(St){const _A=Ut[0],ce=_A.point0;var ZA;switch(it=_A[0]-ce[0],ht=_A[1]-ce[1],T){case nl:case Hu:x&&(it=Me(q-tt,Ue(O-R,it)),J=tt+it,et=R+it),k&&(ht=Me(lt-at,Ue(W-Z,ht)),M=at+ht,X=Z+ht);break;case ln:Ut[1]?(x&&(J=Me(q,Ue(O,Ut[0][0])),et=Me(q,Ue(O,Ut[1][0])),x=1),k&&(M=Me(lt,Ue(W,Ut[0][1])),X=Me(lt,Ue(W,Ut[1][1])),k=1)):(x<0?(it=Me(q-tt,Ue(O-tt,it)),J=tt+it,et=R):x>0&&(it=Me(q-R,Ue(O-R,it)),J=tt,et=R+it),k<0?(ht=Me(lt-at,Ue(W-at,ht)),M=at+ht,X=Z):k>0&&(ht=Me(lt-Z,Ue(W-Z,ht)),M=at,X=Z+ht));break;case cn:x&&(J=Me(q,Ue(O,tt-it*x)),et=Me(q,Ue(O,R+it*x))),k&&(M=Me(lt,Ue(W,at-ht*k)),X=Me(lt,Ue(W,Z+ht*k)))}et<J&&(x*=-1,ZA=tt,tt=R,R=ZA,ZA=J,J=et,et=ZA,I in al&&It.attr("cursor",Xr[I=al[I]])),X<M&&(k*=-1,ZA=at,at=Z,Z=ZA,ZA=M,M=X,X=ZA,I in Pu&&It.attr("cursor",Xr[I=Pu[I]])),K.selection&&(Y=K.selection),bt&&(J=Y[0][0],et=Y[1][0]),Dt&&(M=Y[0][1],X=Y[1][1]),(Y[0][0]!==J||Y[0][1]!==M||Y[1][0]!==et||Y[1][1]!==X)&&(K.selection=[[J,M],[et,X]],l.call(Q),Lt.brush(St,T.name))}function rA(St){if(function Yg(t){t.stopImmediatePropagation()}(St),St.touches){if(St.touches.length)return;s&&clearTimeout(s),s=setTimeout(function(){s=null},500)}else da(St.view,wt),kt.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Ft.attr("pointer-events","all"),It.attr("cursor",Xr.overlay),K.selection&&(Y=K.selection),function Zg(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}(Y)&&(K.selection=null,l.call(Q)),Lt.end(St,T.name)}}function w(y){g(this,arguments).moved(y)}function F(y){g(this,arguments).ended(y)}function v(){var y=this.__brush||{selection:null};return y.extent=Ho(A.apply(this,arguments)),y.dim=t,y}return h.move=function(y,Q,I){y.tween?y.on("start.brush",function(T){g(this,arguments).beforestart().start(T)}).on("interrupt.brush end.brush",function(T){g(this,arguments).end(T)}).tween("brush",function(){var T=this,x=T.__brush,k=g(T,arguments),K=x.selection,N=t.input("function"==typeof Q?Q.apply(this,arguments):Q,x.extent),Y=kn(K,N);function q(tt){x.selection=1===tt&&null===N?null:Y(tt),l.call(T),k.brush()}return null!==K&&null!==N?q:q(1)}):y.each(function(){var T=this,x=arguments,k=T.__brush,K=t.input("function"==typeof Q?Q.apply(T,x):Q,k.extent),N=g(T,x).beforestart();Le(T),k.selection=null===K?null:K,l.call(T),N.start(I).brush(I).end(I)})},h.clear=function(y,Q){h.move(y,null,Q)},B.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(y,Q){return this.starting?(this.starting=!1,this.emit("start",y,Q)):this.emit("brush",y),this},brush:function(y,Q){return this.emit("brush",y,Q),this},end:function(y,Q){return 0==--this.active&&(delete this.state.emitter,this.emit("end",y,Q)),this},emit:function(y,Q,I){var T=Ie(this.that).datum();i.call(y,this.that,new el(y,{sourceEvent:Q,target:h,selection:t.output(this.state.selection),mode:I,dispatch:i}),T)}},h.extent=function(y){return arguments.length?(A="function"==typeof y?y:ko(Ho(y)),h):A},h.filter=function(y){return arguments.length?(e="function"==typeof y?y:ko(!!y),h):e},h.touchable=function(y){return arguments.length?(r="function"==typeof y?y:ko(!!y),h):r},h.handleSize=function(y){return arguments.length?(a=+y,h):a},h.keyModifiers=function(y){return arguments.length?(n=!!y,h):n},h.on=function(){var y=i.on.apply(i,arguments);return y===i?h:y},h}var Ko=Math.abs,hi=Math.cos,fi=Math.sin,Ru=Math.PI,di=Ru/2,Ea=2*Ru,cl=Math.max,Ro=1e-12;function ul(t,A){return Array.from({length:A-t},(e,r)=>t+r)}function Vu(){return Pn(!1,!1)}function t0(){return Pn(!1,!0)}function A0(){return Pn(!0,!1)}function Pn(t,A){var e=0,r=null,n=null,i=null;function a(s){var F,h=s.length,l=new Array(h),g=ul(0,h),B=new Array(h*h),p=new Array(h),w=0;s=Float64Array.from({length:h*h},A?(v,y)=>s[y%h][y/h|0]:(v,y)=>s[y/h|0][y%h]);for(let v=0;v<h;++v){let y=0;for(let Q=0;Q<h;++Q)y+=s[v*h+Q]+t*s[Q*h+v];w+=l[v]=y}F=(w=cl(0,Ea-e*h)/w)?e:Ea/h;{let v=0;r&&g.sort((y,Q)=>r(l[y],l[Q]));for(const y of g){const Q=v;if(t){const I=ul(1+~h,h).filter(T=>T<0?s[~T*h+y]:s[y*h+T]);n&&I.sort((T,x)=>n(T<0?-s[~T*h+y]:s[y*h+T],x<0?-s[~x*h+y]:s[y*h+x]));for(const T of I)T<0?(B[~T*h+y]||(B[~T*h+y]={source:null,target:null})).target={index:y,startAngle:v,endAngle:v+=s[~T*h+y]*w,value:s[~T*h+y]}:(B[y*h+T]||(B[y*h+T]={source:null,target:null})).source={index:y,startAngle:v,endAngle:v+=s[y*h+T]*w,value:s[y*h+T]};p[y]={index:y,startAngle:Q,endAngle:v,value:l[y]}}else{const I=ul(0,h).filter(T=>s[y*h+T]||s[T*h+y]);n&&I.sort((T,x)=>n(s[y*h+T],s[y*h+x]));for(const T of I){let x;if(y<T?(x=B[y*h+T]||(B[y*h+T]={source:null,target:null}),x.source={index:y,startAngle:v,endAngle:v+=s[y*h+T]*w,value:s[y*h+T]}):(x=B[T*h+y]||(B[T*h+y]={source:null,target:null}),x.target={index:y,startAngle:v,endAngle:v+=s[y*h+T]*w,value:s[y*h+T]},y===T&&(x.source=x.target)),x.source&&x.target&&x.source.value<x.target.value){const k=x.source;x.source=x.target,x.target=k}}p[y]={index:y,startAngle:Q,endAngle:v,value:l[y]}}v+=F}}return(B=Object.values(B)).groups=p,i?B.sort(i):B}return a.padAngle=function(s){return arguments.length?(e=cl(0,s),a):e},a.sortGroups=function(s){return arguments.length?(r=s,a):r},a.sortSubgroups=function(s){return arguments.length?(n=s,a):n},a.sortChords=function(s){return arguments.length?(null==s?i=null:(i=function Nu(t){return function(A,e){return t(A.source.value+A.target.value,e.source.value+e.target.value)}}(s))._=s,a):i&&i._},a}const No=Math.PI,ee=2*No,ir=1e-6,Oi=ee-ir;function un(t){this._+=t[0];for(let A=1,e=t.length;A<e;++A)this._+=arguments[A]+t[A]}class hn{constructor(A){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==A?un:function Ln(t){let A=Math.floor(t);if(!(A>=0))throw new Error(`invalid digits: ${t}`);if(A>15)return un;const e=10**A;return function(r){this._+=r[0];for(let n=1,i=r.length;n<i;++n)this._+=Math.round(arguments[n]*e)/e+r[n]}}(A)}moveTo(A,e){this._append`M${this._x0=this._x1=+A},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(A,e){this._append`L${this._x1=+A},${this._y1=+e}`}quadraticCurveTo(A,e,r,n){this._append`Q${+A},${+e},${this._x1=+r},${this._y1=+n}`}bezierCurveTo(A,e,r,n,i,a){this._append`C${+A},${+e},${+r},${+n},${this._x1=+i},${this._y1=+a}`}arcTo(A,e,r,n,i){if(A=+A,e=+e,r=+r,n=+n,(i=+i)<0)throw new Error(`negative radius: ${i}`);let a=this._x1,s=this._y1,h=r-A,l=n-e,g=a-A,B=s-e,p=g*g+B*B;if(null===this._x1)this._append`M${this._x1=A},${this._y1=e}`;else if(p>ir)if(Math.abs(B*h-l*g)>ir&&i){let w=r-a,F=n-s,v=h*h+l*l,y=w*w+F*F,Q=Math.sqrt(v),I=Math.sqrt(p),T=i*Math.tan((No-Math.acos((v+p-y)/(2*Q*I)))/2),x=T/I,k=T/Q;Math.abs(x-1)>ir&&this._append`L${A+x*g},${e+x*B}`,this._append`A${i},${i},0,0,${+(B*w>g*F)},${this._x1=A+k*h},${this._y1=e+k*l}`}else this._append`L${this._x1=A},${this._y1=e}`}arc(A,e,r,n,i,a){if(A=+A,e=+e,a=!!a,(r=+r)<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(n),h=r*Math.sin(n),l=A+s,g=e+h,B=1^a,p=a?n-i:i-n;null===this._x1?this._append`M${l},${g}`:(Math.abs(this._x1-l)>ir||Math.abs(this._y1-g)>ir)&&this._append`L${l},${g}`,r&&(p<0&&(p=p%ee+ee),p>Oi?this._append`A${r},${r},0,1,${B},${A-s},${e-h}A${r},${r},0,1,${B},${this._x1=l},${this._y1=g}`:p>ir&&this._append`A${r},${r},0,${+(p>=No)},${B},${this._x1=A+r*Math.cos(i)},${this._y1=e+r*Math.sin(i)}`)}rect(A,e,r,n){this._append`M${this._x0=this._x1=+A},${this._y0=this._y1=+e}h${r=+r}v${+n}h${-r}Z`}toString(){return this._}}function Tr(){return new hn}function Wu(t=3){return new hn(+t)}Tr.prototype=hn.prototype;var Gu=Array.prototype.slice;function On(t){return function(){return t}}function hl(t){return t.source}function xa(t){return t.target}function fl(t){return t.radius}function zu(t){return t.startAngle}function Vo(t){return t.endAngle}function e0(){return 0}function r0(){return 10}function Xu(t){var A=hl,e=xa,r=fl,n=fl,i=zu,a=Vo,s=e0,h=null;function l(){var g,B=A.apply(this,arguments),p=e.apply(this,arguments),w=s.apply(this,arguments)/2,F=Gu.call(arguments),v=+r.apply(this,(F[0]=B,F)),y=i.apply(this,F)-di,Q=a.apply(this,F)-di,I=+n.apply(this,(F[0]=p,F)),T=i.apply(this,F)-di,x=a.apply(this,F)-di;if(h||(h=g=Tr()),w>Ro&&(Ko(Q-y)>2*w+Ro?Q>y?(y+=w,Q-=w):(y-=w,Q+=w):y=Q=(y+Q)/2,Ko(x-T)>2*w+Ro?x>T?(T+=w,x-=w):(T-=w,x+=w):T=x=(T+x)/2),h.moveTo(v*hi(y),v*fi(y)),h.arc(0,0,v,y,Q),y!==T||Q!==x)if(t){var K=I-+t.apply(this,arguments),N=(T+x)/2;h.quadraticCurveTo(0,0,K*hi(T),K*fi(T)),h.lineTo(I*hi(N),I*fi(N)),h.lineTo(K*hi(x),K*fi(x))}else h.quadraticCurveTo(0,0,I*hi(T),I*fi(T)),h.arc(0,0,I,T,x);if(h.quadraticCurveTo(0,0,v*hi(y),v*fi(y)),h.closePath(),g)return h=null,g+""||null}return t&&(l.headRadius=function(g){return arguments.length?(t="function"==typeof g?g:On(+g),l):t}),l.radius=function(g){return arguments.length?(r=n="function"==typeof g?g:On(+g),l):r},l.sourceRadius=function(g){return arguments.length?(r="function"==typeof g?g:On(+g),l):r},l.targetRadius=function(g){return arguments.length?(n="function"==typeof g?g:On(+g),l):n},l.startAngle=function(g){return arguments.length?(i="function"==typeof g?g:On(+g),l):i},l.endAngle=function(g){return arguments.length?(a="function"==typeof g?g:On(+g),l):a},l.padAngle=function(g){return arguments.length?(s="function"==typeof g?g:On(+g),l):s},l.source=function(g){return arguments.length?(A=g,l):A},l.target=function(g){return arguments.length?(e=g,l):e},l.context=function(g){return arguments.length?(h=g??null,l):h},l}function n0(){return Xu()}function i0(){return Xu(r0)}const Wo=Math.PI/180,$u=180/Math.PI,Yu=.96422,Ju=1,ju=.82521,zo=4/29,Kn=6/29,dl=3*Kn*Kn,a0=Kn*Kn*Kn;function Zu(t){if(t instanceof Ir)return new Ir(t.l,t.a,t.b,t.opacity);if(t instanceof Xt)return gi(t);t instanceof he||(t=ks(t));var i,a,A=Ta(t.r),e=Ta(t.g),r=Ta(t.b),n=gl((.2225045*A+.7168786*e+.0606169*r)/Ju);return A===e&&e===r?i=a=n:(i=gl((.4360747*A+.3850649*e+.1430804*r)/Yu),a=gl((.0139322*A+.0971045*e+.7141733*r)/ju)),new Ir(116*n-16,500*(i-n),200*(n-a),t.opacity)}function qu(t,A){return new Ir(t,0,0,A??1)}function Xo(t,A,e,r){return 1===arguments.length?Zu(t):new Ir(t,A,e,r??1)}function Ir(t,A,e,r){this.l=+t,this.a=+A,this.b=+e,this.opacity=+r}function gl(t){return t>a0?Math.pow(t,1/3):t/dl+zo}function pl(t){return t>Kn?t*t*t:dl*(t-zo)}function Bl(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ta(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function th(t){if(t instanceof Xt)return new Xt(t.h,t.c,t.l,t.opacity);if(t instanceof Ir||(t=Zu(t)),0===t.a&&0===t.b)return new Xt(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var A=Math.atan2(t.b,t.a)*$u;return new Xt(A<0?A+360:A,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function ml(t,A,e,r){return 1===arguments.length?th(t):new Xt(e,A,t,r??1)}function $o(t,A,e,r){return 1===arguments.length?th(t):new Xt(t,A,e,r??1)}function Xt(t,A,e,r){this.h=+t,this.c=+A,this.l=+e,this.opacity=+r}function gi(t){if(isNaN(t.h))return new Ir(t.l,0,0,t.opacity);var A=t.h*Wo;return new Ir(t.l,Math.cos(A)*t.c,Math.sin(A)*t.c,t.opacity)}Mi(Ir,Xo,Tn(In,{brighter(t){return new Ir(this.l+18*(t??1),this.a,this.b,this.opacity)},darker(t){return new Ir(this.l-18*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,A=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new he(Bl(3.1338561*(A=Yu*pl(A))-1.6168667*(t=Ju*pl(t))-.4906146*(e=ju*pl(e))),Bl(-.9787684*A+1.9161415*t+.033454*e),Bl(.0719453*A-.2289914*t+1.4052427*e),this.opacity)}})),Mi(Xt,$o,Tn(In,{brighter(t){return new Xt(this.h,this.c,this.l+18*(t??1),this.opacity)},darker(t){return new Xt(this.h,this.c,this.l-18*(t??1),this.opacity)},rgb(){return gi(this).rgb()}}));var je=1.78277,wl=-.29227,KA=-.90649,WA=1.97294,Da=WA*KA,Ah=WA*je,Ma=je*wl- -.14861*KA;function Ze(t,A,e,r){return 1===arguments.length?function o0(t){if(t instanceof pi)return new pi(t.h,t.s,t.l,t.opacity);t instanceof he||(t=ks(t));var e=t.g/255,r=t.b/255,n=(Ma*r+Da*(t.r/255)-Ah*e)/(Ma+Da-Ah),i=r-n,a=(WA*(e-n)-wl*i)/KA,s=Math.sqrt(a*a+i*i)/(WA*n*(1-n)),h=s?Math.atan2(a,i)*$u-120:NaN;return new pi(h<0?h+360:h,s,n,t.opacity)}(t):new pi(t,A,e,r??1)}function pi(t,A,e,r){this.h=+t,this.s=+A,this.l=+e,this.opacity=+r}Mi(pi,Ze,Tn(In,{brighter(t){return t=null==t?Dn:Math.pow(Dn,t),new pi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new pi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*Wo,A=+this.l,e=isNaN(this.s)?0:this.s*A*(1-A),r=Math.cos(t),n=Math.sin(t);return new he(255*(A+e*(-.14861*r+je*n)),255*(A+e*(wl*r+KA*n)),255*(A+e*(WA*r)),this.opacity)}}));var _l=Array.prototype.slice;function l0(t,A){return t-A}const Rn=t=>()=>t;function rh(t,A){for(var n,e=-1,r=A.length;++e<r;)if(n=nh(t,A[e]))return n;return 0}function nh(t,A){for(var e=A[0],r=A[1],n=-1,i=0,a=t.length,s=a-1;i<a;s=i++){var h=t[i],l=h[0],g=h[1],B=t[s],p=B[0],w=B[1];if(Cl(h,B,A))return 0;g>r!=w>r&&e<(p-l)*(r-g)/(w-g)+l&&(n=-n)}return n}function Cl(t,A,e){var r;return function ih(t,A,e){return(A[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(A[1]-t[1])}(t,A,e)&&function c0(t,A,e){return t<=A&&A<=e||e<=A&&A<=t}(t[r=+(t[0]===A[0])],e[r],A[r])}function ah(){}var fn=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function vl(){var t=1,A=1,e=vt,r=h;function n(l){var g=e(l);if(Array.isArray(g))g=g.slice().sort(l0);else{const B=mA(l,u0);for(g=rr(...xe(B[0],B[1],g),g);g[g.length-1]>=B[1];)g.pop();for(;g[1]<B[0];)g.shift()}return g.map(B=>i(l,B))}function i(l,g){const B=null==g?NaN:+g;if(isNaN(B))throw new Error(`invalid value: ${g}`);var p=[],w=[];return function a(l,g,B){var F,v,y,Q,I,T,p=new Array,w=new Array;for(F=v=-1,Q=Yr(l[0],g),fn[Q<<1].forEach(x);++F<t-1;)y=Q,Q=Yr(l[F+1],g),fn[y|Q<<1].forEach(x);for(fn[0|Q].forEach(x);++v<A-1;){for(F=-1,Q=Yr(l[v*t+t],g),I=Yr(l[v*t],g),fn[Q<<1|I<<2].forEach(x);++F<t-1;)y=Q,Q=Yr(l[v*t+t+F+1],g),T=I,I=Yr(l[v*t+F+1],g),fn[y|Q<<1|I<<2|T<<3].forEach(x);fn[Q|I<<3].forEach(x)}for(F=-1,fn[(I=l[v*t]>=g)<<2].forEach(x);++F<t-1;)T=I,I=Yr(l[v*t+F+1],g),fn[I<<2|T<<3].forEach(x);function x(k){var tt,J,K=[k[0][0]+F,k[0][1]+v],N=[k[1][0]+F,k[1][1]+v],Y=s(K),q=s(N);(tt=w[Y])?(J=p[q])?(delete w[tt.end],delete p[J.start],tt===J?(tt.ring.push(N),B(tt.ring)):p[tt.start]=w[J.end]={start:tt.start,end:J.end,ring:tt.ring.concat(J.ring)}):(delete w[tt.end],tt.ring.push(N),w[tt.end=q]=tt):(tt=p[q])?(J=w[Y])?(delete p[tt.start],delete w[J.end],tt===J?(tt.ring.push(N),B(tt.ring)):p[J.start]=w[tt.end]={start:J.start,end:tt.end,ring:J.ring.concat(tt.ring)}):(delete p[tt.start],tt.ring.unshift(K),p[tt.start=Y]=tt):p[Y]=w[q]={start:Y,end:q,ring:[K,N]}}fn[I<<3].forEach(x)}(l,B,function(F){r(F,l,B),function eh(t){for(var A=0,e=t.length,r=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++A<e;)r+=t[A-1][1]*t[A][0]-t[A-1][0]*t[A][1];return r}(F)>0?p.push([F]):w.push(F)}),w.forEach(function(F){for(var Q,v=0,y=p.length;v<y;++v)if(-1!==rh((Q=p[v])[0],F))return void Q.push(F)}),{type:"MultiPolygon",value:g,coordinates:p}}function s(l){return 2*l[0]+l[1]*(t+1)*4}function h(l,g,B){l.forEach(function(p){var w=p[0],F=p[1],v=0|w,y=0|F,Q=qe(g[y*t+v]);w>0&&w<t&&v===w&&(p[0]=yl(w,qe(g[y*t+v-1]),Q,B)),F>0&&F<A&&y===F&&(p[1]=yl(F,qe(g[(y-1)*t+v]),Q,B))})}return n.contour=i,n.size=function(l){if(!arguments.length)return[t,A];var g=Math.floor(l[0]),B=Math.floor(l[1]);if(!(g>=0&&B>=0))throw new Error("invalid size");return t=g,A=B,n},n.thresholds=function(l){return arguments.length?(e="function"==typeof l?l:Array.isArray(l)?Rn(_l.call(l)):Rn(l),n):e},n.smooth=function(l){return arguments.length?(r=l?h:ah,n):r===h},n}function u0(t){return isFinite(t)?t:NaN}function Yr(t,A){return null!=t&&+t>=A}function qe(t){return null==t||isNaN(t=+t)?-1/0:t}function yl(t,A,e,r){const n=r-A,i=e-A,a=isFinite(n)||isFinite(i)?n/i:Math.sign(n)/Math.sign(i);return isNaN(a)?t:t+a-.5}function Yo(t){return t[0]}function h0(t){return t[1]}function f0(){return 1}function bl(){var t=Yo,A=h0,e=f0,r=960,n=500,i=20,a=2,s=3*i,h=r+2*s>>a,l=n+2*s>>a,g=Rn(20);function B(I){var T=new Float32Array(h*l),x=Math.pow(2,-a),k=-1;for(const at of I){var K=(t(at,++k,I)+s)*x,N=(A(at,k,I)+s)*x,Y=+e(at,k,I);if(Y&&K>=0&&K<h&&N>=0&&N<l){var q=Math.floor(K),tt=Math.floor(N),J=K-q-.5,lt=N-tt-.5;T[q+tt*h]+=(1-J)*(1-lt)*Y,T[q+1+tt*h]+=J*(1-lt)*Y,T[q+1+(tt+1)*h]+=J*lt*Y,T[q+(tt+1)*h]+=(1-J)*lt*Y}}return o({data:T,width:h,height:l},i*x),T}function p(I){var T=B(I),x=g(T),k=Math.pow(2,2*a);return Array.isArray(x)||(x=rr(Number.MIN_VALUE,cA(T)/k,x)),vl().size([h,l]).thresholds(x.map(K=>K*k))(T).map((K,N)=>(K.value=+x[N],w(K)))}function w(I){return I.coordinates.forEach(F),I}function F(I){I.forEach(v)}function v(I){I.forEach(y)}function y(I){I[0]=I[0]*Math.pow(2,a)-s,I[1]=I[1]*Math.pow(2,a)-s}function Q(){return h=r+2*(s=3*i)>>a,l=n+2*s>>a,p}return p.contours=function(I){var T=B(I),x=vl().size([h,l]),k=Math.pow(2,2*a),K=N=>{var Y=w(x.contour(T,(N=+N)*k));return Y.value=N,Y};return Object.defineProperty(K,"max",{get:()=>cA(T)/k}),K},p.x=function(I){return arguments.length?(t="function"==typeof I?I:Rn(+I),p):t},p.y=function(I){return arguments.length?(A="function"==typeof I?I:Rn(+I),p):A},p.weight=function(I){return arguments.length?(e="function"==typeof I?I:Rn(+I),p):e},p.size=function(I){if(!arguments.length)return[r,n];var T=+I[0],x=+I[1];if(!(T>=0&&x>=0))throw new Error("invalid size");return r=T,n=x,Q()},p.cellSize=function(I){if(!arguments.length)return 1<<a;if(!((I=+I)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(I)/Math.LN2),Q()},p.thresholds=function(I){return arguments.length?(g="function"==typeof I?I:Array.isArray(I)?Rn(_l.call(I)):Rn(I),p):g},p.bandwidth=function(I){if(!arguments.length)return Math.sqrt(i*(i+1));if(!((I=+I)>=0))throw new Error("invalid bandwidth");return i=(Math.sqrt(4*I*I+1)-1)/2,Q()},p}const kA=11102230246251565e-32,oe=134217729,d0=(3+8*kA)*kA;function Jr(t,A,e,r,n){let i,a,s,h,l=A[0],g=r[0],B=0,p=0;g>l==g>-l?(i=l,l=A[++B]):(i=g,g=r[++p]);let w=0;if(B<t&&p<e)for(g>l==g>-l?(a=l+i,s=i-(a-l),l=A[++B]):(a=g+i,s=i-(a-g),g=r[++p]),i=a,0!==s&&(n[w++]=s);B<t&&p<e;)g>l==g>-l?(a=i+l,h=a-i,s=i-(a-h)+(l-h),l=A[++B]):(a=i+g,h=a-i,s=i-(a-h)+(g-h),g=r[++p]),i=a,0!==s&&(n[w++]=s);for(;B<t;)a=i+l,h=a-i,s=i-(a-h)+(l-h),l=A[++B],i=a,0!==s&&(n[w++]=s);for(;p<e;)a=i+g,h=a-i,s=i-(a-h)+(g-h),g=r[++p],i=a,0!==s&&(n[w++]=s);return(0!==i||0===w)&&(n[w++]=i),w}function Ht(t){return new Float64Array(t)}const B0=(3+16*kA)*kA,m0=(2+12*kA)*kA,w0=(9+64*kA)*kA*kA,Ki=Ht(4),oh=Ht(8),sh=Ht(12),lh=Ht(16),Xe=Ht(4);function Jo(t,A,e,r,n,i){const a=(A-i)*(e-n),s=(t-n)*(r-i),h=a-s,l=Math.abs(a+s);return Math.abs(h)>=B0*l?h:-function _0(t,A,e,r,n,i,a){let s,h,l,g,B,p,w,F,v,y,Q,I,T,x,k,K,N,Y;const q=t-n,tt=e-n,J=A-i,lt=r-i;x=q*lt,p=oe*q,w=p-(p-q),F=q-w,p=oe*lt,v=p-(p-lt),y=lt-v,k=F*y-(x-w*v-F*v-w*y),K=J*tt,p=oe*J,w=p-(p-J),F=J-w,p=oe*tt,v=p-(p-tt),y=tt-v,N=F*y-(K-w*v-F*v-w*y),Q=k-N,B=k-Q,Ki[0]=k-(Q+B)+(B-N),I=x+Q,B=I-x,T=x-(I-B)+(Q-B),Q=T-K,B=T-Q,Ki[1]=T-(Q+B)+(B-K),Y=I+Q,B=Y-I,Ki[2]=I-(Y-B)+(Q-B),Ki[3]=Y;let at=function p0(t,A){let e=A[0];for(let r=1;r<t;r++)e+=A[r];return e}(4,Ki),M=m0*a;if(at>=M||-at>=M||(B=t-q,s=t-(q+B)+(B-n),B=e-tt,l=e-(tt+B)+(B-n),B=A-J,h=A-(J+B)+(B-i),B=r-lt,g=r-(lt+B)+(B-i),0===s&&0===h&&0===l&&0===g)||(M=w0*a+d0*Math.abs(at),at+=q*g+lt*s-(J*l+tt*h),at>=M||-at>=M))return at;x=s*lt,p=oe*s,w=p-(p-s),F=s-w,p=oe*lt,v=p-(p-lt),y=lt-v,k=F*y-(x-w*v-F*v-w*y),K=h*tt,p=oe*h,w=p-(p-h),F=h-w,p=oe*tt,v=p-(p-tt),y=tt-v,N=F*y-(K-w*v-F*v-w*y),Q=k-N,B=k-Q,Xe[0]=k-(Q+B)+(B-N),I=x+Q,B=I-x,T=x-(I-B)+(Q-B),Q=T-K,B=T-Q,Xe[1]=T-(Q+B)+(B-K),Y=I+Q,B=Y-I,Xe[2]=I-(Y-B)+(Q-B),Xe[3]=Y;const O=Jr(4,Ki,4,Xe,oh);x=q*g,p=oe*q,w=p-(p-q),F=q-w,p=oe*g,v=p-(p-g),y=g-v,k=F*y-(x-w*v-F*v-w*y),K=J*l,p=oe*J,w=p-(p-J),F=J-w,p=oe*l,v=p-(p-l),y=l-v,N=F*y-(K-w*v-F*v-w*y),Q=k-N,B=k-Q,Xe[0]=k-(Q+B)+(B-N),I=x+Q,B=I-x,T=x-(I-B)+(Q-B),Q=T-K,B=T-Q,Xe[1]=T-(Q+B)+(B-K),Y=I+Q,B=Y-I,Xe[2]=I-(Y-B)+(Q-B),Xe[3]=Y;const R=Jr(O,oh,4,Xe,sh);x=s*g,p=oe*s,w=p-(p-s),F=s-w,p=oe*g,v=p-(p-g),y=g-v,k=F*y-(x-w*v-F*v-w*y),K=h*l,p=oe*h,w=p-(p-h),F=h-w,p=oe*l,v=p-(p-l),y=l-v,N=F*y-(K-w*v-F*v-w*y),Q=k-N,B=k-Q,Xe[0]=k-(Q+B)+(B-N),I=x+Q,B=I-x,T=x-(I-B)+(Q-B),Q=T-K,B=T-Q,Xe[1]=T-(Q+B)+(B-K),Y=I+Q,B=Y-I,Xe[2]=I-(Y-B)+(Q-B),Xe[3]=Y;const et=Jr(R,sh,4,Xe,lh);return lh[et-1]}(t,A,e,r,n,i,l)}Ht(4),Ht(4),Ht(4),Ht(4),Ht(4),Ht(4),Ht(4),Ht(4),Ht(4),Ht(8),Ht(8),Ht(8),Ht(4),Ht(8),Ht(8),Ht(8),Ht(12),Ht(192),Ht(192),Ht(4),Ht(4),Ht(4),Ht(4),Ht(4),Ht(4),Ht(4),Ht(4),Ht(8),Ht(8),Ht(8),Ht(8),Ht(8),Ht(8),Ht(8),Ht(8),Ht(8),Ht(4),Ht(4),Ht(4),Ht(8),Ht(16),Ht(16),Ht(16),Ht(32),Ht(32),Ht(48),Ht(64),Ht(1152),Ht(1152),Ht(4),Ht(4),Ht(4),Ht(4),Ht(4),Ht(4),Ht(4),Ht(4),Ht(4),Ht(4),Ht(24),Ht(24),Ht(24),Ht(24),Ht(24),Ht(24),Ht(24),Ht(24),Ht(24),Ht(24),Ht(1152),Ht(1152),Ht(1152),Ht(1152),Ht(1152),Ht(2304),Ht(2304),Ht(3456),Ht(5760),Ht(8),Ht(8),Ht(8),Ht(16),Ht(24),Ht(48),Ht(48),Ht(96),Ht(192),Ht(384),Ht(384),Ht(384),Ht(768),Ht(96),Ht(96),Ht(96),Ht(1152);const ZB=Math.pow(2,-52),ph=new Uint32Array(512);class Bh{static from(A,e=gv,r=pv){const n=A.length,i=new Float64Array(2*n);for(let a=0;a<n;a++){const s=A[a];i[2*a]=e(s),i[2*a+1]=r(s)}return new Bh(i)}constructor(A){const e=A.length>>1;if(e>0&&"number"!=typeof A[0])throw new Error("Expected coords to contain numbers.");this.coords=A;const r=Math.max(2*e-5,0);this._triangles=new Uint32Array(3*r),this._halfedges=new Int32Array(3*r),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){const{coords:A,_hullPrev:e,_hullNext:r,_hullTri:n,_hullHash:i}=this,a=A.length>>1;let s=1/0,h=1/0,l=-1/0,g=-1/0;for(let q=0;q<a;q++){const tt=A[2*q],J=A[2*q+1];tt<s&&(s=tt),J<h&&(h=J),tt>l&&(l=tt),J>g&&(g=J),this._ids[q]=q}const B=(s+l)/2,p=(h+g)/2;let w,F,v;for(let q=0,tt=1/0;q<a;q++){const J=L0(B,p,A[2*q],A[2*q+1]);J<tt&&(w=q,tt=J)}const y=A[2*w],Q=A[2*w+1];for(let q=0,tt=1/0;q<a;q++){if(q===w)continue;const J=L0(y,Q,A[2*q],A[2*q+1]);J<tt&&J>0&&(F=q,tt=J)}let I=A[2*F],T=A[2*F+1],x=1/0;for(let q=0;q<a;q++){if(q===w||q===F)continue;const tt=fv(y,Q,I,T,A[2*q],A[2*q+1]);tt<x&&(v=q,x=tt)}let k=A[2*v],K=A[2*v+1];if(x===1/0){for(let J=0;J<a;J++)this._dists[J]=A[2*J]-A[0]||A[2*J+1]-A[1];Zo(this._ids,this._dists,0,a-1);const q=new Uint32Array(a);let tt=0;for(let J=0,lt=-1/0;J<a;J++){const at=this._ids[J],M=this._dists[at];M>lt&&(q[tt++]=at,lt=M)}return this.hull=q.subarray(0,tt),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(Jo(y,Q,I,T,k,K)<0){const q=F,tt=I,J=T;F=v,I=k,T=K,v=q,k=tt,K=J}const N=function dv(t,A,e,r,n,i){const a=e-t,s=r-A,h=n-t,l=i-A,g=a*a+s*s,B=h*h+l*l,p=.5/(a*l-s*h);return{x:t+(l*g-s*B)*p,y:A+(a*B-h*g)*p}}(y,Q,I,T,k,K);this._cx=N.x,this._cy=N.y;for(let q=0;q<a;q++)this._dists[q]=L0(A[2*q],A[2*q+1],N.x,N.y);Zo(this._ids,this._dists,0,a-1),this._hullStart=w;let Y=3;r[w]=e[v]=F,r[F]=e[w]=v,r[v]=e[F]=w,n[w]=0,n[F]=1,n[v]=2,i.fill(-1),i[this._hashKey(y,Q)]=w,i[this._hashKey(I,T)]=F,i[this._hashKey(k,K)]=v,this.trianglesLen=0,this._addTriangle(w,F,v,-1,-1,-1);for(let tt,J,q=0;q<this._ids.length;q++){const lt=this._ids[q],at=A[2*lt],M=A[2*lt+1];if(q>0&&Math.abs(at-tt)<=ZB&&Math.abs(M-J)<=ZB||(tt=at,J=M,lt===w||lt===F||lt===v))continue;let O=0;for(let X=0,it=this._hashKey(at,M);X<this._hashSize&&(O=i[(it+X)%this._hashSize],-1===O||O===r[O]);X++);O=e[O];let et,R=O;for(;et=r[R],Jo(at,M,A[2*R],A[2*R+1],A[2*et],A[2*et+1])>=0;)if(R=et,R===O){R=-1;break}if(-1===R)continue;let W=this._addTriangle(R,lt,r[R],-1,-1,n[R]);n[lt]=this._legalize(W+2),n[R]=W,Y++;let Z=r[R];for(;et=r[Z],Jo(at,M,A[2*Z],A[2*Z+1],A[2*et],A[2*et+1])<0;)W=this._addTriangle(Z,lt,et,n[lt],-1,n[Z]),n[lt]=this._legalize(W+2),r[Z]=Z,Y--,Z=et;if(R===O)for(;et=e[R],Jo(at,M,A[2*et],A[2*et+1],A[2*R],A[2*R+1])<0;)W=this._addTriangle(et,lt,R,-1,n[R],n[et]),this._legalize(W+2),n[et]=W,r[R]=R,Y--,R=et;this._hullStart=e[lt]=R,r[R]=e[Z]=lt,r[lt]=Z,i[this._hashKey(at,M)]=lt,i[this._hashKey(A[2*R],A[2*R+1])]=R}this.hull=new Uint32Array(Y);for(let q=0,tt=this._hullStart;q<Y;q++)this.hull[q]=tt,tt=r[tt];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(A,e){return Math.floor(function uv(t,A){const e=t/(Math.abs(t)+Math.abs(A));return(A>0?3-e:1+e)/4}(A-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(A){const{_triangles:e,_halfedges:r,coords:n}=this;let i=0,a=0;for(;;){const s=r[A],h=A-A%3;if(a=h+(A+2)%3,-1===s){if(0===i)break;A=ph[--i];continue}const l=s-s%3,B=l+(s+2)%3,p=e[a],w=e[A],F=e[h+(A+1)%3],v=e[B];if(hv(n[2*p],n[2*p+1],n[2*w],n[2*w+1],n[2*F],n[2*F+1],n[2*v],n[2*v+1])){e[A]=v,e[s]=p;const Q=r[B];if(-1===Q){let T=this._hullStart;do{if(this._hullTri[T]===B){this._hullTri[T]=A;break}T=this._hullPrev[T]}while(T!==this._hullStart)}this._link(A,Q),this._link(s,r[a]),this._link(a,B),i<ph.length&&(ph[i++]=l+(s+1)%3)}else{if(0===i)break;A=ph[--i]}}return a}_link(A,e){this._halfedges[A]=e,-1!==e&&(this._halfedges[e]=A)}_addTriangle(A,e,r,n,i,a){const s=this.trianglesLen;return this._triangles[s]=A,this._triangles[s+1]=e,this._triangles[s+2]=r,this._link(s,n),this._link(s+1,i),this._link(s+2,a),this.trianglesLen+=3,s}}function L0(t,A,e,r){const n=t-e,i=A-r;return n*n+i*i}function hv(t,A,e,r,n,i,a,s){const h=t-a,l=A-s,g=e-a,B=r-s,p=n-a,w=i-s,v=g*g+B*B,y=p*p+w*w;return h*(B*y-v*w)-l*(g*y-v*p)+(h*h+l*l)*(g*w-B*p)<0}function fv(t,A,e,r,n,i){const a=e-t,s=r-A,h=n-t,l=i-A,g=a*a+s*s,B=h*h+l*l,p=.5/(a*l-s*h),w=(l*g-s*B)*p,F=(a*B-h*g)*p;return w*w+F*F}function Zo(t,A,e,r){if(r-e<=20)for(let n=e+1;n<=r;n++){const i=t[n],a=A[i];let s=n-1;for(;s>=e&&A[t[s]]>a;)t[s+1]=t[s--];t[s+1]=i}else{let i=e+1,a=r;El(t,e+r>>1,i),A[t[e]]>A[t[r]]&&El(t,e,r),A[t[i]]>A[t[r]]&&El(t,i,r),A[t[e]]>A[t[i]]&&El(t,e,i);const s=t[i],h=A[s];for(;;){do{i++}while(A[t[i]]<h);do{a--}while(A[t[a]]>h);if(a<i)break;El(t,i,a)}t[e+1]=t[a],t[a]=s,r-i+1>=a-e?(Zo(t,A,i,r),Zo(t,A,e,a-1)):(Zo(t,A,e,a-1),Zo(t,A,i,r))}}function El(t,A,e){const r=t[A];t[A]=t[e],t[e]=r}function gv(t){return t[0]}function pv(t){return t[1]}class Na{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(A,e){this._+=`M${this._x0=this._x1=+A},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(A,e){this._+=`L${this._x1=+A},${this._y1=+e}`}arc(A,e,r){const n=(A=+A)+(r=+r),i=e=+e;if(r<0)throw new Error("negative radius");null===this._x1?this._+=`M${n},${i}`:(Math.abs(this._x1-n)>1e-6||Math.abs(this._y1-i)>1e-6)&&(this._+="L"+n+","+i),r&&(this._+=`A${r},${r},0,1,1,${A-r},${e}A${r},${r},0,1,1,${this._x1=n},${this._y1=i}`)}rect(A,e,r,n){this._+=`M${this._x0=this._x1=+A},${this._y0=this._y1=+e}h${+r}v${+n}h${-r}Z`}value(){return this._||null}}class O0{constructor(){this._=[]}moveTo(A,e){this._.push([A,e])}closePath(){this._.push(this._[0].slice())}lineTo(A,e){this._.push([A,e])}value(){return this._.length?this._:null}}class tm{constructor(A,[e,r,n,i]=[0,0,960,500]){if(!((n=+n)>=(e=+e)&&(i=+i)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=A,this._circumcenters=new Float64Array(2*A.points.length),this.vectors=new Float64Array(2*A.points.length),this.xmax=n,this.xmin=e,this.ymax=i,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:A,hull:e,triangles:r},vectors:n}=this;let i,a;const s=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let I,T,v=0,y=0,Q=r.length;v<Q;v+=3,y+=2){const x=2*r[v],k=2*r[v+1],K=2*r[v+2],N=A[x],Y=A[x+1],J=A[K],lt=A[K+1],at=A[k]-N,M=A[k+1]-Y,O=J-N,R=lt-Y,et=2*(at*R-M*O);if(Math.abs(et)<1e-9){if(void 0===i){i=a=0;for(const Z of e)i+=A[2*Z],a+=A[2*Z+1];i/=e.length,a/=e.length}const W=1e9*Math.sign((i-N)*R-(a-Y)*O);I=(N+J)/2-W*R,T=(Y+lt)/2+W*O}else{const W=1/et,Z=at*at+M*M,X=O*O+R*R;I=N+(R*Z-M*X)*W,T=Y+(at*X-O*Z)*W}s[y]=I,s[y+1]=T}let l,B,w,h=e[e.length-1],g=4*h,p=A[2*h],F=A[2*h+1];n.fill(0);for(let v=0;v<e.length;++v)h=e[v],l=g,B=p,w=F,g=4*h,p=A[2*h],F=A[2*h+1],n[l+2]=n[g]=w-F,n[l+3]=n[g+1]=p-B}render(A){const e=null==A?A=new Na:void 0,{delaunay:{halfedges:r,inedges:n,hull:i},circumcenters:a,vectors:s}=this;if(i.length<=1)return null;for(let g=0,B=r.length;g<B;++g){const p=r[g];if(p<g)continue;const w=2*Math.floor(g/3),F=2*Math.floor(p/3);this._renderSegment(a[w],a[w+1],a[F],a[F+1],A)}let h,l=i[i.length-1];for(let g=0;g<i.length;++g){h=l,l=i[g];const B=2*Math.floor(n[l]/3),p=a[B],w=a[B+1],F=4*h,v=this._project(p,w,s[F+2],s[F+3]);v&&this._renderSegment(p,w,v[0],v[1],A)}return e&&e.value()}renderBounds(A){const e=null==A?A=new Na:void 0;return A.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(A,e){const r=null==e?e=new Na:void 0,n=this._clip(A);if(null===n||!n.length)return;e.moveTo(n[0],n[1]);let i=n.length;for(;n[0]===n[i-2]&&n[1]===n[i-1]&&i>1;)i-=2;for(let a=2;a<i;a+=2)(n[a]!==n[a-2]||n[a+1]!==n[a-1])&&e.lineTo(n[a],n[a+1]);return e.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:A}}=this;for(let e=0,r=A.length/2;e<r;++e){const n=this.cellPolygon(e);n&&(n.index=e,yield n)}}cellPolygon(A){const e=new O0;return this.renderCell(A,e),e.value()}_renderSegment(A,e,r,n,i){let a;const s=this._regioncode(A,e),h=this._regioncode(r,n);0===s&&0===h?(i.moveTo(A,e),i.lineTo(r,n)):(a=this._clipSegment(A,e,r,n,s,h))&&(i.moveTo(a[0],a[1]),i.lineTo(a[2],a[3]))}contains(A,e,r){return(e=+e)==e&&(r=+r)==r&&this.delaunay._step(A,e,r)===A}*neighbors(A){const e=this._clip(A);if(e)for(const r of this.delaunay.neighbors(A)){const n=this._clip(r);if(n)t:for(let i=0,a=e.length;i<a;i+=2)for(let s=0,h=n.length;s<h;s+=2)if(e[i]===n[s]&&e[i+1]===n[s+1]&&e[(i+2)%a]===n[(s+h-2)%h]&&e[(i+3)%a]===n[(s+h-1)%h]){yield r;break t}}}_cell(A){const{circumcenters:e,delaunay:{inedges:r,halfedges:n,triangles:i}}=this,a=r[A];if(-1===a)return null;const s=[];let h=a;do{const l=Math.floor(h/3);if(s.push(e[2*l],e[2*l+1]),h=h%3==2?h-2:h+1,i[h]!==A)break;h=n[h]}while(h!==a&&-1!==h);return s}_clip(A){if(0===A&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const e=this._cell(A);if(null===e)return null;const{vectors:r}=this,n=4*A;return this._simplify(r[n]||r[n+1]?this._clipInfinite(A,e,r[n],r[n+1],r[n+2],r[n+3]):this._clipFinite(A,e))}_clipFinite(A,e){const r=e.length;let i,a,l,B,n=null,s=e[r-2],h=e[r-1],g=this._regioncode(s,h),p=0;for(let w=0;w<r;w+=2)if(i=s,a=h,s=e[w],h=e[w+1],l=g,g=this._regioncode(s,h),0===l&&0===g)B=p,p=0,n?n.push(s,h):n=[s,h];else{let F,v,y,Q,I;if(0===l){if(null===(F=this._clipSegment(i,a,s,h,l,g)))continue;[v,y,Q,I]=F}else{if(null===(F=this._clipSegment(s,h,i,a,g,l)))continue;[Q,I,v,y]=F,B=p,p=this._edgecode(v,y),B&&p&&this._edge(A,B,p,n,n.length),n?n.push(v,y):n=[v,y]}B=p,p=this._edgecode(Q,I),B&&p&&this._edge(A,B,p,n,n.length),n?n.push(Q,I):n=[Q,I]}if(n)B=p,p=this._edgecode(n[0],n[1]),B&&p&&this._edge(A,B,p,n,n.length);else if(this.contains(A,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return n}_clipSegment(A,e,r,n,i,a){const s=i<a;for(s&&([A,e,r,n,i,a]=[r,n,A,e,a,i]);;){if(0===i&&0===a)return s?[r,n,A,e]:[A,e,r,n];if(i&a)return null;let h,l,g=i||a;8&g?(h=A+(r-A)*(this.ymax-e)/(n-e),l=this.ymax):4&g?(h=A+(r-A)*(this.ymin-e)/(n-e),l=this.ymin):2&g?(l=e+(n-e)*(this.xmax-A)/(r-A),h=this.xmax):(l=e+(n-e)*(this.xmin-A)/(r-A),h=this.xmin),i?i=this._regioncode(A=h,e=l):a=this._regioncode(r=h,n=l)}}_clipInfinite(A,e,r,n,i,a){let h,s=Array.from(e);if((h=this._project(s[0],s[1],r,n))&&s.unshift(h[0],h[1]),(h=this._project(s[s.length-2],s[s.length-1],i,a))&&s.push(h[0],h[1]),s=this._clipFinite(A,s))for(let B,l=0,g=s.length,p=this._edgecode(s[g-2],s[g-1]);l<g;l+=2)B=p,p=this._edgecode(s[l],s[l+1]),B&&p&&(l=this._edge(A,B,p,s,l),g=s.length);else this.contains(A,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(A,e,r,n,i){for(;e!==r;){let a,s;switch(e){case 5:e=4;continue;case 4:e=6,a=this.xmax,s=this.ymin;break;case 6:e=2;continue;case 2:e=10,a=this.xmax,s=this.ymax;break;case 10:e=8;continue;case 8:e=9,a=this.xmin,s=this.ymax;break;case 9:e=1;continue;case 1:e=5,a=this.xmin,s=this.ymin}(n[i]!==a||n[i+1]!==s)&&this.contains(A,a,s)&&(n.splice(i,0,a,s),i+=2)}return i}_project(A,e,r,n){let a,s,h,i=1/0;if(n<0){if(e<=this.ymin)return null;(a=(this.ymin-e)/n)<i&&(h=this.ymin,s=A+(i=a)*r)}else if(n>0){if(e>=this.ymax)return null;(a=(this.ymax-e)/n)<i&&(h=this.ymax,s=A+(i=a)*r)}if(r>0){if(A>=this.xmax)return null;(a=(this.xmax-A)/r)<i&&(s=this.xmax,h=e+(i=a)*n)}else if(r<0){if(A<=this.xmin)return null;(a=(this.xmin-A)/r)<i&&(s=this.xmin,h=e+(i=a)*n)}return[s,h]}_edgecode(A,e){return(A===this.xmin?1:A===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(A,e){return(A<this.xmin?1:A>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}_simplify(A){if(A&&A.length>4){for(let e=0;e<A.length;e+=2){const r=(e+2)%A.length,n=(e+4)%A.length;(A[e]===A[r]&&A[r]===A[n]||A[e+1]===A[r+1]&&A[r+1]===A[n+1])&&(A.splice(r,2),e-=2)}A.length||(A=null)}return A}}const Bv=2*Math.PI,qo=Math.pow;function mv(t){return t[0]}function wv(t){return t[1]}function Cv(t,A,e){return[t+Math.sin(t+A)*e,A+Math.cos(t-A)*e]}class K0{static from(A,e=mv,r=wv,n){return new K0("length"in A?function vv(t,A,e,r){const n=t.length,i=new Float64Array(2*n);for(let a=0;a<n;++a){const s=t[a];i[2*a]=A.call(r,s,a,t),i[2*a+1]=e.call(r,s,a,t)}return i}(A,e,r,n):Float64Array.from(function*yv(t,A,e,r){let n=0;for(const i of t)yield A.call(r,i,n,t),yield e.call(r,i,n,t),++n}(A,e,r,n)))}constructor(A){this._delaunator=new Bh(A),this.inedges=new Int32Array(A.length/2),this._hullIndex=new Int32Array(A.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const A=this._delaunator,e=this.points;if(A.hull&&A.hull.length>2&&function _v(t){const{triangles:A,coords:e}=t;for(let r=0;r<A.length;r+=3){const n=2*A[r],i=2*A[r+1],a=2*A[r+2];if((e[a]-e[n])*(e[i+1]-e[n+1])-(e[i]-e[n])*(e[a+1]-e[n+1])>1e-10)return!1}return!0}(A)){this.collinear=Int32Array.from({length:e.length/2},(p,w)=>w).sort((p,w)=>e[2*p]-e[2*w]||e[2*p+1]-e[2*w+1]);const h=this.collinear[0],l=this.collinear[this.collinear.length-1],g=[e[2*h],e[2*h+1],e[2*l],e[2*l+1]],B=1e-8*Math.hypot(g[3]-g[1],g[2]-g[0]);for(let p=0,w=e.length/2;p<w;++p){const F=Cv(e[2*p],e[2*p+1],B);e[2*p]=F[0],e[2*p+1]=F[1]}this._delaunator=new Bh(e)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,n=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let h=0,l=r.length;h<l;++h){const g=i[h%3==2?h-2:h+1];(-1===r[h]||-1===a[g])&&(a[g]=h)}for(let h=0,l=n.length;h<l;++h)s[n[h]]=h;n.length<=2&&n.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=n[0],a[n[0]]=1,2===n.length&&(a[n[1]]=0,this.triangles[1]=n[1],this.triangles[2]=n[1]))}voronoi(A){return new tm(this,A)}*neighbors(A){const{inedges:e,hull:r,_hullIndex:n,halfedges:i,triangles:a,collinear:s}=this;if(s){const B=s.indexOf(A);return B>0&&(yield s[B-1]),void(B<s.length-1&&(yield s[B+1]))}const h=e[A];if(-1===h)return;let l=h,g=-1;do{if(yield g=a[l],l=l%3==2?l-2:l+1,a[l]!==A)return;if(l=i[l],-1===l){const B=r[(n[A]+1)%r.length];return void(B!==g&&(yield B))}}while(l!==h)}find(A,e,r=0){if((A=+A)!=A||(e=+e)!=e)return-1;const n=r;let i;for(;(i=this._step(r,A,e))>=0&&i!==r&&i!==n;)r=i;return i}_step(A,e,r){const{inedges:n,hull:i,_hullIndex:a,halfedges:s,triangles:h,points:l}=this;if(-1===n[A]||!l.length)return(A+1)%(l.length>>1);let g=A,B=qo(e-l[2*A],2)+qo(r-l[2*A+1],2);const p=n[A];let w=p;do{let F=h[w];const v=qo(e-l[2*F],2)+qo(r-l[2*F+1],2);if(v<B&&(B=v,g=F),w=w%3==2?w-2:w+1,h[w]!==A)break;if(w=s[w],-1===w){if(w=i[(a[A]+1)%i.length],w!==F&&qo(e-l[2*w],2)+qo(r-l[2*w+1],2)<B)return w;break}}while(w!==p);return g}render(A){const e=null==A?A=new Na:void 0,{points:r,halfedges:n,triangles:i}=this;for(let a=0,s=n.length;a<s;++a){const h=n[a];if(h<a)continue;const l=2*i[a],g=2*i[h];A.moveTo(r[l],r[l+1]),A.lineTo(r[g],r[g+1])}return this.renderHull(A),e&&e.value()}renderPoints(A,e){void 0===e&&(!A||"function"!=typeof A.moveTo)&&(e=A,A=null),e=null==e?2:+e;const r=null==A?A=new Na:void 0,{points:n}=this;for(let i=0,a=n.length;i<a;i+=2){const s=n[i],h=n[i+1];A.moveTo(s+e,h),A.arc(s,h,e,0,Bv)}return r&&r.value()}renderHull(A){const e=null==A?A=new Na:void 0,{hull:r,points:n}=this,i=2*r[0],a=r.length;A.moveTo(n[i],n[i+1]);for(let s=1;s<a;++s){const h=2*r[s];A.lineTo(n[h],n[h+1])}return A.closePath(),e&&e.value()}hullPolygon(){const A=new O0;return this.renderHull(A),A.value()}renderTriangle(A,e){const r=null==e?e=new Na:void 0,{points:n,triangles:i}=this,a=2*i[A*=3],s=2*i[A+1],h=2*i[A+2];return e.moveTo(n[a],n[a+1]),e.lineTo(n[s],n[s+1]),e.lineTo(n[h],n[h+1]),e.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:A}=this;for(let e=0,r=A.length/3;e<r;++e)yield this.trianglePolygon(e)}trianglePolygon(A){const e=new O0;return this.renderTriangle(A,e),e.value()}}const mh=t=>()=>t;function R0(t,{sourceEvent:A,subject:e,target:r,identifier:n,active:i,x:a,y:s,dx:h,dy:l,dispatch:g}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:A,enumerable:!0,configurable:!0},subject:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:n,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:h,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:g}})}function bv(t){return!t.ctrlKey&&!t.button}function Qv(){return this.parentNode}function Fv(t,A){return A??{x:t.x,y:t.y}}function Uv(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ev(){var s,h,l,g,t=bv,A=Qv,e=Fv,r=Uv,n={},i=xi("start","drag","end"),a=0,B=0;function p(x){x.on("mousedown.drag",w).filter(r).on("touchstart.drag",y).on("touchmove.drag",Q,Gc).on("touchend.drag touchcancel.drag",I).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function w(x,k){if(!g&&t.call(this,x,k)){var K=T(this,A.call(this,x,k),x,k,"mouse");K&&(Ie(x.view).on("mousemove.drag",F,Di).on("mouseup.drag",v,Di),fa(x.view),Bo(x),l=!1,s=x.clientX,h=x.clientY,K("start",x))}}function F(x){if(oi(x),!l){var k=x.clientX-s,K=x.clientY-h;l=k*k+K*K>B}n.mouse("drag",x)}function v(x){Ie(x.view).on("mousemove.drag mouseup.drag",null),da(x.view,l),oi(x),n.mouse("end",x)}function y(x,k){if(t.call(this,x,k)){var q,tt,K=x.changedTouches,N=A.call(this,x,k),Y=K.length;for(q=0;q<Y;++q)(tt=T(this,N,x,k,K[q].identifier,K[q]))&&(Bo(x),tt("start",x,K[q]))}}function Q(x){var N,Y,k=x.changedTouches,K=k.length;for(N=0;N<K;++N)(Y=n[k[N].identifier])&&(oi(x),Y("drag",x,k[N]))}function I(x){var N,Y,k=x.changedTouches,K=k.length;for(g&&clearTimeout(g),g=setTimeout(function(){g=null},500),N=0;N<K;++N)(Y=n[k[N].identifier])&&(Bo(x),Y("end",x,k[N]))}function T(x,k,K,N,Y,q){var lt,at,M,tt=i.copy(),J=nr(q||K,k);if(null!=(M=e.call(x,new R0("beforestart",{sourceEvent:K,target:p,identifier:Y,active:a,x:J[0],y:J[1],dx:0,dy:0,dispatch:tt}),N)))return lt=M.x-J[0]||0,at=M.y-J[1]||0,function O(R,et,W){var X,Z=J;switch(R){case"start":n[Y]=O,X=a++;break;case"end":delete n[Y],--a;case"drag":J=nr(W||et,k),X=a}tt.call(R,x,new R0(R,{sourceEvent:et,subject:M,target:p,identifier:Y,active:X,x:J[0]+lt,y:J[1]+at,dx:J[0]-Z[0],dy:J[1]-Z[1],dispatch:tt}),N)}}return p.filter=function(x){return arguments.length?(t="function"==typeof x?x:mh(!!x),p):t},p.container=function(x){return arguments.length?(A="function"==typeof x?x:mh(x),p):A},p.subject=function(x){return arguments.length?(e="function"==typeof x?x:mh(x),p):e},p.touchable=function(x){return arguments.length?(r="function"==typeof x?x:mh(!!x),p):r},p.on=function(){var x=i.on.apply(i,arguments);return x===i?p:x},p.clickDistance=function(x){return arguments.length?(B=(x=+x)*x,p):Math.sqrt(B)},p}R0.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Am={},N0={},V0=34,xl=10,W0=13;function em(t){return new Function("d","return {"+t.map(function(A,e){return JSON.stringify(A)+": d["+e+'] || ""'}).join(",")+"}")}function rm(t){var A=Object.create(null),e=[];return t.forEach(function(r){for(var n in r)n in A||e.push(A[n]=n)}),e}function Cr(t,A){var e=t+"",r=e.length;return r<A?new Array(A-r+1).join(0)+e:e}function wh(t){var A=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function n(B,p){var Q,w=[],F=B.length,v=0,y=0,I=F<=0,T=!1;function x(){if(I)return N0;if(T)return T=!1,Am;var K,Y,N=v;if(B.charCodeAt(N)===V0){for(;v++<F&&B.charCodeAt(v)!==V0||B.charCodeAt(++v)===V0;);return(K=v)>=F?I=!0:(Y=B.charCodeAt(v++))===xl?T=!0:Y===W0&&(T=!0,B.charCodeAt(v)===xl&&++v),B.slice(N+1,K-1).replace(/""/g,'"')}for(;v<F;){if((Y=B.charCodeAt(K=v++))===xl)T=!0;else if(Y===W0)T=!0,B.charCodeAt(v)===xl&&++v;else if(Y!==e)continue;return B.slice(N,K)}return I=!0,B.slice(N,F)}for(B.charCodeAt(F-1)===xl&&--F,B.charCodeAt(F-1)===W0&&--F;(Q=x())!==N0;){for(var k=[];Q!==Am&&Q!==N0;)k.push(Q),Q=x();p&&null==(k=p(k,y++))||w.push(k)}return w}function i(B,p){return B.map(function(w){return p.map(function(F){return g(w[F])}).join(t)})}function l(B){return B.map(g).join(t)}function g(B){return null==B?"":B instanceof Date?function Iv(t){var A=t.getUTCHours(),e=t.getUTCMinutes(),r=t.getUTCSeconds(),n=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function Tv(t){return t<0?"-"+Cr(-t,6):t>9999?"+"+Cr(t,6):Cr(t,4)}(t.getUTCFullYear())+"-"+Cr(t.getUTCMonth()+1,2)+"-"+Cr(t.getUTCDate(),2)+(n?"T"+Cr(A,2)+":"+Cr(e,2)+":"+Cr(r,2)+"."+Cr(n,3)+"Z":r?"T"+Cr(A,2)+":"+Cr(e,2)+":"+Cr(r,2)+"Z":e||A?"T"+Cr(A,2)+":"+Cr(e,2)+"Z":"")}(B):A.test(B+="")?'"'+B.replace(/"/g,'""')+'"':B}return{parse:function r(B,p){var w,F,v=n(B,function(y,Q){if(w)return w(y,Q-1);F=y,w=p?function xv(t,A){var e=em(t);return function(r,n){return A(e(r),n,t)}}(y,p):em(y)});return v.columns=F||[],v},parseRows:n,format:function a(B,p){return null==p&&(p=rm(B)),[p.map(g).join(t)].concat(i(B,p)).join("\n")},formatBody:function s(B,p){return null==p&&(p=rm(B)),i(B,p).join("\n")},formatRows:function h(B){return B.map(l).join("\n")},formatRow:l,formatValue:g}}var Va=wh(","),nm=Va.parse,Dv=Va.parseRows,Mv=Va.format,kv=Va.formatBody,Hv=Va.formatRows,Sv=Va.formatRow,Pv=Va.formatValue,Wa=wh("\t"),im=Wa.parse,Lv=Wa.parseRows,Ov=Wa.format,Kv=Wa.formatBody,Rv=Wa.formatRows,Nv=Wa.formatRow,Vv=Wa.formatValue;function Wv(t){for(var A in t){var r,n,e=t[A].trim();if(e)if("true"===e)e=!0;else if("false"===e)e=!1;else if("NaN"===e)e=NaN;else if(isNaN(r=+e)){if(!(n=e.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Gv&&n[4]&&!n[7]&&(e=e.replace(/-/g,"/").replace(/T/," ")),e=new Date(e)}else e=r;else e=null;t[A]=e}return t}const Gv=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),zv=t=>+t;function Xv(t){return t*t}function $v(t){return t*(2-t)}function am(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}var Yv=function t(A){function e(r){return Math.pow(r,A)}return A=+A,e.exponent=t,e}(3),Jv=function t(A){function e(r){return 1-Math.pow(1-r,A)}return A=+A,e.exponent=t,e}(3),om=function t(A){function e(r){return((r*=2)<=1?Math.pow(r,A):2-Math.pow(2-r,A))/2}return A=+A,e.exponent=t,e}(3),sm=Math.PI,lm=sm/2;function jv(t){return 1==+t?1:1-Math.cos(t*lm)}function Zv(t){return Math.sin(t*lm)}function cm(t){return(1-Math.cos(sm*t))/2}function Vi(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function qv(t){return Vi(1-+t)}function ty(t){return 1-Vi(t)}function um(t){return((t*=2)<=1?Vi(1-t):2-Vi(t-1))/2}function Ay(t){return 1-Math.sqrt(1-t*t)}function ey(t){return Math.sqrt(1- --t*t)}function hm(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var z0=4/11,ry=6/11,ny=8/11,iy=3/4,ay=9/11,oy=10/11,sy=15/16,ly=21/22,cy=63/64,_h=1/z0/z0;function uy(t){return 1-Tl(1-t)}function Tl(t){return(t=+t)<z0?_h*t*t:t<ny?_h*(t-=ry)*t+iy:t<oy?_h*(t-=ay)*t+sy:_h*(t-=ly)*t+cy}function hy(t){return((t*=2)<=1?1-Tl(1-t):Tl(t-1)+1)/2}var X0=1.70158,fy=function t(A){function e(r){return(r=+r)*r*(A*(r-1)+r)}return A=+A,e.overshoot=t,e}(X0),dy=function t(A){function e(r){return--r*r*((r+1)*A+r)+1}return A=+A,e.overshoot=t,e}(X0),fm=function t(A){function e(r){return((r*=2)<1?r*r*((A+1)*r-A):(r-=2)*r*((A+1)*r+A)+2)/2}return A=+A,e.overshoot=t,e}(X0),ts=2*Math.PI,gy=function t(A,e){var r=Math.asin(1/(A=Math.max(1,A)))*(e/=ts);function n(i){return A*Vi(- --i)*Math.sin((r-i)/e)}return n.amplitude=function(i){return t(i,e*ts)},n.period=function(i){return t(A,i)},n}(1,.3),dm=function t(A,e){var r=Math.asin(1/(A=Math.max(1,A)))*(e/=ts);function n(i){return 1-A*Vi(i=+i)*Math.sin((i+r)/e)}return n.amplitude=function(i){return t(i,e*ts)},n.period=function(i){return t(A,i)},n}(1,.3),py=function t(A,e){var r=Math.asin(1/(A=Math.max(1,A)))*(e/=ts);function n(i){return((i=2*i-1)<0?A*Vi(-i)*Math.sin((r-i)/e):2-A*Vi(i)*Math.sin((r+i)/e))/2}return n.amplitude=function(i){return t(i,e*ts)},n.period=function(i){return t(A,i)},n}(1,.3);function By(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function my(t,A){return fetch(t,A).then(By)}function wy(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function _y(t,A){return fetch(t,A).then(wy)}function Cy(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Ch(t,A){return fetch(t,A).then(Cy)}function gm(t){return function(A,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=void 0),Ch(A,e).then(function(n){return t(n,r)})}}function vy(t,A,e,r){3===arguments.length&&"function"==typeof e&&(r=e,e=void 0);var n=wh(t);return Ch(A,e).then(function(i){return n.parse(i,r)})}var yy=gm(nm),by=gm(im);function Qy(t,A){return new Promise(function(e,r){var n=new Image;for(var i in A)n[i]=A[i];n.onerror=r,n.onload=function(){e(n)},n.src=t})}function Fy(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function Uy(t,A){return fetch(t,A).then(Fy)}function J0(t){return(A,e)=>Ch(A,e).then(r=>(new DOMParser).parseFromString(r,t))}const Ey=J0("application/xml");var xy=J0("text/html"),Ty=J0("image/svg+xml");function Iy(t,A){var e,r=1;function n(){var i,s,a=e.length,h=0,l=0;for(i=0;i<a;++i)h+=(s=e[i]).x,l+=s.y;for(h=(h/a-t)*r,l=(l/a-A)*r,i=0;i<a;++i)(s=e[i]).x-=h,s.y-=l}return null==t&&(t=0),null==A&&(A=0),n.initialize=function(i){e=i},n.x=function(i){return arguments.length?(t=+i,n):t},n.y=function(i){return arguments.length?(A=+i,n):A},n.strength=function(i){return arguments.length?(r=+i,n):r},n}function pm(t,A,e,r){if(isNaN(A)||isNaN(e))return t;var n,B,p,w,F,v,y,Q,I,i=t._root,a={data:r},s=t._x0,h=t._y0,l=t._x1,g=t._y1;if(!i)return t._root=a,t;for(;i.length;)if((v=A>=(B=(s+l)/2))?s=B:l=B,(y=e>=(p=(h+g)/2))?h=p:g=p,n=i,!(i=i[Q=y<<1|v]))return n[Q]=a,t;if(w=+t._x.call(null,i.data),F=+t._y.call(null,i.data),A===w&&e===F)return a.next=i,n?n[Q]=a:t._root=a,t;do{n=n?n[Q]=new Array(4):t._root=new Array(4),(v=A>=(B=(s+l)/2))?s=B:l=B,(y=e>=(p=(h+g)/2))?h=p:g=p}while((Q=y<<1|v)==(I=(F>=p)<<1|w>=B));return n[I]=i,n[Q]=a,t}function ar(t,A,e,r,n){this.node=t,this.x0=A,this.y0=e,this.x1=r,this.y1=n}function Wy(t){return t[0]}function zy(t){return t[1]}function vh(t,A,e){var r=new j0(A??Wy,e??zy,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function j0(t,A,e,r,n,i){this._x=t,this._y=A,this._x0=e,this._y0=r,this._x1=n,this._y1=i,this._root=void 0}function Bm(t){for(var A={data:t.data},e=A;t=t.next;)e=e.next={data:t.data};return A}var or=vh.prototype=j0.prototype;function He(t){return function(){return t}}function Wi(t){return 1e-6*(t()-.5)}function $y(t){return t.x+t.vx}function Yy(t){return t.y+t.vy}function Jy(t){var A,e,r,n=1,i=1;function a(){for(var l,B,p,w,F,v,y,g=A.length,Q=0;Q<i;++Q)for(B=vh(A,$y,Yy).visitAfter(s),l=0;l<g;++l)y=(v=e[(p=A[l]).index])*v,w=p.x+p.vx,F=p.y+p.vy,B.visit(I);function I(T,x,k,K,N){var Y=T.data,q=T.r,tt=v+q;if(!Y)return x>w+tt||K<w-tt||k>F+tt||N<F-tt;if(Y.index>p.index){var J=w-Y.x-Y.vx,lt=F-Y.y-Y.vy,at=J*J+lt*lt;at<tt*tt&&(0===J&&(at+=(J=Wi(r))*J),0===lt&&(at+=(lt=Wi(r))*lt),at=(tt-(at=Math.sqrt(at)))/at*n,p.vx+=(J*=at)*(tt=(q*=q)/(y+q)),p.vy+=(lt*=at)*tt,Y.vx-=J*(tt=1-tt),Y.vy-=lt*tt)}}}function s(l){if(l.data)return l.r=e[l.data.index];for(var g=l.r=0;g<4;++g)l[g]&&l[g].r>l.r&&(l.r=l[g].r)}function h(){if(A){var l,B,g=A.length;for(e=new Array(g),l=0;l<g;++l)e[(B=A[l]).index]=+t(B,l,A)}}return"function"!=typeof t&&(t=He(null==t?1:+t)),a.initialize=function(l,g){A=l,r=g,h()},a.iterations=function(l){return arguments.length?(i=+l,a):i},a.strength=function(l){return arguments.length?(n=+l,a):n},a.radius=function(l){return arguments.length?(t="function"==typeof l?l:He(+l),h(),a):t},a}function jy(t){return t.index}function mm(t,A){var e=t.get(A);if(!e)throw new Error("node not found: "+A);return e}function Zy(t){var r,i,a,s,h,l,A=jy,e=function B(y){return 1/Math.min(s[y.source.index],s[y.target.index])},n=He(30),g=1;function p(y){for(var Q=0,I=t.length;Q<g;++Q)for(var x,k,K,N,Y,q,tt,T=0;T<I;++T)N=(K=(x=t[T]).target).x+K.vx-(k=x.source).x-k.vx||Wi(l),Y=K.y+K.vy-k.y-k.vy||Wi(l),Y*=q=((q=Math.sqrt(N*N+Y*Y))-i[T])/q*y*r[T],K.vx-=(N*=q)*(tt=h[T]),K.vy-=Y*tt,k.vx+=N*(tt=1-tt),k.vy+=Y*tt}function w(){if(a){var y,x,Q=a.length,I=t.length,T=new Map(a.map((k,K)=>[A(k,K,a),k]));for(y=0,s=new Array(Q);y<I;++y)(x=t[y]).index=y,"object"!=typeof x.source&&(x.source=mm(T,x.source)),"object"!=typeof x.target&&(x.target=mm(T,x.target)),s[x.source.index]=(s[x.source.index]||0)+1,s[x.target.index]=(s[x.target.index]||0)+1;for(y=0,h=new Array(I);y<I;++y)h[y]=s[(x=t[y]).source.index]/(s[x.source.index]+s[x.target.index]);r=new Array(I),F(),i=new Array(I),v()}}function F(){if(a)for(var y=0,Q=t.length;y<Q;++y)r[y]=+e(t[y],y,t)}function v(){if(a)for(var y=0,Q=t.length;y<Q;++y)i[y]=+n(t[y],y,t)}return null==t&&(t=[]),p.initialize=function(y,Q){a=y,l=Q,w()},p.links=function(y){return arguments.length?(t=y,w(),p):t},p.id=function(y){return arguments.length?(A=y,p):A},p.iterations=function(y){return arguments.length?(g=+y,p):g},p.strength=function(y){return arguments.length?(e="function"==typeof y?y:He(+y),F(),p):e},p.distance=function(y){return arguments.length?(n="function"==typeof y?y:He(+y),v(),p):n},p}or.copy=function(){var e,r,t=new j0(this._x,this._y,this._x0,this._y0,this._x1,this._y1),A=this._root;if(!A)return t;if(!A.length)return t._root=Bm(A),t;for(e=[{source:A,target:t._root=new Array(4)}];A=e.pop();)for(var n=0;n<4;++n)(r=A.source[n])&&(r.length?e.push({source:r,target:A.target[n]=new Array(4)}):A.target[n]=Bm(r));return t},or.add=function Dy(t){const A=+this._x.call(null,t),e=+this._y.call(null,t);return pm(this.cover(A,e),A,e,t)},or.addAll=function My(t){var A,e,n,i,r=t.length,a=new Array(r),s=new Array(r),h=1/0,l=1/0,g=-1/0,B=-1/0;for(e=0;e<r;++e)isNaN(n=+this._x.call(null,A=t[e]))||isNaN(i=+this._y.call(null,A))||(a[e]=n,s[e]=i,n<h&&(h=n),n>g&&(g=n),i<l&&(l=i),i>B&&(B=i));if(h>g||l>B)return this;for(this.cover(h,l).cover(g,B),e=0;e<r;++e)pm(this,a[e],s[e],t[e]);return this},or.cover=function ky(t,A){if(isNaN(t=+t)||isNaN(A=+A))return this;var e=this._x0,r=this._y0,n=this._x1,i=this._y1;if(isNaN(e))n=(e=Math.floor(t))+1,i=(r=Math.floor(A))+1;else{for(var h,l,a=n-e||1,s=this._root;e>t||t>=n||r>A||A>=i;)switch(l=(A<r)<<1|t<e,h=new Array(4),h[l]=s,s=h,a*=2,l){case 0:n=e+a,i=r+a;break;case 1:e=n-a,i=r+a;break;case 2:n=e+a,r=i-a;break;case 3:e=n-a,r=i-a}this._root&&this._root.length&&(this._root=s)}return this._x0=e,this._y0=r,this._x1=n,this._y1=i,this},or.data=function Hy(){var t=[];return this.visit(function(A){if(!A.length)do{t.push(A.data)}while(A=A.next)}),t},or.extent=function Sy(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},or.find=function Py(t,A,e){var r,a,s,h,l,F,v,n=this._x0,i=this._y0,g=this._x1,B=this._y1,p=[],w=this._root;for(w&&p.push(new ar(w,n,i,g,B)),null==e?e=1/0:(n=t-e,i=A-e,g=t+e,B=A+e,e*=e);F=p.pop();)if(!(!(w=F.node)||(a=F.x0)>g||(s=F.y0)>B||(h=F.x1)<n||(l=F.y1)<i))if(w.length){var y=(a+h)/2,Q=(s+l)/2;p.push(new ar(w[3],y,Q,h,l),new ar(w[2],a,Q,y,l),new ar(w[1],y,s,h,Q),new ar(w[0],a,s,y,Q)),(v=(A>=Q)<<1|t>=y)&&(F=p[p.length-1],p[p.length-1]=p[p.length-1-v],p[p.length-1-v]=F)}else{var I=t-+this._x.call(null,w.data),T=A-+this._y.call(null,w.data),x=I*I+T*T;if(x<e){var k=Math.sqrt(e=x);n=t-k,i=A-k,g=t+k,B=A+k,r=w.data}}return r},or.remove=function Ly(t){if(isNaN(g=+this._x.call(null,t))||isNaN(B=+this._y.call(null,t)))return this;var A,r,n,i,g,B,p,w,F,v,y,Q,e=this._root,a=this._x0,s=this._y0,h=this._x1,l=this._y1;if(!e)return this;if(e.length)for(;;){if((F=g>=(p=(a+h)/2))?a=p:h=p,(v=B>=(w=(s+l)/2))?s=w:l=w,A=e,!(e=e[y=v<<1|F]))return this;if(!e.length)break;(A[y+1&3]||A[y+2&3]||A[y+3&3])&&(r=A,Q=y)}for(;e.data!==t;)if(n=e,!(e=e.next))return this;return(i=e.next)&&delete e.next,n?(i?n.next=i:delete n.next,this):A?(i?A[y]=i:delete A[y],(e=A[0]||A[1]||A[2]||A[3])&&e===(A[3]||A[2]||A[1]||A[0])&&!e.length&&(r?r[Q]=e:this._root=e),this):(this._root=i,this)},or.removeAll=function Oy(t){for(var A=0,e=t.length;A<e;++A)this.remove(t[A]);return this},or.root=function Ky(){return this._root},or.size=function Ry(){var t=0;return this.visit(function(A){if(!A.length)do{++t}while(A=A.next)}),t},or.visit=function Ny(t){var e,n,i,a,s,h,A=[],r=this._root;for(r&&A.push(new ar(r,this._x0,this._y0,this._x1,this._y1));e=A.pop();)if(!t(r=e.node,i=e.x0,a=e.y0,s=e.x1,h=e.y1)&&r.length){var l=(i+s)/2,g=(a+h)/2;(n=r[3])&&A.push(new ar(n,l,g,s,h)),(n=r[2])&&A.push(new ar(n,i,g,l,h)),(n=r[1])&&A.push(new ar(n,l,a,s,g)),(n=r[0])&&A.push(new ar(n,i,a,l,g))}return this},or.visitAfter=function Vy(t){var r,A=[],e=[];for(this._root&&A.push(new ar(this._root,this._x0,this._y0,this._x1,this._y1));r=A.pop();){var n=r.node;if(n.length){var i,a=r.x0,s=r.y0,h=r.x1,l=r.y1,g=(a+h)/2,B=(s+l)/2;(i=n[0])&&A.push(new ar(i,a,s,g,B)),(i=n[1])&&A.push(new ar(i,g,s,h,B)),(i=n[2])&&A.push(new ar(i,a,B,g,l)),(i=n[3])&&A.push(new ar(i,g,B,h,l))}e.push(r)}for(;r=e.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this},or.x=function Gy(t){return arguments.length?(this._x=t,this):this._x},or.y=function Xy(t){return arguments.length?(this._y=t,this):this._y};const qy=1664525,tb=1013904223,wm=4294967296;function eb(t){return t.x}function rb(t){return t.y}var nb=10,ib=Math.PI*(3-Math.sqrt(5));function ab(t){var A,e=1,r=.001,n=1-Math.pow(r,1/300),i=0,a=.6,s=new Map,h=Uo(B),l=xi("tick","end"),g=function Ab(){let t=1;return()=>(t=(qy*t+tb)%wm)/wm}();function B(){p(),l.call("tick",A),e<r&&(h.stop(),l.call("end",A))}function p(v){var y,I,Q=t.length;void 0===v&&(v=1);for(var T=0;T<v;++T)for(e+=(i-e)*n,s.forEach(function(x){x(e)}),y=0;y<Q;++y)null==(I=t[y]).fx?I.x+=I.vx*=a:(I.x=I.fx,I.vx=0),null==I.fy?I.y+=I.vy*=a:(I.y=I.fy,I.vy=0);return A}function w(){for(var Q,v=0,y=t.length;v<y;++v){if((Q=t[v]).index=v,null!=Q.fx&&(Q.x=Q.fx),null!=Q.fy&&(Q.y=Q.fy),isNaN(Q.x)||isNaN(Q.y)){var I=nb*Math.sqrt(.5+v),T=v*ib;Q.x=I*Math.cos(T),Q.y=I*Math.sin(T)}(isNaN(Q.vx)||isNaN(Q.vy))&&(Q.vx=Q.vy=0)}}function F(v){return v.initialize&&v.initialize(t,g),v}return null==t&&(t=[]),w(),A={tick:p,restart:function(){return h.restart(B),A},stop:function(){return h.stop(),A},nodes:function(v){return arguments.length?(t=v,w(),s.forEach(F),A):t},alpha:function(v){return arguments.length?(e=+v,A):e},alphaMin:function(v){return arguments.length?(r=+v,A):r},alphaDecay:function(v){return arguments.length?(n=+v,A):+n},alphaTarget:function(v){return arguments.length?(i=+v,A):i},velocityDecay:function(v){return arguments.length?(a=1-v,A):1-a},randomSource:function(v){return arguments.length?(g=v,s.forEach(F),A):g},force:function(v,y){return arguments.length>1?(null==y?s.delete(v):s.set(v,F(y)),A):s.get(v)},find:function(v,y,Q){var x,k,K,N,Y,I=0,T=t.length;for(null==Q?Q=1/0:Q*=Q,I=0;I<T;++I)(K=(x=v-(N=t[I]).x)*x+(k=y-N.y)*k)<Q&&(Y=N,Q=K);return Y},on:function(v,y){return arguments.length>1?(l.on(v,y),A):l.on(v)}}}function ob(){var t,A,e,r,i,n=He(-30),a=1,s=1/0,h=.81;function l(w){var F,v=t.length,y=vh(t,eb,rb).visitAfter(B);for(r=w,F=0;F<v;++F)A=t[F],y.visit(p)}function g(){if(t){var w,v,F=t.length;for(i=new Array(F),w=0;w<F;++w)i[(v=t[w]).index]=+n(v,w,t)}}function B(w){var v,y,I,T,x,F=0,Q=0;if(w.length){for(I=T=x=0;x<4;++x)(v=w[x])&&(y=Math.abs(v.value))&&(F+=v.value,Q+=y,I+=y*v.x,T+=y*v.y);w.x=I/Q,w.y=T/Q}else{(v=w).x=v.data.x,v.y=v.data.y;do{F+=i[v.data.index]}while(v=v.next)}w.value=F}function p(w,F,v,y){if(!w.value)return!0;var Q=w.x-A.x,I=w.y-A.y,T=y-F,x=Q*Q+I*I;if(T*T/h<x)return x<s&&(0===Q&&(x+=(Q=Wi(e))*Q),0===I&&(x+=(I=Wi(e))*I),x<a&&(x=Math.sqrt(a*x)),A.vx+=Q*w.value*r/x,A.vy+=I*w.value*r/x),!0;if(!(w.length||x>=s)){(w.data!==A||w.next)&&(0===Q&&(x+=(Q=Wi(e))*Q),0===I&&(x+=(I=Wi(e))*I),x<a&&(x=Math.sqrt(a*x)));do{w.data!==A&&(A.vx+=Q*(T=i[w.data.index]*r/x),A.vy+=I*T)}while(w=w.next)}}return l.initialize=function(w,F){t=w,e=F,g()},l.strength=function(w){return arguments.length?(n="function"==typeof w?w:He(+w),g(),l):n},l.distanceMin=function(w){return arguments.length?(a=w*w,l):Math.sqrt(a)},l.distanceMax=function(w){return arguments.length?(s=w*w,l):Math.sqrt(s)},l.theta=function(w){return arguments.length?(h=w*w,l):Math.sqrt(h)},l}function sb(t,A,e){var r,i,a,n=He(.1);function s(l){for(var g=0,B=r.length;g<B;++g){var p=r[g],w=p.x-A||1e-6,F=p.y-e||1e-6,v=Math.sqrt(w*w+F*F),y=(a[g]-v)*i[g]*l/v;p.vx+=w*y,p.vy+=F*y}}function h(){if(r){var l,g=r.length;for(i=new Array(g),a=new Array(g),l=0;l<g;++l)a[l]=+t(r[l],l,r),i[l]=isNaN(a[l])?0:+n(r[l],l,r)}}return"function"!=typeof t&&(t=He(+t)),null==A&&(A=0),null==e&&(e=0),s.initialize=function(l){r=l,h()},s.strength=function(l){return arguments.length?(n="function"==typeof l?l:He(+l),h(),s):n},s.radius=function(l){return arguments.length?(t="function"==typeof l?l:He(+l),h(),s):t},s.x=function(l){return arguments.length?(A=+l,s):A},s.y=function(l){return arguments.length?(e=+l,s):e},s}function lb(t){var e,r,n,A=He(.1);function i(s){for(var g,h=0,l=e.length;h<l;++h)(g=e[h]).vx+=(n[h]-g.x)*r[h]*s}function a(){if(e){var s,h=e.length;for(r=new Array(h),n=new Array(h),s=0;s<h;++s)r[s]=isNaN(n[s]=+t(e[s],s,e))?0:+A(e[s],s,e)}}return"function"!=typeof t&&(t=He(null==t?0:+t)),i.initialize=function(s){e=s,a()},i.strength=function(s){return arguments.length?(A="function"==typeof s?s:He(+s),a(),i):A},i.x=function(s){return arguments.length?(t="function"==typeof s?s:He(+s),a(),i):t},i}function cb(t){var e,r,n,A=He(.1);function i(s){for(var g,h=0,l=e.length;h<l;++h)(g=e[h]).vy+=(n[h]-g.y)*r[h]*s}function a(){if(e){var s,h=e.length;for(r=new Array(h),n=new Array(h),s=0;s<h;++s)r[s]=isNaN(n[s]=+t(e[s],s,e))?0:+A(e[s],s,e)}}return"function"!=typeof t&&(t=He(null==t?0:+t)),i.initialize=function(s){e=s,a()},i.strength=function(s){return arguments.length?(A="function"==typeof s?s:He(+s),a(),i):A},i.y=function(s){return arguments.length?(t="function"==typeof s?s:He(+s),a(),i):t},i}function yh(t,A){if((e=(t=A?t.toExponential(A-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function As(t){return(t=yh(Math.abs(t)))?t[1]:NaN}var _m,db=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function es(t){if(!(A=db.exec(t)))throw new Error("invalid format: "+t);var A;return new bh({fill:A[1],align:A[2],sign:A[3],symbol:A[4],zero:A[5],width:A[6],comma:A[7],precision:A[8]&&A[8].slice(1),trim:A[9],type:A[10]})}function bh(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Cm(t,A){var e=yh(t,A);if(!e)return t+"";var r=e[0],n=e[1];return n<0?"0."+new Array(-n).join("0")+r:r.length>n+1?r.slice(0,n+1)+"."+r.slice(n+1):r+new Array(n-r.length+2).join("0")}es.prototype=bh.prototype,bh.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const vm={"%":(t,A)=>(100*t).toFixed(A),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function ub(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,A)=>t.toExponential(A),f:(t,A)=>t.toFixed(A),g:(t,A)=>t.toPrecision(A),o:t=>Math.round(t).toString(8),p:(t,A)=>Cm(100*t,A),r:Cm,s:function pb(t,A){var e=yh(t,A);if(!e)return t+"";var r=e[0],n=e[1],i=n-(_m=3*Math.max(-8,Math.min(8,Math.floor(n/3))))+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+yh(t,Math.max(0,A+i-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ym(t){return t}var Qh,Fh,Z0,bm=Array.prototype.map,Qm=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Fm(t){var A=void 0===t.grouping||void 0===t.thousands?ym:function hb(t,A){return function(e,r){for(var n=e.length,i=[],a=0,s=t[0],h=0;n>0&&s>0&&(h+s+1>r&&(s=Math.max(1,r-h)),i.push(e.substring(n-=s,n+s)),!((h+=s+1)>r));)s=t[a=(a+1)%t.length];return i.reverse().join(A)}}(bm.call(t.grouping,Number),t.thousands+""),e=void 0===t.currency?"":t.currency[0]+"",r=void 0===t.currency?"":t.currency[1]+"",n=void 0===t.decimal?".":t.decimal+"",i=void 0===t.numerals?ym:function fb(t){return function(A){return A.replace(/[0-9]/g,function(e){return t[+e]})}}(bm.call(t.numerals,String)),a=void 0===t.percent?"%":t.percent+"",s=void 0===t.minus?"\u2212":t.minus+"",h=void 0===t.nan?"NaN":t.nan+"";function l(B){var p=(B=es(B)).fill,w=B.align,F=B.sign,v=B.symbol,y=B.zero,Q=B.width,I=B.comma,T=B.precision,x=B.trim,k=B.type;"n"===k?(I=!0,k="g"):vm[k]||(void 0===T&&(T=12),x=!0,k="g"),(y||"0"===p&&"="===w)&&(y=!0,p="0",w="=");var K="$"===v?e:"#"===v&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",N="$"===v?r:/[%p]/.test(k)?a:"",Y=vm[k],q=/[defgprs%]/.test(k);function tt(J){var M,O,R,lt=K,at=N;if("c"===k)at=Y(J)+at,J="";else{var et=(J=+J)<0||1/J<0;if(J=isNaN(J)?h:Y(Math.abs(J),T),x&&(J=function gb(t){t:for(var n,A=t.length,e=1,r=-1;e<A;++e)switch(t[e]){case".":r=n=e;break;case"0":0===r&&(r=e),n=e;break;default:if(!+t[e])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(n+1):t}(J)),et&&0==+J&&"+"!==F&&(et=!1),lt=(et?"("===F?F:s:"-"===F||"("===F?"":F)+lt,at=("s"===k?Qm[8+_m/3]:"")+at+(et&&"("===F?")":""),q)for(M=-1,O=J.length;++M<O;)if(48>(R=J.charCodeAt(M))||R>57){at=(46===R?n+J.slice(M+1):J.slice(M))+at,J=J.slice(0,M);break}}I&&!y&&(J=A(J,1/0));var W=lt.length+J.length+at.length,Z=W<Q?new Array(Q-W+1).join(p):"";switch(I&&y&&(J=A(Z+J,Z.length?Q-at.length:1/0),Z=""),w){case"<":J=lt+J+at+Z;break;case"=":J=lt+Z+J+at;break;case"^":J=Z.slice(0,W=Z.length>>1)+lt+J+at+Z.slice(W);break;default:J=Z+lt+J+at}return i(J)}return T=void 0===T?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T)),tt.toString=function(){return B+""},tt}return{format:l,formatPrefix:function g(B,p){var w=l(((B=es(B)).type="f",B)),F=3*Math.max(-8,Math.min(8,Math.floor(As(p)/3))),v=Math.pow(10,-F),y=Qm[8+F/3];return function(Q){return w(v*Q)+y}}}}function Um(t){return Qh=Fm(t),Fh=Qh.format,Z0=Qh.formatPrefix,Qh}function Em(t){return Math.max(0,-As(Math.abs(t)))}function xm(t,A){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(As(A)/3)))-As(Math.abs(t)))}function Tm(t,A){return t=Math.abs(t),A=Math.abs(A)-t,Math.max(0,As(A)-As(t))+1}Um({thousands:",",grouping:[3],currency:["$",""]});var fA=1e-6,Il=1e-12,DA=Math.PI,Ce=DA/2,Uh=DA/4,sr=2*DA,JA=180/DA,BA=DA/180,SA=Math.abs,rs=Math.atan,lr=Math.atan2,lA=Math.cos,Eh=Math.ceil,Im=Math.exp,q0=(Math,Math.hypot),xh=Math.log,tp=Math.pow,nA=Math.sin,Zr=Math.sign||function(t){return t>0?1:t<0?-1:0},Oe=Math.sqrt,Ap=Math.tan;function Dm(t){return t>1?0:t<-1?DA:Math.acos(t)}function cr(t){return t>1?Ce:t<-1?-Ce:Math.asin(t)}function Mm(t){return(t=nA(t/2))*t}function de(){}function Th(t,A){t&&Hm.hasOwnProperty(t.type)&&Hm[t.type](t,A)}var km={Feature:function(t,A){Th(t.geometry,A)},FeatureCollection:function(t,A){for(var e=t.features,r=-1,n=e.length;++r<n;)Th(e[r].geometry,A)}},Hm={Sphere:function(t,A){A.sphere()},Point:function(t,A){A.point((t=t.coordinates)[0],t[1],t[2])},MultiPoint:function(t,A){for(var e=t.coordinates,r=-1,n=e.length;++r<n;)A.point((t=e[r])[0],t[1],t[2])},LineString:function(t,A){ep(t.coordinates,A,0)},MultiLineString:function(t,A){for(var e=t.coordinates,r=-1,n=e.length;++r<n;)ep(e[r],A,0)},Polygon:function(t,A){Sm(t.coordinates,A)},MultiPolygon:function(t,A){for(var e=t.coordinates,r=-1,n=e.length;++r<n;)Sm(e[r],A)},GeometryCollection:function(t,A){for(var e=t.geometries,r=-1,n=e.length;++r<n;)Th(e[r],A)}};function ep(t,A,e){var i,r=-1,n=t.length-e;for(A.lineStart();++r<n;)A.point((i=t[r])[0],i[1],i[2]);A.lineEnd()}function Sm(t,A){var e=-1,r=t.length;for(A.polygonStart();++e<r;)ep(t[e],A,1);A.polygonEnd()}function wn(t,A){t&&km.hasOwnProperty(t.type)?km[t.type](t,A):Th(t,A)}var Pm,Lm,rp,np,ip,Ih=new XA,Dh=new XA,Vn={point:de,lineStart:de,lineEnd:de,polygonStart:function(){Ih=new XA,Vn.lineStart=Bb,Vn.lineEnd=mb},polygonEnd:function(){var t=+Ih;Dh.add(t<0?sr+t:t),this.lineStart=this.lineEnd=this.point=de},sphere:function(){Dh.add(sr)}};function Bb(){Vn.point=wb}function mb(){Om(Pm,Lm)}function wb(t,A){Vn.point=Om,Pm=t,Lm=A,rp=t*=BA,np=lA(A=(A*=BA)/2+Uh),ip=nA(A)}function Om(t,A){var e=(t*=BA)-rp,r=e>=0?1:-1,n=r*e,i=lA(A=(A*=BA)/2+Uh),a=nA(A),s=ip*a,h=np*i+s*lA(n),l=s*r*nA(n);Ih.add(lr(l,h)),rp=t,np=i,ip=a}function _b(t){return Dh=new XA,wn(t,Vn),2*Dh}function Mh(t){return[lr(t[1],t[0]),cr(t[2])]}function Ga(t){var A=t[0],e=t[1],r=lA(e);return[r*lA(A),r*nA(A),nA(e)]}function kh(t,A){return t[0]*A[0]+t[1]*A[1]+t[2]*A[2]}function ns(t,A){return[t[1]*A[2]-t[2]*A[1],t[2]*A[0]-t[0]*A[2],t[0]*A[1]-t[1]*A[0]]}function ap(t,A){t[0]+=A[0],t[1]+=A[1],t[2]+=A[2]}function Hh(t,A){return[t[0]*A,t[1]*A,t[2]*A]}function Sh(t){var A=Oe(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=A,t[1]/=A,t[2]/=A}var ge,vr,ve,Kr,za,Km,Rm,is,Dl,Gi,Bi,mi={point:op,lineStart:Vm,lineEnd:Wm,polygonStart:function(){mi.point=Gm,mi.lineStart=Cb,mi.lineEnd=vb,Dl=new XA,Vn.polygonStart()},polygonEnd:function(){Vn.polygonEnd(),mi.point=op,mi.lineStart=Vm,mi.lineEnd=Wm,Ih<0?(ge=-(ve=180),vr=-(Kr=90)):Dl>fA?Kr=90:Dl<-fA&&(vr=-90),Bi[0]=ge,Bi[1]=ve},sphere:function(){ge=-(ve=180),vr=-(Kr=90)}};function op(t,A){Gi.push(Bi=[ge=t,ve=t]),A<vr&&(vr=A),A>Kr&&(Kr=A)}function Nm(t,A){var e=Ga([t*BA,A*BA]);if(is){var r=ns(is,e),i=ns([r[1],-r[0],0],r);Sh(i),i=Mh(i);var l,a=t-za,s=a>0?1:-1,h=i[0]*JA*s,g=SA(a)>180;g^(s*za<h&&h<s*t)?(l=i[1]*JA)>Kr&&(Kr=l):g^(s*za<(h=(h+360)%360-180)&&h<s*t)?(l=-i[1]*JA)<vr&&(vr=l):(A<vr&&(vr=A),A>Kr&&(Kr=A)),g?t<za?Rr(ge,t)>Rr(ge,ve)&&(ve=t):Rr(t,ve)>Rr(ge,ve)&&(ge=t):ve>=ge?(t<ge&&(ge=t),t>ve&&(ve=t)):t>za?Rr(ge,t)>Rr(ge,ve)&&(ve=t):Rr(t,ve)>Rr(ge,ve)&&(ge=t)}else Gi.push(Bi=[ge=t,ve=t]);A<vr&&(vr=A),A>Kr&&(Kr=A),is=e,za=t}function Vm(){mi.point=Nm}function Wm(){Bi[0]=ge,Bi[1]=ve,mi.point=op,is=null}function Gm(t,A){if(is){var e=t-za;Dl.add(SA(e)>180?e+(e>0?360:-360):e)}else Km=t,Rm=A;Vn.point(t,A),Nm(t,A)}function Cb(){Vn.lineStart()}function vb(){Gm(Km,Rm),Vn.lineEnd(),SA(Dl)>fA&&(ge=-(ve=180)),Bi[0]=ge,Bi[1]=ve,is=null}function Rr(t,A){return(A-=t)<0?A+360:A}function yb(t,A){return t[0]-A[0]}function zm(t,A){return t[0]<=t[1]?t[0]<=A&&A<=t[1]:A<t[0]||t[1]<A}function bb(t){var A,e,r,n,i,a,s;if(Kr=ve=-(ge=vr=1/0),Gi=[],wn(t,mi),e=Gi.length){for(Gi.sort(yb),A=1,i=[r=Gi[0]];A<e;++A)zm(r,(n=Gi[A])[0])||zm(r,n[1])?(Rr(r[0],n[1])>Rr(r[0],r[1])&&(r[1]=n[1]),Rr(n[0],r[1])>Rr(r[0],r[1])&&(r[0]=n[0])):i.push(r=n);for(a=-1/0,A=0,r=i[e=i.length-1];A<=e;r=n,++A)(s=Rr(r[1],(n=i[A])[0]))>a&&(a=s,ge=n[0],ve=r[1])}return Gi=Bi=null,ge===1/0||vr===1/0?[[NaN,NaN],[NaN,NaN]]:[[ge,vr],[ve,Kr]]}var Ml,Ph,Lh,Oh,Kh,Rh,Nh,Vh,sp,lp,cp,Xm,$m,ur,hr,fr,_n={sphere:de,point:up,lineStart:Ym,lineEnd:Jm,polygonStart:function(){_n.lineStart=Ub,_n.lineEnd=Eb},polygonEnd:function(){_n.lineStart=Ym,_n.lineEnd=Jm}};function up(t,A){t*=BA;var e=lA(A*=BA);kl(e*lA(t),e*nA(t),nA(A))}function kl(t,A,e){++Ml,Lh+=(t-Lh)/Ml,Oh+=(A-Oh)/Ml,Kh+=(e-Kh)/Ml}function Ym(){_n.point=Qb}function Qb(t,A){t*=BA;var e=lA(A*=BA);ur=e*lA(t),hr=e*nA(t),fr=nA(A),_n.point=Fb,kl(ur,hr,fr)}function Fb(t,A){t*=BA;var e=lA(A*=BA),r=e*lA(t),n=e*nA(t),i=nA(A),a=lr(Oe((a=hr*i-fr*n)*a+(a=fr*r-ur*i)*a+(a=ur*n-hr*r)*a),ur*r+hr*n+fr*i);Ph+=a,Rh+=a*(ur+(ur=r)),Nh+=a*(hr+(hr=n)),Vh+=a*(fr+(fr=i)),kl(ur,hr,fr)}function Jm(){_n.point=up}function Ub(){_n.point=xb}function Eb(){jm(Xm,$m),_n.point=up}function xb(t,A){Xm=t,$m=A,t*=BA,A*=BA,_n.point=jm;var e=lA(A);ur=e*lA(t),hr=e*nA(t),fr=nA(A),kl(ur,hr,fr)}function jm(t,A){t*=BA;var e=lA(A*=BA),r=e*lA(t),n=e*nA(t),i=nA(A),a=hr*i-fr*n,s=fr*r-ur*i,h=ur*n-hr*r,l=q0(a,s,h),g=cr(l),B=l&&-g/l;sp.add(B*a),lp.add(B*s),cp.add(B*h),Ph+=g,Rh+=g*(ur+(ur=r)),Nh+=g*(hr+(hr=n)),Vh+=g*(fr+(fr=i)),kl(ur,hr,fr)}function Tb(t){Ml=Ph=Lh=Oh=Kh=Rh=Nh=Vh=0,sp=new XA,lp=new XA,cp=new XA,wn(t,_n);var A=+sp,e=+lp,r=+cp,n=q0(A,e,r);return n<Il&&(A=Rh,e=Nh,r=Vh,Ph<fA&&(A=Lh,e=Oh,r=Kh),(n=q0(A,e,r))<Il)?[NaN,NaN]:[lr(e,A)*JA,cr(r/n)*JA]}function as(t){return function(){return t}}function hp(t,A){function e(r,n){return r=t(r,n),A(r[0],r[1])}return t.invert&&A.invert&&(e.invert=function(r,n){return(r=A.invert(r,n))&&t.invert(r[0],r[1])}),e}function fp(t,A){return SA(t)>DA&&(t-=Math.round(t/sr)*sr),[t,A]}function dp(t,A,e){return(t%=sr)?A||e?hp(qm(t),t1(A,e)):qm(t):A||e?t1(A,e):fp}function Zm(t){return function(A,e){return SA(A+=t)>DA&&(A-=Math.round(A/sr)*sr),[A,e]}}function qm(t){var A=Zm(t);return A.invert=Zm(-t),A}function t1(t,A){var e=lA(t),r=nA(t),n=lA(A),i=nA(A);function a(s,h){var l=lA(h),g=lA(s)*l,B=nA(s)*l,p=nA(h),w=p*e+g*r;return[lr(B*n-w*i,g*e-p*r),cr(w*n+B*i)]}return a.invert=function(s,h){var l=lA(h),g=lA(s)*l,B=nA(s)*l,p=nA(h),w=p*n-B*i;return[lr(B*n+p*i,g*e+w*r),cr(w*e-g*r)]},a}function A1(t){function A(e){return(e=t(e[0]*BA,e[1]*BA))[0]*=JA,e[1]*=JA,e}return t=dp(t[0]*BA,t[1]*BA,t.length>2?t[2]*BA:0),A.invert=function(e){return(e=t.invert(e[0]*BA,e[1]*BA))[0]*=JA,e[1]*=JA,e},A}function e1(t,A,e,r,n,i){if(e){var a=lA(A),s=nA(A),h=r*e;null==n?(n=A+r*sr,i=A-h/2):(n=r1(a,n),i=r1(a,i),(r>0?n<i:n>i)&&(n+=r*sr));for(var l,g=n;r>0?g>i:g<i;g-=h)l=Mh([a,-s*lA(g),-s*nA(g)]),t.point(l[0],l[1])}}function r1(t,A){(A=Ga(A))[0]-=t,Sh(A);var e=Dm(-A[1]);return((-A[2]<0?-e:e)+sr-fA)%sr}function Ib(){var r,n,t=as([0,0]),A=as(90),e=as(2),i={point:function a(h,l){r.push(h=n(h,l)),h[0]*=JA,h[1]*=JA}};function s(){var h=t.apply(this,arguments),l=A.apply(this,arguments)*BA,g=e.apply(this,arguments)*BA;return r=[],n=dp(-h[0]*BA,-h[1]*BA,0).invert,e1(i,l,g,1),h={type:"Polygon",coordinates:[r]},r=n=null,h}return s.center=function(h){return arguments.length?(t="function"==typeof h?h:as([+h[0],+h[1]]),s):t},s.radius=function(h){return arguments.length?(A="function"==typeof h?h:as(+h),s):A},s.precision=function(h){return arguments.length?(e="function"==typeof h?h:as(+h),s):e},s}function n1(){var A,t=[];return{point:function(e,r,n){A.push([e,r,n])},lineStart:function(){t.push(A=[])},lineEnd:de,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],A=null,e}}}function Wh(t,A){return SA(t[0]-A[0])<fA&&SA(t[1]-A[1])<fA}function Gh(t,A,e,r){this.x=t,this.z=A,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function i1(t,A,e,r,n){var s,h,i=[],a=[];if(t.forEach(function(F){if(!((v=F.length-1)<=0)){var v,I,y=F[0],Q=F[v];if(Wh(y,Q)){if(!y[2]&&!Q[2]){for(n.lineStart(),s=0;s<v;++s)n.point((y=F[s])[0],y[1]);return void n.lineEnd()}Q[0]+=2*fA}i.push(I=new Gh(y,F,null,!0)),a.push(I.o=new Gh(y,null,I,!1)),i.push(I=new Gh(Q,F,null,!1)),a.push(I.o=new Gh(Q,null,I,!0))}}),i.length){for(a.sort(A),a1(i),a1(a),s=0,h=a.length;s<h;++s)a[s].e=e=!e;for(var g,B,l=i[0];;){for(var p=l,w=!0;p.v;)if((p=p.n)===l)return;g=p.z,n.lineStart();do{if(p.v=p.o.v=!0,p.e){if(w)for(s=0,h=g.length;s<h;++s)n.point((B=g[s])[0],B[1]);else r(p.x,p.n.x,1,n);p=p.n}else{if(w)for(s=(g=p.p.z).length-1;s>=0;--s)n.point((B=g[s])[0],B[1]);else r(p.x,p.p.x,-1,n);p=p.p}g=(p=p.o).z,w=!w}while(!p.v);n.lineEnd()}}}function a1(t){if(A=t.length){for(var A,n,e=0,r=t[0];++e<A;)r.n=n=t[e],n.p=r,r=n;r.n=n=t[0],n.p=r}}function gp(t){return SA(t[0])<=DA?t[0]:Zr(t[0])*((SA(t[0])+DA)%sr-DA)}function o1(t,A){var e=gp(A),r=A[1],n=nA(r),i=[nA(e),-lA(e),0],a=0,s=0,h=new XA;1===n?r=Ce+fA:-1===n&&(r=-Ce-fA);for(var l=0,g=t.length;l<g;++l)if(p=(B=t[l]).length)for(var B,p,w=B[p-1],F=gp(w),v=w[1]/2+Uh,y=nA(v),Q=lA(v),I=0;I<p;++I,F=x,y=K,Q=N,w=T){var T=B[I],x=gp(T),k=T[1]/2+Uh,K=nA(k),N=lA(k),Y=x-F,q=Y>=0?1:-1,tt=q*Y,J=tt>DA,lt=y*K;if(h.add(lr(lt*q*nA(tt),Q*N+lt*lA(tt))),a+=J?Y+q*sr:Y,J^F>=e^x>=e){var at=ns(Ga(w),Ga(T));Sh(at);var M=ns(i,at);Sh(M);var O=(J^Y>=0?-1:1)*cr(M[2]);(r>O||r===O&&(at[0]||at[1]))&&(s+=J^Y>=0?1:-1)}}return(a<-fA||a<fA&&h<-Il)^1&s}function s1(t,A,e,r){return function(n){var l,g,B,i=A(n),a=n1(),s=A(a),h=!1,p={point:w,lineStart:v,lineEnd:y,polygonStart:function(){p.point=Q,p.lineStart=I,p.lineEnd=T,g=[],l=[]},polygonEnd:function(){p.point=w,p.lineStart=v,p.lineEnd=y,g=TA(g);var x=o1(l,r);g.length?(h||(n.polygonStart(),h=!0),i1(g,Mb,x,e,n)):x&&(h||(n.polygonStart(),h=!0),n.lineStart(),e(null,null,1,n),n.lineEnd()),h&&(n.polygonEnd(),h=!1),g=l=null},sphere:function(){n.polygonStart(),n.lineStart(),e(null,null,1,n),n.lineEnd(),n.polygonEnd()}};function w(x,k){t(x,k)&&n.point(x,k)}function F(x,k){i.point(x,k)}function v(){p.point=F,i.lineStart()}function y(){p.point=w,i.lineEnd()}function Q(x,k){B.push([x,k]),s.point(x,k)}function I(){s.lineStart(),B=[]}function T(){Q(B[0][0],B[0][1]),s.lineEnd();var K,Y,q,tt,x=s.clean(),k=a.result(),N=k.length;if(B.pop(),l.push(B),B=null,N){if(1&x){if((Y=(q=k[0]).length-1)>0){for(h||(n.polygonStart(),h=!0),n.lineStart(),K=0;K<Y;++K)n.point((tt=q[K])[0],tt[1]);n.lineEnd()}return}N>1&&2&x&&k.push(k.pop().concat(k.shift())),g.push(k.filter(Db))}}return p}}function Db(t){return t.length>1}function Mb(t,A){return((t=t.x)[0]<0?t[1]-Ce-fA:Ce-t[1])-((A=A.x)[0]<0?A[1]-Ce-fA:Ce-A[1])}fp.invert=fp;const pp=s1(function(){return!0},function kb(t){var n,A=NaN,e=NaN,r=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(i,a){var s=i>0?DA:-DA,h=SA(i-A);SA(h-DA)<fA?(t.point(A,e=(e+a)/2>0?Ce:-Ce),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(s,e),t.point(i,e),n=0):r!==s&&h>=DA&&(SA(A-r)<fA&&(A-=r*fA),SA(i-s)<fA&&(i-=s*fA),e=function Hb(t,A,e,r){var n,i,a=nA(t-e);return SA(a)>fA?rs((nA(A)*(i=lA(r))*nA(e)-nA(r)*(n=lA(A))*nA(t))/(n*i*a)):(A+r)/2}(A,e,i,a),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(s,e),n=0),t.point(A=i,e=a),r=s},lineEnd:function(){t.lineEnd(),A=e=NaN},clean:function(){return 2-n}}},function Sb(t,A,e,r){var n;if(null==t)r.point(-DA,n=e*Ce),r.point(0,n),r.point(DA,n),r.point(DA,0),r.point(DA,-n),r.point(0,-n),r.point(-DA,-n),r.point(-DA,0),r.point(-DA,n);else if(SA(t[0]-A[0])>fA){var i=t[0]<A[0]?DA:-DA;r.point(-i,n=e*i/2),r.point(0,n),r.point(i,n)}else r.point(A[0],A[1])},[-DA,-Ce]);function l1(t){var A=lA(t),e=2*BA,r=A>0,n=SA(A)>fA;function a(g,B){return lA(g)*lA(B)>A}function h(g,B,p){var v=[1,0,0],y=ns(Ga(g),Ga(B)),Q=kh(y,y),I=y[0],T=Q-I*I;if(!T)return!p&&g;var x=A*Q/T,k=-A*I/T,K=ns(v,y),N=Hh(v,x);ap(N,Hh(y,k));var q=K,tt=kh(N,q),J=kh(q,q),lt=tt*tt-J*(kh(N,N)-1);if(!(lt<0)){var at=Oe(lt),M=Hh(q,(-tt-at)/J);if(ap(M,N),M=Mh(M),!p)return M;var Z,O=g[0],R=B[0],et=g[1],W=B[1];R<O&&(Z=O,O=R,R=Z);var X=R-O,it=SA(X-DA)<fA;if(!it&&W<et&&(Z=et,et=W,W=Z),it||X<fA?it?et+W>0^M[1]<(SA(M[0]-O)<fA?et:W):et<=M[1]&&M[1]<=W:X>DA^(O<=M[0]&&M[0]<=R)){var wt=Hh(q,(-tt+at)/J);return ap(wt,N),[M,Mh(wt)]}}}function l(g,B){var p=r?t:DA-t,w=0;return g<-p?w|=1:g>p&&(w|=2),B<-p?w|=4:B>p&&(w|=8),w}return s1(a,function s(g){var B,p,w,F,v;return{lineStart:function(){F=w=!1,v=1},point:function(y,Q){var T,I=[y,Q],x=a(y,Q),k=r?x?0:l(y,Q):x?l(y+(y<0?DA:-DA),Q):0;if(!B&&(F=w=x)&&g.lineStart(),x!==w&&(!(T=h(B,I))||Wh(B,T)||Wh(I,T))&&(I[2]=1),x!==w)v=0,x?(g.lineStart(),T=h(I,B),g.point(T[0],T[1])):(T=h(B,I),g.point(T[0],T[1],2),g.lineEnd()),B=T;else if(n&&B&&r^x){var K;!(k&p)&&(K=h(I,B,!0))&&(v=0,r?(g.lineStart(),g.point(K[0][0],K[0][1]),g.point(K[1][0],K[1][1]),g.lineEnd()):(g.point(K[1][0],K[1][1]),g.lineEnd(),g.lineStart(),g.point(K[0][0],K[0][1],3)))}x&&(!B||!Wh(B,I))&&g.point(I[0],I[1]),B=I,w=x,p=k},lineEnd:function(){w&&g.lineEnd(),B=null},clean:function(){return v|(F&&w)<<1}}},function i(g,B,p,w){e1(w,t,e,p,g,B)},r?[0,-t]:[-DA,t-DA])}var Hl=1e9,zh=-Hl;function Xh(t,A,e,r){function n(l,g){return t<=l&&l<=e&&A<=g&&g<=r}function i(l,g,B,p){var w=0,F=0;if(null==l||(w=a(l,B))!==(F=a(g,B))||h(l,g)<0^B>0)do{p.point(0===w||3===w?t:e,w>1?r:A)}while((w=(w+B+4)%4)!==F);else p.point(g[0],g[1])}function a(l,g){return SA(l[0]-t)<fA?g>0?0:3:SA(l[0]-e)<fA?g>0?2:1:SA(l[1]-A)<fA?g>0?1:0:g>0?3:2}function s(l,g){return h(l.x,g.x)}function h(l,g){var B=a(l,1),p=a(g,1);return B!==p?B-p:0===B?g[1]-l[1]:1===B?l[0]-g[0]:2===B?l[1]-g[1]:g[0]-l[0]}return function(l){var p,w,F,v,y,Q,I,T,x,k,K,g=l,B=n1(),N={point:Y,lineStart:function lt(){N.point=M,w&&w.push(F=[]),k=!0,x=!1,I=T=NaN},lineEnd:function at(){p&&(M(v,y),Q&&x&&B.rejoin(),p.push(B.result())),N.point=Y,x&&g.lineEnd()},polygonStart:function tt(){g=B,p=[],w=[],K=!0},polygonEnd:function J(){var O=function q(){for(var O=0,R=0,et=w.length;R<et;++R)for(var ht,wt,W=w[R],Z=1,X=W.length,it=W[0],pt=it[0],bt=it[1];Z<X;++Z)ht=pt,wt=bt,pt=(it=W[Z])[0],bt=it[1],wt<=r?bt>r&&(pt-ht)*(r-wt)>(bt-wt)*(t-ht)&&++O:bt<=r&&(pt-ht)*(r-wt)<(bt-wt)*(t-ht)&&--O;return O}(),R=K&&O,et=(p=TA(p)).length;(R||et)&&(l.polygonStart(),R&&(l.lineStart(),i(null,null,1,l),l.lineEnd()),et&&i1(p,s,O,i,l),l.polygonEnd()),g=l,p=w=F=null}};function Y(O,R){n(O,R)&&g.point(O,R)}function M(O,R){var et=n(O,R);if(w&&F.push([O,R]),k)v=O,y=R,Q=et,k=!1,et&&(g.lineStart(),g.point(O,R));else if(et&&x)g.point(O,R);else{var W=[I=Math.max(zh,Math.min(Hl,I)),T=Math.max(zh,Math.min(Hl,T))],Z=[O=Math.max(zh,Math.min(Hl,O)),R=Math.max(zh,Math.min(Hl,R))];!function Pb(t,A,e,r,n,i){var F,a=t[0],s=t[1],g=0,B=1,p=A[0]-a,w=A[1]-s;if(F=e-a,p||!(F>0)){if(F/=p,p<0){if(F<g)return;F<B&&(B=F)}else if(p>0){if(F>B)return;F>g&&(g=F)}if(F=n-a,p||!(F<0)){if(F/=p,p<0){if(F>B)return;F>g&&(g=F)}else if(p>0){if(F<g)return;F<B&&(B=F)}if(F=r-s,w||!(F>0)){if(F/=w,w<0){if(F<g)return;F<B&&(B=F)}else if(w>0){if(F>B)return;F>g&&(g=F)}if(F=i-s,w||!(F<0)){if(F/=w,w<0){if(F>B)return;F>g&&(g=F)}else if(w>0){if(F<g)return;F<B&&(B=F)}return g>0&&(t[0]=a+g*p,t[1]=s+g*w),B<1&&(A[0]=a+B*p,A[1]=s+B*w),!0}}}}}(W,Z,t,A,e,r)?et&&(g.lineStart(),g.point(O,R),K=!1):(x||(g.lineStart(),g.point(W[0],W[1])),g.point(Z[0],Z[1]),et||g.lineEnd(),K=!1)}I=O,T=R,x=et}return N}}function Lb(){var n,i,a,t=0,A=0,e=960,r=500;return a={stream:function(s){return n&&i===s?n:n=Xh(t,A,e,r)(i=s)},extent:function(s){return arguments.length?(t=+s[0][0],A=+s[0][1],e=+s[1][0],r=+s[1][1],n=i=null,a):[[t,A],[e,r]]}}}var Bp,mp,$h,Yh,os={sphere:de,point:de,lineStart:function Ob(){os.point=Rb,os.lineEnd=Kb},lineEnd:de,polygonStart:de,polygonEnd:de};function Kb(){os.point=os.lineEnd=de}function Rb(t,A){mp=t*=BA,$h=nA(A*=BA),Yh=lA(A),os.point=Nb}function Nb(t,A){t*=BA;var e=nA(A*=BA),r=lA(A),n=SA(t-mp),i=lA(n),s=r*nA(n),h=Yh*e-$h*r*i,l=$h*e+Yh*r*i;Bp.add(lr(Oe(s*s+h*h),l)),mp=t,$h=e,Yh=r}function c1(t){return Bp=new XA,wn(t,os),+Bp}var wp=[null,null],Vb={type:"LineString",coordinates:wp};function Jh(t,A){return wp[0]=t,wp[1]=A,c1(Vb)}var u1={Feature:function(t,A){return jh(t.geometry,A)},FeatureCollection:function(t,A){for(var e=t.features,r=-1,n=e.length;++r<n;)if(jh(e[r].geometry,A))return!0;return!1}},h1={Sphere:function(){return!0},Point:function(t,A){return f1(t.coordinates,A)},MultiPoint:function(t,A){for(var e=t.coordinates,r=-1,n=e.length;++r<n;)if(f1(e[r],A))return!0;return!1},LineString:function(t,A){return d1(t.coordinates,A)},MultiLineString:function(t,A){for(var e=t.coordinates,r=-1,n=e.length;++r<n;)if(d1(e[r],A))return!0;return!1},Polygon:function(t,A){return g1(t.coordinates,A)},MultiPolygon:function(t,A){for(var e=t.coordinates,r=-1,n=e.length;++r<n;)if(g1(e[r],A))return!0;return!1},GeometryCollection:function(t,A){for(var e=t.geometries,r=-1,n=e.length;++r<n;)if(jh(e[r],A))return!0;return!1}};function jh(t,A){return!(!t||!h1.hasOwnProperty(t.type))&&h1[t.type](t,A)}function f1(t,A){return 0===Jh(t,A)}function d1(t,A){for(var e,r,n,i=0,a=t.length;i<a;i++){if(0===(r=Jh(t[i],A))||i>0&&(n=Jh(t[i],t[i-1]))>0&&e<=n&&r<=n&&(e+r-n)*(1-Math.pow((e-r)/n,2))<Il*n)return!0;e=r}return!1}function g1(t,A){return!!o1(t.map(Wb),p1(A))}function Wb(t){return(t=t.map(p1)).pop(),t}function p1(t){return[t[0]*BA,t[1]*BA]}function Gb(t,A){return(t&&u1.hasOwnProperty(t.type)?u1[t.type]:jh)(t,A)}function B1(t,A,e){var r=Nr(t,A-fA,e).concat(A);return function(n){return r.map(function(i){return[n,i]})}}function m1(t,A,e){var r=Nr(t,A-fA,e).concat(A);return function(n){return r.map(function(i){return[i,n]})}}function w1(){var t,A,e,r,n,i,a,s,p,w,F,v,h=10,l=h,g=90,B=360,y=2.5;function Q(){return{type:"MultiLineString",coordinates:I()}}function I(){return Nr(Eh(r/g)*g,e,g).map(F).concat(Nr(Eh(s/B)*B,a,B).map(v)).concat(Nr(Eh(A/h)*h,t,h).filter(function(T){return SA(T%g)>fA}).map(p)).concat(Nr(Eh(i/l)*l,n,l).filter(function(T){return SA(T%B)>fA}).map(w))}return Q.lines=function(){return I().map(function(T){return{type:"LineString",coordinates:T}})},Q.outline=function(){return{type:"Polygon",coordinates:[F(r).concat(v(a).slice(1),F(e).reverse().slice(1),v(s).reverse().slice(1))]}},Q.extent=function(T){return arguments.length?Q.extentMajor(T).extentMinor(T):Q.extentMinor()},Q.extentMajor=function(T){return arguments.length?(s=+T[0][1],a=+T[1][1],(r=+T[0][0])>(e=+T[1][0])&&(T=r,r=e,e=T),s>a&&(T=s,s=a,a=T),Q.precision(y)):[[r,s],[e,a]]},Q.extentMinor=function(T){return arguments.length?(i=+T[0][1],n=+T[1][1],(A=+T[0][0])>(t=+T[1][0])&&(T=A,A=t,t=T),i>n&&(T=i,i=n,n=T),Q.precision(y)):[[A,i],[t,n]]},Q.step=function(T){return arguments.length?Q.stepMajor(T).stepMinor(T):Q.stepMinor()},Q.stepMajor=function(T){return arguments.length?(g=+T[0],B=+T[1],Q):[g,B]},Q.stepMinor=function(T){return arguments.length?(h=+T[0],l=+T[1],Q):[h,l]},Q.precision=function(T){return arguments.length?(y=+T,p=B1(i,n,90),w=m1(A,t,y),F=B1(s,a,90),v=m1(r,e,y),Q):y},Q.extentMajor([[-180,-90+fA],[180,90-fA]]).extentMinor([[-180,-80-fA],[180,80+fA]])}function zb(){return w1()()}function Xb(t,A){var e=t[0]*BA,r=t[1]*BA,n=A[0]*BA,i=A[1]*BA,a=lA(r),s=nA(r),h=lA(i),l=nA(i),g=a*lA(e),B=a*nA(e),p=h*lA(n),w=h*nA(n),F=2*cr(Oe(Mm(i-r)+a*h*Mm(n-e))),v=nA(F),y=F?function(Q){var I=nA(Q*=F)/v,T=nA(F-Q)/v,x=T*g+I*p,k=T*B+I*w,K=T*s+I*l;return[lr(k,x)*JA,lr(K,Oe(x*x+k*k))*JA]}:function(){return[e*JA,r*JA]};return y.distance=F,y}const Sl=t=>t;var _1,C1,vp,yp,_p=new XA,Cp=new XA,zi={point:de,lineStart:de,lineEnd:de,polygonStart:function(){zi.lineStart=$b,zi.lineEnd=Jb},polygonEnd:function(){zi.lineStart=zi.lineEnd=zi.point=de,_p.add(SA(Cp)),Cp=new XA},result:function(){var t=_p/2;return _p=new XA,t}};function $b(){zi.point=Yb}function Yb(t,A){zi.point=v1,_1=vp=t,C1=yp=A}function v1(t,A){Cp.add(yp*t-vp*A),vp=t,yp=A}function Jb(){v1(_1,C1)}const y1=zi;var ss=1/0,Zh=ss,Pl=-ss,qh=Pl;const tf={point:function Zb(t,A){t<ss&&(ss=t),t>Pl&&(Pl=t),A<Zh&&(Zh=A),A>qh&&(qh=A)},lineStart:de,lineEnd:de,polygonStart:de,polygonEnd:de,result:function(){var t=[[ss,Zh],[Pl,qh]];return Pl=qh=-(Zh=ss=1/0),t}};var b1,Q1,Wn,Gn,bp=0,Qp=0,Ll=0,Af=0,ef=0,ls=0,Fp=0,Up=0,Ol=0,Cn={point:Xa,lineStart:F1,lineEnd:U1,polygonStart:function(){Cn.lineStart=AQ,Cn.lineEnd=eQ},polygonEnd:function(){Cn.point=Xa,Cn.lineStart=F1,Cn.lineEnd=U1},result:function(){var t=Ol?[Fp/Ol,Up/Ol]:ls?[Af/ls,ef/ls]:Ll?[bp/Ll,Qp/Ll]:[NaN,NaN];return bp=Qp=Ll=Af=ef=ls=Fp=Up=Ol=0,t}};function Xa(t,A){bp+=t,Qp+=A,++Ll}function F1(){Cn.point=qb}function qb(t,A){Cn.point=tQ,Xa(Wn=t,Gn=A)}function tQ(t,A){var e=t-Wn,r=A-Gn,n=Oe(e*e+r*r);Af+=n*(Wn+t)/2,ef+=n*(Gn+A)/2,ls+=n,Xa(Wn=t,Gn=A)}function U1(){Cn.point=Xa}function AQ(){Cn.point=rQ}function eQ(){E1(b1,Q1)}function rQ(t,A){Cn.point=E1,Xa(b1=Wn=t,Q1=Gn=A)}function E1(t,A){var e=t-Wn,r=A-Gn,n=Oe(e*e+r*r);Af+=n*(Wn+t)/2,ef+=n*(Gn+A)/2,ls+=n,Fp+=(n=Gn*t-Wn*A)*(Wn+t),Up+=n*(Gn+A),Ol+=3*n,Xa(Wn=t,Gn=A)}const x1=Cn;function T1(t){this._context=t}T1.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,A){switch(this._point){case 0:this._context.moveTo(t,A),this._point=1;break;case 1:this._context.lineTo(t,A);break;default:this._context.moveTo(t+this._radius,A),this._context.arc(t,A,this._radius,0,sr)}},result:de};var xp,I1,D1,Kl,Rl,Ep=new XA,rf={point:de,lineStart:function(){rf.point=nQ},lineEnd:function(){xp&&M1(I1,D1),rf.point=de},polygonStart:function(){xp=!0},polygonEnd:function(){xp=null},result:function(){var t=+Ep;return Ep=new XA,t}};function nQ(t,A){rf.point=M1,I1=Kl=t,D1=Rl=A}function M1(t,A){Ep.add(Oe((Kl-=t)*Kl+(Rl-=A)*Rl)),Kl=t,Rl=A}const k1=rf;let H1,nf,S1,P1;class L1{constructor(A){this._append=null==A?O1:function iQ(t){const A=Math.floor(t);if(!(A>=0))throw new RangeError(`invalid digits: ${t}`);if(A>15)return O1;if(A!==H1){const e=10**A;H1=A,nf=function(n){let i=1;this._+=n[0];for(const a=n.length;i<a;++i)this._+=Math.round(arguments[i]*e)/e+n[i]}}return nf}(A),this._radius=4.5,this._=""}pointRadius(A){return this._radius=+A,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(A,e){switch(this._point){case 0:this._append`M${A},${e}`,this._point=1;break;case 1:this._append`L${A},${e}`;break;default:if(this._append`M${A},${e}`,this._radius!==S1||this._append!==nf){const r=this._radius,n=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,S1=r,nf=this._append,P1=this._,this._=n}this._+=P1}}result(){const A=this._;return this._="",A.length?A:null}}function O1(t){let A=1;this._+=t[0];for(const e=t.length;A<e;++A)this._+=arguments[A]+t[A]}function aQ(t,A){let n,i,e=3,r=4.5;function a(s){return s&&("function"==typeof r&&i.pointRadius(+r.apply(this,arguments)),wn(s,n(i))),i.result()}return a.area=function(s){return wn(s,n(y1)),y1.result()},a.measure=function(s){return wn(s,n(k1)),k1.result()},a.bounds=function(s){return wn(s,n(tf)),tf.result()},a.centroid=function(s){return wn(s,n(x1)),x1.result()},a.projection=function(s){return arguments.length?(n=null==s?(t=null,Sl):(t=s).stream,a):t},a.context=function(s){return arguments.length?(i=null==s?(A=null,new L1(e)):new T1(A=s),"function"!=typeof r&&i.pointRadius(r),a):A},a.pointRadius=function(s){return arguments.length?(r="function"==typeof s?s:(i.pointRadius(+s),+s),a):r},a.digits=function(s){if(!arguments.length)return e;if(null==s)e=null;else{const h=Math.floor(s);if(!(h>=0))throw new RangeError(`invalid digits: ${s}`);e=h}return null===A&&(i=new L1(e)),a},a.projection(t).digits(e).context(A)}function oQ(t){return{stream:Nl(t)}}function Nl(t){return function(A){var e=new Tp;for(var r in t)e[r]=t[r];return e.stream=A,e}}function Tp(){}function Ip(t,A,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),wn(e,t.stream(tf)),A(tf.result()),null!=r&&t.clipExtent(r),t}function af(t,A,e){return Ip(t,function(r){var n=A[1][0]-A[0][0],i=A[1][1]-A[0][1],a=Math.min(n/(r[1][0]-r[0][0]),i/(r[1][1]-r[0][1])),s=+A[0][0]+(n-a*(r[1][0]+r[0][0]))/2,h=+A[0][1]+(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([s,h])},e)}function Dp(t,A,e){return af(t,[[0,0],A],e)}function Mp(t,A,e){return Ip(t,function(r){var n=+A,i=n/(r[1][0]-r[0][0]),a=(n-i*(r[1][0]+r[0][0]))/2,s=-i*r[0][1];t.scale(150*i).translate([a,s])},e)}function kp(t,A,e){return Ip(t,function(r){var n=+A,i=n/(r[1][1]-r[0][1]),a=-i*r[0][0],s=(n-i*(r[1][1]+r[0][1]))/2;t.scale(150*i).translate([a,s])},e)}Tp.prototype={constructor:Tp,point:function(t,A){this.stream.point(t,A)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var K1=16,sQ=lA(30*BA);function R1(t,A){return+A?function cQ(t,A){function e(r,n,i,a,s,h,l,g,B,p,w,F,v,y){var Q=l-r,I=g-n,T=Q*Q+I*I;if(T>4*A&&v--){var x=a+p,k=s+w,K=h+F,N=Oe(x*x+k*k+K*K),Y=cr(K/=N),q=SA(SA(K)-1)<fA||SA(i-B)<fA?(i+B)/2:lr(k,x),tt=t(q,Y),J=tt[0],lt=tt[1],at=J-r,M=lt-n,O=I*at-Q*M;(O*O/T>A||SA((Q*at+I*M)/T-.5)>.3||a*p+s*w+h*F<sQ)&&(e(r,n,i,a,s,h,J,lt,q,x/=N,k/=N,K,v,y),y.point(J,lt),e(J,lt,q,x,k,K,l,g,B,p,w,F,v,y))}}return function(r){var n,i,a,s,h,l,g,B,p,w,F,v,y={point:Q,lineStart:I,lineEnd:x,polygonStart:function(){r.polygonStart(),y.lineStart=k},polygonEnd:function(){r.polygonEnd(),y.lineStart=I}};function Q(Y,q){Y=t(Y,q),r.point(Y[0],Y[1])}function I(){B=NaN,y.point=T,r.lineStart()}function T(Y,q){var tt=Ga([Y,q]),J=t(Y,q);e(B,p,g,w,F,v,B=J[0],p=J[1],g=Y,w=tt[0],F=tt[1],v=tt[2],K1,r),r.point(B,p)}function x(){y.point=Q,r.lineEnd()}function k(){I(),y.point=K,y.lineEnd=N}function K(Y,q){T(n=Y,q),i=B,a=p,s=w,h=F,l=v,y.point=T}function N(){e(B,p,g,w,F,v,i,a,n,s,h,l,K1,r),y.lineEnd=x,x()}return y}}(t,A):function lQ(t){return Nl({point:function(A,e){A=t(A,e),this.stream.point(A[0],A[1])}})}(t)}var uQ=Nl({point:function(t,A){this.stream.point(t*BA,A*BA)}});function N1(t,A,e,r,n,i){if(!i)return function fQ(t,A,e,r,n){function i(a,s){return[A+t*(a*=r),e-t*(s*=n)]}return i.invert=function(a,s){return[(a-A)/t*r,(e-s)/t*n]},i}(t,A,e,r,n);var a=lA(i),s=nA(i),h=a*t,l=s*t,g=a/t,B=s/t,p=(s*e-a*A)/t,w=(s*A+a*e)/t;function F(v,y){return[h*(v*=r)-l*(y*=n)+A,e-l*v-h*y]}return F.invert=function(v,y){return[r*(g*v-B*y+p),n*(w-B*v-g*y)]},F}function zn(t){return Hp(function(){return t})()}function Hp(t){var A,g,Q,I,T,K,N,Y,q,tt,e=150,r=480,n=250,i=0,a=0,s=0,h=0,l=0,B=0,p=1,w=1,F=null,v=pp,y=null,x=Sl,k=.5;function J(O){return Y(O[0]*BA,O[1]*BA)}function lt(O){return(O=Y.invert(O[0],O[1]))&&[O[0]*JA,O[1]*JA]}function at(){var O=N1(e,0,0,p,w,B).apply(null,A(i,a)),R=N1(e,r-O[0],n-O[1],p,w,B);return g=dp(s,h,l),N=hp(A,R),Y=hp(g,N),K=R1(N,k),M()}function M(){return q=tt=null,J}return J.stream=function(O){return q&&tt===O?q:q=uQ(function hQ(t){return Nl({point:function(A,e){var r=t(A,e);return this.stream.point(r[0],r[1])}})}(g)(v(K(x(tt=O)))))},J.preclip=function(O){return arguments.length?(v=O,F=void 0,M()):v},J.postclip=function(O){return arguments.length?(x=O,y=Q=I=T=null,M()):x},J.clipAngle=function(O){return arguments.length?(v=+O?l1(F=O*BA):(F=null,pp),M()):F*JA},J.clipExtent=function(O){return arguments.length?(x=null==O?(y=Q=I=T=null,Sl):Xh(y=+O[0][0],Q=+O[0][1],I=+O[1][0],T=+O[1][1]),M()):null==y?null:[[y,Q],[I,T]]},J.scale=function(O){return arguments.length?(e=+O,at()):e},J.translate=function(O){return arguments.length?(r=+O[0],n=+O[1],at()):[r,n]},J.center=function(O){return arguments.length?(i=O[0]%360*BA,a=O[1]%360*BA,at()):[i*JA,a*JA]},J.rotate=function(O){return arguments.length?(s=O[0]%360*BA,h=O[1]%360*BA,l=O.length>2?O[2]%360*BA:0,at()):[s*JA,h*JA,l*JA]},J.angle=function(O){return arguments.length?(B=O%360*BA,at()):B*JA},J.reflectX=function(O){return arguments.length?(p=O?-1:1,at()):p<0},J.reflectY=function(O){return arguments.length?(w=O?-1:1,at()):w<0},J.precision=function(O){return arguments.length?(K=R1(N,k=O*O),M()):Oe(k)},J.fitExtent=function(O,R){return af(J,O,R)},J.fitSize=function(O,R){return Dp(J,O,R)},J.fitWidth=function(O,R){return Mp(J,O,R)},J.fitHeight=function(O,R){return kp(J,O,R)},function(){return A=t.apply(this,arguments),J.invert=A.invert&&lt,at()}}function Sp(t){var A=0,e=DA/3,r=Hp(t),n=r(A,e);return n.parallels=function(i){return arguments.length?r(A=i[0]*BA,e=i[1]*BA):[A*JA,e*JA]},n}function V1(t,A){var e=nA(t),r=(e+nA(A))/2;if(SA(r)<fA)return function dQ(t){var A=lA(t);function e(r,n){return[r*A,nA(n)/A]}return e.invert=function(r,n){return[r/A,cr(n*A)]},e}(t);var n=1+e*(2*r-e),i=Oe(n)/r;function a(s,h){var l=Oe(n-2*r*nA(h))/r;return[l*nA(s*=r),i-l*lA(s)]}return a.invert=function(s,h){var l=i-h,g=lr(s,SA(l))*Zr(l);return l*r<0&&(g-=DA*Zr(s)*Zr(l)),[g/r,cr((n-(s*s+l*l)*r*r)/(2*r))]},a}function of(){return Sp(V1).scale(155.424).center([0,33.6442])}function W1(){return of().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function pQ(){var t,A,r,i,s,h,e=W1(),n=of().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=of().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(p,w){h=[p,w]}};function g(p){var w=p[0],F=p[1];return h=null,r.point(w,F),h||(i.point(w,F),h)||(s.point(w,F),h)}function B(){return t=A=null,g}return g.invert=function(p){var w=e.scale(),F=e.translate(),v=(p[0]-F[0])/w,y=(p[1]-F[1])/w;return(y>=.12&&y<.234&&v>=-.425&&v<-.214?n:y>=.166&&y<.234&&v>=-.214&&v<-.115?a:e).invert(p)},g.stream=function(p){return t&&A===p?t:t=function gQ(t){var A=t.length;return{point:function(e,r){for(var n=-1;++n<A;)t[n].point(e,r)},sphere:function(){for(var e=-1;++e<A;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<A;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<A;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<A;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<A;)t[e].polygonEnd()}}}([e.stream(A=p),n.stream(p),a.stream(p)])},g.precision=function(p){return arguments.length?(e.precision(p),n.precision(p),a.precision(p),B()):e.precision()},g.scale=function(p){return arguments.length?(e.scale(p),n.scale(.35*p),a.scale(p),g.translate(e.translate())):e.scale()},g.translate=function(p){if(!arguments.length)return e.translate();var w=e.scale(),F=+p[0],v=+p[1];return r=e.translate(p).clipExtent([[F-.455*w,v-.238*w],[F+.455*w,v+.238*w]]).stream(l),i=n.translate([F-.307*w,v+.201*w]).clipExtent([[F-.425*w+fA,v+.12*w+fA],[F-.214*w-fA,v+.234*w-fA]]).stream(l),s=a.translate([F-.205*w,v+.212*w]).clipExtent([[F-.214*w+fA,v+.166*w+fA],[F-.115*w-fA,v+.234*w-fA]]).stream(l),B()},g.fitExtent=function(p,w){return af(g,p,w)},g.fitSize=function(p,w){return Dp(g,p,w)},g.fitWidth=function(p,w){return Mp(g,p,w)},g.fitHeight=function(p,w){return kp(g,p,w)},g.scale(1070)}function G1(t){return function(A,e){var r=lA(A),n=lA(e),i=t(r*n);return i===1/0?[2,0]:[i*n*nA(A),i*nA(e)]}}function Vl(t){return function(A,e){var r=Oe(A*A+e*e),n=t(r),i=nA(n),a=lA(n);return[lr(A*i,r*a),cr(r&&e*i/r)]}}var Pp=G1(function(t){return Oe(2/(1+t))});function BQ(){return zn(Pp).scale(124.75).clipAngle(179.999)}Pp.invert=Vl(function(t){return 2*cr(t/2)});var Lp=G1(function(t){return(t=Dm(t))&&t/nA(t)});function mQ(){return zn(Lp).scale(79.4188).clipAngle(179.999)}function Wl(t,A){return[t,xh(Ap((Ce+A)/2))]}function wQ(){return z1(Wl).scale(961/sr)}function z1(t){var s,h,l,A=zn(t),e=A.center,r=A.scale,n=A.translate,i=A.clipExtent,a=null;function g(){var B=DA*r(),p=A(A1(A.rotate()).invert([0,0]));return i(null==a?[[p[0]-B,p[1]-B],[p[0]+B,p[1]+B]]:t===Wl?[[Math.max(p[0]-B,a),s],[Math.min(p[0]+B,h),l]]:[[a,Math.max(p[1]-B,s)],[h,Math.min(p[1]+B,l)]])}return A.scale=function(B){return arguments.length?(r(B),g()):r()},A.translate=function(B){return arguments.length?(n(B),g()):n()},A.center=function(B){return arguments.length?(e(B),g()):e()},A.clipExtent=function(B){return arguments.length?(null==B?a=s=h=l=null:(a=+B[0][0],s=+B[0][1],h=+B[1][0],l=+B[1][1]),g()):null==a?null:[[a,s],[h,l]]},g()}function sf(t){return Ap((Ce+t)/2)}function X1(t,A){var e=lA(t),r=t===A?nA(t):xh(e/lA(A))/xh(sf(A)/sf(t)),n=e*tp(sf(t),r)/r;if(!r)return Wl;function i(a,s){n>0?s<-Ce+fA&&(s=-Ce+fA):s>Ce-fA&&(s=Ce-fA);var h=n/tp(sf(s),r);return[h*nA(r*a),n-h*lA(r*a)]}return i.invert=function(a,s){var h=n-s,l=Zr(r)*Oe(a*a+h*h),g=lr(a,SA(h))*Zr(h);return h*r<0&&(g-=DA*Zr(a)*Zr(h)),[g/r,2*rs(tp(n/l,1/r))-Ce]},i}function _Q(){return Sp(X1).scale(109.5).parallels([30,30])}function Gl(t,A){return[t,A]}function CQ(){return zn(Gl).scale(152.63)}function $1(t,A){var e=lA(t),r=t===A?nA(t):(e-lA(A))/(A-t),n=e/r+t;if(SA(r)<fA)return Gl;function i(a,s){var h=n-s,l=r*a;return[h*nA(l),n-h*lA(l)]}return i.invert=function(a,s){var h=n-s,l=lr(a,SA(h))*Zr(h);return h*r<0&&(l-=DA*Zr(a)*Zr(h)),[l/r,n-Zr(r)*Oe(a*a+h*h)]},i}function vQ(){return Sp($1).scale(131.154).center([0,13.9389])}Lp.invert=Vl(function(t){return t}),Wl.invert=function(t,A){return[t,2*rs(Im(A))-Ce]},Gl.invert=Gl;var zl=1.340264,Xl=-.081106,$l=893e-6,Yl=.003796,lf=Oe(3)/2;function Op(t,A){var e=cr(lf*nA(A)),r=e*e,n=r*r*r;return[t*lA(e)/(lf*(zl+3*Xl*r+n*(7*$l+9*Yl*r))),e*(zl+Xl*r+n*($l+Yl*r))]}function bQ(){return zn(Op).scale(177.158)}function Kp(t,A){var e=lA(A),r=lA(t)*e;return[e*nA(t)/r,nA(A)/r]}function QQ(){return zn(Kp).scale(144.049).clipAngle(60)}function FQ(){var a,s,l,g,B,y,Q,t=1,A=0,e=0,r=1,n=1,i=0,h=null,p=1,w=1,F=Nl({point:function(x,k){var K=T([x,k]);this.stream.point(K[0],K[1])}}),v=Sl;function I(){return p=t*r,w=t*n,y=Q=null,T}function T(x){var k=x[0]*p,K=x[1]*w;if(i){var N=K*a-k*s;k=k*a+K*s,K=N}return[k+A,K+e]}return T.invert=function(x){var k=x[0]-A,K=x[1]-e;if(i){var N=K*a+k*s;k=k*a-K*s,K=N}return[k/p,K/w]},T.stream=function(x){return y&&Q===x?y:y=F(v(Q=x))},T.postclip=function(x){return arguments.length?(v=x,h=l=g=B=null,I()):v},T.clipExtent=function(x){return arguments.length?(v=null==x?(h=l=g=B=null,Sl):Xh(h=+x[0][0],l=+x[0][1],g=+x[1][0],B=+x[1][1]),I()):null==h?null:[[h,l],[g,B]]},T.scale=function(x){return arguments.length?(t=+x,I()):t},T.translate=function(x){return arguments.length?(A=+x[0],e=+x[1],I()):[A,e]},T.angle=function(x){return arguments.length?(s=nA(i=x%360*BA),a=lA(i),I()):i*JA},T.reflectX=function(x){return arguments.length?(r=x?-1:1,I()):r<0},T.reflectY=function(x){return arguments.length?(n=x?-1:1,I()):n<0},T.fitExtent=function(x,k){return af(T,x,k)},T.fitSize=function(x,k){return Dp(T,x,k)},T.fitWidth=function(x,k){return Mp(T,x,k)},T.fitHeight=function(x,k){return kp(T,x,k)},T}function Rp(t,A){var e=A*A,r=e*e;return[t*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),A*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}function UQ(){return zn(Rp).scale(175.295)}function Np(t,A){return[lA(A)*nA(t),nA(A)]}function EQ(){return zn(Np).scale(249.5).clipAngle(90+fA)}function Vp(t,A){var e=lA(A),r=1+lA(t)*e;return[e*nA(t)/r,nA(A)/r]}function xQ(){return zn(Vp).scale(250).clipAngle(142)}function Wp(t,A){return[xh(Ap((Ce+A)/2)),-t]}function TQ(){var t=z1(Wp),A=t.center,e=t.rotate;return t.center=function(r){return arguments.length?A([-r[1],r[0]]):[(r=A())[1],-r[0]]},t.rotate=function(r){return arguments.length?e([r[0],r[1],r.length>2?r[2]+90:90]):[(r=e())[0],r[1],r[2]-90]},e([0,0,90]).scale(159.155)}function IQ(t,A){return t.parent===A.parent?1:2}function MQ(t,A){return t+A.x}function HQ(t,A){return Math.max(t,A.y)}function LQ(){var t=IQ,A=1,e=1,r=!1;function n(i){var a,s=0;i.eachAfter(function(p){var w=p.children;w?(p.x=function DQ(t){return t.reduce(MQ,0)/t.length}(w),p.y=function kQ(t){return 1+t.reduce(HQ,0)}(w)):(p.x=a?s+=t(p,a):0,p.y=0,a=p)});var h=function SQ(t){for(var A;A=t.children;)t=A[0];return t}(i),l=function PQ(t){for(var A;A=t.children;)t=A[A.length-1];return t}(i),g=h.x-t(h,l)/2,B=l.x+t(l,h)/2;return i.eachAfter(r?function(p){p.x=(p.x-i.x)*A,p.y=(i.y-p.y)*e}:function(p){p.x=(p.x-g)/(B-g)*A,p.y=(1-(i.y?p.y/i.y:1))*e})}return n.separation=function(i){return arguments.length?(t=i,n):t},n.size=function(i){return arguments.length?(r=!1,A=+i[0],e=+i[1],n):r?null:[A,e]},n.nodeSize=function(i){return arguments.length?(r=!0,A=+i[0],e=+i[1],n):r?[A,e]:null},n}function OQ(t){var A=0,e=t.children,r=e&&e.length;if(r)for(;--r>=0;)A+=e[r].value;else A=1;t.value=A}function Gp(t,A){t instanceof Map?(t=[void 0,t],void 0===A&&(A=eF)):void 0===A&&(A=AF);for(var r,i,a,s,h,e=new $a(t),n=[e];r=n.pop();)if((a=A(r.data))&&(h=(a=Array.from(a)).length))for(r.children=a,s=h-1;s>=0;--s)n.push(i=a[s]=new $a(a[s])),i.parent=r,i.depth=r.depth+1;return e.eachBefore(Y1)}function AF(t){return t.children}function eF(t){return Array.isArray(t)?t[1]:null}function rF(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function Y1(t){var A=0;do{t.height=A}while((t=t.parent)&&t.height<++A)}function $a(t){this.data=t,this.depth=this.height=0,this.parent=null}function cf(t){return null==t?null:J1(t)}function J1(t){if("function"!=typeof t)throw new Error;return t}function Ya(){return 0}function cs(t){return function(){return t}}Op.invert=function(t,A){for(var a,e=A,r=e*e,n=r*r*r,i=0;i<12&&(n=(r=(e-=a=(e*(zl+Xl*r+n*($l+Yl*r))-A)/(zl+3*Xl*r+n*(7*$l+9*Yl*r)))*e)*r*r,!(SA(a)<Il));++i);return[lf*t*(zl+3*Xl*r+n*(7*$l+9*Yl*r))/lA(e),cr(nA(e)/lf)]},Kp.invert=Vl(rs),Rp.invert=function(t,A){var n,e=A,r=25;do{var i=e*e,a=i*i;e-=n=(e*(1.007226+i*(.015085+a*(.028874*i-.044475-.005916*a)))-A)/(1.007226+i*(.045255+a*(.259866*i-.311325-.005916*11*a)))}while(SA(n)>fA&&--r>0);return[t/(.8707+(i=e*e)*(i*(i*i*i*(.003971-.001529*i)-.013791)-.131979)),e]},Np.invert=Vl(cr),Vp.invert=Vl(function(t){return 2*rs(t)}),Wp.invert=function(t,A){return[-A,2*rs(Im(t))-Ce]},$a.prototype=Gp.prototype={constructor:$a,count:function KQ(){return this.eachAfter(OQ)},each:function RQ(t,A){let e=-1;for(const r of this)t.call(A,r,++e,this);return this},eachAfter:function VQ(t,A){for(var i,a,s,e=this,r=[e],n=[],h=-1;e=r.pop();)if(n.push(e),i=e.children)for(a=0,s=i.length;a<s;++a)r.push(i[a]);for(;e=n.pop();)t.call(A,e,++h,this);return this},eachBefore:function NQ(t,A){for(var n,i,e=this,r=[e],a=-1;e=r.pop();)if(t.call(A,e,++a,this),n=e.children)for(i=n.length-1;i>=0;--i)r.push(n[i]);return this},find:function WQ(t,A){let e=-1;for(const r of this)if(t.call(A,r,++e,this))return r},sum:function GQ(t){return this.eachAfter(function(A){for(var e=+t(A.data)||0,r=A.children,n=r&&r.length;--n>=0;)e+=r[n].value;A.value=e})},sort:function zQ(t){return this.eachBefore(function(A){A.children&&A.children.sort(t)})},path:function XQ(t){for(var A=this,e=function $Q(t,A){if(t===A)return t;var e=t.ancestors(),r=A.ancestors(),n=null;for(t=e.pop(),A=r.pop();t===A;)n=t,t=e.pop(),A=r.pop();return n}(A,t),r=[A];A!==e;)r.push(A=A.parent);for(var n=r.length;t!==e;)r.splice(n,0,t),t=t.parent;return r},ancestors:function YQ(){for(var t=this,A=[t];t=t.parent;)A.push(t);return A},descendants:function JQ(){return Array.from(this)},leaves:function jQ(){var t=[];return this.eachBefore(function(A){A.children||t.push(A)}),t},links:function ZQ(){var t=this,A=[];return t.each(function(e){e!==t&&A.push({source:e.parent,target:e})}),A},copy:function tF(){return Gp(this).eachBefore(rF)},[Symbol.iterator]:function*qQ(){var A,r,n,i,t=this,e=[t];do{for(A=e.reverse(),e=[];t=A.pop();)if(yield t,r=t.children)for(n=0,i=r.length;n<i;++n)e.push(r[n])}while(e.length)}};const nF=1664525,iF=1013904223,j1=4294967296;function zp(){let t=1;return()=>(t=(nF*t+iF)%j1)/j1}function sF(t){return Z1(t,zp())}function Z1(t,A){for(var i,a,e=0,r=(t=function oF(t,A){let r,n,e=t.length;for(;e;)n=A()*e--|0,r=t[e],t[e]=t[n],t[n]=r;return t}(Array.from(t),A)).length,n=[];e<r;)i=t[e],a&&q1(a,i)?++e:(a=cF(n=lF(n,i)),e=0);return a}function lF(t,A){var e,r;if(Xp(A,t))return[A];for(e=0;e<t.length;++e)if(uf(A,t[e])&&Xp(Jl(t[e],A),t))return[t[e],A];for(e=0;e<t.length-1;++e)for(r=e+1;r<t.length;++r)if(uf(Jl(t[e],t[r]),A)&&uf(Jl(t[e],A),t[r])&&uf(Jl(t[r],A),t[e])&&Xp(tw(t[e],t[r],A),t))return[t[e],t[r],A];throw new Error}function uf(t,A){var e=t.r-A.r,r=A.x-t.x,n=A.y-t.y;return e<0||e*e<r*r+n*n}function q1(t,A){var e=t.r-A.r+1e-9*Math.max(t.r,A.r,1),r=A.x-t.x,n=A.y-t.y;return e>0&&e*e>r*r+n*n}function Xp(t,A){for(var e=0;e<A.length;++e)if(!q1(t,A[e]))return!1;return!0}function cF(t){switch(t.length){case 1:return function uF(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return Jl(t[0],t[1]);case 3:return tw(t[0],t[1],t[2])}}function Jl(t,A){var e=t.x,r=t.y,n=t.r,i=A.x,a=A.y,s=A.r,h=i-e,l=a-r,g=s-n,B=Math.sqrt(h*h+l*l);return{x:(e+i+h/B*g)/2,y:(r+a+l/B*g)/2,r:(B+n+s)/2}}function tw(t,A,e){var r=t.x,n=t.y,i=t.r,a=A.x,s=A.y,h=A.r,l=e.x,g=e.y,B=e.r,p=r-a,w=r-l,F=n-s,v=n-g,y=h-i,Q=B-i,I=r*r+n*n-i*i,T=I-a*a-s*s+h*h,x=I-l*l-g*g+B*B,k=w*F-p*v,K=(F*x-v*T)/(2*k)-r,N=(v*y-F*Q)/k,Y=(w*T-p*x)/(2*k)-n,q=(p*Q-w*y)/k,tt=N*N+q*q-1,J=2*(i+K*N+Y*q),lt=K*K+Y*Y-i*i,at=-(Math.abs(tt)>1e-6?(J+Math.sqrt(J*J-4*tt*lt))/(2*tt):lt/J);return{x:r+K+N*at,y:n+Y+q*at,r:at}}function Aw(t,A,e){var n,i,s,h,r=t.x-A.x,a=t.y-A.y,l=r*r+a*a;l?(i=A.r+e.r,h=t.r+e.r,(i*=i)>(h*=h)?(n=(l+h-i)/(2*l),s=Math.sqrt(Math.max(0,h/l-n*n)),e.x=t.x-n*r-s*a,e.y=t.y-n*a+s*r):(n=(l+i-h)/(2*l),s=Math.sqrt(Math.max(0,i/l-n*n)),e.x=A.x+n*r-s*a,e.y=A.y+n*a+s*r)):(e.x=A.x+e.r,e.y=A.y)}function ew(t,A){var e=t.r+A.r-1e-6,r=A.x-t.x,n=A.y-t.y;return e>0&&e*e>r*r+n*n}function rw(t){var A=t._,e=t.next._,r=A.r+e.r,n=(A.x*e.r+e.x*A.r)/r,i=(A.y*e.r+e.y*A.r)/r;return n*n+i*i}function hf(t){this._=t,this.next=null,this.previous=null}function nw(t,A){if(!(i=(t=function aF(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(t)).length))return 0;var e,r,n,i,a,s,h,l,g,B,p;if((e=t[0]).x=0,e.y=0,!(i>1))return e.r;if(e.x=-(r=t[1]).r,r.x=e.r,r.y=0,!(i>2))return e.r+r.r;Aw(r,e,n=t[2]),e=new hf(e),r=new hf(r),n=new hf(n),e.next=n.previous=r,r.next=e.previous=n,n.next=r.previous=e;t:for(h=3;h<i;++h){Aw(e._,r._,n=t[h]),n=new hf(n),l=r.next,g=e.previous,B=r._.r,p=e._.r;do{if(B<=p){if(ew(l._,n._)){e.next=r=l,r.previous=e,--h;continue t}B+=l._.r,l=l.next}else{if(ew(g._,n._)){(e=g).next=r,r.previous=e,--h;continue t}p+=g._.r,g=g.previous}}while(l!==g.next);for(n.previous=e,n.next=r,e.next=r.previous=r=n,a=rw(e);(n=n.next)!==r;)(s=rw(n))<a&&(e=n,a=s);r=e.next}for(e=[r._],n=r;(n=n.next)!==r;)e.push(n._);for(n=Z1(e,A),h=0;h<i;++h)(e=t[h]).x-=n.x,e.y-=n.y;return n.r}function hF(t){return nw(t,zp()),t}function fF(t){return Math.sqrt(t.value)}function dF(){var t=null,A=1,e=1,r=Ya;function n(i){const a=zp();return i.x=A/2,i.y=e/2,t?i.eachBefore(iw(t)).eachAfter($p(r,.5,a)).eachBefore(aw(1)):i.eachBefore(iw(fF)).eachAfter($p(Ya,1,a)).eachAfter($p(r,i.r/Math.min(A,e),a)).eachBefore(aw(Math.min(A,e)/(2*i.r))),i}return n.radius=function(i){return arguments.length?(t=cf(i),n):t},n.size=function(i){return arguments.length?(A=+i[0],e=+i[1],n):[A,e]},n.padding=function(i){return arguments.length?(r="function"==typeof i?i:cs(+i),n):r},n}function iw(t){return function(A){A.children||(A.r=Math.max(0,+t(A)||0))}}function $p(t,A,e){return function(r){if(n=r.children){var n,i,h,a=n.length,s=t(r)*A||0;if(s)for(i=0;i<a;++i)n[i].r+=s;if(h=nw(n,e),s)for(i=0;i<a;++i)n[i].r-=s;r.r=h+s}}}function aw(t){return function(A){var e=A.parent;A.r*=t,e&&(A.x=e.x+t*A.x,A.y=e.y+t*A.y)}}function ow(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function jl(t,A,e,r,n){for(var a,i=t.children,s=-1,h=i.length,l=t.value&&(r-A)/t.value;++s<h;)(a=i[s]).y0=e,a.y1=n,a.x0=A,a.x1=A+=a.value*l}function gF(){var t=1,A=1,e=0,r=!1;function n(a){var s=a.height+1;return a.x0=a.y0=e,a.x1=t,a.y1=A/s,a.eachBefore(function i(a,s){return function(h){h.children&&jl(h,h.x0,a*(h.depth+1)/s,h.x1,a*(h.depth+2)/s);var l=h.x0,g=h.y0,B=h.x1-e,p=h.y1-e;B<l&&(l=B=(l+B)/2),p<g&&(g=p=(g+p)/2),h.x0=l,h.y0=g,h.x1=B,h.y1=p}}(A,s)),r&&a.eachBefore(ow),a}return n.round=function(a){return arguments.length?(r=!!a,n):r},n.size=function(a){return arguments.length?(t=+a[0],A=+a[1],n):[t,A]},n.padding=function(a){return arguments.length?(e=+a,n):e},n}var pF={depth:-1},sw={},Yp={};function BF(t){return t.id}function mF(t){return t.parentId}function wF(){var e,t=BF,A=mF;function r(n){var h,l,g,B,p,w,F,v,i=Array.from(n),a=t,s=A,y=new Map;if(null!=e){const Q=i.map((x,k)=>function _F(t){let A=(t=`${t}`).length;return Jp(t,A-1)&&!Jp(t,A-2)&&(t=t.slice(0,-1)),"/"===t[0]?t:`/${t}`}(e(x,k,n))),I=Q.map(lw),T=new Set(Q).add("");for(const x of I)T.has(x)||(T.add(x),Q.push(x),I.push(lw(x)),i.push(Yp));a=(x,k)=>Q[k],s=(x,k)=>I[k]}for(g=0,h=i.length;g<h;++g)w=i[g]=new $a(l=i[g]),null!=(F=a(l,g,n))&&(F+="")&&(v=w.id=F,y.set(v,y.has(v)?sw:w)),null!=(F=s(l,g,n))&&(F+="")&&(w.parent=F);for(g=0;g<h;++g)if(F=(w=i[g]).parent){if(!(p=y.get(F)))throw new Error("missing: "+F);if(p===sw)throw new Error("ambiguous: "+F);p.children?p.children.push(w):p.children=[w],w.parent=p}else{if(B)throw new Error("multiple roots");B=w}if(!B)throw new Error("no root");if(null!=e){for(;B.data===Yp&&1===B.children.length;)B=B.children[0],--h;for(let Q=i.length-1;Q>=0&&(w=i[Q]).data===Yp;--Q)w.data=null}if(B.parent=pF,B.eachBefore(function(Q){Q.depth=Q.parent.depth+1,--h}).eachBefore(Y1),B.parent=null,h>0)throw new Error("cycle");return B}return r.id=function(n){return arguments.length?(t=cf(n),r):t},r.parentId=function(n){return arguments.length?(A=cf(n),r):A},r.path=function(n){return arguments.length?(e=cf(n),r):e},r}function lw(t){let A=t.length;if(A<2)return"";for(;--A>1&&!Jp(t,A););return t.slice(0,A)}function Jp(t,A){if("/"===t[A]){let e=0;for(;A>0&&"\\"===t[--A];)++e;if(!(1&e))return!0}return!1}function CF(t,A){return t.parent===A.parent?1:2}function jp(t){var A=t.children;return A?A[0]:t.t}function Zp(t){var A=t.children;return A?A[A.length-1]:t.t}function vF(t,A,e){var r=e/(A.i-t.i);A.c-=r,A.s+=e,t.c+=r,A.z+=e,A.m+=e}function bF(t,A,e){return t.a.parent===A.parent?t.a:e}function ff(t,A){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=A}function FF(){var t=CF,A=1,e=1,r=null;function n(l){var g=function QF(t){for(var e,n,i,a,s,A=new ff(t,0),r=[A];e=r.pop();)if(i=e._.children)for(e.children=new Array(s=i.length),a=s-1;a>=0;--a)r.push(n=e.children[a]=new ff(i[a],a)),n.parent=e;return(A.parent=new ff(null,0)).children=[A],A}(l);if(g.eachAfter(i),g.parent.m=-g.z,g.eachBefore(a),r)l.eachBefore(h);else{var B=l,p=l,w=l;l.eachBefore(function(I){I.x<B.x&&(B=I),I.x>p.x&&(p=I),I.depth>w.depth&&(w=I)});var F=B===p?1:t(B,p)/2,v=F-B.x,y=A/(p.x+F+v),Q=e/(w.depth||1);l.eachBefore(function(I){I.x=(I.x+v)*y,I.y=I.depth*Q})}return l}function i(l){var g=l.children,B=l.parent.children,p=l.i?B[l.i-1]:null;if(g){!function yF(t){for(var i,A=0,e=0,r=t.children,n=r.length;--n>=0;)(i=r[n]).z+=A,i.m+=A,A+=i.s+(e+=i.c)}(l);var w=(g[0].z+g[g.length-1].z)/2;p?(l.z=p.z+t(l._,p._),l.m=l.z-w):l.z=w}else p&&(l.z=p.z+t(l._,p._));l.parent.A=function s(l,g,B){if(g){for(var x,p=l,w=l,F=g,v=p.parent.children[0],y=p.m,Q=w.m,I=F.m,T=v.m;F=Zp(F),p=jp(p),F&&p;)v=jp(v),(w=Zp(w)).a=l,(x=F.z+I-p.z-y+t(F._,p._))>0&&(vF(bF(F,l,B),l,x),y+=x,Q+=x),I+=F.m,y+=p.m,T+=v.m,Q+=w.m;F&&!Zp(w)&&(w.t=F,w.m+=I-Q),p&&!jp(v)&&(v.t=p,v.m+=y-T,B=l)}return B}(l,p,l.parent.A||B[0])}function a(l){l._.x=l.z+l.parent.m,l.m+=l.parent.m}function h(l){l.x*=A,l.y=l.depth*e}return n.separation=function(l){return arguments.length?(t=l,n):t},n.size=function(l){return arguments.length?(r=!1,A=+l[0],e=+l[1],n):r?null:[A,e]},n.nodeSize=function(l){return arguments.length?(r=!0,A=+l[0],e=+l[1],n):r?[A,e]:null},n}function df(t,A,e,r,n){for(var a,i=t.children,s=-1,h=i.length,l=t.value&&(n-e)/t.value;++s<h;)(a=i[s]).x0=A,a.x1=r,a.y0=e,a.y1=e+=a.value*l}ff.prototype=Object.create($a.prototype);var cw=(1+Math.sqrt(5))/2;function uw(t,A,e,r,n,i){for(var h,l,w,F,y,Q,I,T,x,k,K,a=[],s=A.children,g=0,B=0,p=s.length,v=A.value;g<p;){w=n-e,F=i-r;do{y=s[B++].value}while(!y&&B<p);for(Q=I=y,K=y*y*(k=Math.max(F/w,w/F)/(v*t)),x=Math.max(I/K,K/Q);B<p;++B){if(y+=l=s[B].value,l<Q&&(Q=l),l>I&&(I=l),K=y*y*k,(T=Math.max(I/K,K/Q))>x){y-=l;break}x=T}a.push(h={value:y,dice:w<F,children:s.slice(g,B)}),h.dice?jl(h,e,r,n,v?r+=F*y/v:i):df(h,e,r,v?e+=w*y/v:n,i),v-=y,g=B}return a}const hw=function t(A){function e(r,n,i,a,s){uw(A,r,n,i,a,s)}return e.ratio=function(r){return t((r=+r)>1?r:1)},e}(cw);function UF(){var t=hw,A=!1,e=1,r=1,n=[0],i=Ya,a=Ya,s=Ya,h=Ya,l=Ya;function g(p){return p.x0=p.y0=0,p.x1=e,p.y1=r,p.eachBefore(B),n=[0],A&&p.eachBefore(ow),p}function B(p){var w=n[p.depth],F=p.x0+w,v=p.y0+w,y=p.x1-w,Q=p.y1-w;y<F&&(F=y=(F+y)/2),Q<v&&(v=Q=(v+Q)/2),p.x0=F,p.y0=v,p.x1=y,p.y1=Q,p.children&&(w=n[p.depth+1]=i(p)/2,F+=l(p)-w,v+=a(p)-w,(y-=s(p)-w)<F&&(F=y=(F+y)/2),(Q-=h(p)-w)<v&&(v=Q=(v+Q)/2),t(p,F,v,y,Q))}return g.round=function(p){return arguments.length?(A=!!p,g):A},g.size=function(p){return arguments.length?(e=+p[0],r=+p[1],g):[e,r]},g.tile=function(p){return arguments.length?(t=J1(p),g):t},g.padding=function(p){return arguments.length?g.paddingInner(p).paddingOuter(p):g.paddingInner()},g.paddingInner=function(p){return arguments.length?(i="function"==typeof p?p:cs(+p),g):i},g.paddingOuter=function(p){return arguments.length?g.paddingTop(p).paddingRight(p).paddingBottom(p).paddingLeft(p):g.paddingTop()},g.paddingTop=function(p){return arguments.length?(a="function"==typeof p?p:cs(+p),g):a},g.paddingRight=function(p){return arguments.length?(s="function"==typeof p?p:cs(+p),g):s},g.paddingBottom=function(p){return arguments.length?(h="function"==typeof p?p:cs(+p),g):h},g.paddingLeft=function(p){return arguments.length?(l="function"==typeof p?p:cs(+p),g):l},g}function EF(t,A,e,r,n){var a,h,i=t.children,s=i.length,l=new Array(s+1);for(l[0]=h=a=0;a<s;++a)l[a+1]=h+=i[a].value;!function g(B,p,w,F,v,y,Q){if(B>=p-1){var I=i[B];return I.x0=F,I.y0=v,I.x1=y,void(I.y1=Q)}for(var T=l[B],x=w/2+T,k=B+1,K=p-1;k<K;){var N=k+K>>>1;l[N]<x?k=N+1:K=N}x-l[k-1]<l[k]-x&&B+1<k&&--k;var Y=l[k]-T,q=w-Y;if(y-F>Q-v){var tt=w?(F*q+y*Y)/w:y;g(B,k,Y,F,v,tt,Q),g(k,p,q,tt,v,y,Q)}else{var J=w?(v*q+Q*Y)/w:Q;g(B,k,Y,F,v,y,J),g(k,p,q,F,J,y,Q)}}(0,s,t.value,A,e,r,n)}function xF(t,A,e,r,n){(1&t.depth?df:jl)(t,A,e,r,n)}const TF=function t(A){function e(r,n,i,a,s){if((h=r._squarify)&&h.ratio===A)for(var h,l,g,B,w,p=-1,F=h.length,v=r.value;++p<F;){for(g=(l=h[p]).children,B=l.value=0,w=g.length;B<w;++B)l.value+=g[B].value;l.dice?jl(l,n,i,a,v?i+=(s-i)*l.value/v:s):df(l,n,i,v?n+=(a-n)*l.value/v:a,s),v-=l.value}else r._squarify=h=uw(A,r,n,i,a,s),h.ratio=A}return e.ratio=function(r){return t((r=+r)>1?r:1)},e}(cw);function IF(t){var A=t.length;return function(e){return t[Math.max(0,Math.min(A-1,Math.floor(e*A)))]}}function DF(t,A){var e=bo(+t,+A);return function(r){var n=e(r);return n-360*Math.floor(n/360)}}function gf(t,A){return t=+t,A=+A,function(e){return Math.round(t*(1-e)+A*e)}}function fw(t){return((t=Math.exp(t))+1/t)/2}const dw=function t(A,e,r){function n(i,a){var y,Q,s=i[0],h=i[1],l=i[2],p=a[2],w=a[0]-s,F=a[1]-h,v=w*w+F*F;if(v<1e-12)Q=Math.log(p/l)/A,y=function(N){return[s+N*w,h+N*F,l*Math.exp(A*N*Q)]};else{var I=Math.sqrt(v),T=(p*p-l*l+r*v)/(2*l*e*I),x=(p*p-l*l-r*v)/(2*p*e*I),k=Math.log(Math.sqrt(T*T+1)-T),K=Math.log(Math.sqrt(x*x+1)-x);Q=(K-k)/A,y=function(N){var Y=N*Q,q=fw(k),tt=l/(e*I)*(q*function HF(t){return((t=Math.exp(2*t))-1)/(t+1)}(A*Y+k)-function kF(t){return((t=Math.exp(t))-1/t)/2}(k));return[s+tt*w,h+tt*F,l*q/fw(A*Y+k)]}}return y.duration=1e3*Q*A/Math.SQRT2,y}return n.rho=function(i){var a=Math.max(.001,+i),s=a*a;return t(a,s,s*s)},n}(Math.SQRT2,2,4);function gw(t){return function(A,e){var r=t((A=_o(A)).h,(e=_o(e)).h),n=me(A.s,e.s),i=me(A.l,e.l),a=me(A.opacity,e.opacity);return function(s){return A.h=r(s),A.s=n(s),A.l=i(s),A.opacity=a(s),A+""}}}const SF=gw(bo);var PF=gw(me);function LF(t,A){var e=me((t=Xo(t)).l,(A=Xo(A)).l),r=me(t.a,A.a),n=me(t.b,A.b),i=me(t.opacity,A.opacity);return function(a){return t.l=e(a),t.a=r(a),t.b=n(a),t.opacity=i(a),t+""}}function pw(t){return function(A,e){var r=t((A=$o(A)).h,(e=$o(e)).h),n=me(A.c,e.c),i=me(A.l,e.l),a=me(A.opacity,e.opacity);return function(s){return A.h=r(s),A.c=n(s),A.l=i(s),A.opacity=a(s),A+""}}}const OF=pw(bo);var KF=pw(me);function Bw(t){return function A(e){function r(n,i){var a=t((n=Ze(n)).h,(i=Ze(i)).h),s=me(n.s,i.s),h=me(n.l,i.l),l=me(n.opacity,i.opacity);return function(g){return n.h=a(g),n.s=s(g),n.l=h(Math.pow(g,e)),n.opacity=l(g),n+""}}return e=+e,r.gamma=A,r}(1)}const RF=Bw(bo);var pf=Bw(me);function mw(t,A){void 0===A&&(A=t,t=kn);for(var e=0,r=A.length-1,n=A[0],i=new Array(r<0?0:r);e<r;)i[e]=t(n,n=A[++e]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return i[s](a-s)}}function NF(t,A){for(var e=new Array(A),r=0;r<A;++r)e[r]=t(r/(A-1));return e}function VF(t){for(var r,A=-1,e=t.length,n=t[e-1],i=0;++A<e;)i+=(r=n)[1]*(n=t[A])[0]-r[0]*n[1];return i/2}function WF(t){for(var i,s,A=-1,e=t.length,r=0,n=0,a=t[e-1],h=0;++A<e;)h+=s=(i=a)[0]*(a=t[A])[1]-a[0]*i[1],r+=(i[0]+a[0])*s,n+=(i[1]+a[1])*s;return[r/(h*=3),n/h]}function GF(t,A,e){return(A[0]-t[0])*(e[1]-t[1])-(A[1]-t[1])*(e[0]-t[0])}function zF(t,A){return t[0]-A[0]||t[1]-A[1]}function ww(t){const A=t.length,e=[0,1];let n,r=2;for(n=2;n<A;++n){for(;r>1&&GF(t[e[r-2]],t[e[r-1]],t[n])<=0;)--r;e[r++]=n}return e.slice(0,r)}function XF(t){if((e=t.length)<3)return null;var A,e,r=new Array(e),n=new Array(e);for(A=0;A<e;++A)r[A]=[+t[A][0],+t[A][1],A];for(r.sort(zF),A=0;A<e;++A)n[A]=[r[A][0],-r[A][1]];var i=ww(r),a=ww(n),s=a[0]===i[0],h=a[a.length-1]===i[i.length-1],l=[];for(A=i.length-1;A>=0;--A)l.push(t[r[i[A]][2]]);for(A=+s;A<a.length-h;++A)l.push(t[r[a[A]][2]]);return l}function $F(t,A){for(var h,l,e=t.length,r=t[e-1],n=A[0],i=A[1],a=r[0],s=r[1],g=!1,B=0;B<e;++B)h=(r=t[B])[0],(l=r[1])>i!=s>i&&n<(a-h)*(i-l)/(s-l)+h&&(g=!g),a=h,s=l;return g}function YF(t){for(var n,i,A=-1,e=t.length,r=t[e-1],a=r[0],s=r[1],h=0;++A<e;)n=a,i=s,n-=a=(r=t[A])[0],i-=s=r[1],h+=Math.hypot(n,i);return h}const $e=Math.random,JF=function t(A){function e(r,n){return r=null==r?0:+r,n=null==n?1:+n,1===arguments.length?(n=r,r=0):n-=r,function(){return A()*n+r}}return e.source=t,e}($e),jF=function t(A){function e(r,n){return arguments.length<2&&(n=r,r=0),r=Math.floor(r),n=Math.floor(n)-r,function(){return Math.floor(A()*n+r)}}return e.source=t,e}($e),qp=function t(A){function e(r,n){var i,a;return r=null==r?0:+r,n=null==n?1:+n,function(){var s;if(null!=i)s=i,i=null;else do{i=2*A()-1,s=2*A()-1,a=i*i+s*s}while(!a||a>1);return r+n*s*Math.sqrt(-2*Math.log(a)/a)}}return e.source=t,e}($e),ZF=function t(A){var e=qp.source(A);function r(){var n=e.apply(this,arguments);return function(){return Math.exp(n())}}return r.source=t,r}($e),_w=function t(A){function e(r){return(r=+r)<=0?()=>0:function(){for(var n=0,i=r;i>1;--i)n+=A();return n+i*A()}}return e.source=t,e}($e),qF=function t(A){var e=_w.source(A);function r(n){if(0==(n=+n))return A;var i=e(n);return function(){return i()/n}}return r.source=t,r}($e),t2=function t(A){function e(r){return function(){return-Math.log1p(-A())/r}}return e.source=t,e}($e),A2=function t(A){function e(r){if((r=+r)<0)throw new RangeError("invalid alpha");return r=1/-r,function(){return Math.pow(1-A(),r)}}return e.source=t,e}($e),e2=function t(A){function e(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return function(){return Math.floor(A()+r)}}return e.source=t,e}($e),Cw=function t(A){function e(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return 0===r?()=>1/0:1===r?()=>1:(r=Math.log1p(-r),function(){return 1+Math.floor(Math.log1p(-A())/r)})}return e.source=t,e}($e),tB=function t(A){var e=qp.source(A)();function r(n,i){if((n=+n)<0)throw new RangeError("invalid k");if(0===n)return()=>0;if(i=null==i?1:+i,1===n)return()=>-Math.log1p(-A())*i;var a=(n<1?n+1:n)-1/3,s=1/(3*Math.sqrt(a)),h=n<1?()=>Math.pow(A(),1/n):()=>1;return function(){do{do{var l=e(),g=1+s*l}while(g<=0);g*=g*g;var B=1-A()}while(B>=1-.0331*l*l*l*l&&Math.log(B)>=.5*l*l+a*(1-g+Math.log(g)));return a*g*h()*i}}return r.source=t,r}($e),vw=function t(A){var e=tB.source(A);function r(n,i){var a=e(n),s=e(i);return function(){var h=a();return 0===h?0:h/(h+s())}}return r.source=t,r}($e),yw=function t(A){var e=Cw.source(A),r=vw.source(A);function n(i,a){return i=+i,(a=+a)>=1?()=>i:a<=0?()=>0:function(){for(var s=0,h=i,l=a;h*l>16&&h*(1-l)>16;){var g=Math.floor((h+1)*l),B=r(g,h-g+1)();B<=l?(s+=g,h-=g,l=(l-B)/(1-B)):(h=g-1,l/=B)}for(var p=l<.5,F=e(p?l:1-l),v=F(),y=0;v<=h;++y)v+=F();return s+(p?y:h-y)}}return n.source=t,n}($e),r2=function t(A){function e(r,n,i){var a;return 0==(r=+r)?a=s=>-Math.log(s):(r=1/r,a=s=>Math.pow(s,r)),n=null==n?0:+n,i=null==i?1:+i,function(){return n+i*a(-Math.log1p(-A()))}}return e.source=t,e}($e),n2=function t(A){function e(r,n){return r=null==r?0:+r,n=null==n?1:+n,function(){return r+n*Math.tan(Math.PI*A())}}return e.source=t,e}($e),i2=function t(A){function e(r,n){return r=null==r?0:+r,n=null==n?1:+n,function(){var i=A();return r+n*Math.log(i/(1-i))}}return e.source=t,e}($e),a2=function t(A){var e=tB.source(A),r=yw.source(A);function n(i){return function(){for(var a=0,s=i;s>16;){var h=Math.floor(.875*s),l=e(h)();if(l>s)return a+r(h-1,s/l)();a+=h,s-=l}for(var g=-Math.log1p(-A()),B=0;g<=s;++B)g-=Math.log1p(-A());return a+B}}return n.source=t,n}($e),o2=1664525,s2=1013904223,bw=1/4294967296;function l2(t=Math.random()){let A=0|(0<=t&&t<1?t/bw:Math.abs(t));return()=>(A=o2*A+s2|0,bw*(A>>>0))}function qr(t,A){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(A).domain(t)}return this}function wi(t,A){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof A?this.interpolator(A):this.range(A)}return this}const AB=Symbol("implicit");function eB(){var t=new gr,A=[],e=[],r=AB;function n(i){let a=t.get(i);if(void 0===a){if(r!==AB)return r;t.set(i,a=A.push(i)-1)}return e[a%e.length]}return n.domain=function(i){if(!arguments.length)return A.slice();A=[],t=new gr;for(const a of i)t.has(a)||t.set(a,A.push(a)-1);return n},n.range=function(i){return arguments.length?(e=Array.from(i),n):e.slice()},n.unknown=function(i){return arguments.length?(r=i,n):r},n.copy=function(){return eB(A,e).unknown(r)},qr.apply(n,arguments),n}function rB(){var i,a,t=eB().unknown(void 0),A=t.domain,e=t.range,r=0,n=1,s=!1,h=0,l=0,g=.5;function B(){var p=A().length,w=n<r,F=w?n:r,v=w?r:n;i=(v-F)/Math.max(1,p-h+2*l),s&&(i=Math.floor(i)),F+=(v-F-i*(p-h))*g,a=i*(1-h),s&&(F=Math.round(F),a=Math.round(a));var y=Nr(p).map(function(Q){return F+i*Q});return e(w?y.reverse():y)}return delete t.unknown,t.domain=function(p){return arguments.length?(A(p),B()):A()},t.range=function(p){return arguments.length?([r,n]=p,r=+r,n=+n,B()):[r,n]},t.rangeRound=function(p){return[r,n]=p,r=+r,n=+n,s=!0,B()},t.bandwidth=function(){return a},t.step=function(){return i},t.round=function(p){return arguments.length?(s=!!p,B()):s},t.padding=function(p){return arguments.length?(h=Math.min(1,l=+p),B()):h},t.paddingInner=function(p){return arguments.length?(h=Math.min(1,p),B()):h},t.paddingOuter=function(p){return arguments.length?(l=+p,B()):l},t.align=function(p){return arguments.length?(g=Math.max(0,Math.min(1,p)),B()):g},t.copy=function(){return rB(A(),[r,n]).round(s).paddingInner(h).paddingOuter(l).align(g)},qr.apply(B(),arguments)}function Qw(t){var A=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Qw(A())},t}function c2(){return Qw(rB.apply(null,arguments).paddingInner(1))}function Bf(t){return+t}var Fw=[0,1];function dr(t){return t}function nB(t,A){return(A-=t=+t)?function(e){return(e-t)/A}:function u2(t){return function(){return t}}(isNaN(A)?NaN:.5)}function f2(t,A,e){var r=t[0],n=t[1],i=A[0],a=A[1];return n<r?(r=nB(n,r),i=e(a,i)):(r=nB(r,n),i=e(i,a)),function(s){return i(r(s))}}function d2(t,A,e){var r=Math.min(t.length,A.length)-1,n=new Array(r),i=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),A=A.slice().reverse());++a<r;)n[a]=nB(t[a],t[a+1]),i[a]=e(A[a],A[a+1]);return function(s){var h=st(t,s,1,r)-1;return i[h](n[h](s))}}function Zl(t,A){return A.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function mf(){var r,n,i,s,h,l,t=Fw,A=Fw,e=kn,a=dr;function g(){var p=Math.min(t.length,A.length);return a!==dr&&(a=function h2(t,A){var e;return t>A&&(e=t,t=A,A=e),function(r){return Math.max(t,Math.min(A,r))}}(t[0],t[p-1])),s=p>2?d2:f2,h=l=null,B}function B(p){return null==p||isNaN(p=+p)?i:(h||(h=s(t.map(r),A,e)))(r(a(p)))}return B.invert=function(p){return a(n((l||(l=s(A,t.map(r),Br)))(p)))},B.domain=function(p){return arguments.length?(t=Array.from(p,Bf),g()):t.slice()},B.range=function(p){return arguments.length?(A=Array.from(p),g()):A.slice()},B.rangeRound=function(p){return A=Array.from(p),e=gf,g()},B.clamp=function(p){return arguments.length?(a=!!p||dr,g()):a!==dr},B.interpolate=function(p){return arguments.length?(e=p,g()):e},B.unknown=function(p){return arguments.length?(i=p,B):i},function(p,w){return r=p,n=w,g()}}function iB(){return mf()(dr,dr)}function Uw(t,A,e,r){var i,n=Zt(t,A,e);switch((r=es(r??",f")).type){case"s":var a=Math.max(Math.abs(t),Math.abs(A));return null==r.precision&&!isNaN(i=xm(n,a))&&(r.precision=i),Z0(r,a);case"":case"e":case"g":case"p":case"r":null==r.precision&&!isNaN(i=Tm(n,Math.max(Math.abs(t),Math.abs(A))))&&(r.precision=i-("e"===r.type));break;case"f":case"%":null==r.precision&&!isNaN(i=Em(n))&&(r.precision=i-2*("%"===r.type))}return Fh(r)}function Xi(t){var A=t.domain;return t.ticks=function(e){var r=A();return rr(r[0],r[r.length-1],e??10)},t.tickFormat=function(e,r){var n=A();return Uw(n[0],n[n.length-1],e??10,r)},t.nice=function(e){null==e&&(e=10);var h,l,r=A(),n=0,i=r.length-1,a=r[n],s=r[i],g=10;for(s<a&&(l=a,a=s,s=l,l=n,n=i,i=l);g-- >0;){if((l=ue(a,s,e))===h)return r[n]=a,r[i]=s,A(r);if(l>0)a=Math.floor(a/l)*l,s=Math.ceil(s/l)*l;else{if(!(l<0))break;a=Math.ceil(a*l)/l,s=Math.floor(s*l)/l}h=l}return t},t}function Ew(){var t=iB();return t.copy=function(){return Zl(t,Ew())},qr.apply(t,arguments),Xi(t)}function xw(t){var A;function e(r){return null==r||isNaN(r=+r)?A:r}return e.invert=e,e.domain=e.range=function(r){return arguments.length?(t=Array.from(r,Bf),e):t.slice()},e.unknown=function(r){return arguments.length?(A=r,e):A},e.copy=function(){return xw(t).unknown(A)},t=arguments.length?Array.from(t,Bf):[0,1],Xi(e)}function Tw(t,A){var a,e=0,r=(t=t.slice()).length-1,n=t[e],i=t[r];return i<n&&(a=e,e=r,r=a,a=n,n=i,i=a),t[e]=A.floor(n),t[r]=A.ceil(i),t}function Iw(t){return Math.log(t)}function Dw(t){return Math.exp(t)}function g2(t){return-Math.log(-t)}function p2(t){return-Math.exp(-t)}function B2(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Mw(t){return(A,e)=>-t(-A,e)}function aB(t){const A=t(Iw,Dw),e=A.domain;let n,i,r=10;function a(){return n=function w2(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),A=>Math.log(A)/t)}(r),i=function m2(t){return 10===t?B2:t===Math.E?Math.exp:A=>Math.pow(t,A)}(r),e()[0]<0?(n=Mw(n),i=Mw(i),t(g2,p2)):t(Iw,Dw),A}return A.base=function(s){return arguments.length?(r=+s,a()):r},A.domain=function(s){return arguments.length?(e(s),a()):e()},A.ticks=s=>{const h=e();let l=h[0],g=h[h.length-1];const B=g<l;B&&([l,g]=[g,l]);let F,v,p=n(l),w=n(g);const y=null==s?10:+s;let Q=[];if(!(r%1)&&w-p<y){if(p=Math.floor(p),w=Math.ceil(w),l>0){for(;p<=w;++p)for(F=1;F<r;++F)if(v=p<0?F/i(-p):F*i(p),!(v<l)){if(v>g)break;Q.push(v)}}else for(;p<=w;++p)for(F=r-1;F>=1;--F)if(v=p>0?F/i(-p):F*i(p),!(v<l)){if(v>g)break;Q.push(v)}2*Q.length<y&&(Q=rr(l,g,y))}else Q=rr(p,w,Math.min(w-p,y)).map(i);return B?Q.reverse():Q},A.tickFormat=(s,h)=>{if(null==s&&(s=10),null==h&&(h=10===r?"s":","),"function"!=typeof h&&(!(r%1)&&null==(h=es(h)).precision&&(h.trim=!0),h=Fh(h)),s===1/0)return h;const l=Math.max(1,r*s/A.ticks().length);return g=>{let B=g/i(Math.round(n(g)));return B*r<r-.5&&(B*=r),B<=l?h(g):""}},A.nice=()=>e(Tw(e(),{floor:s=>i(Math.floor(n(s))),ceil:s=>i(Math.ceil(n(s)))})),A}function kw(){const t=aB(mf()).domain([1,10]);return t.copy=()=>Zl(t,kw()).base(t.base()),qr.apply(t,arguments),t}function Hw(t){return function(A){return Math.sign(A)*Math.log1p(Math.abs(A/t))}}function Sw(t){return function(A){return Math.sign(A)*Math.expm1(Math.abs(A))*t}}function oB(t){var A=1,e=t(Hw(A),Sw(A));return e.constant=function(r){return arguments.length?t(Hw(A=+r),Sw(A)):A},Xi(e)}function Pw(){var t=oB(mf());return t.copy=function(){return Zl(t,Pw()).constant(t.constant())},qr.apply(t,arguments)}function Lw(t){return function(A){return A<0?-Math.pow(-A,t):Math.pow(A,t)}}function _2(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function C2(t){return t<0?-t*t:t*t}function sB(t){var A=t(dr,dr),e=1;return A.exponent=function(n){return arguments.length?(e=+n,function r(){return 1===e?t(dr,dr):.5===e?t(_2,C2):t(Lw(e),Lw(1/e))}()):e},Xi(A)}function lB(){var t=sB(mf());return t.copy=function(){return Zl(t,lB()).exponent(t.exponent())},qr.apply(t,arguments),t}function v2(){return lB.apply(null,arguments).exponent(.5)}function Ow(t){return Math.sign(t)*t*t}function Kw(){var r,t=iB(),A=[0,1],e=!1;function n(i){var a=function y2(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}(t(i));return isNaN(a)?r:e?Math.round(a):a}return n.invert=function(i){return t.invert(Ow(i))},n.domain=function(i){return arguments.length?(t.domain(i),n):t.domain()},n.range=function(i){return arguments.length?(t.range((A=Array.from(i,Bf)).map(Ow)),n):A.slice()},n.rangeRound=function(i){return n.range(i).round(!0)},n.round=function(i){return arguments.length?(e=!!i,n):e},n.clamp=function(i){return arguments.length?(t.clamp(i),n):t.clamp()},n.unknown=function(i){return arguments.length?(r=i,n):r},n.copy=function(){return Kw(t.domain(),A).round(e).clamp(t.clamp()).unknown(r)},qr.apply(n,arguments),Xi(n)}function Rw(){var r,t=[],A=[],e=[];function n(){var a=0,s=Math.max(1,A.length);for(e=new Array(s-1);++a<s;)e[a-1]=Aa(t,a/s);return i}function i(a){return null==a||isNaN(a=+a)?r:A[st(e,a)]}return i.invertExtent=function(a){var s=A.indexOf(a);return s<0?[NaN,NaN]:[s>0?e[s-1]:t[0],s<e.length?e[s]:t[t.length-1]]},i.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)null!=s&&!isNaN(s=+s)&&t.push(s);return t.sort(H),n()},i.range=function(a){return arguments.length?(A=Array.from(a),n()):A.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.quantiles=function(){return e.slice()},i.copy=function(){return Rw().domain(t).range(A).unknown(r)},qr.apply(i,arguments)}function Nw(){var i,t=0,A=1,e=1,r=[.5],n=[0,1];function a(h){return null!=h&&h<=h?n[st(r,h,0,e)]:i}function s(){var h=-1;for(r=new Array(e);++h<e;)r[h]=((h+1)*A-(h-e)*t)/(e+1);return a}return a.domain=function(h){return arguments.length?([t,A]=h,t=+t,A=+A,s()):[t,A]},a.range=function(h){return arguments.length?(e=(n=Array.from(h)).length-1,s()):n.slice()},a.invertExtent=function(h){var l=n.indexOf(h);return l<0?[NaN,NaN]:l<1?[t,r[0]]:l>=e?[r[e-1],A]:[r[l-1],r[l]]},a.unknown=function(h){return arguments.length&&(i=h),a},a.thresholds=function(){return r.slice()},a.copy=function(){return Nw().domain([t,A]).range(n).unknown(i)},qr.apply(Xi(a),arguments)}function Vw(){var e,t=[.5],A=[0,1],r=1;function n(i){return null!=i&&i<=i?A[st(t,i,0,r)]:e}return n.domain=function(i){return arguments.length?(t=Array.from(i),r=Math.min(t.length,A.length-1),n):t.slice()},n.range=function(i){return arguments.length?(A=Array.from(i),r=Math.min(t.length,A.length-1),n):A.slice()},n.invertExtent=function(i){var a=A.indexOf(i);return[t[a-1],t[a]]},n.unknown=function(i){return arguments.length?(e=i,n):e},n.copy=function(){return Vw().domain(t).range(A).unknown(e)},qr.apply(n,arguments)}const _i=1e3,tn=6e4,Ci=60*tn,vi=24*Ci,cB=7*vi,Ww=30*vi,uB=365*vi,hB=new Date,fB=new Date;function Ee(t,A,e,r){function n(i){return t(i=0===arguments.length?new Date:new Date(+i)),i}return n.floor=i=>(t(i=new Date(+i)),i),n.ceil=i=>(t(i=new Date(i-1)),A(i,1),t(i),i),n.round=i=>{const a=n(i),s=n.ceil(i);return i-a<s-i?a:s},n.offset=(i,a)=>(A(i=new Date(+i),null==a?1:Math.floor(a)),i),n.range=(i,a,s)=>{const h=[];if(i=n.ceil(i),s=null==s?1:Math.floor(s),!(i<a&&s>0))return h;let l;do{h.push(l=new Date(+i)),A(i,s),t(i)}while(l<i&&i<a);return h},n.filter=i=>Ee(a=>{if(a>=a)for(;t(a),!i(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;A(a,-1),!i(a););else for(;--s>=0;)for(;A(a,1),!i(a););}),e&&(n.count=(i,a)=>(hB.setTime(+i),fB.setTime(+a),t(hB),t(fB),Math.floor(e(hB,fB))),n.every=i=>(i=Math.floor(i),isFinite(i)&&i>0?i>1?n.filter(r?a=>r(a)%i==0:a=>n.count(0,a)%i==0):n:null)),n}const us=Ee(()=>{},(t,A)=>{t.setTime(+t+A)},(t,A)=>A-t);us.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?Ee(A=>{A.setTime(Math.floor(A/t)*t)},(A,e)=>{A.setTime(+A+e*t)},(A,e)=>(e-A)/t):us:null);const Gw=us.range,yi=Ee(t=>{t.setTime(t-t.getMilliseconds())},(t,A)=>{t.setTime(+t+A*_i)},(t,A)=>(A-t)/_i,t=>t.getUTCSeconds()),zw=yi.range,wf=Ee(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*_i)},(t,A)=>{t.setTime(+t+A*tn)},(t,A)=>(A-t)/tn,t=>t.getMinutes()),b2=wf.range,_f=Ee(t=>{t.setUTCSeconds(0,0)},(t,A)=>{t.setTime(+t+A*tn)},(t,A)=>(A-t)/tn,t=>t.getUTCMinutes()),Q2=_f.range,Cf=Ee(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*_i-t.getMinutes()*tn)},(t,A)=>{t.setTime(+t+A*Ci)},(t,A)=>(A-t)/Ci,t=>t.getHours()),F2=Cf.range,vf=Ee(t=>{t.setUTCMinutes(0,0,0)},(t,A)=>{t.setTime(+t+A*Ci)},(t,A)=>(A-t)/Ci,t=>t.getUTCHours()),U2=vf.range,hs=Ee(t=>t.setHours(0,0,0,0),(t,A)=>t.setDate(t.getDate()+A),(t,A)=>(A-t-(A.getTimezoneOffset()-t.getTimezoneOffset())*tn)/vi,t=>t.getDate()-1),E2=hs.range,ql=Ee(t=>{t.setUTCHours(0,0,0,0)},(t,A)=>{t.setUTCDate(t.getUTCDate()+A)},(t,A)=>(A-t)/vi,t=>t.getUTCDate()-1),x2=ql.range,dB=Ee(t=>{t.setUTCHours(0,0,0,0)},(t,A)=>{t.setUTCDate(t.getUTCDate()+A)},(t,A)=>(A-t)/vi,t=>Math.floor(t/vi)),T2=dB.range;function Ja(t){return Ee(A=>{A.setDate(A.getDate()-(A.getDay()+7-t)%7),A.setHours(0,0,0,0)},(A,e)=>{A.setDate(A.getDate()+7*e)},(A,e)=>(e-A-(e.getTimezoneOffset()-A.getTimezoneOffset())*tn)/cB)}const fs=Ja(0),tc=Ja(1),Xw=Ja(2),$w=Ja(3),ja=Ja(4),Yw=Ja(5),Jw=Ja(6),jw=fs.range,I2=tc.range,D2=Xw.range,M2=$w.range,k2=ja.range,H2=Yw.range,S2=Jw.range;function Za(t){return Ee(A=>{A.setUTCDate(A.getUTCDate()-(A.getUTCDay()+7-t)%7),A.setUTCHours(0,0,0,0)},(A,e)=>{A.setUTCDate(A.getUTCDate()+7*e)},(A,e)=>(e-A)/cB)}const ds=Za(0),Ac=Za(1),Zw=Za(2),qw=Za(3),qa=Za(4),t_=Za(5),A_=Za(6),e_=ds.range,P2=Ac.range,L2=Zw.range,O2=qw.range,K2=qa.range,R2=t_.range,N2=A_.range,yf=Ee(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,A)=>{t.setMonth(t.getMonth()+A)},(t,A)=>A.getMonth()-t.getMonth()+12*(A.getFullYear()-t.getFullYear()),t=>t.getMonth()),V2=yf.range,bf=Ee(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,A)=>{t.setUTCMonth(t.getUTCMonth()+A)},(t,A)=>A.getUTCMonth()-t.getUTCMonth()+12*(A.getUTCFullYear()-t.getUTCFullYear()),t=>t.getUTCMonth()),W2=bf.range,Xn=Ee(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,A)=>{t.setFullYear(t.getFullYear()+A)},(t,A)=>A.getFullYear()-t.getFullYear(),t=>t.getFullYear());Xn.every=t=>isFinite(t=Math.floor(t))&&t>0?Ee(A=>{A.setFullYear(Math.floor(A.getFullYear()/t)*t),A.setMonth(0,1),A.setHours(0,0,0,0)},(A,e)=>{A.setFullYear(A.getFullYear()+e*t)}):null;const G2=Xn.range,$n=Ee(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,A)=>{t.setUTCFullYear(t.getUTCFullYear()+A)},(t,A)=>A.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());$n.every=t=>isFinite(t=Math.floor(t))&&t>0?Ee(A=>{A.setUTCFullYear(Math.floor(A.getUTCFullYear()/t)*t),A.setUTCMonth(0,1),A.setUTCHours(0,0,0,0)},(A,e)=>{A.setUTCFullYear(A.getUTCFullYear()+e*t)}):null;const z2=$n.range;function r_(t,A,e,r,n,i){const a=[[yi,1,_i],[yi,5,5e3],[yi,15,15e3],[yi,30,3e4],[i,1,tn],[i,5,5*tn],[i,15,15*tn],[i,30,30*tn],[n,1,Ci],[n,3,3*Ci],[n,6,6*Ci],[n,12,12*Ci],[r,1,vi],[r,2,2*vi],[e,1,cB],[A,1,Ww],[A,3,3*Ww],[t,1,uB]];function h(l,g,B){const p=Math.abs(g-l)/B,w=yt(([,,y])=>y).right(a,p);if(w===a.length)return t.every(Zt(l/uB,g/uB,B));if(0===w)return us.every(Math.max(Zt(l,g,B),1));const[F,v]=a[p/a[w-1][2]<a[w][2]/p?w-1:w];return F.every(v)}return[function s(l,g,B){const p=g<l;p&&([l,g]=[g,l]);const w=B&&"function"==typeof B.range?B:h(l,g,B),F=w?w.range(l,+g+1):[];return p?F.reverse():F},h]}const[n_,i_]=r_($n,bf,ds,dB,vf,_f),[a_,o_]=r_(Xn,yf,fs,hs,Cf,wf);function gB(t){if(0<=t.y&&t.y<100){var A=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return A.setFullYear(t.y),A}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function pB(t){if(0<=t.y&&t.y<100){var A=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return A.setUTCFullYear(t.y),A}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ec(t,A,e){return{y:t,m:A,d:e,H:0,M:0,S:0,L:0}}function s_(t){var A=t.dateTime,e=t.date,r=t.time,n=t.periods,i=t.days,a=t.shortDays,s=t.months,h=t.shortMonths,l=rc(n),g=nc(n),B=rc(i),p=nc(i),w=rc(a),F=nc(a),v=rc(s),y=nc(s),Q=rc(h),I=nc(h),T={a:function et(Ft){return a[Ft.getDay()]},A:function W(Ft){return i[Ft.getDay()]},b:function Z(Ft){return h[Ft.getMonth()]},B:function X(Ft){return s[Ft.getMonth()]},c:null,d:d_,e:d_,f:gU,g:QU,G:UU,H:hU,I:fU,j:dU,L:g_,m:pU,M:BU,p:function it(Ft){return n[+(Ft.getHours()>=12)]},q:function ht(Ft){return 1+~~(Ft.getMonth()/3)},Q:C_,s:v_,S:mU,u:wU,U:_U,V:CU,w:vU,W:yU,x:null,X:null,y:bU,Y:FU,Z:EU,"%":__},x={a:function wt(Ft){return a[Ft.getUTCDay()]},A:function pt(Ft){return i[Ft.getUTCDay()]},b:function bt(Ft){return h[Ft.getUTCMonth()]},B:function Dt(Ft){return s[Ft.getUTCMonth()]},c:null,d:B_,e:B_,f:DU,g:NU,G:WU,H:xU,I:TU,j:IU,L:m_,m:MU,M:kU,p:function Ut(Ft){return n[+(Ft.getUTCHours()>=12)]},q:function Lt(Ft){return 1+~~(Ft.getUTCMonth()/3)},Q:C_,s:v_,S:HU,u:SU,U:PU,V:LU,w:OU,W:KU,x:null,X:null,y:RU,Y:VU,Z:GU,"%":__},k={a:function tt(Ft,It,kt){var _t=w.exec(It.slice(kt));return _t?(Ft.w=F.get(_t[0].toLowerCase()),kt+_t[0].length):-1},A:function J(Ft,It,kt){var _t=B.exec(It.slice(kt));return _t?(Ft.w=p.get(_t[0].toLowerCase()),kt+_t[0].length):-1},b:function lt(Ft,It,kt){var _t=Q.exec(It.slice(kt));return _t?(Ft.m=I.get(_t[0].toLowerCase()),kt+_t[0].length):-1},B:function at(Ft,It,kt){var _t=v.exec(It.slice(kt));return _t?(Ft.m=y.get(_t[0].toLowerCase()),kt+_t[0].length):-1},c:function M(Ft,It,kt){return Y(Ft,A,It,kt)},d:h_,e:h_,f:sU,g:u_,G:c_,H:f_,I:f_,j:nU,L:oU,m:rU,M:iU,p:function q(Ft,It,kt){var _t=l.exec(It.slice(kt));return _t?(Ft.p=g.get(_t[0].toLowerCase()),kt+_t[0].length):-1},q:eU,Q:cU,s:uU,S:aU,u:j2,U:Z2,V:q2,w:J2,W:tU,x:function O(Ft,It,kt){return Y(Ft,e,It,kt)},X:function R(Ft,It,kt){return Y(Ft,r,It,kt)},y:u_,Y:c_,Z:AU,"%":lU};function K(Ft,It){return function(kt){var sA,St,_A,_t=[],Gt=-1,rA=0,wA=Ft.length;for(kt instanceof Date||(kt=new Date(+kt));++Gt<wA;)37===Ft.charCodeAt(Gt)&&(_t.push(Ft.slice(rA,Gt)),null!=(St=l_[sA=Ft.charAt(++Gt)])?sA=Ft.charAt(++Gt):St="e"===sA?" ":"0",(_A=It[sA])&&(sA=_A(kt,St)),_t.push(sA),rA=Gt+1);return _t.push(Ft.slice(rA,Gt)),_t.join("")}}function N(Ft,It){return function(kt){var rA,wA,_t=ec(1900,void 0,1);if(Y(_t,Ft,kt+="",0)!=kt.length)return null;if("Q"in _t)return new Date(_t.Q);if("s"in _t)return new Date(1e3*_t.s+("L"in _t?_t.L:0));if(It&&!("Z"in _t)&&(_t.Z=0),"p"in _t&&(_t.H=_t.H%12+12*_t.p),void 0===_t.m&&(_t.m="q"in _t?_t.q:0),"V"in _t){if(_t.V<1||_t.V>53)return null;"w"in _t||(_t.w=1),"Z"in _t?(wA=(rA=pB(ec(_t.y,0,1))).getUTCDay(),rA=wA>4||0===wA?Ac.ceil(rA):Ac(rA),rA=ql.offset(rA,7*(_t.V-1)),_t.y=rA.getUTCFullYear(),_t.m=rA.getUTCMonth(),_t.d=rA.getUTCDate()+(_t.w+6)%7):(wA=(rA=gB(ec(_t.y,0,1))).getDay(),rA=wA>4||0===wA?tc.ceil(rA):tc(rA),rA=hs.offset(rA,7*(_t.V-1)),_t.y=rA.getFullYear(),_t.m=rA.getMonth(),_t.d=rA.getDate()+(_t.w+6)%7)}else("W"in _t||"U"in _t)&&("w"in _t||(_t.w="u"in _t?_t.u%7:"W"in _t?1:0),wA="Z"in _t?pB(ec(_t.y,0,1)).getUTCDay():gB(ec(_t.y,0,1)).getDay(),_t.m=0,_t.d="W"in _t?(_t.w+6)%7+7*_t.W-(wA+5)%7:_t.w+7*_t.U-(wA+6)%7);return"Z"in _t?(_t.H+=_t.Z/100|0,_t.M+=_t.Z%100,pB(_t)):gB(_t)}}function Y(Ft,It,kt,_t){for(var sA,St,Gt=0,rA=It.length,wA=kt.length;Gt<rA;){if(_t>=wA)return-1;if(37===(sA=It.charCodeAt(Gt++))){if(sA=It.charAt(Gt++),!(St=k[sA in l_?It.charAt(Gt++):sA])||(_t=St(Ft,kt,_t))<0)return-1}else if(sA!=kt.charCodeAt(_t++))return-1}return _t}return T.x=K(e,T),T.X=K(r,T),T.c=K(A,T),x.x=K(e,x),x.X=K(r,x),x.c=K(A,x),{format:function(Ft){var It=K(Ft+="",T);return It.toString=function(){return Ft},It},parse:function(Ft){var It=N(Ft+="",!1);return It.toString=function(){return Ft},It},utcFormat:function(Ft){var It=K(Ft+="",x);return It.toString=function(){return Ft},It},utcParse:function(Ft){var It=N(Ft+="",!0);return It.toString=function(){return Ft},It}}}var gs,BB,y_,Qf,mB,l_={"-":"",_:" ",0:"0"},Ke=/^\s*\d+/,X2=/^%/,$2=/[\\^$*+?|[\]().{}]/g;function VA(t,A,e){var r=t<0?"-":"",n=(r?-t:t)+"",i=n.length;return r+(i<e?new Array(e-i+1).join(A)+n:n)}function Y2(t){return t.replace($2,"\\$&")}function rc(t){return new RegExp("^(?:"+t.map(Y2).join("|")+")","i")}function nc(t){return new Map(t.map((A,e)=>[A.toLowerCase(),e]))}function J2(t,A,e){var r=Ke.exec(A.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function j2(t,A,e){var r=Ke.exec(A.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function Z2(t,A,e){var r=Ke.exec(A.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function q2(t,A,e){var r=Ke.exec(A.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function tU(t,A,e){var r=Ke.exec(A.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function c_(t,A,e){var r=Ke.exec(A.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function u_(t,A,e){var r=Ke.exec(A.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function AU(t,A,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(A.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function eU(t,A,e){var r=Ke.exec(A.slice(e,e+1));return r?(t.q=3*r[0]-3,e+r[0].length):-1}function rU(t,A,e){var r=Ke.exec(A.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function h_(t,A,e){var r=Ke.exec(A.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function nU(t,A,e){var r=Ke.exec(A.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function f_(t,A,e){var r=Ke.exec(A.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function iU(t,A,e){var r=Ke.exec(A.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function aU(t,A,e){var r=Ke.exec(A.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function oU(t,A,e){var r=Ke.exec(A.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function sU(t,A,e){var r=Ke.exec(A.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function lU(t,A,e){var r=X2.exec(A.slice(e,e+1));return r?e+r[0].length:-1}function cU(t,A,e){var r=Ke.exec(A.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function uU(t,A,e){var r=Ke.exec(A.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function d_(t,A){return VA(t.getDate(),A,2)}function hU(t,A){return VA(t.getHours(),A,2)}function fU(t,A){return VA(t.getHours()%12||12,A,2)}function dU(t,A){return VA(1+hs.count(Xn(t),t),A,3)}function g_(t,A){return VA(t.getMilliseconds(),A,3)}function gU(t,A){return g_(t,A)+"000"}function pU(t,A){return VA(t.getMonth()+1,A,2)}function BU(t,A){return VA(t.getMinutes(),A,2)}function mU(t,A){return VA(t.getSeconds(),A,2)}function wU(t){var A=t.getDay();return 0===A?7:A}function _U(t,A){return VA(fs.count(Xn(t)-1,t),A,2)}function p_(t){var A=t.getDay();return A>=4||0===A?ja(t):ja.ceil(t)}function CU(t,A){return t=p_(t),VA(ja.count(Xn(t),t)+(4===Xn(t).getDay()),A,2)}function vU(t){return t.getDay()}function yU(t,A){return VA(tc.count(Xn(t)-1,t),A,2)}function bU(t,A){return VA(t.getFullYear()%100,A,2)}function QU(t,A){return VA((t=p_(t)).getFullYear()%100,A,2)}function FU(t,A){return VA(t.getFullYear()%1e4,A,4)}function UU(t,A){var e=t.getDay();return VA((t=e>=4||0===e?ja(t):ja.ceil(t)).getFullYear()%1e4,A,4)}function EU(t){var A=t.getTimezoneOffset();return(A>0?"-":(A*=-1,"+"))+VA(A/60|0,"0",2)+VA(A%60,"0",2)}function B_(t,A){return VA(t.getUTCDate(),A,2)}function xU(t,A){return VA(t.getUTCHours(),A,2)}function TU(t,A){return VA(t.getUTCHours()%12||12,A,2)}function IU(t,A){return VA(1+ql.count($n(t),t),A,3)}function m_(t,A){return VA(t.getUTCMilliseconds(),A,3)}function DU(t,A){return m_(t,A)+"000"}function MU(t,A){return VA(t.getUTCMonth()+1,A,2)}function kU(t,A){return VA(t.getUTCMinutes(),A,2)}function HU(t,A){return VA(t.getUTCSeconds(),A,2)}function SU(t){var A=t.getUTCDay();return 0===A?7:A}function PU(t,A){return VA(ds.count($n(t)-1,t),A,2)}function w_(t){var A=t.getUTCDay();return A>=4||0===A?qa(t):qa.ceil(t)}function LU(t,A){return t=w_(t),VA(qa.count($n(t),t)+(4===$n(t).getUTCDay()),A,2)}function OU(t){return t.getUTCDay()}function KU(t,A){return VA(Ac.count($n(t)-1,t),A,2)}function RU(t,A){return VA(t.getUTCFullYear()%100,A,2)}function NU(t,A){return VA((t=w_(t)).getUTCFullYear()%100,A,2)}function VU(t,A){return VA(t.getUTCFullYear()%1e4,A,4)}function WU(t,A){var e=t.getUTCDay();return VA((t=e>=4||0===e?qa(t):qa.ceil(t)).getUTCFullYear()%1e4,A,4)}function GU(){return"+0000"}function __(){return"%"}function C_(t){return+t}function v_(t){return Math.floor(+t/1e3)}function b_(t){return gs=s_(t),BB=gs.format,y_=gs.parse,Qf=gs.utcFormat,mB=gs.utcParse,gs}function zU(t){return new Date(t)}function XU(t){return t instanceof Date?+t:+new Date(+t)}function wB(t,A,e,r,n,i,a,s,h,l){var g=iB(),B=g.invert,p=g.domain,w=l(".%L"),F=l(":%S"),v=l("%I:%M"),y=l("%I %p"),Q=l("%a %d"),I=l("%b %d"),T=l("%B"),x=l("%Y");function k(K){return(h(K)<K?w:s(K)<K?F:a(K)<K?v:i(K)<K?y:r(K)<K?n(K)<K?Q:I:e(K)<K?T:x)(K)}return g.invert=function(K){return new Date(B(K))},g.domain=function(K){return arguments.length?p(Array.from(K,XU)):p().map(zU)},g.ticks=function(K){var N=p();return t(N[0],N[N.length-1],K??10)},g.tickFormat=function(K,N){return null==N?k:l(N)},g.nice=function(K){var N=p();return(!K||"function"!=typeof K.range)&&(K=A(N[0],N[N.length-1],K??10)),K?p(Tw(N,K)):g},g.copy=function(){return Zl(g,wB(t,A,e,r,n,i,a,s,h,l))},g}function $U(){return qr.apply(wB(a_,o_,Xn,yf,fs,hs,Cf,wf,yi,BB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function YU(){return qr.apply(wB(n_,i_,$n,bf,ds,ql,vf,_f,yi,Qf).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ff(){var e,r,n,i,h,t=0,A=1,a=dr,s=!1;function l(B){return null==B||isNaN(B=+B)?h:a(0===n?.5:(B=(i(B)-e)*n,s?Math.max(0,Math.min(1,B)):B))}function g(B){return function(p){var w,F;return arguments.length?([w,F]=p,a=B(w,F),l):[a(0),a(1)]}}return l.domain=function(B){return arguments.length?([t,A]=B,e=i(t=+t),r=i(A=+A),n=e===r?0:1/(r-e),l):[t,A]},l.clamp=function(B){return arguments.length?(s=!!B,l):s},l.interpolator=function(B){return arguments.length?(a=B,l):a},l.range=g(kn),l.rangeRound=g(gf),l.unknown=function(B){return arguments.length?(h=B,l):h},function(B){return i=B,e=B(t),r=B(A),n=e===r?0:1/(r-e),l}}function $i(t,A){return A.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Q_(){var t=Xi(Ff()(dr));return t.copy=function(){return $i(t,Q_())},wi.apply(t,arguments)}function F_(){var t=aB(Ff()).domain([1,10]);return t.copy=function(){return $i(t,F_()).base(t.base())},wi.apply(t,arguments)}function U_(){var t=oB(Ff());return t.copy=function(){return $i(t,U_()).constant(t.constant())},wi.apply(t,arguments)}function _B(){var t=sB(Ff());return t.copy=function(){return $i(t,_B()).exponent(t.exponent())},wi.apply(t,arguments)}function JU(){return _B.apply(null,arguments).exponent(.5)}function E_(){var t=[],A=dr;function e(r){if(null!=r&&!isNaN(r=+r))return A((st(t,r,1)-1)/(t.length-1))}return e.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let n of r)null!=n&&!isNaN(n=+n)&&t.push(n);return t.sort(H),e},e.interpolator=function(r){return arguments.length?(A=r,e):A},e.range=function(){return t.map((r,n)=>A(n/(t.length-1)))},e.quantiles=function(r){return Array.from({length:r+1},(n,i)=>Je(t,i/r))},e.copy=function(){return E_(A).domain(t)},wi.apply(e,arguments)}function Uf(){var n,i,a,s,h,g,p,t=0,A=.5,e=1,r=1,l=dr,B=!1;function w(v){return isNaN(v=+v)?p:(v=.5+((v=+g(v))-i)*(r*v<r*i?s:h),l(B?Math.max(0,Math.min(1,v)):v))}function F(v){return function(y){var Q,I,T;return arguments.length?([Q,I,T]=y,l=mw(v,[Q,I,T]),w):[l(0),l(.5),l(1)]}}return w.domain=function(v){return arguments.length?([t,A,e]=v,n=g(t=+t),i=g(A=+A),a=g(e=+e),s=n===i?0:.5/(i-n),h=i===a?0:.5/(a-i),r=i<n?-1:1,w):[t,A,e]},w.clamp=function(v){return arguments.length?(B=!!v,w):B},w.interpolator=function(v){return arguments.length?(l=v,w):l},w.range=F(kn),w.rangeRound=F(gf),w.unknown=function(v){return arguments.length?(p=v,w):p},function(v){return g=v,n=v(t),i=v(A),a=v(e),s=n===i?0:.5/(i-n),h=i===a?0:.5/(a-i),r=i<n?-1:1,w}}function x_(){var t=Xi(Uf()(dr));return t.copy=function(){return $i(t,x_())},wi.apply(t,arguments)}function T_(){var t=aB(Uf()).domain([.1,1,10]);return t.copy=function(){return $i(t,T_()).base(t.base())},wi.apply(t,arguments)}function I_(){var t=oB(Uf());return t.copy=function(){return $i(t,I_()).constant(t.constant())},wi.apply(t,arguments)}function CB(){var t=sB(Uf());return t.copy=function(){return $i(t,CB()).exponent(t.exponent())},wi.apply(t,arguments)}function jU(){return CB.apply(null,arguments).exponent(.5)}function UA(t){for(var A=t.length/6|0,e=new Array(A),r=0;r<A;)e[r]="#"+t.slice(6*r,6*++r);return e}b_({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const ZU=UA("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),qU=UA("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),tE=UA("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),AE=UA("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),eE=UA("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),rE=UA("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),nE=UA("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),iE=UA("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),aE=UA("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),oE=UA("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),sE=UA("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),jA=t=>iu(t[t.length-1]);var D_=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(UA);const lE=jA(D_);var M_=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(UA);const cE=jA(M_);var k_=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(UA);const uE=jA(k_);var H_=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(UA);const hE=jA(H_);var S_=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(UA);const fE=jA(S_);var P_=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(UA);const dE=jA(P_);var L_=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(UA);const gE=jA(L_);var O_=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(UA);const pE=jA(O_);var K_=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(UA);const BE=jA(K_);var R_=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(UA);const mE=jA(R_);var N_=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(UA);const wE=jA(N_);var V_=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(UA);const _E=jA(V_);var W_=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(UA);const CE=jA(W_);var G_=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(UA);const vE=jA(G_);var z_=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(UA);const yE=jA(z_);var X_=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(UA);const bE=jA(X_);var $_=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(UA);const QE=jA($_);var Y_=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(UA);const FE=jA(Y_);var J_=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(UA);const UE=jA(J_);var j_=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(UA);const EE=jA(j_);var Z_=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(UA);const xE=jA(Z_);var q_=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(UA);const TE=jA(q_);var tC=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(UA);const IE=jA(tC);var AC=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(UA);const DE=jA(AC);var eC=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(UA);const ME=jA(eC);var rC=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(UA);const kE=jA(rC);var nC=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(UA);const HE=jA(nC);function SE(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}const PE=pf(Ze(300,.5,0),Ze(-240,.5,1));var LE=pf(Ze(-100,.75,.35),Ze(80,1.5,.8)),OE=pf(Ze(260,.75,.35),Ze(80,1.5,.8)),Ef=Ze();function KE(t){(t<0||t>1)&&(t-=Math.floor(t));var A=Math.abs(t-.5);return Ef.h=360*t-100,Ef.s=1.5-1.5*A,Ef.l=.8-.9*A,Ef+""}var xf=Si(),RE=Math.PI/3,NE=2*Math.PI/3;function VE(t){var A;return t=(.5-t)*Math.PI,xf.r=255*(A=Math.sin(t))*A,xf.g=255*(A=Math.sin(t+RE))*A,xf.b=255*(A=Math.sin(t+NE))*A,xf+""}function WE(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function Tf(t){var A=t.length;return function(e){return t[Math.max(0,Math.min(A-1,Math.floor(e*A)))]}}const GE=Tf(UA("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var zE=Tf(UA("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),XE=Tf(UA("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),$E=Tf(UA("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function YE(t){return Ie(Ge(t).call(document.documentElement))}var JE=0;function iC(){return new vB}function vB(){this._="@"+(++JE).toString(36)}function jE(t,A){return t.target&&(t=lu(t),void 0===A&&(A=t.currentTarget),t=t.touches||[t]),Array.from(t,e=>nr(e,A))}function ZE(t){return"string"==typeof t?new ze([document.querySelectorAll(t)],[document.documentElement]):new ze([vc(t)],Ms)}function FA(t){return function(){return t}}vB.prototype=iC.prototype={constructor:vB,get:function(t){for(var A=this._;!(A in t);)if(!(t=t.parentNode))return;return t[A]},set:function(t,A){return t[this._]=A},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};const aC=Math.abs,Ar=Math.atan2,bi=Math.cos,qE=Math.max,ps=Math.min,yr=Math.sin,ie=Math.sqrt,er=1e-12,Yi=Math.PI,If=Yi/2,Ji=2*Yi;function oC(t){return t>=1?If:t<=-1?-If:Math.asin(t)}function ic(t){let A=3;return t.digits=function(e){if(!arguments.length)return A;if(null==e)A=null;else{const r=Math.floor(e);if(!(r>=0))throw new RangeError(`invalid digits: ${e}`);A=r}return t},()=>new hn(A)}function Ax(t){return t.innerRadius}function ex(t){return t.outerRadius}function rx(t){return t.startAngle}function nx(t){return t.endAngle}function ix(t){return t&&t.padAngle}function Df(t,A,e,r,n,i,a){var s=t-e,h=A-r,l=(a?i:-i)/ie(s*s+h*h),g=l*h,B=-l*s,p=t+g,w=A+B,F=e+g,v=r+B,y=(p+F)/2,Q=(w+v)/2,I=F-p,T=v-w,x=I*I+T*T,k=n-i,K=p*v-F*w,N=(T<0?-1:1)*ie(qE(0,k*k*x-K*K)),Y=(K*T-I*N)/x,q=(-K*I-T*N)/x,tt=(K*T+I*N)/x,J=(-K*I+T*N)/x,lt=Y-y,at=q-Q,M=tt-y,O=J-Q;return lt*lt+at*at>M*M+O*O&&(Y=tt,q=J),{cx:Y,cy:q,x01:-g,y01:-B,x11:Y*(n/k-1),y11:q*(n/k-1)}}function ox(){var t=Ax,A=ex,e=FA(0),r=null,n=rx,i=nx,a=ix,s=null,h=ic(l);function l(){var g,B,p=+t.apply(this,arguments),w=+A.apply(this,arguments),F=n.apply(this,arguments)-If,v=i.apply(this,arguments)-If,y=aC(v-F),Q=v>F;if(s||(s=g=h()),w<p&&(B=w,w=p,p=B),w>er)if(y>Ji-er)s.moveTo(w*bi(F),w*yr(F)),s.arc(0,0,w,F,v,!Q),p>er&&(s.moveTo(p*bi(v),p*yr(v)),s.arc(0,0,p,v,F,Q));else{var at,M,I=F,T=v,x=F,k=v,K=y,N=y,Y=a.apply(this,arguments)/2,q=Y>er&&(r?+r.apply(this,arguments):ie(p*p+w*w)),tt=ps(aC(w-p)/2,+e.apply(this,arguments)),J=tt,lt=tt;if(q>er){var O=oC(q/p*yr(Y)),R=oC(q/w*yr(Y));(K-=2*O)>er?(x+=O*=Q?1:-1,k-=O):(K=0,x=k=(F+v)/2),(N-=2*R)>er?(I+=R*=Q?1:-1,T-=R):(N=0,I=T=(F+v)/2)}var et=w*bi(I),W=w*yr(I),Z=p*bi(k),X=p*yr(k);if(tt>er){var bt,it=w*bi(T),ht=w*yr(T),wt=p*bi(x),pt=p*yr(x);if(y<Yi)if(bt=function ax(t,A,e,r,n,i,a,s){var h=e-t,l=r-A,g=a-n,B=s-i,p=B*h-g*l;if(!(p*p<er))return[t+(p=(g*(A-i)-B*(t-n))/p)*h,A+p*l]}(et,W,wt,pt,it,ht,Z,X)){var Dt=et-bt[0],Ut=W-bt[1],Lt=it-bt[0],Ft=ht-bt[1],It=1/yr(function tx(t){return t>1?0:t<-1?Yi:Math.acos(t)}((Dt*Lt+Ut*Ft)/(ie(Dt*Dt+Ut*Ut)*ie(Lt*Lt+Ft*Ft)))/2),kt=ie(bt[0]*bt[0]+bt[1]*bt[1]);J=ps(tt,(p-kt)/(It-1)),lt=ps(tt,(w-kt)/(It+1))}else J=lt=0}N>er?lt>er?(at=Df(wt,pt,et,W,w,lt,Q),M=Df(it,ht,Z,X,w,lt,Q),s.moveTo(at.cx+at.x01,at.cy+at.y01),lt<tt?s.arc(at.cx,at.cy,lt,Ar(at.y01,at.x01),Ar(M.y01,M.x01),!Q):(s.arc(at.cx,at.cy,lt,Ar(at.y01,at.x01),Ar(at.y11,at.x11),!Q),s.arc(0,0,w,Ar(at.cy+at.y11,at.cx+at.x11),Ar(M.cy+M.y11,M.cx+M.x11),!Q),s.arc(M.cx,M.cy,lt,Ar(M.y11,M.x11),Ar(M.y01,M.x01),!Q))):(s.moveTo(et,W),s.arc(0,0,w,I,T,!Q)):s.moveTo(et,W),p>er&&K>er?J>er?(at=Df(Z,X,it,ht,p,-J,Q),M=Df(et,W,wt,pt,p,-J,Q),s.lineTo(at.cx+at.x01,at.cy+at.y01),J<tt?s.arc(at.cx,at.cy,J,Ar(at.y01,at.x01),Ar(M.y01,M.x01),!Q):(s.arc(at.cx,at.cy,J,Ar(at.y01,at.x01),Ar(at.y11,at.x11),!Q),s.arc(0,0,p,Ar(at.cy+at.y11,at.cx+at.x11),Ar(M.cy+M.y11,M.cx+M.x11),Q),s.arc(M.cx,M.cy,J,Ar(M.y11,M.x11),Ar(M.y01,M.x01),!Q))):s.arc(0,0,p,k,x,Q):s.lineTo(Z,X)}else s.moveTo(0,0);if(s.closePath(),g)return s=null,g+""||null}return l.centroid=function(){var g=(+t.apply(this,arguments)+ +A.apply(this,arguments))/2,B=(+n.apply(this,arguments)+ +i.apply(this,arguments))/2-Yi/2;return[bi(B)*g,yr(B)*g]},l.innerRadius=function(g){return arguments.length?(t="function"==typeof g?g:FA(+g),l):t},l.outerRadius=function(g){return arguments.length?(A="function"==typeof g?g:FA(+g),l):A},l.cornerRadius=function(g){return arguments.length?(e="function"==typeof g?g:FA(+g),l):e},l.padRadius=function(g){return arguments.length?(r=null==g?null:"function"==typeof g?g:FA(+g),l):r},l.startAngle=function(g){return arguments.length?(n="function"==typeof g?g:FA(+g),l):n},l.endAngle=function(g){return arguments.length?(i="function"==typeof g?g:FA(+g),l):i},l.padAngle=function(g){return arguments.length?(a="function"==typeof g?g:FA(+g),l):a},l.context=function(g){return arguments.length?(s=g??null,l):s},l}var sx=Array.prototype.slice;function Mf(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function sC(t){this._context=t}function kf(t){return new sC(t)}function yB(t){return t[0]}function bB(t){return t[1]}function QB(t,A){var e=FA(!0),r=null,n=kf,i=null,a=ic(s);function s(h){var l,B,w,g=(h=Mf(h)).length,p=!1;for(null==r&&(i=n(w=a())),l=0;l<=g;++l)!(l<g&&e(B=h[l],l,h))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+t(B,l,h),+A(B,l,h));if(w)return i=null,w+""||null}return t="function"==typeof t?t:void 0===t?yB:FA(t),A="function"==typeof A?A:void 0===A?bB:FA(A),s.x=function(h){return arguments.length?(t="function"==typeof h?h:FA(+h),s):t},s.y=function(h){return arguments.length?(A="function"==typeof h?h:FA(+h),s):A},s.defined=function(h){return arguments.length?(e="function"==typeof h?h:FA(!!h),s):e},s.curve=function(h){return arguments.length?(n=h,null!=r&&(i=n(r)),s):n},s.context=function(h){return arguments.length?(null==h?r=i=null:i=n(r=h),s):r},s}function lC(t,A,e){var r=null,n=FA(!0),i=null,a=kf,s=null,h=ic(l);function l(B){var p,w,F,y,I,v=(B=Mf(B)).length,Q=!1,T=new Array(v),x=new Array(v);for(null==i&&(s=a(I=h())),p=0;p<=v;++p){if(!(p<v&&n(y=B[p],p,B))===Q)if(Q=!Q)w=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),F=p-1;F>=w;--F)s.point(T[F],x[F]);s.lineEnd(),s.areaEnd()}Q&&(T[p]=+t(y,p,B),x[p]=+A(y,p,B),s.point(r?+r(y,p,B):T[p],e?+e(y,p,B):x[p]))}if(I)return s=null,I+""||null}function g(){return QB().defined(n).curve(a).context(i)}return t="function"==typeof t?t:void 0===t?yB:FA(+t),A="function"==typeof A?A:FA(void 0===A?0:+A),e="function"==typeof e?e:void 0===e?bB:FA(+e),l.x=function(B){return arguments.length?(t="function"==typeof B?B:FA(+B),r=null,l):t},l.x0=function(B){return arguments.length?(t="function"==typeof B?B:FA(+B),l):t},l.x1=function(B){return arguments.length?(r=null==B?null:"function"==typeof B?B:FA(+B),l):r},l.y=function(B){return arguments.length?(A="function"==typeof B?B:FA(+B),e=null,l):A},l.y0=function(B){return arguments.length?(A="function"==typeof B?B:FA(+B),l):A},l.y1=function(B){return arguments.length?(e=null==B?null:"function"==typeof B?B:FA(+B),l):e},l.lineX0=l.lineY0=function(){return g().x(t).y(A)},l.lineY1=function(){return g().x(t).y(e)},l.lineX1=function(){return g().x(r).y(A)},l.defined=function(B){return arguments.length?(n="function"==typeof B?B:FA(!!B),l):n},l.curve=function(B){return arguments.length?(a=B,null!=i&&(s=a(i)),l):a},l.context=function(B){return arguments.length?(null==B?i=s=null:s=a(i=B),l):i},l}function lx(t,A){return A<t?-1:A>t?1:A>=t?0:NaN}function cx(t){return t}function ux(){var t=cx,A=lx,e=null,r=FA(0),n=FA(Ji),i=FA(0);function a(s){var h,g,B,Q,x,l=(s=Mf(s)).length,p=0,w=new Array(l),F=new Array(l),v=+r.apply(this,arguments),y=Math.min(Ji,Math.max(-Ji,n.apply(this,arguments)-v)),I=Math.min(Math.abs(y)/l,i.apply(this,arguments)),T=I*(y<0?-1:1);for(h=0;h<l;++h)(x=F[w[h]=h]=+t(s[h],h,s))>0&&(p+=x);for(null!=A?w.sort(function(k,K){return A(F[k],F[K])}):null!=e&&w.sort(function(k,K){return e(s[k],s[K])}),h=0,B=p?(y-l*T)/p:0;h<l;++h,v=Q)F[g=w[h]]={data:s[g],index:h,value:x=F[g],startAngle:v,endAngle:Q=v+(x>0?x*B:0)+T,padAngle:I};return F}return a.value=function(s){return arguments.length?(t="function"==typeof s?s:FA(+s),a):t},a.sortValues=function(s){return arguments.length?(A=s,e=null,a):A},a.sort=function(s){return arguments.length?(e=s,A=null,a):e},a.startAngle=function(s){return arguments.length?(r="function"==typeof s?s:FA(+s),a):r},a.endAngle=function(s){return arguments.length?(n="function"==typeof s?s:FA(+s),a):n},a.padAngle=function(s){return arguments.length?(i="function"==typeof s?s:FA(+s),a):i},a}sC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,A){switch(t=+t,A=+A,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,A):this._context.moveTo(t,A);break;case 1:this._point=2;default:this._context.lineTo(t,A)}}};var cC=FB(kf);function uC(t){this._curve=t}function FB(t){function A(e){return new uC(t(e))}return A._curve=t,A}function ac(t){var A=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(e){return arguments.length?A(FB(e)):A()._curve},t}function hC(){return ac(QB().curve(cC))}function fC(){var t=lC().curve(cC),A=t.curve,e=t.lineX0,r=t.lineX1,n=t.lineY0,i=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return ac(e())},delete t.lineX0,t.lineEndAngle=function(){return ac(r())},delete t.lineX1,t.lineInnerRadius=function(){return ac(n())},delete t.lineY0,t.lineOuterRadius=function(){return ac(i())},delete t.lineY1,t.curve=function(a){return arguments.length?A(FB(a)):A()._curve},t}function oc(t,A){return[(A=+A)*Math.cos(t-=Math.PI/2),A*Math.sin(t)]}uC.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,A){this._curve.point(A*Math.sin(t),A*-Math.cos(t))}};class dC{constructor(A,e){this._context=A,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(A,e){switch(A=+A,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(A,e):this._context.moveTo(A,e);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+A)/2,this._y0,this._x0,e,A,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,A,this._y0,A,e)}this._x0=A,this._y0=e}}class hx{constructor(A){this._context=A}lineStart(){this._point=0}lineEnd(){}point(A,e){if(A=+A,e=+e,0===this._point)this._point=1;else{const r=oc(this._x0,this._y0),n=oc(this._x0,this._y0=(this._y0+e)/2),i=oc(A,this._y0),a=oc(A,e);this._context.moveTo(...r),this._context.bezierCurveTo(...n,...i,...a)}this._x0=A,this._y0=e}}function gC(t){return new dC(t,!0)}function pC(t){return new dC(t,!1)}function fx(t){return new hx(t)}function dx(t){return t.source}function gx(t){return t.target}function Hf(t){let A=dx,e=gx,r=yB,n=bB,i=null,a=null,s=ic(h);function h(){let l;const g=sx.call(arguments),B=A.apply(this,g),p=e.apply(this,g);if(null==i&&(a=t(l=s())),a.lineStart(),g[0]=B,a.point(+r.apply(this,g),+n.apply(this,g)),g[0]=p,a.point(+r.apply(this,g),+n.apply(this,g)),a.lineEnd(),l)return a=null,l+""||null}return h.source=function(l){return arguments.length?(A=l,h):A},h.target=function(l){return arguments.length?(e=l,h):e},h.x=function(l){return arguments.length?(r="function"==typeof l?l:FA(+l),h):r},h.y=function(l){return arguments.length?(n="function"==typeof l?l:FA(+l),h):n},h.context=function(l){return arguments.length?(null==l?i=a=null:a=t(i=l),h):i},h}function px(){return Hf(gC)}function Bx(){return Hf(pC)}function mx(){const t=Hf(fx);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const wx=ie(3),BC={draw(t,A){const e=.59436*ie(A+ps(A/28,.75)),r=e/2,n=r*wx;t.moveTo(0,e),t.lineTo(0,-e),t.moveTo(-n,-r),t.lineTo(n,r),t.moveTo(-n,r),t.lineTo(n,-r)}},Sf={draw(t,A){const e=ie(A/Yi);t.moveTo(e,0),t.arc(0,0,e,0,Ji)}},mC={draw(t,A){const e=ie(A/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},wC=ie(1/3),_x=2*wC,_C={draw(t,A){const e=ie(A/_x),r=e*wC;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},CC={draw(t,A){const e=.62625*ie(A);t.moveTo(0,-e),t.lineTo(e,0),t.lineTo(0,e),t.lineTo(-e,0),t.closePath()}},vC={draw(t,A){const e=.87559*ie(A-ps(A/7,2));t.moveTo(-e,0),t.lineTo(e,0),t.moveTo(0,e),t.lineTo(0,-e)}},yC={draw(t,A){const e=ie(A),r=-e/2;t.rect(r,r,e,e)}},bC={draw(t,A){const e=.4431*ie(A);t.moveTo(e,e),t.lineTo(e,-e),t.lineTo(-e,-e),t.lineTo(-e,e),t.closePath()}},QC=yr(Yi/10)/yr(7*Yi/10),vx=yr(Ji/10)*QC,yx=-bi(Ji/10)*QC,FC={draw(t,A){const e=ie(.8908130915292852*A),r=vx*e,n=yx*e;t.moveTo(0,-e),t.lineTo(r,n);for(let i=1;i<5;++i){const a=Ji*i/5,s=bi(a),h=yr(a);t.lineTo(h*e,-s*e),t.lineTo(s*r-h*n,h*r+s*n)}t.closePath()}},UB=ie(3),UC={draw(t,A){const e=-ie(A/(3*UB));t.moveTo(0,2*e),t.lineTo(-UB*e,-e),t.lineTo(UB*e,-e),t.closePath()}},bx=ie(3),EC={draw(t,A){const e=.6824*ie(A),r=e/2,n=e*bx/2;t.moveTo(0,-e),t.lineTo(n,r),t.lineTo(-n,r),t.closePath()}},An=-.5,en=ie(3)/2,EB=1/ie(12),Qx=3*(EB/2+1),xC={draw(t,A){const e=ie(A/Qx),r=e/2,n=e*EB,i=r,a=e*EB+e,s=-i,h=a;t.moveTo(r,n),t.lineTo(i,a),t.lineTo(s,h),t.lineTo(An*r-en*n,en*r+An*n),t.lineTo(An*i-en*a,en*i+An*a),t.lineTo(An*s-en*h,en*s+An*h),t.lineTo(An*r+en*n,An*n-en*r),t.lineTo(An*i+en*a,An*a-en*i),t.lineTo(An*s+en*h,An*h-en*s),t.closePath()}},xB={draw(t,A){const e=.6189*ie(A-ps(A/6,1.7));t.moveTo(-e,-e),t.lineTo(e,e),t.moveTo(-e,e),t.lineTo(e,-e)}},TC=[Sf,mC,_C,yC,FC,UC,xC],Fx=[Sf,vC,xB,EC,BC,bC,CC];function Ux(t,A){let e=null,r=ic(n);function n(){let i;if(e||(e=i=r()),t.apply(this,arguments).draw(e,+A.apply(this,arguments)),i)return e=null,i+""||null}return t="function"==typeof t?t:FA(t||Sf),A="function"==typeof A?A:FA(void 0===A?64:+A),n.type=function(i){return arguments.length?(t="function"==typeof i?i:FA(i),n):t},n.size=function(i){return arguments.length?(A="function"==typeof i?i:FA(+i),n):A},n.context=function(i){return arguments.length?(e=i??null,n):e},n}function ji(){}function Pf(t,A,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+A)/6,(t._y0+4*t._y1+e)/6)}function Lf(t){this._context=t}function Ex(t){return new Lf(t)}function IC(t){this._context=t}function xx(t){return new IC(t)}function DC(t){this._context=t}function Tx(t){return new DC(t)}function MC(t,A){this._basis=new Lf(t),this._beta=A}Lf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Pf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,A){switch(t=+t,A=+A,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,A):this._context.moveTo(t,A);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Pf(this,t,A)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=A}},IC.prototype={areaStart:ji,areaEnd:ji,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,A){switch(t=+t,A=+A,this._point){case 0:this._point=1,this._x2=t,this._y2=A;break;case 1:this._point=2,this._x3=t,this._y3=A;break;case 2:this._point=3,this._x4=t,this._y4=A,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+A)/6);break;default:Pf(this,t,A)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=A}},DC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,A){switch(t=+t,A=+A,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+A)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:Pf(this,t,A)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=A}},MC.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,A=this._y,e=t.length-1;if(e>0)for(var h,r=t[0],n=A[0],i=t[e]-r,a=A[e]-n,s=-1;++s<=e;)this._basis.point(this._beta*t[s]+(1-this._beta)*(r+(h=s/e)*i),this._beta*A[s]+(1-this._beta)*(n+h*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,A){this._x.push(+t),this._y.push(+A)}};const Ix=function t(A){function e(r){return 1===A?new Lf(r):new MC(r,A)}return e.beta=function(r){return t(+r)},e}(.85);function Of(t,A,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-A),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function TB(t,A){this._context=t,this._k=(1-A)/6}TB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Of(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,A){switch(t=+t,A=+A,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,A):this._context.moveTo(t,A);break;case 1:this._point=2,this._x1=t,this._y1=A;break;case 2:this._point=3;default:Of(this,t,A)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=A}};const Dx=function t(A){function e(r){return new TB(r,A)}return e.tension=function(r){return t(+r)},e}(0);function IB(t,A){this._context=t,this._k=(1-A)/6}IB.prototype={areaStart:ji,areaEnd:ji,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,A){switch(t=+t,A=+A,this._point){case 0:this._point=1,this._x3=t,this._y3=A;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=A);break;case 2:this._point=3,this._x5=t,this._y5=A;break;default:Of(this,t,A)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=A}};const Mx=function t(A){function e(r){return new IB(r,A)}return e.tension=function(r){return t(+r)},e}(0);function DB(t,A){this._context=t,this._k=(1-A)/6}DB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,A){switch(t=+t,A=+A,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Of(this,t,A)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=A}};const kx=function t(A){function e(r){return new DB(r,A)}return e.tension=function(r){return t(+r)},e}(0);function MB(t,A,e){var r=t._x1,n=t._y1,i=t._x2,a=t._y2;if(t._l01_a>er){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,h=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/h,n=(n*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/h}if(t._l23_a>er){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,g=3*t._l23_a*(t._l23_a+t._l12_a);i=(i*l+t._x1*t._l23_2a-A*t._l12_2a)/g,a=(a*l+t._y1*t._l23_2a-e*t._l12_2a)/g}t._context.bezierCurveTo(r,n,i,a,t._x2,t._y2)}function kC(t,A){this._context=t,this._alpha=A}kC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,A){if(t=+t,A=+A,this._point){var e=this._x2-t,r=this._y2-A;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,A):this._context.moveTo(t,A);break;case 1:this._point=2;break;case 2:this._point=3;default:MB(this,t,A)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=A}};const Hx=function t(A){function e(r){return A?new kC(r,A):new TB(r,0)}return e.alpha=function(r){return t(+r)},e}(.5);function HC(t,A){this._context=t,this._alpha=A}HC.prototype={areaStart:ji,areaEnd:ji,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,A){if(t=+t,A=+A,this._point){var e=this._x2-t,r=this._y2-A;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=A;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=A);break;case 2:this._point=3,this._x5=t,this._y5=A;break;default:MB(this,t,A)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=A}};const Sx=function t(A){function e(r){return A?new HC(r,A):new IB(r,0)}return e.alpha=function(r){return t(+r)},e}(.5);function SC(t,A){this._context=t,this._alpha=A}SC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,A){if(t=+t,A=+A,this._point){var e=this._x2-t,r=this._y2-A;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:MB(this,t,A)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=A}};const Px=function t(A){function e(r){return A?new SC(r,A):new DB(r,0)}return e.alpha=function(r){return t(+r)},e}(.5);function PC(t){this._context=t}function Lx(t){return new PC(t)}function LC(t){return t<0?-1:1}function OC(t,A,e){var r=t._x1-t._x0,n=A-t._x1,i=(t._y1-t._y0)/(r||n<0&&-0),a=(e-t._y1)/(n||r<0&&-0),s=(i*n+a*r)/(r+n);return(LC(i)+LC(a))*Math.min(Math.abs(i),Math.abs(a),.5*Math.abs(s))||0}function KC(t,A){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-A)/2:A}function kB(t,A,e){var r=t._x0,i=t._x1,a=t._y1,s=(i-r)/3;t._context.bezierCurveTo(r+s,t._y0+s*A,i-s,a-s*e,i,a)}function Kf(t){this._context=t}function RC(t){this._context=new NC(t)}function NC(t){this._context=t}function Ox(t){return new Kf(t)}function Kx(t){return new RC(t)}function VC(t){this._context=t}function WC(t){var A,r,e=t.length-1,n=new Array(e),i=new Array(e),a=new Array(e);for(n[0]=0,i[0]=2,a[0]=t[0]+2*t[1],A=1;A<e-1;++A)n[A]=1,i[A]=4,a[A]=4*t[A]+2*t[A+1];for(n[e-1]=2,i[e-1]=7,a[e-1]=8*t[e-1]+t[e],A=1;A<e;++A)i[A]-=r=n[A]/i[A-1],a[A]-=r*a[A-1];for(n[e-1]=a[e-1]/i[e-1],A=e-2;A>=0;--A)n[A]=(a[A]-n[A+1])/i[A];for(i[e-1]=(t[e]+n[e-1])/2,A=0;A<e-1;++A)i[A]=2*t[A+1]-n[A+1];return[n,i]}function Rx(t){return new VC(t)}function Rf(t,A){this._context=t,this._t=A}function Nx(t){return new Rf(t,.5)}function Vx(t){return new Rf(t,0)}function Wx(t){return new Rf(t,1)}function Bs(t,A){if((a=t.length)>1)for(var r,n,a,e=1,i=t[A[0]],s=i.length;e<a;++e)for(n=i,i=t[A[e]],r=0;r<s;++r)i[r][1]+=i[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}function ms(t){for(var A=t.length,e=new Array(A);--A>=0;)e[A]=A;return e}function Gx(t,A){return t[A]}function zx(t){const A=[];return A.key=t,A}function Xx(){var t=FA([]),A=ms,e=Bs,r=Gx;function n(i){var s,g,a=Array.from(t.apply(this,arguments),zx),h=a.length,l=-1;for(const B of i)for(s=0,++l;s<h;++s)(a[s][l]=[0,+r(B,a[s].key,l,i)]).data=B;for(s=0,g=Mf(A(a));s<h;++s)a[g[s]].index=s;return e(a,g),a}return n.keys=function(i){return arguments.length?(t="function"==typeof i?i:FA(Array.from(i)),n):t},n.value=function(i){return arguments.length?(r="function"==typeof i?i:FA(+i),n):r},n.order=function(i){return arguments.length?(A=null==i?ms:"function"==typeof i?i:FA(Array.from(i)),n):A},n.offset=function(i){return arguments.length?(e=i??Bs,n):e},n}function $x(t,A){if((r=t.length)>0){for(var e,r,a,n=0,i=t[0].length;n<i;++n){for(a=e=0;e<r;++e)a+=t[e][n][1]||0;if(a)for(e=0;e<r;++e)t[e][n][1]/=a}Bs(t,A)}}function Yx(t,A){if((h=t.length)>0)for(var e,n,i,a,s,h,r=0,l=t[A[0]].length;r<l;++r)for(a=s=0,e=0;e<h;++e)(i=(n=t[A[e]][r])[1]-n[0])>0?(n[0]=a,n[1]=a+=i):i<0?(n[1]=s,n[0]=s+=i):(n[0]=0,n[1]=i)}function Jx(t,A){if((n=t.length)>0){for(var n,e=0,r=t[A[0]],i=r.length;e<i;++e){for(var a=0,s=0;a<n;++a)s+=t[a][e][1]||0;r[e][1]+=r[e][0]=-s/2}Bs(t,A)}}function jx(t,A){if((a=t.length)>0&&(i=(n=t[A[0]]).length)>0){for(var n,i,a,e=0,r=1;r<i;++r){for(var s=0,h=0,l=0;s<a;++s){for(var g=t[A[s]],B=g[r][1]||0,w=(B-(g[r-1][1]||0))/2,F=0;F<s;++F){var v=t[A[F]];w+=(v[r][1]||0)-(v[r-1][1]||0)}h+=B,l+=w*B}n[r-1][1]+=n[r-1][0]=e,h&&(e-=l/h)}n[r-1][1]+=n[r-1][0]=e,Bs(t,A)}}function GC(t){var A=t.map(Zx);return ms(t).sort(function(e,r){return A[e]-A[r]})}function Zx(t){for(var n,A=-1,e=0,r=t.length,i=-1/0;++A<r;)(n=+t[A][1])>i&&(i=n,e=A);return e}function zC(t){var A=t.map(XC);return ms(t).sort(function(e,r){return A[e]-A[r]})}function XC(t){for(var n,A=0,e=-1,r=t.length;++e<r;)(n=+t[e][1])&&(A+=n);return A}function qx(t){return zC(t).reverse()}function t4(t){var e,r,A=t.length,n=t.map(XC),i=GC(t),a=0,s=0,h=[],l=[];for(e=0;e<A;++e)r=i[e],a<s?(a+=n[r],h.push(r)):(s+=n[r],l.push(r));return l.reverse().concat(h)}function A4(t){return ms(t).reverse()}PC.prototype={areaStart:ji,areaEnd:ji,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,A){t=+t,A=+A,this._point?this._context.lineTo(t,A):(this._point=1,this._context.moveTo(t,A))}},Kf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:kB(this,this._t0,KC(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,A){var e=NaN;if(A=+A,(t=+t)!==this._x1||A!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,A):this._context.moveTo(t,A);break;case 1:this._point=2;break;case 2:this._point=3,kB(this,KC(this,e=OC(this,t,A)),e);break;default:kB(this,this._t0,e=OC(this,t,A))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=A,this._t0=e}}},(RC.prototype=Object.create(Kf.prototype)).point=function(t,A){Kf.prototype.point.call(this,A,t)},NC.prototype={moveTo:function(t,A){this._context.moveTo(A,t)},closePath:function(){this._context.closePath()},lineTo:function(t,A){this._context.lineTo(A,t)},bezierCurveTo:function(t,A,e,r,n,i){this._context.bezierCurveTo(A,t,r,e,i,n)}},VC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,A=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],A[0]):this._context.moveTo(t[0],A[0]),2===e)this._context.lineTo(t[1],A[1]);else for(var r=WC(t),n=WC(A),i=0,a=1;a<e;++i,++a)this._context.bezierCurveTo(r[0][i],n[0][i],r[1][i],n[1][i],t[a],A[a]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,A){this._x.push(+t),this._y.push(+A)}},Rf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,A){switch(t=+t,A=+A,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,A):this._context.moveTo(t,A);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,A),this._context.lineTo(t,A);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,A)}}this._x=t,this._y=A}};var $C="%Y-%m-%dT%H:%M:%S.%LZ";const n4=Date.prototype.toISOString?function e4(t){return t.toISOString()}:Qf($C),o4=+new Date("2000-01-01T00:00:00.000Z")?function i4(t){var A=new Date(t);return isNaN(A)?null:A}:mB($C);function s4(t,A,e){var r=new va,n=A;return null==A?(r.restart(t,A,e),r):(r._restart=r.restart,r.restart=function(i,a,s){a=+a,s=null==s?Ca():+s,r._restart(function h(l){l+=n,r._restart(h,n+=a,s),i(l)},a,s)},r.restart(t,A,e),r)}const Nf=t=>()=>t;function l4(t,{sourceEvent:A,target:e,transform:r,dispatch:n}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:A,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:n}})}function Yn(t,A,e){this.k=t,this.x=A,this.y=e}Yn.prototype={constructor:Yn,scale:function(t){return 1===t?this:new Yn(this.k*t,this.x,this.y)},translate:function(t,A){return 0===t&0===A?this:new Yn(this.k,this.x+this.k*t,this.y+this.k*A)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Vf=new Yn(1,0,0);function YC(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Vf;return t.__zoom}function HB(t){t.stopImmediatePropagation()}function sc(t){t.preventDefault(),t.stopImmediatePropagation()}function c4(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function u4(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function JC(){return this.__zoom||Vf}function h4(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function f4(){return navigator.maxTouchPoints||"ontouchstart"in this}function d4(t,A,e){var r=t.invertX(A[0][0])-e[0][0],n=t.invertX(A[1][0])-e[1][0],i=t.invertY(A[0][1])-e[0][1],a=t.invertY(A[1][1])-e[1][1];return t.translate(n>r?(r+n)/2:Math.min(0,r)||Math.max(0,n),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function g4(){var g,B,p,t=c4,A=u4,e=d4,r=h4,n=f4,i=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,h=dw,l=xi("start","zoom","end"),v=0,y=10;function Q(M){M.property("__zoom",JC).on("wheel.zoom",Y,{passive:!1}).on("mousedown.zoom",q).on("dblclick.zoom",tt).filter(n).on("touchstart.zoom",J).on("touchmove.zoom",lt).on("touchend.zoom touchcancel.zoom",at).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function I(M,O){return(O=Math.max(i[0],Math.min(i[1],O)))===M.k?M:new Yn(O,M.x,M.y)}function T(M,O,R){var et=O[0]-R[0]*M.k,W=O[1]-R[1]*M.k;return et===M.x&&W===M.y?M:new Yn(M.k,et,W)}function x(M){return[(+M[0][0]+ +M[1][0])/2,(+M[0][1]+ +M[1][1])/2]}function k(M,O,R,et){M.on("start.zoom",function(){K(this,arguments).event(et).start()}).on("interrupt.zoom end.zoom",function(){K(this,arguments).event(et).end()}).tween("zoom",function(){var W=this,Z=arguments,X=K(W,Z).event(et),it=A.apply(W,Z),ht=null==R?x(it):"function"==typeof R?R.apply(W,Z):R,wt=Math.max(it[1][0]-it[0][0],it[1][1]-it[0][1]),pt=W.__zoom,bt="function"==typeof O?O.apply(W,Z):O,Dt=h(pt.invert(ht).concat(wt/pt.k),bt.invert(ht).concat(wt/bt.k));return function(Ut){if(1===Ut)Ut=bt;else{var Lt=Dt(Ut),Ft=wt/Lt[2];Ut=new Yn(Ft,ht[0]-Lt[0]*Ft,ht[1]-Lt[1]*Ft)}X.zoom(null,Ut)}})}function K(M,O,R){return!R&&M.__zooming||new N(M,O)}function N(M,O){this.that=M,this.args=O,this.active=0,this.sourceEvent=null,this.extent=A.apply(M,O),this.taps=0}function Y(M,...O){if(t.apply(this,arguments)){var R=K(this,O).event(M),et=this.__zoom,W=Math.max(i[0],Math.min(i[1],et.k*Math.pow(2,r.apply(this,arguments)))),Z=nr(M);if(R.wheel)(R.mouse[0][0]!==Z[0]||R.mouse[0][1]!==Z[1])&&(R.mouse[1]=et.invert(R.mouse[0]=Z)),clearTimeout(R.wheel);else{if(et.k===W)return;R.mouse=[Z,et.invert(Z)],Le(this),R.start()}sc(M),R.wheel=setTimeout(function X(){R.wheel=null,R.end()},150),R.zoom("mouse",e(T(I(et,W),R.mouse[0],R.mouse[1]),R.extent,a))}}function q(M,...O){if(!p&&t.apply(this,arguments)){var R=M.currentTarget,et=K(this,O,!0).event(M),W=Ie(M.view).on("mousemove.zoom",function ht(pt){if(sc(pt),!et.moved){var bt=pt.clientX-X,Dt=pt.clientY-it;et.moved=bt*bt+Dt*Dt>v}et.event(pt).zoom("mouse",e(T(et.that.__zoom,et.mouse[0]=nr(pt,R),et.mouse[1]),et.extent,a))},!0).on("mouseup.zoom",function wt(pt){W.on("mousemove.zoom mouseup.zoom",null),da(pt.view,et.moved),sc(pt),et.event(pt).end()},!0),Z=nr(M,R),X=M.clientX,it=M.clientY;fa(M.view),HB(M),et.mouse=[Z,this.__zoom.invert(Z)],Le(this),et.start()}}function tt(M,...O){if(t.apply(this,arguments)){var R=this.__zoom,et=nr(M.changedTouches?M.changedTouches[0]:M,this),W=R.invert(et),X=e(T(I(R,R.k*(M.shiftKey?.5:2)),et,W),A.apply(this,O),a);sc(M),s>0?Ie(this).transition().duration(s).call(k,X,et,M):Ie(this).call(Q.transform,X,et,M)}}function J(M,...O){if(t.apply(this,arguments)){var Z,X,it,ht,R=M.touches,et=R.length,W=K(this,O,M.changedTouches.length===et).event(M);for(HB(M),X=0;X<et;++X)ht=[ht=nr(it=R[X],this),this.__zoom.invert(ht),it.identifier],W.touch0?!W.touch1&&W.touch0[2]!==ht[2]&&(W.touch1=ht,W.taps=0):(W.touch0=ht,Z=!0,W.taps=1+!!g);g&&(g=clearTimeout(g)),Z&&(W.taps<2&&(B=ht[0],g=setTimeout(function(){g=null},500)),Le(this),W.start())}}function lt(M,...O){if(this.__zooming){var Z,X,it,ht,R=K(this,O).event(M),et=M.changedTouches,W=et.length;for(sc(M),Z=0;Z<W;++Z)it=nr(X=et[Z],this),R.touch0&&R.touch0[2]===X.identifier?R.touch0[0]=it:R.touch1&&R.touch1[2]===X.identifier&&(R.touch1[0]=it);if(X=R.that.__zoom,R.touch1){var wt=R.touch0[0],pt=R.touch0[1],bt=R.touch1[0],Dt=R.touch1[1],Ut=(Ut=bt[0]-wt[0])*Ut+(Ut=bt[1]-wt[1])*Ut,Lt=(Lt=Dt[0]-pt[0])*Lt+(Lt=Dt[1]-pt[1])*Lt;X=I(X,Math.sqrt(Ut/Lt)),it=[(wt[0]+bt[0])/2,(wt[1]+bt[1])/2],ht=[(pt[0]+Dt[0])/2,(pt[1]+Dt[1])/2]}else{if(!R.touch0)return;it=R.touch0[0],ht=R.touch0[1]}R.zoom("touch",e(T(X,it,ht),R.extent,a))}}function at(M,...O){if(this.__zooming){var Z,X,R=K(this,O).event(M),et=M.changedTouches,W=et.length;for(HB(M),p&&clearTimeout(p),p=setTimeout(function(){p=null},500),Z=0;Z<W;++Z)X=et[Z],R.touch0&&R.touch0[2]===X.identifier?delete R.touch0:R.touch1&&R.touch1[2]===X.identifier&&delete R.touch1;if(R.touch1&&!R.touch0&&(R.touch0=R.touch1,delete R.touch1),R.touch0)R.touch0[1]=this.__zoom.invert(R.touch0[0]);else if(R.end(),2===R.taps&&(X=nr(X,this),Math.hypot(B[0]-X[0],B[1]-X[1])<y)){var it=Ie(this).on("dblclick.zoom");it&&it.apply(this,arguments)}}}return Q.transform=function(M,O,R,et){var W=M.selection?M.selection():M;W.property("__zoom",JC),M!==W?k(M,O,R,et):W.interrupt().each(function(){K(this,arguments).event(et).start().zoom(null,"function"==typeof O?O.apply(this,arguments):O).end()})},Q.scaleBy=function(M,O,R,et){Q.scaleTo(M,function(){return this.__zoom.k*("function"==typeof O?O.apply(this,arguments):O)},R,et)},Q.scaleTo=function(M,O,R,et){Q.transform(M,function(){var W=A.apply(this,arguments),Z=this.__zoom,X=null==R?x(W):"function"==typeof R?R.apply(this,arguments):R,it=Z.invert(X),ht="function"==typeof O?O.apply(this,arguments):O;return e(T(I(Z,ht),X,it),W,a)},R,et)},Q.translateBy=function(M,O,R,et){Q.transform(M,function(){return e(this.__zoom.translate("function"==typeof O?O.apply(this,arguments):O,"function"==typeof R?R.apply(this,arguments):R),A.apply(this,arguments),a)},null,et)},Q.translateTo=function(M,O,R,et,W){Q.transform(M,function(){var Z=A.apply(this,arguments),X=this.__zoom,it=null==et?x(Z):"function"==typeof et?et.apply(this,arguments):et;return e(Vf.translate(it[0],it[1]).scale(X.k).translate("function"==typeof O?-O.apply(this,arguments):-O,"function"==typeof R?-R.apply(this,arguments):-R),Z,a)},et,W)},N.prototype={event:function(M){return M&&(this.sourceEvent=M),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(M,O){return this.mouse&&"mouse"!==M&&(this.mouse[1]=O.invert(this.mouse[0])),this.touch0&&"touch"!==M&&(this.touch0[1]=O.invert(this.touch0[0])),this.touch1&&"touch"!==M&&(this.touch1[1]=O.invert(this.touch1[0])),this.that.__zoom=O,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(M){var O=Ie(this.that).datum();l.call(M,this.that,new l4(M,{sourceEvent:this.sourceEvent,target:Q,type:M,transform:this.that.__zoom,dispatch:l}),O)}},Q.wheelDelta=function(M){return arguments.length?(r="function"==typeof M?M:Nf(+M),Q):r},Q.filter=function(M){return arguments.length?(t="function"==typeof M?M:Nf(!!M),Q):t},Q.touchable=function(M){return arguments.length?(n="function"==typeof M?M:Nf(!!M),Q):n},Q.extent=function(M){return arguments.length?(A="function"==typeof M?M:Nf([[+M[0][0],+M[0][1]],[+M[1][0],+M[1][1]]]),Q):A},Q.scaleExtent=function(M){return arguments.length?(i[0]=+M[0],i[1]=+M[1],Q):[i[0],i[1]]},Q.translateExtent=function(M){return arguments.length?(a[0][0]=+M[0][0],a[1][0]=+M[1][0],a[0][1]=+M[0][1],a[1][1]=+M[1][1],Q):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},Q.constrain=function(M){return arguments.length?(e=M,Q):e},Q.duration=function(M){return arguments.length?(s=+M,Q):s},Q.interpolate=function(M){return arguments.length?(h=M,Q):h},Q.on=function(){var M=l.on.apply(l,arguments);return M===l?Q:M},Q.clickDistance=function(M){return arguments.length?(v=(M=+M)*M,Q):Math.sqrt(v)},Q.tapDistance=function(M){return arguments.length?(y=+M,Q):y},Q}YC.prototype=Yn.prototype}}]);